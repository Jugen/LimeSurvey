'use strict';var _get=function get(object,property,receiver){if(object===null)object=Function.prototype;var desc=Object.getOwnPropertyDescriptor(object,property);if(desc===undefined){var parent=Object.getPrototypeOf(object);if(parent===null){return undefined;}else{return get(parent,property,receiver);}}else if("value"in desc){return desc.value;}else{var getter=desc.get;if(getter===undefined){return undefined;}return getter.call(receiver);}};var _slicedToArray=function(){function sliceIterator(arr,i){var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break;}}catch(err){_d=true;_e=err;}finally{try{if(!_n&&_i["return"])_i["return"]();}finally{if(_d)throw _e;}}return _arr;}return function(arr,i){if(Array.isArray(arr)){return arr;}else if(Symbol.iterator in Object(arr)){return sliceIterator(arr,i);}else{throw new TypeError("Invalid attempt to destructure non-iterable instance");}};}();var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();var _typeof=typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"?function(obj){return typeof obj;}:function(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj;};function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true});}else{obj[key]=value;}return obj;}function _toConsumableArray(arr){if(Array.isArray(arr)){for(var i=0,arr2=Array(arr.length);i<arr.length;i++){arr2[i]=arr[i];}return arr2;}else{return Array.from(arr);}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return call&&(typeof call==="object"||typeof call==="function")?call:self;}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}/******/(function(modules){// webpackBootstrap
/******/// The module cache
/******/var installedModules={};/******//******/// The require function
/******/function __webpack_require__(moduleId){/******//******/// Check if module is in cache
/******/if(installedModules[moduleId]){/******/return installedModules[moduleId].exports;/******/}/******/// Create a new module (and put it into the cache)
/******/var module=installedModules[moduleId]={/******/i:moduleId,/******/l:false,/******/exports:{}/******/};/******//******/// Execute the module function
/******/modules[moduleId].call(module.exports,module,module.exports,__webpack_require__);/******//******/// Flag the module as loaded
/******/module.l=true;/******//******/// Return the exports of the module
/******/return module.exports;/******/}/******//******//******/// expose the modules object (__webpack_modules__)
/******/__webpack_require__.m=modules;/******//******/// expose the module cache
/******/__webpack_require__.c=installedModules;/******//******/// define getter function for harmony exports
/******/__webpack_require__.d=function(exports,name,getter){/******/if(!__webpack_require__.o(exports,name)){/******/Object.defineProperty(exports,name,{/******/configurable:false,/******/enumerable:true,/******/get:getter/******/});/******/}/******/};/******//******/// getDefaultExport function for compatibility with non-harmony modules
/******/__webpack_require__.n=function(module){/******/var getter=module&&module.__esModule?/******/function getDefault(){return module['default'];}:/******/function getModuleExports(){return module;};/******/__webpack_require__.d(getter,'a',getter);/******/return getter;/******/};/******//******/// Object.prototype.hasOwnProperty.call
/******/__webpack_require__.o=function(object,property){return Object.prototype.hasOwnProperty.call(object,property);};/******//******/// __webpack_public_path__
/******/__webpack_require__.p="";/******//******/// Load entry module and return exports
/******/return __webpack_require__(__webpack_require__.s=19);/******/})(/************************************************************************//******/[/* 0 *//***/function(module,exports,__webpack_require__){var freeGlobal=__webpack_require__(15);/** Detect free variable `self`. */var freeSelf=(typeof self==='undefined'?'undefined':_typeof(self))=='object'&&self&&self.Object===Object&&self;/** Used as a reference to the global object. */var root=freeGlobal||freeSelf||Function('return this')();module.exports=root;/***/},/* 1 *//***/function(module,exports,__webpack_require__){var baseIsNative=__webpack_require__(56),getValue=__webpack_require__(61);/**
 * Gets the native function at `key` of `object`.
 *
 * @private
 * @param {Object} object The object to query.
 * @param {string} key The key of the method to get.
 * @returns {*} Returns the function if it's native, else `undefined`.
 */function getNative(object,key){var value=getValue(object,key);return baseIsNative(value)?value:undefined;}module.exports=getNative;/***/},/* 2 *//***/function(module,exports){var g;// This works in non-strict mode
g=function(){return this;}();try{// This works if eval is allowed (see CSP)
g=g||Function("return this")()||(1,eval)("this");}catch(e){// This works if the window reference is available
if((typeof window==='undefined'?'undefined':_typeof(window))==="object")g=window;}// g can still be undefined, but nothing to do about it...
// We return undefined, instead of nothing here, so it's
// easier to handle this case. if(!global) { ...}
module.exports=g;/***/},/* 3 *//***/function(module,exports){/*
	MIT License http://www.opensource.org/licenses/mit-license.php
	Author Tobias Koppers @sokra
*/// css base code, injected by the css-loader
module.exports=function(useSourceMap){var list=[];// return the list of modules as css string
list.toString=function toString(){return this.map(function(item){var content=cssWithMappingToString(item,useSourceMap);if(item[2]){return"@media "+item[2]+"{"+content+"}";}else{return content;}}).join("");};// import a list of modules into the list
list.i=function(modules,mediaQuery){if(typeof modules==="string")modules=[[null,modules,""]];var alreadyImportedModules={};for(var i=0;i<this.length;i++){var id=this[i][0];if(typeof id==="number")alreadyImportedModules[id]=true;}for(i=0;i<modules.length;i++){var item=modules[i];// skip already imported module
// this implementation is not 100% perfect for weird media query combinations
//  when a module is imported multiple times with different media queries.
//  I hope this will never occur (Hey this way we have smaller bundles)
if(typeof item[0]!=="number"||!alreadyImportedModules[item[0]]){if(mediaQuery&&!item[2]){item[2]=mediaQuery;}else if(mediaQuery){item[2]="("+item[2]+") and ("+mediaQuery+")";}list.push(item);}}};return list;};function cssWithMappingToString(item,useSourceMap){var content=item[1]||'';var cssMapping=item[3];if(!cssMapping){return content;}if(useSourceMap&&typeof btoa==='function'){var sourceMapping=toComment(cssMapping);var sourceURLs=cssMapping.sources.map(function(source){return'/*# sourceURL='+cssMapping.sourceRoot+source+' */';});return[content].concat(sourceURLs).concat([sourceMapping]).join('\n');}return[content].join('\n');}// Adapted from convert-source-map (MIT)
function toComment(sourceMap){// eslint-disable-next-line no-undef
var base64=btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap))));var data='sourceMappingURL=data:application/json;charset=utf-8;base64,'+base64;return'/*# '+data+' */';}/***/},/* 4 *//***/function(module,exports,__webpack_require__){/*
  MIT License http://www.opensource.org/licenses/mit-license.php
  Author Tobias Koppers @sokra
  Modified by Evan You @yyx990803
*/var hasDocument=typeof document!=='undefined';if(typeof DEBUG!=='undefined'&&DEBUG){if(!hasDocument){throw new Error('vue-style-loader cannot be used in a non-browser environment. '+"Use { target: 'node' } in your Webpack config to indicate a server-rendering environment.");}}var listToStyles=__webpack_require__(25);/*
type StyleObject = {
  id: number;
  parts: Array<StyleObjectPart>
}

type StyleObjectPart = {
  css: string;
  media: string;
  sourceMap: ?string
}
*/var stylesInDom={/*
  [id: number]: {
    id: number,
    refs: number,
    parts: Array<(obj?: StyleObjectPart) => void>
  }
*/};var head=hasDocument&&(document.head||document.getElementsByTagName('head')[0]);var singletonElement=null;var singletonCounter=0;var isProduction=false;var noop=function noop(){};// Force single-tag solution on IE6-9, which has a hard limit on the # of <style>
// tags it will allow on a page
var isOldIE=typeof navigator!=='undefined'&&/msie [6-9]\b/.test(navigator.userAgent.toLowerCase());module.exports=function(parentId,list,_isProduction){isProduction=_isProduction;var styles=listToStyles(parentId,list);addStylesToDom(styles);return function update(newList){var mayRemove=[];for(var i=0;i<styles.length;i++){var item=styles[i];var domStyle=stylesInDom[item.id];domStyle.refs--;mayRemove.push(domStyle);}if(newList){styles=listToStyles(parentId,newList);addStylesToDom(styles);}else{styles=[];}for(var i=0;i<mayRemove.length;i++){var domStyle=mayRemove[i];if(domStyle.refs===0){for(var j=0;j<domStyle.parts.length;j++){domStyle.parts[j]();}delete stylesInDom[domStyle.id];}}};};function addStylesToDom(styles/* Array<StyleObject> */){for(var i=0;i<styles.length;i++){var item=styles[i];var domStyle=stylesInDom[item.id];if(domStyle){domStyle.refs++;for(var j=0;j<domStyle.parts.length;j++){domStyle.parts[j](item.parts[j]);}for(;j<item.parts.length;j++){domStyle.parts.push(addStyle(item.parts[j]));}if(domStyle.parts.length>item.parts.length){domStyle.parts.length=item.parts.length;}}else{var parts=[];for(var j=0;j<item.parts.length;j++){parts.push(addStyle(item.parts[j]));}stylesInDom[item.id]={id:item.id,refs:1,parts:parts};}}}function createStyleElement(){var styleElement=document.createElement('style');styleElement.type='text/css';head.appendChild(styleElement);return styleElement;}function addStyle(obj/* StyleObjectPart */){var update,remove;var styleElement=document.querySelector('style[data-vue-ssr-id~="'+obj.id+'"]');if(styleElement){if(isProduction){// has SSR styles and in production mode.
// simply do nothing.
return noop;}else{// has SSR styles but in dev mode.
// for some reason Chrome can't handle source map in server-rendered
// style tags - source maps in <style> only works if the style tag is
// created and inserted dynamically. So we remove the server rendered
// styles and inject new ones.
styleElement.parentNode.removeChild(styleElement);}}if(isOldIE){// use singleton mode for IE9.
var styleIndex=singletonCounter++;styleElement=singletonElement||(singletonElement=createStyleElement());update=applyToSingletonTag.bind(null,styleElement,styleIndex,false);remove=applyToSingletonTag.bind(null,styleElement,styleIndex,true);}else{// use multi-style-tag mode in all other cases
styleElement=createStyleElement();update=applyToTag.bind(null,styleElement);remove=function remove(){styleElement.parentNode.removeChild(styleElement);};}update(obj);return function updateStyle(newObj/* StyleObjectPart */){if(newObj){if(newObj.css===obj.css&&newObj.media===obj.media&&newObj.sourceMap===obj.sourceMap){return;}update(obj=newObj);}else{remove();}};}var replaceText=function(){var textStore=[];return function(index,replacement){textStore[index]=replacement;return textStore.filter(Boolean).join('\n');};}();function applyToSingletonTag(styleElement,index,remove,obj){var css=remove?'':obj.css;if(styleElement.styleSheet){styleElement.styleSheet.cssText=replaceText(index,css);}else{var cssNode=document.createTextNode(css);var childNodes=styleElement.childNodes;if(childNodes[index])styleElement.removeChild(childNodes[index]);if(childNodes.length){styleElement.insertBefore(cssNode,childNodes[index]);}else{styleElement.appendChild(cssNode);}}}function applyToTag(styleElement,obj){var css=obj.css;var media=obj.media;var sourceMap=obj.sourceMap;if(media){styleElement.setAttribute('media',media);}if(sourceMap){// https://developer.chrome.com/devtools/docs/javascript-debugging
// this makes source maps inside style tags work properly in Chrome
css+='\n/*# sourceURL='+sourceMap.sources[0]+' */';// http://stackoverflow.com/a/26603875
css+='\n/*# sourceMappingURL=data:application/json;base64,'+btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap))))+' */';}if(styleElement.styleSheet){styleElement.styleSheet.cssText=css;}else{while(styleElement.firstChild){styleElement.removeChild(styleElement.firstChild);}styleElement.appendChild(document.createTextNode(css));}}/***/},/* 5 *//***/function(module,exports){/* globals __VUE_SSR_CONTEXT__ */// this module is a runtime utility for cleaner component module output and will
// be included in the final webpack user bundle
module.exports=function normalizeComponent(rawScriptExports,compiledTemplate,injectStyles,scopeId,moduleIdentifier/* server only */){var esModule;var scriptExports=rawScriptExports=rawScriptExports||{};// ES6 modules interop
var type=_typeof(rawScriptExports.default);if(type==='object'||type==='function'){esModule=rawScriptExports;scriptExports=rawScriptExports.default;}// Vue.extend constructor export interop
var options=typeof scriptExports==='function'?scriptExports.options:scriptExports;// render functions
if(compiledTemplate){options.render=compiledTemplate.render;options.staticRenderFns=compiledTemplate.staticRenderFns;}// scopedId
if(scopeId){options._scopeId=scopeId;}var hook;if(moduleIdentifier){// server build
hook=function hook(context){// 2.3 injection
context=context||// cached call
this.$vnode&&this.$vnode.ssrContext||// stateful
this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext;// functional
// 2.2 with runInNewContext: true
if(!context&&typeof __VUE_SSR_CONTEXT__!=='undefined'){context=__VUE_SSR_CONTEXT__;}// inject component styles
if(injectStyles){injectStyles.call(this,context);}// register component module identifier for async chunk inferrence
if(context&&context._registeredComponents){context._registeredComponents.add(moduleIdentifier);}};// used by ssr in case component is cached and beforeCreate
// never gets called
options._ssrRegister=hook;}else if(injectStyles){hook=injectStyles;}if(hook){var functional=options.functional;var existing=functional?options.render:options.beforeCreate;if(!functional){// inject component registration as beforeCreate hook
options.beforeCreate=existing?[].concat(existing,hook):[hook];}else{// register for functioal component in vue file
options.render=function renderWithStyleInjection(h,context){hook.call(context);return existing(h,context);};}}return{esModule:esModule,exports:scriptExports,options:options};};/***/},/* 6 *//***/function(module,exports){module.exports=function(module){if(!module.webpackPolyfill){module.deprecate=function(){};module.paths=[];// module.parent = undefined by default
if(!module.children)module.children=[];Object.defineProperty(module,"loaded",{enumerable:true,get:function get(){return module.l;}});Object.defineProperty(module,"id",{enumerable:true,get:function get(){return module.i;}});module.webpackPolyfill=1;}return module;};/***/},/* 7 *//***/function(module,exports,__webpack_require__){var _Symbol=__webpack_require__(14),getRawTag=__webpack_require__(57),objectToString=__webpack_require__(58);/** `Object#toString` result references. */var nullTag='[object Null]',undefinedTag='[object Undefined]';/** Built-in value references. */var symToStringTag=_Symbol?_Symbol.toStringTag:undefined;/**
 * The base implementation of `getTag` without fallbacks for buggy environments.
 *
 * @private
 * @param {*} value The value to query.
 * @returns {string} Returns the `toStringTag`.
 */function baseGetTag(value){if(value==null){return value===undefined?undefinedTag:nullTag;}return symToStringTag&&symToStringTag in Object(value)?getRawTag(value):objectToString(value);}module.exports=baseGetTag;/***/},/* 8 *//***/function(module,exports){/**
 * Checks if `value` is object-like. A value is object-like if it's not `null`
 * and has a `typeof` result of "object".
 *
 * @static
 * @memberOf _
 * @since 4.0.0
 * @category Lang
 * @param {*} value The value to check.
 * @returns {boolean} Returns `true` if `value` is object-like, else `false`.
 * @example
 *
 * _.isObjectLike({});
 * // => true
 *
 * _.isObjectLike([1, 2, 3]);
 * // => true
 *
 * _.isObjectLike(_.noop);
 * // => false
 *
 * _.isObjectLike(null);
 * // => false
 */function isObjectLike(value){return value!=null&&(typeof value==='undefined'?'undefined':_typeof(value))=='object';}module.exports=isObjectLike;/***/},/* 9 *//***/function(module,__webpack_exports__,__webpack_require__){"use strict";/* WEBPACK VAR INJECTION */(function(global){/*!
 * Vue.js v2.3.4
 * (c) 2014-2017 Evan You
 * Released under the MIT License.
 *//*  */// these helpers produces better vm code in JS engines due to their
// explicitness and function inlining
function isUndef(v){return v===undefined||v===null;}function isDef(v){return v!==undefined&&v!==null;}function isTrue(v){return v===true;}function isFalse(v){return v===false;}/**
 * Check if value is primitive
 */function isPrimitive(value){return typeof value==='string'||typeof value==='number';}/**
 * Quick object check - this is primarily used to tell
 * Objects from primitive values when we know the value
 * is a JSON-compliant type.
 */function isObject(obj){return obj!==null&&(typeof obj==='undefined'?'undefined':_typeof(obj))==='object';}var _toString=Object.prototype.toString;/**
 * Strict object type check. Only returns true
 * for plain JavaScript objects.
 */function isPlainObject(obj){return _toString.call(obj)==='[object Object]';}function isRegExp(v){return _toString.call(v)==='[object RegExp]';}/**
 * Convert a value to a string that is actually rendered.
 */function toString(val){return val==null?'':(typeof val==='undefined'?'undefined':_typeof(val))==='object'?JSON.stringify(val,null,2):String(val);}/**
 * Convert a input value to a number for persistence.
 * If the conversion fails, return original string.
 */function toNumber(val){var n=parseFloat(val);return isNaN(n)?val:n;}/**
 * Make a map and return a function for checking if a key
 * is in that map.
 */function makeMap(str,expectsLowerCase){var map=Object.create(null);var list=str.split(',');for(var i=0;i<list.length;i++){map[list[i]]=true;}return expectsLowerCase?function(val){return map[val.toLowerCase()];}:function(val){return map[val];};}/**
 * Check if a tag is a built-in tag.
 */var isBuiltInTag=makeMap('slot,component',true);/**
 * Remove an item from an array
 */function remove(arr,item){if(arr.length){var index=arr.indexOf(item);if(index>-1){return arr.splice(index,1);}}}/**
 * Check whether the object has the property.
 */var hasOwnProperty=Object.prototype.hasOwnProperty;function hasOwn(obj,key){return hasOwnProperty.call(obj,key);}/**
 * Create a cached version of a pure function.
 */function cached(fn){var cache=Object.create(null);return function cachedFn(str){var hit=cache[str];return hit||(cache[str]=fn(str));};}/**
 * Camelize a hyphen-delimited string.
 */var camelizeRE=/-(\w)/g;var camelize=cached(function(str){return str.replace(camelizeRE,function(_,c){return c?c.toUpperCase():'';});});/**
 * Capitalize a string.
 */var capitalize=cached(function(str){return str.charAt(0).toUpperCase()+str.slice(1);});/**
 * Hyphenate a camelCase string.
 */var hyphenateRE=/([^-])([A-Z])/g;var hyphenate=cached(function(str){return str.replace(hyphenateRE,'$1-$2').replace(hyphenateRE,'$1-$2').toLowerCase();});/**
 * Simple bind, faster than native
 */function bind(fn,ctx){function boundFn(a){var l=arguments.length;return l?l>1?fn.apply(ctx,arguments):fn.call(ctx,a):fn.call(ctx);}// record original fn length
boundFn._length=fn.length;return boundFn;}/**
 * Convert an Array-like object to a real Array.
 */function toArray(list,start){start=start||0;var i=list.length-start;var ret=new Array(i);while(i--){ret[i]=list[i+start];}return ret;}/**
 * Mix properties into target object.
 */function extend(to,_from){for(var key in _from){to[key]=_from[key];}return to;}/**
 * Merge an Array of Objects into a single Object.
 */function toObject(arr){var res={};for(var i=0;i<arr.length;i++){if(arr[i]){extend(res,arr[i]);}}return res;}/**
 * Perform no operation.
 */function noop(){}/**
 * Always return false.
 */var no=function no(){return false;};/**
 * Return same value
 */var identity=function identity(_){return _;};/**
 * Generate a static keys string from compiler modules.
 */function genStaticKeys(modules){return modules.reduce(function(keys,m){return keys.concat(m.staticKeys||[]);},[]).join(',');}/**
 * Check if two values are loosely equal - that is,
 * if they are plain objects, do they have the same shape?
 */function looseEqual(a,b){var isObjectA=isObject(a);var isObjectB=isObject(b);if(isObjectA&&isObjectB){try{return JSON.stringify(a)===JSON.stringify(b);}catch(e){// possible circular reference
return a===b;}}else if(!isObjectA&&!isObjectB){return String(a)===String(b);}else{return false;}}function looseIndexOf(arr,val){for(var i=0;i<arr.length;i++){if(looseEqual(arr[i],val)){return i;}}return-1;}/**
 * Ensure a function is called only once.
 */function once(fn){var called=false;return function(){if(!called){called=true;fn.apply(this,arguments);}};}var SSR_ATTR='data-server-rendered';var ASSET_TYPES=['component','directive','filter'];var LIFECYCLE_HOOKS=['beforeCreate','created','beforeMount','mounted','beforeUpdate','updated','beforeDestroy','destroyed','activated','deactivated'];/*  */var config={/**
   * Option merge strategies (used in core/util/options)
   */optionMergeStrategies:Object.create(null),/**
   * Whether to suppress warnings.
   */silent:false,/**
   * Show production mode tip message on boot?
   */productionTip:"production"!=='production',/**
   * Whether to enable devtools
   */devtools:"production"!=='production',/**
   * Whether to record perf
   */performance:false,/**
   * Error handler for watcher errors
   */errorHandler:null,/**
   * Ignore certain custom elements
   */ignoredElements:[],/**
   * Custom user key aliases for v-on
   */keyCodes:Object.create(null),/**
   * Check if a tag is reserved so that it cannot be registered as a
   * component. This is platform-dependent and may be overwritten.
   */isReservedTag:no,/**
   * Check if an attribute is reserved so that it cannot be used as a component
   * prop. This is platform-dependent and may be overwritten.
   */isReservedAttr:no,/**
   * Check if a tag is an unknown element.
   * Platform-dependent.
   */isUnknownElement:no,/**
   * Get the namespace of an element
   */getTagNamespace:noop,/**
   * Parse the real tag name for the specific platform.
   */parsePlatformTagName:identity,/**
   * Check if an attribute must be bound using property, e.g. value
   * Platform-dependent.
   */mustUseProp:no,/**
   * Exposed for legacy reasons
   */_lifecycleHooks:LIFECYCLE_HOOKS};/*  */var emptyObject=Object.freeze({});/**
 * Check if a string starts with $ or _
 */function isReserved(str){var c=(str+'').charCodeAt(0);return c===0x24||c===0x5F;}/**
 * Define a property.
 */function def(obj,key,val,enumerable){Object.defineProperty(obj,key,{value:val,enumerable:!!enumerable,writable:true,configurable:true});}/**
 * Parse simple path.
 */var bailRE=/[^\w.$]/;function parsePath(path){if(bailRE.test(path)){return;}var segments=path.split('.');return function(obj){for(var i=0;i<segments.length;i++){if(!obj){return;}obj=obj[segments[i]];}return obj;};}/*  */var warn=noop;var tip=noop;var formatComponentName=null;// work around flow check
if(false){var hasConsole=typeof console!=='undefined';var classifyRE=/(?:^|[-_])(\w)/g;var classify=function classify(str){return str.replace(classifyRE,function(c){return c.toUpperCase();}).replace(/[-_]/g,'');};warn=function warn(msg,vm){if(hasConsole&&!config.silent){console.error("[Vue warn]: "+msg+(vm?generateComponentTrace(vm):''));}};tip=function tip(msg,vm){if(hasConsole&&!config.silent){console.warn("[Vue tip]: "+msg+(vm?generateComponentTrace(vm):''));}};formatComponentName=function formatComponentName(vm,includeFile){if(vm.$root===vm){return'<Root>';}var name=typeof vm==='string'?vm:typeof vm==='function'&&vm.options?vm.options.name:vm._isVue?vm.$options.name||vm.$options._componentTag:vm.name;var file=vm._isVue&&vm.$options.__file;if(!name&&file){var match=file.match(/([^/\\]+)\.vue$/);name=match&&match[1];}return(name?"<"+classify(name)+">":"<Anonymous>")+(file&&includeFile!==false?" at "+file:'');};var repeat=function repeat(str,n){var res='';while(n){if(n%2===1){res+=str;}if(n>1){str+=str;}n>>=1;}return res;};var generateComponentTrace=function generateComponentTrace(vm){if(vm._isVue&&vm.$parent){var tree=[];var currentRecursiveSequence=0;while(vm){if(tree.length>0){var last=tree[tree.length-1];if(last.constructor===vm.constructor){currentRecursiveSequence++;vm=vm.$parent;continue;}else if(currentRecursiveSequence>0){tree[tree.length-1]=[last,currentRecursiveSequence];currentRecursiveSequence=0;}}tree.push(vm);vm=vm.$parent;}return'\n\nfound in\n\n'+tree.map(function(vm,i){return""+(i===0?'---> ':repeat(' ',5+i*2))+(Array.isArray(vm)?formatComponentName(vm[0])+"... ("+vm[1]+" recursive calls)":formatComponentName(vm));}).join('\n');}else{return"\n\n(found in "+formatComponentName(vm)+")";}};}/*  */function handleError(err,vm,info){if(config.errorHandler){config.errorHandler.call(null,err,vm,info);}else{if(false){warn("Error in "+info+": \""+err.toString()+"\"",vm);}/* istanbul ignore else */if(inBrowser&&typeof console!=='undefined'){console.error(err);}else{throw err;}}}/*  *//* globals MutationObserver */// can we use __proto__?
var hasProto='__proto__'in{};// Browser environment sniffing
var inBrowser=typeof window!=='undefined';var UA=inBrowser&&window.navigator.userAgent.toLowerCase();var isIE=UA&&/msie|trident/.test(UA);var isIE9=UA&&UA.indexOf('msie 9.0')>0;var isEdge=UA&&UA.indexOf('edge/')>0;var isAndroid=UA&&UA.indexOf('android')>0;var isIOS=UA&&/iphone|ipad|ipod|ios/.test(UA);var isChrome=UA&&/chrome\/\d+/.test(UA)&&!isEdge;var supportsPassive=false;if(inBrowser){try{var opts={};Object.defineProperty(opts,'passive',{get:function get(){/* istanbul ignore next */supportsPassive=true;}});// https://github.com/facebook/flow/issues/285
window.addEventListener('test-passive',null,opts);}catch(e){}}// this needs to be lazy-evaled because vue may be required before
// vue-server-renderer can set VUE_ENV
var _isServer;var isServerRendering=function isServerRendering(){if(_isServer===undefined){/* istanbul ignore if */if(!inBrowser&&typeof global!=='undefined'){// detect presence of vue-server-renderer and avoid
// Webpack shimming the process
_isServer=global['process'].env.VUE_ENV==='server';}else{_isServer=false;}}return _isServer;};// detect devtools
var devtools=inBrowser&&window.__VUE_DEVTOOLS_GLOBAL_HOOK__;/* istanbul ignore next */function isNative(Ctor){return typeof Ctor==='function'&&/native code/.test(Ctor.toString());}var hasSymbol=typeof Symbol!=='undefined'&&isNative(Symbol)&&typeof Reflect!=='undefined'&&isNative(Reflect.ownKeys);/**
 * Defer a task to execute it asynchronously.
 */var nextTick=function(){var callbacks=[];var pending=false;var timerFunc;function nextTickHandler(){pending=false;var copies=callbacks.slice(0);callbacks.length=0;for(var i=0;i<copies.length;i++){copies[i]();}}// the nextTick behavior leverages the microtask queue, which can be accessed
// via either native Promise.then or MutationObserver.
// MutationObserver has wider support, however it is seriously bugged in
// UIWebView in iOS >= 9.3.3 when triggered in touch event handlers. It
// completely stops working after triggering a few times... so, if native
// Promise is available, we will use it:
/* istanbul ignore if */if(typeof Promise!=='undefined'&&isNative(Promise)){var p=Promise.resolve();var logError=function logError(err){console.error(err);};timerFunc=function timerFunc(){p.then(nextTickHandler).catch(logError);// in problematic UIWebViews, Promise.then doesn't completely break, but
// it can get stuck in a weird state where callbacks are pushed into the
// microtask queue but the queue isn't being flushed, until the browser
// needs to do some other work, e.g. handle a timer. Therefore we can
// "force" the microtask queue to be flushed by adding an empty timer.
if(isIOS){setTimeout(noop);}};}else if(typeof MutationObserver!=='undefined'&&(isNative(MutationObserver)||// PhantomJS and iOS 7.x
MutationObserver.toString()==='[object MutationObserverConstructor]')){// use MutationObserver where native Promise is not available,
// e.g. PhantomJS IE11, iOS7, Android 4.4
var counter=1;var observer=new MutationObserver(nextTickHandler);var textNode=document.createTextNode(String(counter));observer.observe(textNode,{characterData:true});timerFunc=function timerFunc(){counter=(counter+1)%2;textNode.data=String(counter);};}else{// fallback to setTimeout
/* istanbul ignore next */timerFunc=function timerFunc(){setTimeout(nextTickHandler,0);};}return function queueNextTick(cb,ctx){var _resolve;callbacks.push(function(){if(cb){try{cb.call(ctx);}catch(e){handleError(e,ctx,'nextTick');}}else if(_resolve){_resolve(ctx);}});if(!pending){pending=true;timerFunc();}if(!cb&&typeof Promise!=='undefined'){return new Promise(function(resolve,reject){_resolve=resolve;});}};}();var _Set;/* istanbul ignore if */if(typeof Set!=='undefined'&&isNative(Set)){// use native Set when available.
_Set=Set;}else{// a non-standard Set polyfill that only works with primitive keys.
_Set=function(){function Set(){this.set=Object.create(null);}Set.prototype.has=function has(key){return this.set[key]===true;};Set.prototype.add=function add(key){this.set[key]=true;};Set.prototype.clear=function clear(){this.set=Object.create(null);};return Set;}();}/*  */var uid=0;/**
 * A dep is an observable that can have multiple
 * directives subscribing to it.
 */var Dep=function Dep(){this.id=uid++;this.subs=[];};Dep.prototype.addSub=function addSub(sub){this.subs.push(sub);};Dep.prototype.removeSub=function removeSub(sub){remove(this.subs,sub);};Dep.prototype.depend=function depend(){if(Dep.target){Dep.target.addDep(this);}};Dep.prototype.notify=function notify(){// stabilize the subscriber list first
var subs=this.subs.slice();for(var i=0,l=subs.length;i<l;i++){subs[i].update();}};// the current target watcher being evaluated.
// this is globally unique because there could be only one
// watcher being evaluated at any time.
Dep.target=null;var targetStack=[];function pushTarget(_target){if(Dep.target){targetStack.push(Dep.target);}Dep.target=_target;}function popTarget(){Dep.target=targetStack.pop();}/*
 * not type checking this file because flow doesn't play well with
 * dynamically accessing methods on Array prototype
 */var arrayProto=Array.prototype;var arrayMethods=Object.create(arrayProto);['push','pop','shift','unshift','splice','sort','reverse'].forEach(function(method){// cache original method
var original=arrayProto[method];def(arrayMethods,method,function mutator(){var arguments$1=arguments;// avoid leaking arguments:
// http://jsperf.com/closure-with-arguments
var i=arguments.length;var args=new Array(i);while(i--){args[i]=arguments$1[i];}var result=original.apply(this,args);var ob=this.__ob__;var inserted;switch(method){case'push':inserted=args;break;case'unshift':inserted=args;break;case'splice':inserted=args.slice(2);break;}if(inserted){ob.observeArray(inserted);}// notify change
ob.dep.notify();return result;});});/*  */var arrayKeys=Object.getOwnPropertyNames(arrayMethods);/**
 * By default, when a reactive property is set, the new value is
 * also converted to become reactive. However when passing down props,
 * we don't want to force conversion because the value may be a nested value
 * under a frozen data structure. Converting it would defeat the optimization.
 */var observerState={shouldConvert:true,isSettingProps:false};/**
 * Observer class that are attached to each observed
 * object. Once attached, the observer converts target
 * object's property keys into getter/setters that
 * collect dependencies and dispatches updates.
 */var Observer=function Observer(value){this.value=value;this.dep=new Dep();this.vmCount=0;def(value,'__ob__',this);if(Array.isArray(value)){var augment=hasProto?protoAugment:copyAugment;augment(value,arrayMethods,arrayKeys);this.observeArray(value);}else{this.walk(value);}};/**
 * Walk through each property and convert them into
 * getter/setters. This method should only be called when
 * value type is Object.
 */Observer.prototype.walk=function walk(obj){var keys=Object.keys(obj);for(var i=0;i<keys.length;i++){defineReactive$$1(obj,keys[i],obj[keys[i]]);}};/**
 * Observe a list of Array items.
 */Observer.prototype.observeArray=function observeArray(items){for(var i=0,l=items.length;i<l;i++){observe(items[i]);}};// helpers
/**
 * Augment an target Object or Array by intercepting
 * the prototype chain using __proto__
 */function protoAugment(target,src){/* eslint-disable no-proto */target.__proto__=src;/* eslint-enable no-proto */}/**
 * Augment an target Object or Array by defining
 * hidden properties.
 *//* istanbul ignore next */function copyAugment(target,src,keys){for(var i=0,l=keys.length;i<l;i++){var key=keys[i];def(target,key,src[key]);}}/**
 * Attempt to create an observer instance for a value,
 * returns the new observer if successfully observed,
 * or the existing observer if the value already has one.
 */function observe(value,asRootData){if(!isObject(value)){return;}var ob;if(hasOwn(value,'__ob__')&&value.__ob__ instanceof Observer){ob=value.__ob__;}else if(observerState.shouldConvert&&!isServerRendering()&&(Array.isArray(value)||isPlainObject(value))&&Object.isExtensible(value)&&!value._isVue){ob=new Observer(value);}if(asRootData&&ob){ob.vmCount++;}return ob;}/**
 * Define a reactive property on an Object.
 */function defineReactive$$1(obj,key,val,customSetter){var dep=new Dep();var property=Object.getOwnPropertyDescriptor(obj,key);if(property&&property.configurable===false){return;}// cater for pre-defined getter/setters
var getter=property&&property.get;var setter=property&&property.set;var childOb=observe(val);Object.defineProperty(obj,key,{enumerable:true,configurable:true,get:function reactiveGetter(){var value=getter?getter.call(obj):val;if(Dep.target){dep.depend();if(childOb){childOb.dep.depend();}if(Array.isArray(value)){dependArray(value);}}return value;},set:function reactiveSetter(newVal){var value=getter?getter.call(obj):val;/* eslint-disable no-self-compare */if(newVal===value||newVal!==newVal&&value!==value){return;}/* eslint-enable no-self-compare */if(false){customSetter();}if(setter){setter.call(obj,newVal);}else{val=newVal;}childOb=observe(newVal);dep.notify();}});}/**
 * Set a property on an object. Adds the new property and
 * triggers change notification if the property doesn't
 * already exist.
 */function set(target,key,val){if(Array.isArray(target)&&typeof key==='number'){target.length=Math.max(target.length,key);target.splice(key,1,val);return val;}if(hasOwn(target,key)){target[key]=val;return val;}var ob=target.__ob__;if(target._isVue||ob&&ob.vmCount){"production"!=='production'&&warn('Avoid adding reactive properties to a Vue instance or its root $data '+'at runtime - declare it upfront in the data option.');return val;}if(!ob){target[key]=val;return val;}defineReactive$$1(ob.value,key,val);ob.dep.notify();return val;}/**
 * Delete a property and trigger change if necessary.
 */function del(target,key){if(Array.isArray(target)&&typeof key==='number'){target.splice(key,1);return;}var ob=target.__ob__;if(target._isVue||ob&&ob.vmCount){"production"!=='production'&&warn('Avoid deleting properties on a Vue instance or its root $data '+'- just set it to null.');return;}if(!hasOwn(target,key)){return;}delete target[key];if(!ob){return;}ob.dep.notify();}/**
 * Collect dependencies on array elements when the array is touched, since
 * we cannot intercept array element access like property getters.
 */function dependArray(value){for(var e=void 0,i=0,l=value.length;i<l;i++){e=value[i];e&&e.__ob__&&e.__ob__.dep.depend();if(Array.isArray(e)){dependArray(e);}}}/*  *//**
 * Option overwriting strategies are functions that handle
 * how to merge a parent option value and a child option
 * value into the final value.
 */var strats=config.optionMergeStrategies;/**
 * Options with restrictions
 */if(false){strats.el=strats.propsData=function(parent,child,vm,key){if(!vm){warn("option \""+key+"\" can only be used during instance "+'creation with the `new` keyword.');}return defaultStrat(parent,child);};}/**
 * Helper that recursively merges two data objects together.
 */function mergeData(to,from){if(!from){return to;}var key,toVal,fromVal;var keys=Object.keys(from);for(var i=0;i<keys.length;i++){key=keys[i];toVal=to[key];fromVal=from[key];if(!hasOwn(to,key)){set(to,key,fromVal);}else if(isPlainObject(toVal)&&isPlainObject(fromVal)){mergeData(toVal,fromVal);}}return to;}/**
 * Data
 */strats.data=function(parentVal,childVal,vm){if(!vm){// in a Vue.extend merge, both should be functions
if(!childVal){return parentVal;}if(typeof childVal!=='function'){"production"!=='production'&&warn('The "data" option should be a function '+'that returns a per-instance value in component '+'definitions.',vm);return parentVal;}if(!parentVal){return childVal;}// when parentVal & childVal are both present,
// we need to return a function that returns the
// merged result of both functions... no need to
// check if parentVal is a function here because
// it has to be a function to pass previous merges.
return function mergedDataFn(){return mergeData(childVal.call(this),parentVal.call(this));};}else if(parentVal||childVal){return function mergedInstanceDataFn(){// instance merge
var instanceData=typeof childVal==='function'?childVal.call(vm):childVal;var defaultData=typeof parentVal==='function'?parentVal.call(vm):undefined;if(instanceData){return mergeData(instanceData,defaultData);}else{return defaultData;}};}};/**
 * Hooks and props are merged as arrays.
 */function mergeHook(parentVal,childVal){return childVal?parentVal?parentVal.concat(childVal):Array.isArray(childVal)?childVal:[childVal]:parentVal;}LIFECYCLE_HOOKS.forEach(function(hook){strats[hook]=mergeHook;});/**
 * Assets
 *
 * When a vm is present (instance creation), we need to do
 * a three-way merge between constructor options, instance
 * options and parent options.
 */function mergeAssets(parentVal,childVal){var res=Object.create(parentVal||null);return childVal?extend(res,childVal):res;}ASSET_TYPES.forEach(function(type){strats[type+'s']=mergeAssets;});/**
 * Watchers.
 *
 * Watchers hashes should not overwrite one
 * another, so we merge them as arrays.
 */strats.watch=function(parentVal,childVal){/* istanbul ignore if */if(!childVal){return Object.create(parentVal||null);}if(!parentVal){return childVal;}var ret={};extend(ret,parentVal);for(var key in childVal){var parent=ret[key];var child=childVal[key];if(parent&&!Array.isArray(parent)){parent=[parent];}ret[key]=parent?parent.concat(child):[child];}return ret;};/**
 * Other object hashes.
 */strats.props=strats.methods=strats.computed=function(parentVal,childVal){if(!childVal){return Object.create(parentVal||null);}if(!parentVal){return childVal;}var ret=Object.create(null);extend(ret,parentVal);extend(ret,childVal);return ret;};/**
 * Default strategy.
 */var defaultStrat=function defaultStrat(parentVal,childVal){return childVal===undefined?parentVal:childVal;};/**
 * Validate component names
 */function checkComponents(options){for(var key in options.components){var lower=key.toLowerCase();if(isBuiltInTag(lower)||config.isReservedTag(lower)){warn('Do not use built-in or reserved HTML elements as component '+'id: '+key);}}}/**
 * Ensure all props option syntax are normalized into the
 * Object-based format.
 */function normalizeProps(options){var props=options.props;if(!props){return;}var res={};var i,val,name;if(Array.isArray(props)){i=props.length;while(i--){val=props[i];if(typeof val==='string'){name=camelize(val);res[name]={type:null};}else if(false){warn('props must be strings when using array syntax.');}}}else if(isPlainObject(props)){for(var key in props){val=props[key];name=camelize(key);res[name]=isPlainObject(val)?val:{type:val};}}options.props=res;}/**
 * Normalize raw function directives into object format.
 */function normalizeDirectives(options){var dirs=options.directives;if(dirs){for(var key in dirs){var def=dirs[key];if(typeof def==='function'){dirs[key]={bind:def,update:def};}}}}/**
 * Merge two option objects into a new one.
 * Core utility used in both instantiation and inheritance.
 */function mergeOptions(parent,child,vm){if(false){checkComponents(child);}if(typeof child==='function'){child=child.options;}normalizeProps(child);normalizeDirectives(child);var extendsFrom=child.extends;if(extendsFrom){parent=mergeOptions(parent,extendsFrom,vm);}if(child.mixins){for(var i=0,l=child.mixins.length;i<l;i++){parent=mergeOptions(parent,child.mixins[i],vm);}}var options={};var key;for(key in parent){mergeField(key);}for(key in child){if(!hasOwn(parent,key)){mergeField(key);}}function mergeField(key){var strat=strats[key]||defaultStrat;options[key]=strat(parent[key],child[key],vm,key);}return options;}/**
 * Resolve an asset.
 * This function is used because child instances need access
 * to assets defined in its ancestor chain.
 */function resolveAsset(options,type,id,warnMissing){/* istanbul ignore if */if(typeof id!=='string'){return;}var assets=options[type];// check local registration variations first
if(hasOwn(assets,id)){return assets[id];}var camelizedId=camelize(id);if(hasOwn(assets,camelizedId)){return assets[camelizedId];}var PascalCaseId=capitalize(camelizedId);if(hasOwn(assets,PascalCaseId)){return assets[PascalCaseId];}// fallback to prototype chain
var res=assets[id]||assets[camelizedId]||assets[PascalCaseId];if(false){warn('Failed to resolve '+type.slice(0,-1)+': '+id,options);}return res;}/*  */function validateProp(key,propOptions,propsData,vm){var prop=propOptions[key];var absent=!hasOwn(propsData,key);var value=propsData[key];// handle boolean props
if(isType(Boolean,prop.type)){if(absent&&!hasOwn(prop,'default')){value=false;}else if(!isType(String,prop.type)&&(value===''||value===hyphenate(key))){value=true;}}// check default value
if(value===undefined){value=getPropDefaultValue(vm,prop,key);// since the default value is a fresh copy,
// make sure to observe it.
var prevShouldConvert=observerState.shouldConvert;observerState.shouldConvert=true;observe(value);observerState.shouldConvert=prevShouldConvert;}if(false){assertProp(prop,key,value,vm,absent);}return value;}/**
 * Get the default value of a prop.
 */function getPropDefaultValue(vm,prop,key){// no default, return undefined
if(!hasOwn(prop,'default')){return undefined;}var def=prop.default;// warn against non-factory defaults for Object & Array
if(false){warn('Invalid default value for prop "'+key+'": '+'Props with type Object/Array must use a factory function '+'to return the default value.',vm);}// the raw prop value was also undefined from previous render,
// return previous default value to avoid unnecessary watcher trigger
if(vm&&vm.$options.propsData&&vm.$options.propsData[key]===undefined&&vm._props[key]!==undefined){return vm._props[key];}// call factory function for non-Function types
// a value is Function if its prototype is function even across different execution context
return typeof def==='function'&&getType(prop.type)!=='Function'?def.call(vm):def;}/**
 * Assert whether a prop is valid.
 */function assertProp(prop,name,value,vm,absent){if(prop.required&&absent){warn('Missing required prop: "'+name+'"',vm);return;}if(value==null&&!prop.required){return;}var type=prop.type;var valid=!type||type===true;var expectedTypes=[];if(type){if(!Array.isArray(type)){type=[type];}for(var i=0;i<type.length&&!valid;i++){var assertedType=assertType(value,type[i]);expectedTypes.push(assertedType.expectedType||'');valid=assertedType.valid;}}if(!valid){warn('Invalid prop: type check failed for prop "'+name+'".'+' Expected '+expectedTypes.map(capitalize).join(', ')+', got '+Object.prototype.toString.call(value).slice(8,-1)+'.',vm);return;}var validator=prop.validator;if(validator){if(!validator(value)){warn('Invalid prop: custom validator check failed for prop "'+name+'".',vm);}}}var simpleCheckRE=/^(String|Number|Boolean|Function|Symbol)$/;function assertType(value,type){var valid;var expectedType=getType(type);if(simpleCheckRE.test(expectedType)){valid=(typeof value==='undefined'?'undefined':_typeof(value))===expectedType.toLowerCase();}else if(expectedType==='Object'){valid=isPlainObject(value);}else if(expectedType==='Array'){valid=Array.isArray(value);}else{valid=value instanceof type;}return{valid:valid,expectedType:expectedType};}/**
 * Use function string name to check built-in types,
 * because a simple equality check will fail when running
 * across different vms / iframes.
 */function getType(fn){var match=fn&&fn.toString().match(/^\s*function (\w+)/);return match?match[1]:'';}function isType(type,fn){if(!Array.isArray(fn)){return getType(fn)===getType(type);}for(var i=0,len=fn.length;i<len;i++){if(getType(fn[i])===getType(type)){return true;}}/* istanbul ignore next */return false;}/*  */var mark;var measure;if(false){var perf=inBrowser&&window.performance;/* istanbul ignore if */if(perf&&perf.mark&&perf.measure&&perf.clearMarks&&perf.clearMeasures){mark=function mark(tag){return perf.mark(tag);};measure=function measure(name,startTag,endTag){perf.measure(name,startTag,endTag);perf.clearMarks(startTag);perf.clearMarks(endTag);perf.clearMeasures(name);};}}/* not type checking this file because flow doesn't play well with Proxy */var initProxy;if(false){var allowedGlobals=makeMap('Infinity,undefined,NaN,isFinite,isNaN,'+'parseFloat,parseInt,decodeURI,decodeURIComponent,encodeURI,encodeURIComponent,'+'Math,Number,Date,Array,Object,Boolean,String,RegExp,Map,Set,JSON,Intl,'+'require'// for Webpack/Browserify
);var warnNonPresent=function warnNonPresent(target,key){warn("Property or method \""+key+"\" is not defined on the instance but "+"referenced during render. Make sure to declare reactive data "+"properties in the data option.",target);};var hasProxy=typeof Proxy!=='undefined'&&Proxy.toString().match(/native code/);if(hasProxy){var isBuiltInModifier=makeMap('stop,prevent,self,ctrl,shift,alt,meta');config.keyCodes=new Proxy(config.keyCodes,{set:function set(target,key,value){if(isBuiltInModifier(key)){warn("Avoid overwriting built-in modifier in config.keyCodes: ."+key);return false;}else{target[key]=value;return true;}}});}var hasHandler={has:function has(target,key){var has=key in target;var isAllowed=allowedGlobals(key)||key.charAt(0)==='_';if(!has&&!isAllowed){warnNonPresent(target,key);}return has||!isAllowed;}};var getHandler={get:function get(target,key){if(typeof key==='string'&&!(key in target)){warnNonPresent(target,key);}return target[key];}};initProxy=function initProxy(vm){if(hasProxy){// determine which proxy handler to use
var options=vm.$options;var handlers=options.render&&options.render._withStripped?getHandler:hasHandler;vm._renderProxy=new Proxy(vm,handlers);}else{vm._renderProxy=vm;}};}/*  */var VNode=function VNode(tag,data,children,text,elm,context,componentOptions){this.tag=tag;this.data=data;this.children=children;this.text=text;this.elm=elm;this.ns=undefined;this.context=context;this.functionalContext=undefined;this.key=data&&data.key;this.componentOptions=componentOptions;this.componentInstance=undefined;this.parent=undefined;this.raw=false;this.isStatic=false;this.isRootInsert=true;this.isComment=false;this.isCloned=false;this.isOnce=false;};var prototypeAccessors={child:{}};// DEPRECATED: alias for componentInstance for backwards compat.
/* istanbul ignore next */prototypeAccessors.child.get=function(){return this.componentInstance;};Object.defineProperties(VNode.prototype,prototypeAccessors);var createEmptyVNode=function createEmptyVNode(){var node=new VNode();node.text='';node.isComment=true;return node;};function createTextVNode(val){return new VNode(undefined,undefined,undefined,String(val));}// optimized shallow clone
// used for static nodes and slot nodes because they may be reused across
// multiple renders, cloning them avoids errors when DOM manipulations rely
// on their elm reference.
function cloneVNode(vnode){var cloned=new VNode(vnode.tag,vnode.data,vnode.children,vnode.text,vnode.elm,vnode.context,vnode.componentOptions);cloned.ns=vnode.ns;cloned.isStatic=vnode.isStatic;cloned.key=vnode.key;cloned.isComment=vnode.isComment;cloned.isCloned=true;return cloned;}function cloneVNodes(vnodes){var len=vnodes.length;var res=new Array(len);for(var i=0;i<len;i++){res[i]=cloneVNode(vnodes[i]);}return res;}/*  */var normalizeEvent=cached(function(name){var passive=name.charAt(0)==='&';name=passive?name.slice(1):name;var once$$1=name.charAt(0)==='~';// Prefixed last, checked first
name=once$$1?name.slice(1):name;var capture=name.charAt(0)==='!';name=capture?name.slice(1):name;return{name:name,once:once$$1,capture:capture,passive:passive};});function createFnInvoker(fns){function invoker(){var arguments$1=arguments;var fns=invoker.fns;if(Array.isArray(fns)){for(var i=0;i<fns.length;i++){fns[i].apply(null,arguments$1);}}else{// return handler return value for single handlers
return fns.apply(null,arguments);}}invoker.fns=fns;return invoker;}function updateListeners(on,oldOn,add,remove$$1,vm){var name,cur,old,event;for(name in on){cur=on[name];old=oldOn[name];event=normalizeEvent(name);if(isUndef(cur)){"production"!=='production'&&warn("Invalid handler for event \""+event.name+"\": got "+String(cur),vm);}else if(isUndef(old)){if(isUndef(cur.fns)){cur=on[name]=createFnInvoker(cur);}add(event.name,cur,event.once,event.capture,event.passive);}else if(cur!==old){old.fns=cur;on[name]=old;}}for(name in oldOn){if(isUndef(on[name])){event=normalizeEvent(name);remove$$1(event.name,oldOn[name],event.capture);}}}/*  */function mergeVNodeHook(def,hookKey,hook){var invoker;var oldHook=def[hookKey];function wrappedHook(){hook.apply(this,arguments);// important: remove merged hook to ensure it's called only once
// and prevent memory leak
remove(invoker.fns,wrappedHook);}if(isUndef(oldHook)){// no existing hook
invoker=createFnInvoker([wrappedHook]);}else{/* istanbul ignore if */if(isDef(oldHook.fns)&&isTrue(oldHook.merged)){// already a merged invoker
invoker=oldHook;invoker.fns.push(wrappedHook);}else{// existing plain hook
invoker=createFnInvoker([oldHook,wrappedHook]);}}invoker.merged=true;def[hookKey]=invoker;}/*  */function extractPropsFromVNodeData(data,Ctor,tag){// we are only extracting raw values here.
// validation and default values are handled in the child
// component itself.
var propOptions=Ctor.options.props;if(isUndef(propOptions)){return;}var res={};var attrs=data.attrs;var props=data.props;if(isDef(attrs)||isDef(props)){for(var key in propOptions){var altKey=hyphenate(key);if(false){var keyInLowerCase=key.toLowerCase();if(key!==keyInLowerCase&&attrs&&hasOwn(attrs,keyInLowerCase)){tip("Prop \""+keyInLowerCase+"\" is passed to component "+formatComponentName(tag||Ctor)+", but the declared prop name is"+" \""+key+"\". "+"Note that HTML attributes are case-insensitive and camelCased "+"props need to use their kebab-case equivalents when using in-DOM "+"templates. You should probably use \""+altKey+"\" instead of \""+key+"\".");}}checkProp(res,props,key,altKey,true)||checkProp(res,attrs,key,altKey,false);}}return res;}function checkProp(res,hash,key,altKey,preserve){if(isDef(hash)){if(hasOwn(hash,key)){res[key]=hash[key];if(!preserve){delete hash[key];}return true;}else if(hasOwn(hash,altKey)){res[key]=hash[altKey];if(!preserve){delete hash[altKey];}return true;}}return false;}/*  */// The template compiler attempts to minimize the need for normalization by
// statically analyzing the template at compile time.
//
// For plain HTML markup, normalization can be completely skipped because the
// generated render function is guaranteed to return Array<VNode>. There are
// two cases where extra normalization is needed:
// 1. When the children contains components - because a functional component
// may return an Array instead of a single root. In this case, just a simple
// normalization is needed - if any child is an Array, we flatten the whole
// thing with Array.prototype.concat. It is guaranteed to be only 1-level deep
// because functional components already normalize their own children.
function simpleNormalizeChildren(children){for(var i=0;i<children.length;i++){if(Array.isArray(children[i])){return Array.prototype.concat.apply([],children);}}return children;}// 2. When the children contains constructs that always generated nested Arrays,
// e.g. <template>, <slot>, v-for, or when the children is provided by user
// with hand-written render functions / JSX. In such cases a full normalization
// is needed to cater to all possible types of children values.
function normalizeChildren(children){return isPrimitive(children)?[createTextVNode(children)]:Array.isArray(children)?normalizeArrayChildren(children):undefined;}function isTextNode(node){return isDef(node)&&isDef(node.text)&&isFalse(node.isComment);}function normalizeArrayChildren(children,nestedIndex){var res=[];var i,c,last;for(i=0;i<children.length;i++){c=children[i];if(isUndef(c)||typeof c==='boolean'){continue;}last=res[res.length-1];//  nested
if(Array.isArray(c)){res.push.apply(res,normalizeArrayChildren(c,(nestedIndex||'')+"_"+i));}else if(isPrimitive(c)){if(isTextNode(last)){// merge adjacent text nodes
// this is necessary for SSR hydration because text nodes are
// essentially merged when rendered to HTML strings
last.text+=String(c);}else if(c!==''){// convert primitive to vnode
res.push(createTextVNode(c));}}else{if(isTextNode(c)&&isTextNode(last)){// merge adjacent text nodes
res[res.length-1]=createTextVNode(last.text+c.text);}else{// default key for nested array children (likely generated by v-for)
if(isTrue(children._isVList)&&isDef(c.tag)&&isUndef(c.key)&&isDef(nestedIndex)){c.key="__vlist"+nestedIndex+"_"+i+"__";}res.push(c);}}}return res;}/*  */function ensureCtor(comp,base){return isObject(comp)?base.extend(comp):comp;}function resolveAsyncComponent(factory,baseCtor,context){if(isTrue(factory.error)&&isDef(factory.errorComp)){return factory.errorComp;}if(isDef(factory.resolved)){return factory.resolved;}if(isTrue(factory.loading)&&isDef(factory.loadingComp)){return factory.loadingComp;}if(isDef(factory.contexts)){// already pending
factory.contexts.push(context);}else{var contexts=factory.contexts=[context];var sync=true;var forceRender=function forceRender(){for(var i=0,l=contexts.length;i<l;i++){contexts[i].$forceUpdate();}};var resolve=once(function(res){// cache resolved
factory.resolved=ensureCtor(res,baseCtor);// invoke callbacks only if this is not a synchronous resolve
// (async resolves are shimmed as synchronous during SSR)
if(!sync){forceRender();}});var reject=once(function(reason){"production"!=='production'&&warn("Failed to resolve async component: "+String(factory)+(reason?"\nReason: "+reason:''));if(isDef(factory.errorComp)){factory.error=true;forceRender();}});var res=factory(resolve,reject);if(isObject(res)){if(typeof res.then==='function'){// () => Promise
if(isUndef(factory.resolved)){res.then(resolve,reject);}}else if(isDef(res.component)&&typeof res.component.then==='function'){res.component.then(resolve,reject);if(isDef(res.error)){factory.errorComp=ensureCtor(res.error,baseCtor);}if(isDef(res.loading)){factory.loadingComp=ensureCtor(res.loading,baseCtor);if(res.delay===0){factory.loading=true;}else{setTimeout(function(){if(isUndef(factory.resolved)&&isUndef(factory.error)){factory.loading=true;forceRender();}},res.delay||200);}}if(isDef(res.timeout)){setTimeout(function(){if(isUndef(factory.resolved)){reject(false?"timeout ("+res.timeout+"ms)":null);}},res.timeout);}}}sync=false;// return in case resolved synchronously
return factory.loading?factory.loadingComp:factory.resolved;}}/*  */function getFirstComponentChild(children){if(Array.isArray(children)){for(var i=0;i<children.length;i++){var c=children[i];if(isDef(c)&&isDef(c.componentOptions)){return c;}}}}/*  *//*  */function initEvents(vm){vm._events=Object.create(null);vm._hasHookEvent=false;// init parent attached events
var listeners=vm.$options._parentListeners;if(listeners){updateComponentListeners(vm,listeners);}}var target;function add(event,fn,once$$1){if(once$$1){target.$once(event,fn);}else{target.$on(event,fn);}}function remove$1(event,fn){target.$off(event,fn);}function updateComponentListeners(vm,listeners,oldListeners){target=vm;updateListeners(listeners,oldListeners||{},add,remove$1,vm);}function eventsMixin(Vue){var hookRE=/^hook:/;Vue.prototype.$on=function(event,fn){var this$1=this;var vm=this;if(Array.isArray(event)){for(var i=0,l=event.length;i<l;i++){this$1.$on(event[i],fn);}}else{(vm._events[event]||(vm._events[event]=[])).push(fn);// optimize hook:event cost by using a boolean flag marked at registration
// instead of a hash lookup
if(hookRE.test(event)){vm._hasHookEvent=true;}}return vm;};Vue.prototype.$once=function(event,fn){var vm=this;function on(){vm.$off(event,on);fn.apply(vm,arguments);}on.fn=fn;vm.$on(event,on);return vm;};Vue.prototype.$off=function(event,fn){var this$1=this;var vm=this;// all
if(!arguments.length){vm._events=Object.create(null);return vm;}// array of events
if(Array.isArray(event)){for(var i$1=0,l=event.length;i$1<l;i$1++){this$1.$off(event[i$1],fn);}return vm;}// specific event
var cbs=vm._events[event];if(!cbs){return vm;}if(arguments.length===1){vm._events[event]=null;return vm;}// specific handler
var cb;var i=cbs.length;while(i--){cb=cbs[i];if(cb===fn||cb.fn===fn){cbs.splice(i,1);break;}}return vm;};Vue.prototype.$emit=function(event){var vm=this;if(false){var lowerCaseEvent=event.toLowerCase();if(lowerCaseEvent!==event&&vm._events[lowerCaseEvent]){tip("Event \""+lowerCaseEvent+"\" is emitted in component "+formatComponentName(vm)+" but the handler is registered for \""+event+"\". "+"Note that HTML attributes are case-insensitive and you cannot use "+"v-on to listen to camelCase events when using in-DOM templates. "+"You should probably use \""+hyphenate(event)+"\" instead of \""+event+"\".");}}var cbs=vm._events[event];if(cbs){cbs=cbs.length>1?toArray(cbs):cbs;var args=toArray(arguments,1);for(var i=0,l=cbs.length;i<l;i++){cbs[i].apply(vm,args);}}return vm;};}/*  *//**
 * Runtime helper for resolving raw children VNodes into a slot object.
 */function resolveSlots(children,context){var slots={};if(!children){return slots;}var defaultSlot=[];for(var i=0,l=children.length;i<l;i++){var child=children[i];// named slots should only be respected if the vnode was rendered in the
// same context.
if((child.context===context||child.functionalContext===context)&&child.data&&child.data.slot!=null){var name=child.data.slot;var slot=slots[name]||(slots[name]=[]);if(child.tag==='template'){slot.push.apply(slot,child.children);}else{slot.push(child);}}else{defaultSlot.push(child);}}// ignore whitespace
if(!defaultSlot.every(isWhitespace)){slots.default=defaultSlot;}return slots;}function isWhitespace(node){return node.isComment||node.text===' ';}function resolveScopedSlots(fns,// see flow/vnode
res){res=res||{};for(var i=0;i<fns.length;i++){if(Array.isArray(fns[i])){resolveScopedSlots(fns[i],res);}else{res[fns[i].key]=fns[i].fn;}}return res;}/*  */var activeInstance=null;function initLifecycle(vm){var options=vm.$options;// locate first non-abstract parent
var parent=options.parent;if(parent&&!options.abstract){while(parent.$options.abstract&&parent.$parent){parent=parent.$parent;}parent.$children.push(vm);}vm.$parent=parent;vm.$root=parent?parent.$root:vm;vm.$children=[];vm.$refs={};vm._watcher=null;vm._inactive=null;vm._directInactive=false;vm._isMounted=false;vm._isDestroyed=false;vm._isBeingDestroyed=false;}function lifecycleMixin(Vue){Vue.prototype._update=function(vnode,hydrating){var vm=this;if(vm._isMounted){callHook(vm,'beforeUpdate');}var prevEl=vm.$el;var prevVnode=vm._vnode;var prevActiveInstance=activeInstance;activeInstance=vm;vm._vnode=vnode;// Vue.prototype.__patch__ is injected in entry points
// based on the rendering backend used.
if(!prevVnode){// initial render
vm.$el=vm.__patch__(vm.$el,vnode,hydrating,false/* removeOnly */,vm.$options._parentElm,vm.$options._refElm);}else{// updates
vm.$el=vm.__patch__(prevVnode,vnode);}activeInstance=prevActiveInstance;// update __vue__ reference
if(prevEl){prevEl.__vue__=null;}if(vm.$el){vm.$el.__vue__=vm;}// if parent is an HOC, update its $el as well
if(vm.$vnode&&vm.$parent&&vm.$vnode===vm.$parent._vnode){vm.$parent.$el=vm.$el;}// updated hook is called by the scheduler to ensure that children are
// updated in a parent's updated hook.
};Vue.prototype.$forceUpdate=function(){var vm=this;if(vm._watcher){vm._watcher.update();}};Vue.prototype.$destroy=function(){var vm=this;if(vm._isBeingDestroyed){return;}callHook(vm,'beforeDestroy');vm._isBeingDestroyed=true;// remove self from parent
var parent=vm.$parent;if(parent&&!parent._isBeingDestroyed&&!vm.$options.abstract){remove(parent.$children,vm);}// teardown watchers
if(vm._watcher){vm._watcher.teardown();}var i=vm._watchers.length;while(i--){vm._watchers[i].teardown();}// remove reference from data ob
// frozen object may not have observer.
if(vm._data.__ob__){vm._data.__ob__.vmCount--;}// call the last hook...
vm._isDestroyed=true;// invoke destroy hooks on current rendered tree
vm.__patch__(vm._vnode,null);// fire destroyed hook
callHook(vm,'destroyed');// turn off all instance listeners.
vm.$off();// remove __vue__ reference
if(vm.$el){vm.$el.__vue__=null;}// remove reference to DOM nodes (prevents leak)
vm.$options._parentElm=vm.$options._refElm=null;};}function mountComponent(vm,el,hydrating){vm.$el=el;if(!vm.$options.render){vm.$options.render=createEmptyVNode;if(false){/* istanbul ignore if */if(vm.$options.template&&vm.$options.template.charAt(0)!=='#'||vm.$options.el||el){warn('You are using the runtime-only build of Vue where the template '+'compiler is not available. Either pre-compile the templates into '+'render functions, or use the compiler-included build.',vm);}else{warn('Failed to mount component: template or render function not defined.',vm);}}}callHook(vm,'beforeMount');var updateComponent;/* istanbul ignore if */if(false){updateComponent=function updateComponent(){var name=vm._name;var id=vm._uid;var startTag="vue-perf-start:"+id;var endTag="vue-perf-end:"+id;mark(startTag);var vnode=vm._render();mark(endTag);measure(name+" render",startTag,endTag);mark(startTag);vm._update(vnode,hydrating);mark(endTag);measure(name+" patch",startTag,endTag);};}else{updateComponent=function updateComponent(){vm._update(vm._render(),hydrating);};}vm._watcher=new Watcher(vm,updateComponent,noop);hydrating=false;// manually mounted instance, call mounted on self
// mounted is called for render-created child components in its inserted hook
if(vm.$vnode==null){vm._isMounted=true;callHook(vm,'mounted');}return vm;}function updateChildComponent(vm,propsData,listeners,parentVnode,renderChildren){// determine whether component has slot children
// we need to do this before overwriting $options._renderChildren
var hasChildren=!!(renderChildren||// has new static slots
vm.$options._renderChildren||// has old static slots
parentVnode.data.scopedSlots||// has new scoped slots
vm.$scopedSlots!==emptyObject// has old scoped slots
);vm.$options._parentVnode=parentVnode;vm.$vnode=parentVnode;// update vm's placeholder node without re-render
if(vm._vnode){// update child tree's parent
vm._vnode.parent=parentVnode;}vm.$options._renderChildren=renderChildren;// update props
if(propsData&&vm.$options.props){observerState.shouldConvert=false;if(false){observerState.isSettingProps=true;}var props=vm._props;var propKeys=vm.$options._propKeys||[];for(var i=0;i<propKeys.length;i++){var key=propKeys[i];props[key]=validateProp(key,vm.$options.props,propsData,vm);}observerState.shouldConvert=true;if(false){observerState.isSettingProps=false;}// keep a copy of raw propsData
vm.$options.propsData=propsData;}// update listeners
if(listeners){var oldListeners=vm.$options._parentListeners;vm.$options._parentListeners=listeners;updateComponentListeners(vm,listeners,oldListeners);}// resolve slots + force update if has children
if(hasChildren){vm.$slots=resolveSlots(renderChildren,parentVnode.context);vm.$forceUpdate();}}function isInInactiveTree(vm){while(vm&&(vm=vm.$parent)){if(vm._inactive){return true;}}return false;}function activateChildComponent(vm,direct){if(direct){vm._directInactive=false;if(isInInactiveTree(vm)){return;}}else if(vm._directInactive){return;}if(vm._inactive||vm._inactive===null){vm._inactive=false;for(var i=0;i<vm.$children.length;i++){activateChildComponent(vm.$children[i]);}callHook(vm,'activated');}}function deactivateChildComponent(vm,direct){if(direct){vm._directInactive=true;if(isInInactiveTree(vm)){return;}}if(!vm._inactive){vm._inactive=true;for(var i=0;i<vm.$children.length;i++){deactivateChildComponent(vm.$children[i]);}callHook(vm,'deactivated');}}function callHook(vm,hook){var handlers=vm.$options[hook];if(handlers){for(var i=0,j=handlers.length;i<j;i++){try{handlers[i].call(vm);}catch(e){handleError(e,vm,hook+" hook");}}}if(vm._hasHookEvent){vm.$emit('hook:'+hook);}}/*  */var MAX_UPDATE_COUNT=100;var queue=[];var activatedChildren=[];var has={};var circular={};var waiting=false;var flushing=false;var index=0;/**
 * Reset the scheduler's state.
 */function resetSchedulerState(){index=queue.length=activatedChildren.length=0;has={};if(false){circular={};}waiting=flushing=false;}/**
 * Flush both queues and run the watchers.
 */function flushSchedulerQueue(){flushing=true;var watcher,id;// Sort queue before flush.
// This ensures that:
// 1. Components are updated from parent to child. (because parent is always
//    created before the child)
// 2. A component's user watchers are run before its render watcher (because
//    user watchers are created before the render watcher)
// 3. If a component is destroyed during a parent component's watcher run,
//    its watchers can be skipped.
queue.sort(function(a,b){return a.id-b.id;});// do not cache length because more watchers might be pushed
// as we run existing watchers
for(index=0;index<queue.length;index++){watcher=queue[index];id=watcher.id;has[id]=null;watcher.run();// in dev build, check and stop circular updates.
if(false){circular[id]=(circular[id]||0)+1;if(circular[id]>MAX_UPDATE_COUNT){warn('You may have an infinite update loop '+(watcher.user?"in watcher with expression \""+watcher.expression+"\"":"in a component render function."),watcher.vm);break;}}}// keep copies of post queues before resetting state
var activatedQueue=activatedChildren.slice();var updatedQueue=queue.slice();resetSchedulerState();// call component updated and activated hooks
callActivatedHooks(activatedQueue);callUpdateHooks(updatedQueue);// devtool hook
/* istanbul ignore if */if(devtools&&config.devtools){devtools.emit('flush');}}function callUpdateHooks(queue){var i=queue.length;while(i--){var watcher=queue[i];var vm=watcher.vm;if(vm._watcher===watcher&&vm._isMounted){callHook(vm,'updated');}}}/**
 * Queue a kept-alive component that was activated during patch.
 * The queue will be processed after the entire tree has been patched.
 */function queueActivatedComponent(vm){// setting _inactive to false here so that a render function can
// rely on checking whether it's in an inactive tree (e.g. router-view)
vm._inactive=false;activatedChildren.push(vm);}function callActivatedHooks(queue){for(var i=0;i<queue.length;i++){queue[i]._inactive=true;activateChildComponent(queue[i],true/* true */);}}/**
 * Push a watcher into the watcher queue.
 * Jobs with duplicate IDs will be skipped unless it's
 * pushed when the queue is being flushed.
 */function queueWatcher(watcher){var id=watcher.id;if(has[id]==null){has[id]=true;if(!flushing){queue.push(watcher);}else{// if already flushing, splice the watcher based on its id
// if already past its id, it will be run next immediately.
var i=queue.length-1;while(i>index&&queue[i].id>watcher.id){i--;}queue.splice(i+1,0,watcher);}// queue the flush
if(!waiting){waiting=true;nextTick(flushSchedulerQueue);}}}/*  */var uid$2=0;/**
 * A watcher parses an expression, collects dependencies,
 * and fires callback when the expression value changes.
 * This is used for both the $watch() api and directives.
 */var Watcher=function Watcher(vm,expOrFn,cb,options){this.vm=vm;vm._watchers.push(this);// options
if(options){this.deep=!!options.deep;this.user=!!options.user;this.lazy=!!options.lazy;this.sync=!!options.sync;}else{this.deep=this.user=this.lazy=this.sync=false;}this.cb=cb;this.id=++uid$2;// uid for batching
this.active=true;this.dirty=this.lazy;// for lazy watchers
this.deps=[];this.newDeps=[];this.depIds=new _Set();this.newDepIds=new _Set();this.expression=false?expOrFn.toString():'';// parse expression for getter
if(typeof expOrFn==='function'){this.getter=expOrFn;}else{this.getter=parsePath(expOrFn);if(!this.getter){this.getter=function(){};"production"!=='production'&&warn("Failed watching path: \""+expOrFn+"\" "+'Watcher only accepts simple dot-delimited paths. '+'For full control, use a function instead.',vm);}}this.value=this.lazy?undefined:this.get();};/**
 * Evaluate the getter, and re-collect dependencies.
 */Watcher.prototype.get=function get(){pushTarget(this);var value;var vm=this.vm;if(this.user){try{value=this.getter.call(vm,vm);}catch(e){handleError(e,vm,"getter for watcher \""+this.expression+"\"");}}else{value=this.getter.call(vm,vm);}// "touch" every property so they are all tracked as
// dependencies for deep watching
if(this.deep){traverse(value);}popTarget();this.cleanupDeps();return value;};/**
 * Add a dependency to this directive.
 */Watcher.prototype.addDep=function addDep(dep){var id=dep.id;if(!this.newDepIds.has(id)){this.newDepIds.add(id);this.newDeps.push(dep);if(!this.depIds.has(id)){dep.addSub(this);}}};/**
 * Clean up for dependency collection.
 */Watcher.prototype.cleanupDeps=function cleanupDeps(){var this$1=this;var i=this.deps.length;while(i--){var dep=this$1.deps[i];if(!this$1.newDepIds.has(dep.id)){dep.removeSub(this$1);}}var tmp=this.depIds;this.depIds=this.newDepIds;this.newDepIds=tmp;this.newDepIds.clear();tmp=this.deps;this.deps=this.newDeps;this.newDeps=tmp;this.newDeps.length=0;};/**
 * Subscriber interface.
 * Will be called when a dependency changes.
 */Watcher.prototype.update=function update(){/* istanbul ignore else */if(this.lazy){this.dirty=true;}else if(this.sync){this.run();}else{queueWatcher(this);}};/**
 * Scheduler job interface.
 * Will be called by the scheduler.
 */Watcher.prototype.run=function run(){if(this.active){var value=this.get();if(value!==this.value||// Deep watchers and watchers on Object/Arrays should fire even
// when the value is the same, because the value may
// have mutated.
isObject(value)||this.deep){// set new value
var oldValue=this.value;this.value=value;if(this.user){try{this.cb.call(this.vm,value,oldValue);}catch(e){handleError(e,this.vm,"callback for watcher \""+this.expression+"\"");}}else{this.cb.call(this.vm,value,oldValue);}}}};/**
 * Evaluate the value of the watcher.
 * This only gets called for lazy watchers.
 */Watcher.prototype.evaluate=function evaluate(){this.value=this.get();this.dirty=false;};/**
 * Depend on all deps collected by this watcher.
 */Watcher.prototype.depend=function depend(){var this$1=this;var i=this.deps.length;while(i--){this$1.deps[i].depend();}};/**
 * Remove self from all dependencies' subscriber list.
 */Watcher.prototype.teardown=function teardown(){var this$1=this;if(this.active){// remove self from vm's watcher list
// this is a somewhat expensive operation so we skip it
// if the vm is being destroyed.
if(!this.vm._isBeingDestroyed){remove(this.vm._watchers,this);}var i=this.deps.length;while(i--){this$1.deps[i].removeSub(this$1);}this.active=false;}};/**
 * Recursively traverse an object to evoke all converted
 * getters, so that every nested property inside the object
 * is collected as a "deep" dependency.
 */var seenObjects=new _Set();function traverse(val){seenObjects.clear();_traverse(val,seenObjects);}function _traverse(val,seen){var i,keys;var isA=Array.isArray(val);if(!isA&&!isObject(val)||!Object.isExtensible(val)){return;}if(val.__ob__){var depId=val.__ob__.dep.id;if(seen.has(depId)){return;}seen.add(depId);}if(isA){i=val.length;while(i--){_traverse(val[i],seen);}}else{keys=Object.keys(val);i=keys.length;while(i--){_traverse(val[keys[i]],seen);}}}/*  */var sharedPropertyDefinition={enumerable:true,configurable:true,get:noop,set:noop};function proxy(target,sourceKey,key){sharedPropertyDefinition.get=function proxyGetter(){return this[sourceKey][key];};sharedPropertyDefinition.set=function proxySetter(val){this[sourceKey][key]=val;};Object.defineProperty(target,key,sharedPropertyDefinition);}function initState(vm){vm._watchers=[];var opts=vm.$options;if(opts.props){initProps(vm,opts.props);}if(opts.methods){initMethods(vm,opts.methods);}if(opts.data){initData(vm);}else{observe(vm._data={},true/* asRootData */);}if(opts.computed){initComputed(vm,opts.computed);}if(opts.watch){initWatch(vm,opts.watch);}}var isReservedProp={key:1,ref:1,slot:1};function initProps(vm,propsOptions){var propsData=vm.$options.propsData||{};var props=vm._props={};// cache prop keys so that future props updates can iterate using Array
// instead of dynamic object key enumeration.
var keys=vm.$options._propKeys=[];var isRoot=!vm.$parent;// root instance props should be converted
observerState.shouldConvert=isRoot;var loop=function loop(key){keys.push(key);var value=validateProp(key,propsOptions,propsData,vm);/* istanbul ignore else */if(false){if(isReservedProp[key]||config.isReservedAttr(key)){warn("\""+key+"\" is a reserved attribute and cannot be used as component prop.",vm);}defineReactive$$1(props,key,value,function(){if(vm.$parent&&!observerState.isSettingProps){warn("Avoid mutating a prop directly since the value will be "+"overwritten whenever the parent component re-renders. "+"Instead, use a data or computed property based on the prop's "+"value. Prop being mutated: \""+key+"\"",vm);}});}else{defineReactive$$1(props,key,value);}// static props are already proxied on the component's prototype
// during Vue.extend(). We only need to proxy props defined at
// instantiation here.
if(!(key in vm)){proxy(vm,"_props",key);}};for(var key in propsOptions){loop(key);}observerState.shouldConvert=true;}function initData(vm){var data=vm.$options.data;data=vm._data=typeof data==='function'?getData(data,vm):data||{};if(!isPlainObject(data)){data={};"production"!=='production'&&warn('data functions should return an object:\n'+'https://vuejs.org/v2/guide/components.html#data-Must-Be-a-Function',vm);}// proxy data on instance
var keys=Object.keys(data);var props=vm.$options.props;var i=keys.length;while(i--){if(props&&hasOwn(props,keys[i])){"production"!=='production'&&warn("The data property \""+keys[i]+"\" is already declared as a prop. "+"Use prop default value instead.",vm);}else if(!isReserved(keys[i])){proxy(vm,"_data",keys[i]);}}// observe data
observe(data,true/* asRootData */);}function getData(data,vm){try{return data.call(vm);}catch(e){handleError(e,vm,"data()");return{};}}var computedWatcherOptions={lazy:true};function initComputed(vm,computed){var watchers=vm._computedWatchers=Object.create(null);for(var key in computed){var userDef=computed[key];var getter=typeof userDef==='function'?userDef:userDef.get;if(false){if(getter===undefined){warn("No getter function has been defined for computed property \""+key+"\".",vm);getter=noop;}}// create internal watcher for the computed property.
watchers[key]=new Watcher(vm,getter,noop,computedWatcherOptions);// component-defined computed properties are already defined on the
// component prototype. We only need to define computed properties defined
// at instantiation here.
if(!(key in vm)){defineComputed(vm,key,userDef);}else if(false){if(key in vm.$data){warn("The computed property \""+key+"\" is already defined in data.",vm);}else if(vm.$options.props&&key in vm.$options.props){warn("The computed property \""+key+"\" is already defined as a prop.",vm);}}}}function defineComputed(target,key,userDef){if(typeof userDef==='function'){sharedPropertyDefinition.get=createComputedGetter(key);sharedPropertyDefinition.set=noop;}else{sharedPropertyDefinition.get=userDef.get?userDef.cache!==false?createComputedGetter(key):userDef.get:noop;sharedPropertyDefinition.set=userDef.set?userDef.set:noop;}Object.defineProperty(target,key,sharedPropertyDefinition);}function createComputedGetter(key){return function computedGetter(){var watcher=this._computedWatchers&&this._computedWatchers[key];if(watcher){if(watcher.dirty){watcher.evaluate();}if(Dep.target){watcher.depend();}return watcher.value;}};}function initMethods(vm,methods){var props=vm.$options.props;for(var key in methods){vm[key]=methods[key]==null?noop:bind(methods[key],vm);if(false){if(methods[key]==null){warn("method \""+key+"\" has an undefined value in the component definition. "+"Did you reference the function correctly?",vm);}if(props&&hasOwn(props,key)){warn("method \""+key+"\" has already been defined as a prop.",vm);}}}}function initWatch(vm,watch){for(var key in watch){var handler=watch[key];if(Array.isArray(handler)){for(var i=0;i<handler.length;i++){createWatcher(vm,key,handler[i]);}}else{createWatcher(vm,key,handler);}}}function createWatcher(vm,key,handler){var options;if(isPlainObject(handler)){options=handler;handler=handler.handler;}if(typeof handler==='string'){handler=vm[handler];}vm.$watch(key,handler,options);}function stateMixin(Vue){// flow somehow has problems with directly declared definition object
// when using Object.defineProperty, so we have to procedurally build up
// the object here.
var dataDef={};dataDef.get=function(){return this._data;};var propsDef={};propsDef.get=function(){return this._props;};if(false){dataDef.set=function(newData){warn('Avoid replacing instance root $data. '+'Use nested data properties instead.',this);};propsDef.set=function(){warn("$props is readonly.",this);};}Object.defineProperty(Vue.prototype,'$data',dataDef);Object.defineProperty(Vue.prototype,'$props',propsDef);Vue.prototype.$set=set;Vue.prototype.$delete=del;Vue.prototype.$watch=function(expOrFn,cb,options){var vm=this;options=options||{};options.user=true;var watcher=new Watcher(vm,expOrFn,cb,options);if(options.immediate){cb.call(vm,watcher.value);}return function unwatchFn(){watcher.teardown();};};}/*  */function initProvide(vm){var provide=vm.$options.provide;if(provide){vm._provided=typeof provide==='function'?provide.call(vm):provide;}}function initInjections(vm){var result=resolveInject(vm.$options.inject,vm);if(result){Object.keys(result).forEach(function(key){/* istanbul ignore else */if(false){defineReactive$$1(vm,key,result[key],function(){warn("Avoid mutating an injected value directly since the changes will be "+"overwritten whenever the provided component re-renders. "+"injection being mutated: \""+key+"\"",vm);});}else{defineReactive$$1(vm,key,result[key]);}});}}function resolveInject(inject,vm){if(inject){// inject is :any because flow is not smart enough to figure out cached
// isArray here
var isArray=Array.isArray(inject);var result=Object.create(null);var keys=isArray?inject:hasSymbol?Reflect.ownKeys(inject):Object.keys(inject);for(var i=0;i<keys.length;i++){var key=keys[i];var provideKey=isArray?key:inject[key];var source=vm;while(source){if(source._provided&&provideKey in source._provided){result[key]=source._provided[provideKey];break;}source=source.$parent;}}return result;}}/*  */function createFunctionalComponent(Ctor,propsData,data,context,children){var props={};var propOptions=Ctor.options.props;if(isDef(propOptions)){for(var key in propOptions){props[key]=validateProp(key,propOptions,propsData||{});}}else{if(isDef(data.attrs)){mergeProps(props,data.attrs);}if(isDef(data.props)){mergeProps(props,data.props);}}// ensure the createElement function in functional components
// gets a unique context - this is necessary for correct named slot check
var _context=Object.create(context);var h=function h(a,b,c,d){return createElement(_context,a,b,c,d,true);};var vnode=Ctor.options.render.call(null,h,{data:data,props:props,children:children,parent:context,listeners:data.on||{},injections:resolveInject(Ctor.options.inject,context),slots:function slots(){return resolveSlots(children,context);}});if(vnode instanceof VNode){vnode.functionalContext=context;vnode.functionalOptions=Ctor.options;if(data.slot){(vnode.data||(vnode.data={})).slot=data.slot;}}return vnode;}function mergeProps(to,from){for(var key in from){to[camelize(key)]=from[key];}}/*  */// hooks to be invoked on component VNodes during patch
var componentVNodeHooks={init:function init(vnode,hydrating,parentElm,refElm){if(!vnode.componentInstance||vnode.componentInstance._isDestroyed){var child=vnode.componentInstance=createComponentInstanceForVnode(vnode,activeInstance,parentElm,refElm);child.$mount(hydrating?vnode.elm:undefined,hydrating);}else if(vnode.data.keepAlive){// kept-alive components, treat as a patch
var mountedNode=vnode;// work around flow
componentVNodeHooks.prepatch(mountedNode,mountedNode);}},prepatch:function prepatch(oldVnode,vnode){var options=vnode.componentOptions;var child=vnode.componentInstance=oldVnode.componentInstance;updateChildComponent(child,options.propsData,// updated props
options.listeners,// updated listeners
vnode,// new parent vnode
options.children// new children
);},insert:function insert(vnode){var context=vnode.context;var componentInstance=vnode.componentInstance;if(!componentInstance._isMounted){componentInstance._isMounted=true;callHook(componentInstance,'mounted');}if(vnode.data.keepAlive){if(context._isMounted){// vue-router#1212
// During updates, a kept-alive component's child components may
// change, so directly walking the tree here may call activated hooks
// on incorrect children. Instead we push them into a queue which will
// be processed after the whole patch process ended.
queueActivatedComponent(componentInstance);}else{activateChildComponent(componentInstance,true/* direct */);}}},destroy:function destroy(vnode){var componentInstance=vnode.componentInstance;if(!componentInstance._isDestroyed){if(!vnode.data.keepAlive){componentInstance.$destroy();}else{deactivateChildComponent(componentInstance,true/* direct */);}}}};var hooksToMerge=Object.keys(componentVNodeHooks);function createComponent(Ctor,data,context,children,tag){if(isUndef(Ctor)){return;}var baseCtor=context.$options._base;// plain options object: turn it into a constructor
if(isObject(Ctor)){Ctor=baseCtor.extend(Ctor);}// if at this stage it's not a constructor or an async component factory,
// reject.
if(typeof Ctor!=='function'){if(false){warn("Invalid Component definition: "+String(Ctor),context);}return;}// async component
if(isUndef(Ctor.cid)){Ctor=resolveAsyncComponent(Ctor,baseCtor,context);if(Ctor===undefined){// return nothing if this is indeed an async component
// wait for the callback to trigger parent update.
return;}}// resolve constructor options in case global mixins are applied after
// component constructor creation
resolveConstructorOptions(Ctor);data=data||{};// transform component v-model data into props & events
if(isDef(data.model)){transformModel(Ctor.options,data);}// extract props
var propsData=extractPropsFromVNodeData(data,Ctor,tag);// functional component
if(isTrue(Ctor.options.functional)){return createFunctionalComponent(Ctor,propsData,data,context,children);}// extract listeners, since these needs to be treated as
// child component listeners instead of DOM listeners
var listeners=data.on;// replace with listeners with .native modifier
data.on=data.nativeOn;if(isTrue(Ctor.options.abstract)){// abstract components do not keep anything
// other than props & listeners
data={};}// merge component management hooks onto the placeholder node
mergeHooks(data);// return a placeholder vnode
var name=Ctor.options.name||tag;var vnode=new VNode("vue-component-"+Ctor.cid+(name?"-"+name:''),data,undefined,undefined,undefined,context,{Ctor:Ctor,propsData:propsData,listeners:listeners,tag:tag,children:children});return vnode;}function createComponentInstanceForVnode(vnode,// we know it's MountedComponentVNode but flow doesn't
parent,// activeInstance in lifecycle state
parentElm,refElm){var vnodeComponentOptions=vnode.componentOptions;var options={_isComponent:true,parent:parent,propsData:vnodeComponentOptions.propsData,_componentTag:vnodeComponentOptions.tag,_parentVnode:vnode,_parentListeners:vnodeComponentOptions.listeners,_renderChildren:vnodeComponentOptions.children,_parentElm:parentElm||null,_refElm:refElm||null};// check inline-template render functions
var inlineTemplate=vnode.data.inlineTemplate;if(isDef(inlineTemplate)){options.render=inlineTemplate.render;options.staticRenderFns=inlineTemplate.staticRenderFns;}return new vnodeComponentOptions.Ctor(options);}function mergeHooks(data){if(!data.hook){data.hook={};}for(var i=0;i<hooksToMerge.length;i++){var key=hooksToMerge[i];var fromParent=data.hook[key];var ours=componentVNodeHooks[key];data.hook[key]=fromParent?mergeHook$1(ours,fromParent):ours;}}function mergeHook$1(one,two){return function(a,b,c,d){one(a,b,c,d);two(a,b,c,d);};}// transform component v-model info (value and callback) into
// prop and event handler respectively.
function transformModel(options,data){var prop=options.model&&options.model.prop||'value';var event=options.model&&options.model.event||'input';(data.props||(data.props={}))[prop]=data.model.value;var on=data.on||(data.on={});if(isDef(on[event])){on[event]=[data.model.callback].concat(on[event]);}else{on[event]=data.model.callback;}}/*  */var SIMPLE_NORMALIZE=1;var ALWAYS_NORMALIZE=2;// wrapper function for providing a more flexible interface
// without getting yelled at by flow
function createElement(context,tag,data,children,normalizationType,alwaysNormalize){if(Array.isArray(data)||isPrimitive(data)){normalizationType=children;children=data;data=undefined;}if(isTrue(alwaysNormalize)){normalizationType=ALWAYS_NORMALIZE;}return _createElement(context,tag,data,children,normalizationType);}function _createElement(context,tag,data,children,normalizationType){if(isDef(data)&&isDef(data.__ob__)){"production"!=='production'&&warn("Avoid using observed data object as vnode data: "+JSON.stringify(data)+"\n"+'Always create fresh vnode data objects in each render!',context);return createEmptyVNode();}if(!tag){// in case of component :is set to falsy value
return createEmptyVNode();}// support single function children as default scoped slot
if(Array.isArray(children)&&typeof children[0]==='function'){data=data||{};data.scopedSlots={default:children[0]};children.length=0;}if(normalizationType===ALWAYS_NORMALIZE){children=normalizeChildren(children);}else if(normalizationType===SIMPLE_NORMALIZE){children=simpleNormalizeChildren(children);}var vnode,ns;if(typeof tag==='string'){var Ctor;ns=config.getTagNamespace(tag);if(config.isReservedTag(tag)){// platform built-in elements
vnode=new VNode(config.parsePlatformTagName(tag),data,children,undefined,undefined,context);}else if(isDef(Ctor=resolveAsset(context.$options,'components',tag))){// component
vnode=createComponent(Ctor,data,context,children,tag);}else{// unknown or unlisted namespaced elements
// check at runtime because it may get assigned a namespace when its
// parent normalizes children
vnode=new VNode(tag,data,children,undefined,undefined,context);}}else{// direct component options / constructor
vnode=createComponent(tag,data,context,children);}if(isDef(vnode)){if(ns){applyNS(vnode,ns);}return vnode;}else{return createEmptyVNode();}}function applyNS(vnode,ns){vnode.ns=ns;if(vnode.tag==='foreignObject'){// use default namespace inside foreignObject
return;}if(isDef(vnode.children)){for(var i=0,l=vnode.children.length;i<l;i++){var child=vnode.children[i];if(isDef(child.tag)&&isUndef(child.ns)){applyNS(child,ns);}}}}/*  *//**
 * Runtime helper for rendering v-for lists.
 */function renderList(val,render){var ret,i,l,keys,key;if(Array.isArray(val)||typeof val==='string'){ret=new Array(val.length);for(i=0,l=val.length;i<l;i++){ret[i]=render(val[i],i);}}else if(typeof val==='number'){ret=new Array(val);for(i=0;i<val;i++){ret[i]=render(i+1,i);}}else if(isObject(val)){keys=Object.keys(val);ret=new Array(keys.length);for(i=0,l=keys.length;i<l;i++){key=keys[i];ret[i]=render(val[key],key,i);}}if(isDef(ret)){ret._isVList=true;}return ret;}/*  *//**
 * Runtime helper for rendering <slot>
 */function renderSlot(name,fallback,props,bindObject){var scopedSlotFn=this.$scopedSlots[name];if(scopedSlotFn){// scoped slot
props=props||{};if(bindObject){extend(props,bindObject);}return scopedSlotFn(props)||fallback;}else{var slotNodes=this.$slots[name];// warn duplicate slot usage
if(slotNodes&&"production"!=='production'){slotNodes._rendered&&warn("Duplicate presence of slot \""+name+"\" found in the same render tree "+"- this will likely cause render errors.",this);slotNodes._rendered=true;}return slotNodes||fallback;}}/*  *//**
 * Runtime helper for resolving filters
 */function resolveFilter(id){return resolveAsset(this.$options,'filters',id,true)||identity;}/*  *//**
 * Runtime helper for checking keyCodes from config.
 */function checkKeyCodes(eventKeyCode,key,builtInAlias){var keyCodes=config.keyCodes[key]||builtInAlias;if(Array.isArray(keyCodes)){return keyCodes.indexOf(eventKeyCode)===-1;}else{return keyCodes!==eventKeyCode;}}/*  *//**
 * Runtime helper for merging v-bind="object" into a VNode's data.
 */function bindObjectProps(data,tag,value,asProp){if(value){if(!isObject(value)){"production"!=='production'&&warn('v-bind without argument expects an Object or Array value',this);}else{if(Array.isArray(value)){value=toObject(value);}var hash;for(var key in value){if(key==='class'||key==='style'){hash=data;}else{var type=data.attrs&&data.attrs.type;hash=asProp||config.mustUseProp(tag,type,key)?data.domProps||(data.domProps={}):data.attrs||(data.attrs={});}if(!(key in hash)){hash[key]=value[key];}}}}return data;}/*  *//**
 * Runtime helper for rendering static trees.
 */function renderStatic(index,isInFor){var tree=this._staticTrees[index];// if has already-rendered static tree and not inside v-for,
// we can reuse the same tree by doing a shallow clone.
if(tree&&!isInFor){return Array.isArray(tree)?cloneVNodes(tree):cloneVNode(tree);}// otherwise, render a fresh tree.
tree=this._staticTrees[index]=this.$options.staticRenderFns[index].call(this._renderProxy);markStatic(tree,"__static__"+index,false);return tree;}/**
 * Runtime helper for v-once.
 * Effectively it means marking the node as static with a unique key.
 */function markOnce(tree,index,key){markStatic(tree,"__once__"+index+(key?"_"+key:""),true);return tree;}function markStatic(tree,key,isOnce){if(Array.isArray(tree)){for(var i=0;i<tree.length;i++){if(tree[i]&&typeof tree[i]!=='string'){markStaticNode(tree[i],key+"_"+i,isOnce);}}}else{markStaticNode(tree,key,isOnce);}}function markStaticNode(node,key,isOnce){node.isStatic=true;node.key=key;node.isOnce=isOnce;}/*  */function initRender(vm){vm._vnode=null;// the root of the child tree
vm._staticTrees=null;var parentVnode=vm.$vnode=vm.$options._parentVnode;// the placeholder node in parent tree
var renderContext=parentVnode&&parentVnode.context;vm.$slots=resolveSlots(vm.$options._renderChildren,renderContext);vm.$scopedSlots=emptyObject;// bind the createElement fn to this instance
// so that we get proper render context inside it.
// args order: tag, data, children, normalizationType, alwaysNormalize
// internal version is used by render functions compiled from templates
vm._c=function(a,b,c,d){return createElement(vm,a,b,c,d,false);};// normalization is always applied for the public version, used in
// user-written render functions.
vm.$createElement=function(a,b,c,d){return createElement(vm,a,b,c,d,true);};}function renderMixin(Vue){Vue.prototype.$nextTick=function(fn){return nextTick(fn,this);};Vue.prototype._render=function(){var vm=this;var ref=vm.$options;var render=ref.render;var staticRenderFns=ref.staticRenderFns;var _parentVnode=ref._parentVnode;if(vm._isMounted){// clone slot nodes on re-renders
for(var key in vm.$slots){vm.$slots[key]=cloneVNodes(vm.$slots[key]);}}vm.$scopedSlots=_parentVnode&&_parentVnode.data.scopedSlots||emptyObject;if(staticRenderFns&&!vm._staticTrees){vm._staticTrees=[];}// set parent vnode. this allows render functions to have access
// to the data on the placeholder node.
vm.$vnode=_parentVnode;// render self
var vnode;try{vnode=render.call(vm._renderProxy,vm.$createElement);}catch(e){handleError(e,vm,"render function");// return error render result,
// or previous vnode to prevent render error causing blank component
/* istanbul ignore else */if(false){vnode=vm.$options.renderError?vm.$options.renderError.call(vm._renderProxy,vm.$createElement,e):vm._vnode;}else{vnode=vm._vnode;}}// return empty vnode in case the render function errored out
if(!(vnode instanceof VNode)){if(false){warn('Multiple root nodes returned from render function. Render function '+'should return a single root node.',vm);}vnode=createEmptyVNode();}// set parent
vnode.parent=_parentVnode;return vnode;};// internal render helpers.
// these are exposed on the instance prototype to reduce generated render
// code size.
Vue.prototype._o=markOnce;Vue.prototype._n=toNumber;Vue.prototype._s=toString;Vue.prototype._l=renderList;Vue.prototype._t=renderSlot;Vue.prototype._q=looseEqual;Vue.prototype._i=looseIndexOf;Vue.prototype._m=renderStatic;Vue.prototype._f=resolveFilter;Vue.prototype._k=checkKeyCodes;Vue.prototype._b=bindObjectProps;Vue.prototype._v=createTextVNode;Vue.prototype._e=createEmptyVNode;Vue.prototype._u=resolveScopedSlots;}/*  */var uid$1=0;function initMixin(Vue){Vue.prototype._init=function(options){var vm=this;// a uid
vm._uid=uid$1++;var startTag,endTag;/* istanbul ignore if */if(false){startTag="vue-perf-init:"+vm._uid;endTag="vue-perf-end:"+vm._uid;mark(startTag);}// a flag to avoid this being observed
vm._isVue=true;// merge options
if(options&&options._isComponent){// optimize internal component instantiation
// since dynamic options merging is pretty slow, and none of the
// internal component options needs special treatment.
initInternalComponent(vm,options);}else{vm.$options=mergeOptions(resolveConstructorOptions(vm.constructor),options||{},vm);}/* istanbul ignore else */if(false){initProxy(vm);}else{vm._renderProxy=vm;}// expose real self
vm._self=vm;initLifecycle(vm);initEvents(vm);initRender(vm);callHook(vm,'beforeCreate');initInjections(vm);// resolve injections before data/props
initState(vm);initProvide(vm);// resolve provide after data/props
callHook(vm,'created');/* istanbul ignore if */if(false){vm._name=formatComponentName(vm,false);mark(endTag);measure(vm._name+" init",startTag,endTag);}if(vm.$options.el){vm.$mount(vm.$options.el);}};}function initInternalComponent(vm,options){var opts=vm.$options=Object.create(vm.constructor.options);// doing this because it's faster than dynamic enumeration.
opts.parent=options.parent;opts.propsData=options.propsData;opts._parentVnode=options._parentVnode;opts._parentListeners=options._parentListeners;opts._renderChildren=options._renderChildren;opts._componentTag=options._componentTag;opts._parentElm=options._parentElm;opts._refElm=options._refElm;if(options.render){opts.render=options.render;opts.staticRenderFns=options.staticRenderFns;}}function resolveConstructorOptions(Ctor){var options=Ctor.options;if(Ctor.super){var superOptions=resolveConstructorOptions(Ctor.super);var cachedSuperOptions=Ctor.superOptions;if(superOptions!==cachedSuperOptions){// super option changed,
// need to resolve new options.
Ctor.superOptions=superOptions;// check if there are any late-modified/attached options (#4976)
var modifiedOptions=resolveModifiedOptions(Ctor);// update base extend options
if(modifiedOptions){extend(Ctor.extendOptions,modifiedOptions);}options=Ctor.options=mergeOptions(superOptions,Ctor.extendOptions);if(options.name){options.components[options.name]=Ctor;}}}return options;}function resolveModifiedOptions(Ctor){var modified;var latest=Ctor.options;var extended=Ctor.extendOptions;var sealed=Ctor.sealedOptions;for(var key in latest){if(latest[key]!==sealed[key]){if(!modified){modified={};}modified[key]=dedupe(latest[key],extended[key],sealed[key]);}}return modified;}function dedupe(latest,extended,sealed){// compare latest and sealed to ensure lifecycle hooks won't be duplicated
// between merges
if(Array.isArray(latest)){var res=[];sealed=Array.isArray(sealed)?sealed:[sealed];extended=Array.isArray(extended)?extended:[extended];for(var i=0;i<latest.length;i++){// push original options and not sealed options to exclude duplicated options
if(extended.indexOf(latest[i])>=0||sealed.indexOf(latest[i])<0){res.push(latest[i]);}}return res;}else{return latest;}}function Vue$3(options){if(false){warn('Vue is a constructor and should be called with the `new` keyword');}this._init(options);}initMixin(Vue$3);stateMixin(Vue$3);eventsMixin(Vue$3);lifecycleMixin(Vue$3);renderMixin(Vue$3);/*  */function initUse(Vue){Vue.use=function(plugin){/* istanbul ignore if */if(plugin.installed){return this;}// additional parameters
var args=toArray(arguments,1);args.unshift(this);if(typeof plugin.install==='function'){plugin.install.apply(plugin,args);}else if(typeof plugin==='function'){plugin.apply(null,args);}plugin.installed=true;return this;};}/*  */function initMixin$1(Vue){Vue.mixin=function(mixin){this.options=mergeOptions(this.options,mixin);return this;};}/*  */function initExtend(Vue){/**
   * Each instance constructor, including Vue, has a unique
   * cid. This enables us to create wrapped "child
   * constructors" for prototypal inheritance and cache them.
   */Vue.cid=0;var cid=1;/**
   * Class inheritance
   */Vue.extend=function(extendOptions){extendOptions=extendOptions||{};var Super=this;var SuperId=Super.cid;var cachedCtors=extendOptions._Ctor||(extendOptions._Ctor={});if(cachedCtors[SuperId]){return cachedCtors[SuperId];}var name=extendOptions.name||Super.options.name;if(false){if(!/^[a-zA-Z][\w-]*$/.test(name)){warn('Invalid component name: "'+name+'". Component names '+'can only contain alphanumeric characters and the hyphen, '+'and must start with a letter.');}}var Sub=function VueComponent(options){this._init(options);};Sub.prototype=Object.create(Super.prototype);Sub.prototype.constructor=Sub;Sub.cid=cid++;Sub.options=mergeOptions(Super.options,extendOptions);Sub['super']=Super;// For props and computed properties, we define the proxy getters on
// the Vue instances at extension time, on the extended prototype. This
// avoids Object.defineProperty calls for each instance created.
if(Sub.options.props){initProps$1(Sub);}if(Sub.options.computed){initComputed$1(Sub);}// allow further extension/mixin/plugin usage
Sub.extend=Super.extend;Sub.mixin=Super.mixin;Sub.use=Super.use;// create asset registers, so extended classes
// can have their private assets too.
ASSET_TYPES.forEach(function(type){Sub[type]=Super[type];});// enable recursive self-lookup
if(name){Sub.options.components[name]=Sub;}// keep a reference to the super options at extension time.
// later at instantiation we can check if Super's options have
// been updated.
Sub.superOptions=Super.options;Sub.extendOptions=extendOptions;Sub.sealedOptions=extend({},Sub.options);// cache constructor
cachedCtors[SuperId]=Sub;return Sub;};}function initProps$1(Comp){var props=Comp.options.props;for(var key in props){proxy(Comp.prototype,"_props",key);}}function initComputed$1(Comp){var computed=Comp.options.computed;for(var key in computed){defineComputed(Comp.prototype,key,computed[key]);}}/*  */function initAssetRegisters(Vue){/**
   * Create asset registration methods.
   */ASSET_TYPES.forEach(function(type){Vue[type]=function(id,definition){if(!definition){return this.options[type+'s'][id];}else{/* istanbul ignore if */if(false){if(type==='component'&&config.isReservedTag(id)){warn('Do not use built-in or reserved HTML elements as component '+'id: '+id);}}if(type==='component'&&isPlainObject(definition)){definition.name=definition.name||id;definition=this.options._base.extend(definition);}if(type==='directive'&&typeof definition==='function'){definition={bind:definition,update:definition};}this.options[type+'s'][id]=definition;return definition;}};});}/*  */var patternTypes=[String,RegExp];function getComponentName(opts){return opts&&(opts.Ctor.options.name||opts.tag);}function matches(pattern,name){if(typeof pattern==='string'){return pattern.split(',').indexOf(name)>-1;}else if(isRegExp(pattern)){return pattern.test(name);}/* istanbul ignore next */return false;}function pruneCache(cache,current,filter){for(var key in cache){var cachedNode=cache[key];if(cachedNode){var name=getComponentName(cachedNode.componentOptions);if(name&&!filter(name)){if(cachedNode!==current){pruneCacheEntry(cachedNode);}cache[key]=null;}}}}function pruneCacheEntry(vnode){if(vnode){vnode.componentInstance.$destroy();}}var KeepAlive={name:'keep-alive',abstract:true,props:{include:patternTypes,exclude:patternTypes},created:function created(){this.cache=Object.create(null);},destroyed:function destroyed(){var this$1=this;for(var key in this$1.cache){pruneCacheEntry(this$1.cache[key]);}},watch:{include:function include(val){pruneCache(this.cache,this._vnode,function(name){return matches(val,name);});},exclude:function exclude(val){pruneCache(this.cache,this._vnode,function(name){return!matches(val,name);});}},render:function render(){var vnode=getFirstComponentChild(this.$slots.default);var componentOptions=vnode&&vnode.componentOptions;if(componentOptions){// check pattern
var name=getComponentName(componentOptions);if(name&&(this.include&&!matches(this.include,name)||this.exclude&&matches(this.exclude,name))){return vnode;}var key=vnode.key==null// same constructor may get registered as different local components
// so cid alone is not enough (#3269)
?componentOptions.Ctor.cid+(componentOptions.tag?"::"+componentOptions.tag:''):vnode.key;if(this.cache[key]){vnode.componentInstance=this.cache[key].componentInstance;}else{this.cache[key]=vnode;}vnode.data.keepAlive=true;}return vnode;}};var builtInComponents={KeepAlive:KeepAlive};/*  */function initGlobalAPI(Vue){// config
var configDef={};configDef.get=function(){return config;};if(false){configDef.set=function(){warn('Do not replace the Vue.config object, set individual fields instead.');};}Object.defineProperty(Vue,'config',configDef);// exposed util methods.
// NOTE: these are not considered part of the public API - avoid relying on
// them unless you are aware of the risk.
Vue.util={warn:warn,extend:extend,mergeOptions:mergeOptions,defineReactive:defineReactive$$1};Vue.set=set;Vue.delete=del;Vue.nextTick=nextTick;Vue.options=Object.create(null);ASSET_TYPES.forEach(function(type){Vue.options[type+'s']=Object.create(null);});// this is used to identify the "base" constructor to extend all plain-object
// components with in Weex's multi-instance scenarios.
Vue.options._base=Vue;extend(Vue.options.components,builtInComponents);initUse(Vue);initMixin$1(Vue);initExtend(Vue);initAssetRegisters(Vue);}initGlobalAPI(Vue$3);Object.defineProperty(Vue$3.prototype,'$isServer',{get:isServerRendering});Object.defineProperty(Vue$3.prototype,'$ssrContext',{get:function get(){/* istanbul ignore next */return this.$vnode.ssrContext;}});Vue$3.version='2.3.4';/*  */// these are reserved for web because they are directly compiled away
// during template compilation
var isReservedAttr=makeMap('style,class');// attributes that should be using props for binding
var acceptValue=makeMap('input,textarea,option,select');var mustUseProp=function mustUseProp(tag,type,attr){return attr==='value'&&acceptValue(tag)&&type!=='button'||attr==='selected'&&tag==='option'||attr==='checked'&&tag==='input'||attr==='muted'&&tag==='video';};var isEnumeratedAttr=makeMap('contenteditable,draggable,spellcheck');var isBooleanAttr=makeMap('allowfullscreen,async,autofocus,autoplay,checked,compact,controls,declare,'+'default,defaultchecked,defaultmuted,defaultselected,defer,disabled,'+'enabled,formnovalidate,hidden,indeterminate,inert,ismap,itemscope,loop,multiple,'+'muted,nohref,noresize,noshade,novalidate,nowrap,open,pauseonexit,readonly,'+'required,reversed,scoped,seamless,selected,sortable,translate,'+'truespeed,typemustmatch,visible');var xlinkNS='http://www.w3.org/1999/xlink';var isXlink=function isXlink(name){return name.charAt(5)===':'&&name.slice(0,5)==='xlink';};var getXlinkProp=function getXlinkProp(name){return isXlink(name)?name.slice(6,name.length):'';};var isFalsyAttrValue=function isFalsyAttrValue(val){return val==null||val===false;};/*  */function genClassForVnode(vnode){var data=vnode.data;var parentNode=vnode;var childNode=vnode;while(isDef(childNode.componentInstance)){childNode=childNode.componentInstance._vnode;if(childNode.data){data=mergeClassData(childNode.data,data);}}while(isDef(parentNode=parentNode.parent)){if(parentNode.data){data=mergeClassData(data,parentNode.data);}}return genClassFromData(data);}function mergeClassData(child,parent){return{staticClass:concat(child.staticClass,parent.staticClass),class:isDef(child.class)?[child.class,parent.class]:parent.class};}function genClassFromData(data){var dynamicClass=data.class;var staticClass=data.staticClass;if(isDef(staticClass)||isDef(dynamicClass)){return concat(staticClass,stringifyClass(dynamicClass));}/* istanbul ignore next */return'';}function concat(a,b){return a?b?a+' '+b:a:b||'';}function stringifyClass(value){if(isUndef(value)){return'';}if(typeof value==='string'){return value;}var res='';if(Array.isArray(value)){var stringified;for(var i=0,l=value.length;i<l;i++){if(isDef(value[i])){if(isDef(stringified=stringifyClass(value[i]))&&stringified!==''){res+=stringified+' ';}}}return res.slice(0,-1);}if(isObject(value)){for(var key in value){if(value[key]){res+=key+' ';}}return res.slice(0,-1);}/* istanbul ignore next */return res;}/*  */var namespaceMap={svg:'http://www.w3.org/2000/svg',math:'http://www.w3.org/1998/Math/MathML'};var isHTMLTag=makeMap('html,body,base,head,link,meta,style,title,'+'address,article,aside,footer,header,h1,h2,h3,h4,h5,h6,hgroup,nav,section,'+'div,dd,dl,dt,figcaption,figure,hr,img,li,main,ol,p,pre,ul,'+'a,b,abbr,bdi,bdo,br,cite,code,data,dfn,em,i,kbd,mark,q,rp,rt,rtc,ruby,'+'s,samp,small,span,strong,sub,sup,time,u,var,wbr,area,audio,map,track,video,'+'embed,object,param,source,canvas,script,noscript,del,ins,'+'caption,col,colgroup,table,thead,tbody,td,th,tr,'+'button,datalist,fieldset,form,input,label,legend,meter,optgroup,option,'+'output,progress,select,textarea,'+'details,dialog,menu,menuitem,summary,'+'content,element,shadow,template');// this map is intentionally selective, only covering SVG elements that may
// contain child elements.
var isSVG=makeMap('svg,animate,circle,clippath,cursor,defs,desc,ellipse,filter,font-face,'+'foreignObject,g,glyph,image,line,marker,mask,missing-glyph,path,pattern,'+'polygon,polyline,rect,switch,symbol,text,textpath,tspan,use,view',true);var isPreTag=function isPreTag(tag){return tag==='pre';};var isReservedTag=function isReservedTag(tag){return isHTMLTag(tag)||isSVG(tag);};function getTagNamespace(tag){if(isSVG(tag)){return'svg';}// basic support for MathML
// note it doesn't support other MathML elements being component roots
if(tag==='math'){return'math';}}var unknownElementCache=Object.create(null);function isUnknownElement(tag){/* istanbul ignore if */if(!inBrowser){return true;}if(isReservedTag(tag)){return false;}tag=tag.toLowerCase();/* istanbul ignore if */if(unknownElementCache[tag]!=null){return unknownElementCache[tag];}var el=document.createElement(tag);if(tag.indexOf('-')>-1){// http://stackoverflow.com/a/28210364/1070244
return unknownElementCache[tag]=el.constructor===window.HTMLUnknownElement||el.constructor===window.HTMLElement;}else{return unknownElementCache[tag]=/HTMLUnknownElement/.test(el.toString());}}/*  *//**
 * Query an element selector if it's not an element already.
 */function query(el){if(typeof el==='string'){var selected=document.querySelector(el);if(!selected){"production"!=='production'&&warn('Cannot find element: '+el);return document.createElement('div');}return selected;}else{return el;}}/*  */function createElement$1(tagName,vnode){var elm=document.createElement(tagName);if(tagName!=='select'){return elm;}// false or null will remove the attribute but undefined will not
if(vnode.data&&vnode.data.attrs&&vnode.data.attrs.multiple!==undefined){elm.setAttribute('multiple','multiple');}return elm;}function createElementNS(namespace,tagName){return document.createElementNS(namespaceMap[namespace],tagName);}function createTextNode(text){return document.createTextNode(text);}function createComment(text){return document.createComment(text);}function insertBefore(parentNode,newNode,referenceNode){parentNode.insertBefore(newNode,referenceNode);}function removeChild(node,child){node.removeChild(child);}function appendChild(node,child){node.appendChild(child);}function parentNode(node){return node.parentNode;}function nextSibling(node){return node.nextSibling;}function tagName(node){return node.tagName;}function setTextContent(node,text){node.textContent=text;}function setAttribute(node,key,val){node.setAttribute(key,val);}var nodeOps=Object.freeze({createElement:createElement$1,createElementNS:createElementNS,createTextNode:createTextNode,createComment:createComment,insertBefore:insertBefore,removeChild:removeChild,appendChild:appendChild,parentNode:parentNode,nextSibling:nextSibling,tagName:tagName,setTextContent:setTextContent,setAttribute:setAttribute});/*  */var ref={create:function create(_,vnode){registerRef(vnode);},update:function update(oldVnode,vnode){if(oldVnode.data.ref!==vnode.data.ref){registerRef(oldVnode,true);registerRef(vnode);}},destroy:function destroy(vnode){registerRef(vnode,true);}};function registerRef(vnode,isRemoval){var key=vnode.data.ref;if(!key){return;}var vm=vnode.context;var ref=vnode.componentInstance||vnode.elm;var refs=vm.$refs;if(isRemoval){if(Array.isArray(refs[key])){remove(refs[key],ref);}else if(refs[key]===ref){refs[key]=undefined;}}else{if(vnode.data.refInFor){if(Array.isArray(refs[key])&&refs[key].indexOf(ref)<0){refs[key].push(ref);}else{refs[key]=[ref];}}else{refs[key]=ref;}}}/**
 * Virtual DOM patching algorithm based on Snabbdom by
 * Simon Friis Vindum (@paldepind)
 * Licensed under the MIT License
 * https://github.com/paldepind/snabbdom/blob/master/LICENSE
 *
 * modified by Evan You (@yyx990803)
 *

/*
 * Not type-checking this because this file is perf-critical and the cost
 * of making flow understand it is not worth it.
 */var emptyNode=new VNode('',{},[]);var hooks=['create','activate','update','remove','destroy'];function sameVnode(a,b){return a.key===b.key&&a.tag===b.tag&&a.isComment===b.isComment&&isDef(a.data)===isDef(b.data)&&sameInputType(a,b);}// Some browsers do not support dynamically changing type for <input>
// so they need to be treated as different nodes
function sameInputType(a,b){if(a.tag!=='input'){return true;}var i;var typeA=isDef(i=a.data)&&isDef(i=i.attrs)&&i.type;var typeB=isDef(i=b.data)&&isDef(i=i.attrs)&&i.type;return typeA===typeB;}function createKeyToOldIdx(children,beginIdx,endIdx){var i,key;var map={};for(i=beginIdx;i<=endIdx;++i){key=children[i].key;if(isDef(key)){map[key]=i;}}return map;}function createPatchFunction(backend){var i,j;var cbs={};var modules=backend.modules;var nodeOps=backend.nodeOps;for(i=0;i<hooks.length;++i){cbs[hooks[i]]=[];for(j=0;j<modules.length;++j){if(isDef(modules[j][hooks[i]])){cbs[hooks[i]].push(modules[j][hooks[i]]);}}}function emptyNodeAt(elm){return new VNode(nodeOps.tagName(elm).toLowerCase(),{},[],undefined,elm);}function createRmCb(childElm,listeners){function remove$$1(){if(--remove$$1.listeners===0){removeNode(childElm);}}remove$$1.listeners=listeners;return remove$$1;}function removeNode(el){var parent=nodeOps.parentNode(el);// element may have already been removed due to v-html / v-text
if(isDef(parent)){nodeOps.removeChild(parent,el);}}var inPre=0;function createElm(vnode,insertedVnodeQueue,parentElm,refElm,nested){vnode.isRootInsert=!nested;// for transition enter check
if(createComponent(vnode,insertedVnodeQueue,parentElm,refElm)){return;}var data=vnode.data;var children=vnode.children;var tag=vnode.tag;if(isDef(tag)){if(false){if(data&&data.pre){inPre++;}if(!inPre&&!vnode.ns&&!(config.ignoredElements.length&&config.ignoredElements.indexOf(tag)>-1)&&config.isUnknownElement(tag)){warn('Unknown custom element: <'+tag+'> - did you '+'register the component correctly? For recursive components, '+'make sure to provide the "name" option.',vnode.context);}}vnode.elm=vnode.ns?nodeOps.createElementNS(vnode.ns,tag):nodeOps.createElement(tag,vnode);setScope(vnode);/* istanbul ignore if */{createChildren(vnode,children,insertedVnodeQueue);if(isDef(data)){invokeCreateHooks(vnode,insertedVnodeQueue);}insert(parentElm,vnode.elm,refElm);}if(false){inPre--;}}else if(isTrue(vnode.isComment)){vnode.elm=nodeOps.createComment(vnode.text);insert(parentElm,vnode.elm,refElm);}else{vnode.elm=nodeOps.createTextNode(vnode.text);insert(parentElm,vnode.elm,refElm);}}function createComponent(vnode,insertedVnodeQueue,parentElm,refElm){var i=vnode.data;if(isDef(i)){var isReactivated=isDef(vnode.componentInstance)&&i.keepAlive;if(isDef(i=i.hook)&&isDef(i=i.init)){i(vnode,false/* hydrating */,parentElm,refElm);}// after calling the init hook, if the vnode is a child component
// it should've created a child instance and mounted it. the child
// component also has set the placeholder vnode's elm.
// in that case we can just return the element and be done.
if(isDef(vnode.componentInstance)){initComponent(vnode,insertedVnodeQueue);if(isTrue(isReactivated)){reactivateComponent(vnode,insertedVnodeQueue,parentElm,refElm);}return true;}}}function initComponent(vnode,insertedVnodeQueue){if(isDef(vnode.data.pendingInsert)){insertedVnodeQueue.push.apply(insertedVnodeQueue,vnode.data.pendingInsert);vnode.data.pendingInsert=null;}vnode.elm=vnode.componentInstance.$el;if(isPatchable(vnode)){invokeCreateHooks(vnode,insertedVnodeQueue);setScope(vnode);}else{// empty component root.
// skip all element-related modules except for ref (#3455)
registerRef(vnode);// make sure to invoke the insert hook
insertedVnodeQueue.push(vnode);}}function reactivateComponent(vnode,insertedVnodeQueue,parentElm,refElm){var i;// hack for #4339: a reactivated component with inner transition
// does not trigger because the inner node's created hooks are not called
// again. It's not ideal to involve module-specific logic in here but
// there doesn't seem to be a better way to do it.
var innerNode=vnode;while(innerNode.componentInstance){innerNode=innerNode.componentInstance._vnode;if(isDef(i=innerNode.data)&&isDef(i=i.transition)){for(i=0;i<cbs.activate.length;++i){cbs.activate[i](emptyNode,innerNode);}insertedVnodeQueue.push(innerNode);break;}}// unlike a newly created component,
// a reactivated keep-alive component doesn't insert itself
insert(parentElm,vnode.elm,refElm);}function insert(parent,elm,ref){if(isDef(parent)){if(isDef(ref)){if(ref.parentNode===parent){nodeOps.insertBefore(parent,elm,ref);}}else{nodeOps.appendChild(parent,elm);}}}function createChildren(vnode,children,insertedVnodeQueue){if(Array.isArray(children)){for(var i=0;i<children.length;++i){createElm(children[i],insertedVnodeQueue,vnode.elm,null,true);}}else if(isPrimitive(vnode.text)){nodeOps.appendChild(vnode.elm,nodeOps.createTextNode(vnode.text));}}function isPatchable(vnode){while(vnode.componentInstance){vnode=vnode.componentInstance._vnode;}return isDef(vnode.tag);}function invokeCreateHooks(vnode,insertedVnodeQueue){for(var i$1=0;i$1<cbs.create.length;++i$1){cbs.create[i$1](emptyNode,vnode);}i=vnode.data.hook;// Reuse variable
if(isDef(i)){if(isDef(i.create)){i.create(emptyNode,vnode);}if(isDef(i.insert)){insertedVnodeQueue.push(vnode);}}}// set scope id attribute for scoped CSS.
// this is implemented as a special case to avoid the overhead
// of going through the normal attribute patching process.
function setScope(vnode){var i;var ancestor=vnode;while(ancestor){if(isDef(i=ancestor.context)&&isDef(i=i.$options._scopeId)){nodeOps.setAttribute(vnode.elm,i,'');}ancestor=ancestor.parent;}// for slot content they should also get the scopeId from the host instance.
if(isDef(i=activeInstance)&&i!==vnode.context&&isDef(i=i.$options._scopeId)){nodeOps.setAttribute(vnode.elm,i,'');}}function addVnodes(parentElm,refElm,vnodes,startIdx,endIdx,insertedVnodeQueue){for(;startIdx<=endIdx;++startIdx){createElm(vnodes[startIdx],insertedVnodeQueue,parentElm,refElm);}}function invokeDestroyHook(vnode){var i,j;var data=vnode.data;if(isDef(data)){if(isDef(i=data.hook)&&isDef(i=i.destroy)){i(vnode);}for(i=0;i<cbs.destroy.length;++i){cbs.destroy[i](vnode);}}if(isDef(i=vnode.children)){for(j=0;j<vnode.children.length;++j){invokeDestroyHook(vnode.children[j]);}}}function removeVnodes(parentElm,vnodes,startIdx,endIdx){for(;startIdx<=endIdx;++startIdx){var ch=vnodes[startIdx];if(isDef(ch)){if(isDef(ch.tag)){removeAndInvokeRemoveHook(ch);invokeDestroyHook(ch);}else{// Text node
removeNode(ch.elm);}}}}function removeAndInvokeRemoveHook(vnode,rm){if(isDef(rm)||isDef(vnode.data)){var i;var listeners=cbs.remove.length+1;if(isDef(rm)){// we have a recursively passed down rm callback
// increase the listeners count
rm.listeners+=listeners;}else{// directly removing
rm=createRmCb(vnode.elm,listeners);}// recursively invoke hooks on child component root node
if(isDef(i=vnode.componentInstance)&&isDef(i=i._vnode)&&isDef(i.data)){removeAndInvokeRemoveHook(i,rm);}for(i=0;i<cbs.remove.length;++i){cbs.remove[i](vnode,rm);}if(isDef(i=vnode.data.hook)&&isDef(i=i.remove)){i(vnode,rm);}else{rm();}}else{removeNode(vnode.elm);}}function updateChildren(parentElm,oldCh,newCh,insertedVnodeQueue,removeOnly){var oldStartIdx=0;var newStartIdx=0;var oldEndIdx=oldCh.length-1;var oldStartVnode=oldCh[0];var oldEndVnode=oldCh[oldEndIdx];var newEndIdx=newCh.length-1;var newStartVnode=newCh[0];var newEndVnode=newCh[newEndIdx];var oldKeyToIdx,idxInOld,elmToMove,refElm;// removeOnly is a special flag used only by <transition-group>
// to ensure removed elements stay in correct relative positions
// during leaving transitions
var canMove=!removeOnly;while(oldStartIdx<=oldEndIdx&&newStartIdx<=newEndIdx){if(isUndef(oldStartVnode)){oldStartVnode=oldCh[++oldStartIdx];// Vnode has been moved left
}else if(isUndef(oldEndVnode)){oldEndVnode=oldCh[--oldEndIdx];}else if(sameVnode(oldStartVnode,newStartVnode)){patchVnode(oldStartVnode,newStartVnode,insertedVnodeQueue);oldStartVnode=oldCh[++oldStartIdx];newStartVnode=newCh[++newStartIdx];}else if(sameVnode(oldEndVnode,newEndVnode)){patchVnode(oldEndVnode,newEndVnode,insertedVnodeQueue);oldEndVnode=oldCh[--oldEndIdx];newEndVnode=newCh[--newEndIdx];}else if(sameVnode(oldStartVnode,newEndVnode)){// Vnode moved right
patchVnode(oldStartVnode,newEndVnode,insertedVnodeQueue);canMove&&nodeOps.insertBefore(parentElm,oldStartVnode.elm,nodeOps.nextSibling(oldEndVnode.elm));oldStartVnode=oldCh[++oldStartIdx];newEndVnode=newCh[--newEndIdx];}else if(sameVnode(oldEndVnode,newStartVnode)){// Vnode moved left
patchVnode(oldEndVnode,newStartVnode,insertedVnodeQueue);canMove&&nodeOps.insertBefore(parentElm,oldEndVnode.elm,oldStartVnode.elm);oldEndVnode=oldCh[--oldEndIdx];newStartVnode=newCh[++newStartIdx];}else{if(isUndef(oldKeyToIdx)){oldKeyToIdx=createKeyToOldIdx(oldCh,oldStartIdx,oldEndIdx);}idxInOld=isDef(newStartVnode.key)?oldKeyToIdx[newStartVnode.key]:null;if(isUndef(idxInOld)){// New element
createElm(newStartVnode,insertedVnodeQueue,parentElm,oldStartVnode.elm);newStartVnode=newCh[++newStartIdx];}else{elmToMove=oldCh[idxInOld];/* istanbul ignore if */if(false){warn('It seems there are duplicate keys that is causing an update error. '+'Make sure each v-for item has a unique key.');}if(sameVnode(elmToMove,newStartVnode)){patchVnode(elmToMove,newStartVnode,insertedVnodeQueue);oldCh[idxInOld]=undefined;canMove&&nodeOps.insertBefore(parentElm,newStartVnode.elm,oldStartVnode.elm);newStartVnode=newCh[++newStartIdx];}else{// same key but different element. treat as new element
createElm(newStartVnode,insertedVnodeQueue,parentElm,oldStartVnode.elm);newStartVnode=newCh[++newStartIdx];}}}}if(oldStartIdx>oldEndIdx){refElm=isUndef(newCh[newEndIdx+1])?null:newCh[newEndIdx+1].elm;addVnodes(parentElm,refElm,newCh,newStartIdx,newEndIdx,insertedVnodeQueue);}else if(newStartIdx>newEndIdx){removeVnodes(parentElm,oldCh,oldStartIdx,oldEndIdx);}}function patchVnode(oldVnode,vnode,insertedVnodeQueue,removeOnly){if(oldVnode===vnode){return;}// reuse element for static trees.
// note we only do this if the vnode is cloned -
// if the new node is not cloned it means the render functions have been
// reset by the hot-reload-api and we need to do a proper re-render.
if(isTrue(vnode.isStatic)&&isTrue(oldVnode.isStatic)&&vnode.key===oldVnode.key&&(isTrue(vnode.isCloned)||isTrue(vnode.isOnce))){vnode.elm=oldVnode.elm;vnode.componentInstance=oldVnode.componentInstance;return;}var i;var data=vnode.data;if(isDef(data)&&isDef(i=data.hook)&&isDef(i=i.prepatch)){i(oldVnode,vnode);}var elm=vnode.elm=oldVnode.elm;var oldCh=oldVnode.children;var ch=vnode.children;if(isDef(data)&&isPatchable(vnode)){for(i=0;i<cbs.update.length;++i){cbs.update[i](oldVnode,vnode);}if(isDef(i=data.hook)&&isDef(i=i.update)){i(oldVnode,vnode);}}if(isUndef(vnode.text)){if(isDef(oldCh)&&isDef(ch)){if(oldCh!==ch){updateChildren(elm,oldCh,ch,insertedVnodeQueue,removeOnly);}}else if(isDef(ch)){if(isDef(oldVnode.text)){nodeOps.setTextContent(elm,'');}addVnodes(elm,null,ch,0,ch.length-1,insertedVnodeQueue);}else if(isDef(oldCh)){removeVnodes(elm,oldCh,0,oldCh.length-1);}else if(isDef(oldVnode.text)){nodeOps.setTextContent(elm,'');}}else if(oldVnode.text!==vnode.text){nodeOps.setTextContent(elm,vnode.text);}if(isDef(data)){if(isDef(i=data.hook)&&isDef(i=i.postpatch)){i(oldVnode,vnode);}}}function invokeInsertHook(vnode,queue,initial){// delay insert hooks for component root nodes, invoke them after the
// element is really inserted
if(isTrue(initial)&&isDef(vnode.parent)){vnode.parent.data.pendingInsert=queue;}else{for(var i=0;i<queue.length;++i){queue[i].data.hook.insert(queue[i]);}}}var bailed=false;// list of modules that can skip create hook during hydration because they
// are already rendered on the client or has no need for initialization
var isRenderedModule=makeMap('attrs,style,class,staticClass,staticStyle,key');// Note: this is a browser-only function so we can assume elms are DOM nodes.
function hydrate(elm,vnode,insertedVnodeQueue){if(false){if(!assertNodeMatch(elm,vnode)){return false;}}vnode.elm=elm;var tag=vnode.tag;var data=vnode.data;var children=vnode.children;if(isDef(data)){if(isDef(i=data.hook)&&isDef(i=i.init)){i(vnode,true/* hydrating */);}if(isDef(i=vnode.componentInstance)){// child component. it should have hydrated its own tree.
initComponent(vnode,insertedVnodeQueue);return true;}}if(isDef(tag)){if(isDef(children)){// empty element, allow client to pick up and populate children
if(!elm.hasChildNodes()){createChildren(vnode,children,insertedVnodeQueue);}else{var childrenMatch=true;var childNode=elm.firstChild;for(var i$1=0;i$1<children.length;i$1++){if(!childNode||!hydrate(childNode,children[i$1],insertedVnodeQueue)){childrenMatch=false;break;}childNode=childNode.nextSibling;}// if childNode is not null, it means the actual childNodes list is
// longer than the virtual children list.
if(!childrenMatch||childNode){if(false){bailed=true;console.warn('Parent: ',elm);console.warn('Mismatching childNodes vs. VNodes: ',elm.childNodes,children);}return false;}}}if(isDef(data)){for(var key in data){if(!isRenderedModule(key)){invokeCreateHooks(vnode,insertedVnodeQueue);break;}}}}else if(elm.data!==vnode.text){elm.data=vnode.text;}return true;}function assertNodeMatch(node,vnode){if(isDef(vnode.tag)){return vnode.tag.indexOf('vue-component')===0||vnode.tag.toLowerCase()===(node.tagName&&node.tagName.toLowerCase());}else{return node.nodeType===(vnode.isComment?8:3);}}return function patch(oldVnode,vnode,hydrating,removeOnly,parentElm,refElm){if(isUndef(vnode)){if(isDef(oldVnode)){invokeDestroyHook(oldVnode);}return;}var isInitialPatch=false;var insertedVnodeQueue=[];if(isUndef(oldVnode)){// empty mount (likely as component), create new root element
isInitialPatch=true;createElm(vnode,insertedVnodeQueue,parentElm,refElm);}else{var isRealElement=isDef(oldVnode.nodeType);if(!isRealElement&&sameVnode(oldVnode,vnode)){// patch existing root node
patchVnode(oldVnode,vnode,insertedVnodeQueue,removeOnly);}else{if(isRealElement){// mounting to a real element
// check if this is server-rendered content and if we can perform
// a successful hydration.
if(oldVnode.nodeType===1&&oldVnode.hasAttribute(SSR_ATTR)){oldVnode.removeAttribute(SSR_ATTR);hydrating=true;}if(isTrue(hydrating)){if(hydrate(oldVnode,vnode,insertedVnodeQueue)){invokeInsertHook(vnode,insertedVnodeQueue,true);return oldVnode;}else if(false){warn('The client-side rendered virtual DOM tree is not matching '+'server-rendered content. This is likely caused by incorrect '+'HTML markup, for example nesting block-level elements inside '+'<p>, or missing <tbody>. Bailing hydration and performing '+'full client-side render.');}}// either not server-rendered, or hydration failed.
// create an empty node and replace it
oldVnode=emptyNodeAt(oldVnode);}// replacing existing element
var oldElm=oldVnode.elm;var parentElm$1=nodeOps.parentNode(oldElm);createElm(vnode,insertedVnodeQueue,// extremely rare edge case: do not insert if old element is in a
// leaving transition. Only happens when combining transition +
// keep-alive + HOCs. (#4590)
oldElm._leaveCb?null:parentElm$1,nodeOps.nextSibling(oldElm));if(isDef(vnode.parent)){// component root element replaced.
// update parent placeholder node element, recursively
var ancestor=vnode.parent;while(ancestor){ancestor.elm=vnode.elm;ancestor=ancestor.parent;}if(isPatchable(vnode)){for(var i=0;i<cbs.create.length;++i){cbs.create[i](emptyNode,vnode.parent);}}}if(isDef(parentElm$1)){removeVnodes(parentElm$1,[oldVnode],0,0);}else if(isDef(oldVnode.tag)){invokeDestroyHook(oldVnode);}}}invokeInsertHook(vnode,insertedVnodeQueue,isInitialPatch);return vnode.elm;};}/*  */var directives={create:updateDirectives,update:updateDirectives,destroy:function unbindDirectives(vnode){updateDirectives(vnode,emptyNode);}};function updateDirectives(oldVnode,vnode){if(oldVnode.data.directives||vnode.data.directives){_update(oldVnode,vnode);}}function _update(oldVnode,vnode){var isCreate=oldVnode===emptyNode;var isDestroy=vnode===emptyNode;var oldDirs=normalizeDirectives$1(oldVnode.data.directives,oldVnode.context);var newDirs=normalizeDirectives$1(vnode.data.directives,vnode.context);var dirsWithInsert=[];var dirsWithPostpatch=[];var key,oldDir,dir;for(key in newDirs){oldDir=oldDirs[key];dir=newDirs[key];if(!oldDir){// new directive, bind
callHook$1(dir,'bind',vnode,oldVnode);if(dir.def&&dir.def.inserted){dirsWithInsert.push(dir);}}else{// existing directive, update
dir.oldValue=oldDir.value;callHook$1(dir,'update',vnode,oldVnode);if(dir.def&&dir.def.componentUpdated){dirsWithPostpatch.push(dir);}}}if(dirsWithInsert.length){var callInsert=function callInsert(){for(var i=0;i<dirsWithInsert.length;i++){callHook$1(dirsWithInsert[i],'inserted',vnode,oldVnode);}};if(isCreate){mergeVNodeHook(vnode.data.hook||(vnode.data.hook={}),'insert',callInsert);}else{callInsert();}}if(dirsWithPostpatch.length){mergeVNodeHook(vnode.data.hook||(vnode.data.hook={}),'postpatch',function(){for(var i=0;i<dirsWithPostpatch.length;i++){callHook$1(dirsWithPostpatch[i],'componentUpdated',vnode,oldVnode);}});}if(!isCreate){for(key in oldDirs){if(!newDirs[key]){// no longer present, unbind
callHook$1(oldDirs[key],'unbind',oldVnode,oldVnode,isDestroy);}}}}var emptyModifiers=Object.create(null);function normalizeDirectives$1(dirs,vm){var res=Object.create(null);if(!dirs){return res;}var i,dir;for(i=0;i<dirs.length;i++){dir=dirs[i];if(!dir.modifiers){dir.modifiers=emptyModifiers;}res[getRawDirName(dir)]=dir;dir.def=resolveAsset(vm.$options,'directives',dir.name,true);}return res;}function getRawDirName(dir){return dir.rawName||dir.name+"."+Object.keys(dir.modifiers||{}).join('.');}function callHook$1(dir,hook,vnode,oldVnode,isDestroy){var fn=dir.def&&dir.def[hook];if(fn){try{fn(vnode.elm,dir,vnode,oldVnode,isDestroy);}catch(e){handleError(e,vnode.context,"directive "+dir.name+" "+hook+" hook");}}}var baseModules=[ref,directives];/*  */function updateAttrs(oldVnode,vnode){if(isUndef(oldVnode.data.attrs)&&isUndef(vnode.data.attrs)){return;}var key,cur,old;var elm=vnode.elm;var oldAttrs=oldVnode.data.attrs||{};var attrs=vnode.data.attrs||{};// clone observed objects, as the user probably wants to mutate it
if(isDef(attrs.__ob__)){attrs=vnode.data.attrs=extend({},attrs);}for(key in attrs){cur=attrs[key];old=oldAttrs[key];if(old!==cur){setAttr(elm,key,cur);}}// #4391: in IE9, setting type can reset value for input[type=radio]
/* istanbul ignore if */if(isIE9&&attrs.value!==oldAttrs.value){setAttr(elm,'value',attrs.value);}for(key in oldAttrs){if(isUndef(attrs[key])){if(isXlink(key)){elm.removeAttributeNS(xlinkNS,getXlinkProp(key));}else if(!isEnumeratedAttr(key)){elm.removeAttribute(key);}}}}function setAttr(el,key,value){if(isBooleanAttr(key)){// set attribute for blank value
// e.g. <option disabled>Select one</option>
if(isFalsyAttrValue(value)){el.removeAttribute(key);}else{el.setAttribute(key,key);}}else if(isEnumeratedAttr(key)){el.setAttribute(key,isFalsyAttrValue(value)||value==='false'?'false':'true');}else if(isXlink(key)){if(isFalsyAttrValue(value)){el.removeAttributeNS(xlinkNS,getXlinkProp(key));}else{el.setAttributeNS(xlinkNS,key,value);}}else{if(isFalsyAttrValue(value)){el.removeAttribute(key);}else{el.setAttribute(key,value);}}}var attrs={create:updateAttrs,update:updateAttrs};/*  */function updateClass(oldVnode,vnode){var el=vnode.elm;var data=vnode.data;var oldData=oldVnode.data;if(isUndef(data.staticClass)&&isUndef(data.class)&&(isUndef(oldData)||isUndef(oldData.staticClass)&&isUndef(oldData.class))){return;}var cls=genClassForVnode(vnode);// handle transition classes
var transitionClass=el._transitionClasses;if(isDef(transitionClass)){cls=concat(cls,stringifyClass(transitionClass));}// set the class
if(cls!==el._prevClass){el.setAttribute('class',cls);el._prevClass=cls;}}var klass={create:updateClass,update:updateClass};/*  */var validDivisionCharRE=/[\w).+\-_$\]]/;function parseFilters(exp){var inSingle=false;var inDouble=false;var inTemplateString=false;var inRegex=false;var curly=0;var square=0;var paren=0;var lastFilterIndex=0;var c,prev,i,expression,filters;for(i=0;i<exp.length;i++){prev=c;c=exp.charCodeAt(i);if(inSingle){if(c===0x27&&prev!==0x5C){inSingle=false;}}else if(inDouble){if(c===0x22&&prev!==0x5C){inDouble=false;}}else if(inTemplateString){if(c===0x60&&prev!==0x5C){inTemplateString=false;}}else if(inRegex){if(c===0x2f&&prev!==0x5C){inRegex=false;}}else if(c===0x7C&&// pipe
exp.charCodeAt(i+1)!==0x7C&&exp.charCodeAt(i-1)!==0x7C&&!curly&&!square&&!paren){if(expression===undefined){// first filter, end of expression
lastFilterIndex=i+1;expression=exp.slice(0,i).trim();}else{pushFilter();}}else{switch(c){case 0x22:inDouble=true;break;// "
case 0x27:inSingle=true;break;// '
case 0x60:inTemplateString=true;break;// `
case 0x28:paren++;break;// (
case 0x29:paren--;break;// )
case 0x5B:square++;break;// [
case 0x5D:square--;break;// ]
case 0x7B:curly++;break;// {
case 0x7D:curly--;break;// }
}if(c===0x2f){// /
var j=i-1;var p=void 0;// find first non-whitespace prev char
for(;j>=0;j--){p=exp.charAt(j);if(p!==' '){break;}}if(!p||!validDivisionCharRE.test(p)){inRegex=true;}}}}if(expression===undefined){expression=exp.slice(0,i).trim();}else if(lastFilterIndex!==0){pushFilter();}function pushFilter(){(filters||(filters=[])).push(exp.slice(lastFilterIndex,i).trim());lastFilterIndex=i+1;}if(filters){for(i=0;i<filters.length;i++){expression=wrapFilter(expression,filters[i]);}}return expression;}function wrapFilter(exp,filter){var i=filter.indexOf('(');if(i<0){// _f: resolveFilter
return"_f(\""+filter+"\")("+exp+")";}else{var name=filter.slice(0,i);var args=filter.slice(i+1);return"_f(\""+name+"\")("+exp+","+args;}}/*  */function baseWarn(msg){console.error("[Vue compiler]: "+msg);}function pluckModuleFunction(modules,key){return modules?modules.map(function(m){return m[key];}).filter(function(_){return _;}):[];}function addProp(el,name,value){(el.props||(el.props=[])).push({name:name,value:value});}function addAttr(el,name,value){(el.attrs||(el.attrs=[])).push({name:name,value:value});}function addDirective(el,name,rawName,value,arg,modifiers){(el.directives||(el.directives=[])).push({name:name,rawName:rawName,value:value,arg:arg,modifiers:modifiers});}function addHandler(el,name,value,modifiers,important,warn){// warn prevent and passive modifier
/* istanbul ignore if */if(false){warn('passive and prevent can\'t be used together. '+'Passive handler can\'t prevent default event.');}// check capture modifier
if(modifiers&&modifiers.capture){delete modifiers.capture;name='!'+name;// mark the event as captured
}if(modifiers&&modifiers.once){delete modifiers.once;name='~'+name;// mark the event as once
}/* istanbul ignore if */if(modifiers&&modifiers.passive){delete modifiers.passive;name='&'+name;// mark the event as passive
}var events;if(modifiers&&modifiers.native){delete modifiers.native;events=el.nativeEvents||(el.nativeEvents={});}else{events=el.events||(el.events={});}var newHandler={value:value,modifiers:modifiers};var handlers=events[name];/* istanbul ignore if */if(Array.isArray(handlers)){important?handlers.unshift(newHandler):handlers.push(newHandler);}else if(handlers){events[name]=important?[newHandler,handlers]:[handlers,newHandler];}else{events[name]=newHandler;}}function getBindingAttr(el,name,getStatic){var dynamicValue=getAndRemoveAttr(el,':'+name)||getAndRemoveAttr(el,'v-bind:'+name);if(dynamicValue!=null){return parseFilters(dynamicValue);}else if(getStatic!==false){var staticValue=getAndRemoveAttr(el,name);if(staticValue!=null){return JSON.stringify(staticValue);}}}function getAndRemoveAttr(el,name){var val;if((val=el.attrsMap[name])!=null){var list=el.attrsList;for(var i=0,l=list.length;i<l;i++){if(list[i].name===name){list.splice(i,1);break;}}}return val;}/*  *//**
 * Cross-platform code generation for component v-model
 */function genComponentModel(el,value,modifiers){var ref=modifiers||{};var number=ref.number;var trim=ref.trim;var baseValueExpression='$$v';var valueExpression=baseValueExpression;if(trim){valueExpression="(typeof "+baseValueExpression+" === 'string'"+"? "+baseValueExpression+".trim()"+": "+baseValueExpression+")";}if(number){valueExpression="_n("+valueExpression+")";}var assignment=genAssignmentCode(value,valueExpression);el.model={value:"("+value+")",expression:"\""+value+"\"",callback:"function ("+baseValueExpression+") {"+assignment+"}"};}/**
 * Cross-platform codegen helper for generating v-model value assignment code.
 */function genAssignmentCode(value,assignment){var modelRs=parseModel(value);if(modelRs.idx===null){return value+"="+assignment;}else{return"var $$exp = "+modelRs.exp+", $$idx = "+modelRs.idx+";"+"if (!Array.isArray($$exp)){"+value+"="+assignment+"}"+"else{$$exp.splice($$idx, 1, "+assignment+")}";}}/**
 * parse directive model to do the array update transform. a[idx] = val => $$a.splice($$idx, 1, val)
 *
 * for loop possible cases:
 *
 * - test
 * - test[idx]
 * - test[test1[idx]]
 * - test["a"][idx]
 * - xxx.test[a[a].test1[idx]]
 * - test.xxx.a["asa"][test1[idx]]
 *
 */var len;var str;var chr;var index$1;var expressionPos;var expressionEndPos;function parseModel(val){str=val;len=str.length;index$1=expressionPos=expressionEndPos=0;if(val.indexOf('[')<0||val.lastIndexOf(']')<len-1){return{exp:val,idx:null};}while(!eof()){chr=next();/* istanbul ignore if */if(isStringStart(chr)){parseString(chr);}else if(chr===0x5B){parseBracket(chr);}}return{exp:val.substring(0,expressionPos),idx:val.substring(expressionPos+1,expressionEndPos)};}function next(){return str.charCodeAt(++index$1);}function eof(){return index$1>=len;}function isStringStart(chr){return chr===0x22||chr===0x27;}function parseBracket(chr){var inBracket=1;expressionPos=index$1;while(!eof()){chr=next();if(isStringStart(chr)){parseString(chr);continue;}if(chr===0x5B){inBracket++;}if(chr===0x5D){inBracket--;}if(inBracket===0){expressionEndPos=index$1;break;}}}function parseString(chr){var stringQuote=chr;while(!eof()){chr=next();if(chr===stringQuote){break;}}}/*  */var warn$1;// in some cases, the event used has to be determined at runtime
// so we used some reserved tokens during compile.
var RANGE_TOKEN='__r';var CHECKBOX_RADIO_TOKEN='__c';function model(el,dir,_warn){warn$1=_warn;var value=dir.value;var modifiers=dir.modifiers;var tag=el.tag;var type=el.attrsMap.type;if(false){var dynamicType=el.attrsMap['v-bind:type']||el.attrsMap[':type'];if(tag==='input'&&dynamicType){warn$1("<input :type=\""+dynamicType+"\" v-model=\""+value+"\">:\n"+"v-model does not support dynamic input types. Use v-if branches instead.");}// inputs with type="file" are read only and setting the input's
// value will throw an error.
if(tag==='input'&&type==='file'){warn$1("<"+el.tag+" v-model=\""+value+"\" type=\"file\">:\n"+"File inputs are read only. Use a v-on:change listener instead.");}}if(tag==='select'){genSelect(el,value,modifiers);}else if(tag==='input'&&type==='checkbox'){genCheckboxModel(el,value,modifiers);}else if(tag==='input'&&type==='radio'){genRadioModel(el,value,modifiers);}else if(tag==='input'||tag==='textarea'){genDefaultModel(el,value,modifiers);}else if(!config.isReservedTag(tag)){genComponentModel(el,value,modifiers);// component v-model doesn't need extra runtime
return false;}else if(false){warn$1("<"+el.tag+" v-model=\""+value+"\">: "+"v-model is not supported on this element type. "+'If you are working with contenteditable, it\'s recommended to '+'wrap a library dedicated for that purpose inside a custom component.');}// ensure runtime directive metadata
return true;}function genCheckboxModel(el,value,modifiers){var number=modifiers&&modifiers.number;var valueBinding=getBindingAttr(el,'value')||'null';var trueValueBinding=getBindingAttr(el,'true-value')||'true';var falseValueBinding=getBindingAttr(el,'false-value')||'false';addProp(el,'checked',"Array.isArray("+value+")"+"?_i("+value+","+valueBinding+")>-1"+(trueValueBinding==='true'?":("+value+")":":_q("+value+","+trueValueBinding+")"));addHandler(el,CHECKBOX_RADIO_TOKEN,"var $$a="+value+","+'$$el=$event.target,'+"$$c=$$el.checked?("+trueValueBinding+"):("+falseValueBinding+");"+'if(Array.isArray($$a)){'+"var $$v="+(number?'_n('+valueBinding+')':valueBinding)+","+'$$i=_i($$a,$$v);'+"if($$c){$$i<0&&("+value+"=$$a.concat($$v))}"+"else{$$i>-1&&("+value+"=$$a.slice(0,$$i).concat($$a.slice($$i+1)))}"+"}else{"+genAssignmentCode(value,'$$c')+"}",null,true);}function genRadioModel(el,value,modifiers){var number=modifiers&&modifiers.number;var valueBinding=getBindingAttr(el,'value')||'null';valueBinding=number?"_n("+valueBinding+")":valueBinding;addProp(el,'checked',"_q("+value+","+valueBinding+")");addHandler(el,CHECKBOX_RADIO_TOKEN,genAssignmentCode(value,valueBinding),null,true);}function genSelect(el,value,modifiers){var number=modifiers&&modifiers.number;var selectedVal="Array.prototype.filter"+".call($event.target.options,function(o){return o.selected})"+".map(function(o){var val = \"_value\" in o ? o._value : o.value;"+"return "+(number?'_n(val)':'val')+"})";var assignment='$event.target.multiple ? $$selectedVal : $$selectedVal[0]';var code="var $$selectedVal = "+selectedVal+";";code=code+" "+genAssignmentCode(value,assignment);addHandler(el,'change',code,null,true);}function genDefaultModel(el,value,modifiers){var type=el.attrsMap.type;var ref=modifiers||{};var lazy=ref.lazy;var number=ref.number;var trim=ref.trim;var needCompositionGuard=!lazy&&type!=='range';var event=lazy?'change':type==='range'?RANGE_TOKEN:'input';var valueExpression='$event.target.value';if(trim){valueExpression="$event.target.value.trim()";}if(number){valueExpression="_n("+valueExpression+")";}var code=genAssignmentCode(value,valueExpression);if(needCompositionGuard){code="if($event.target.composing)return;"+code;}addProp(el,'value',"("+value+")");addHandler(el,event,code,null,true);if(trim||number||type==='number'){addHandler(el,'blur','$forceUpdate()');}}/*  */// normalize v-model event tokens that can only be determined at runtime.
// it's important to place the event as the first in the array because
// the whole point is ensuring the v-model callback gets called before
// user-attached handlers.
function normalizeEvents(on){var event;/* istanbul ignore if */if(isDef(on[RANGE_TOKEN])){// IE input[type=range] only supports `change` event
event=isIE?'change':'input';on[event]=[].concat(on[RANGE_TOKEN],on[event]||[]);delete on[RANGE_TOKEN];}if(isDef(on[CHECKBOX_RADIO_TOKEN])){// Chrome fires microtasks in between click/change, leads to #4521
event=isChrome?'click':'change';on[event]=[].concat(on[CHECKBOX_RADIO_TOKEN],on[event]||[]);delete on[CHECKBOX_RADIO_TOKEN];}}var target$1;function add$1(event,_handler,once$$1,capture,passive){if(once$$1){var oldHandler=_handler;var _target=target$1;// save current target element in closure
_handler=function handler(ev){var res=arguments.length===1?oldHandler(ev):oldHandler.apply(null,arguments);if(res!==null){remove$2(event,_handler,capture,_target);}};}target$1.addEventListener(event,_handler,supportsPassive?{capture:capture,passive:passive}:capture);}function remove$2(event,handler,capture,_target){(_target||target$1).removeEventListener(event,handler,capture);}function updateDOMListeners(oldVnode,vnode){if(isUndef(oldVnode.data.on)&&isUndef(vnode.data.on)){return;}var on=vnode.data.on||{};var oldOn=oldVnode.data.on||{};target$1=vnode.elm;normalizeEvents(on);updateListeners(on,oldOn,add$1,remove$2,vnode.context);}var events={create:updateDOMListeners,update:updateDOMListeners};/*  */function updateDOMProps(oldVnode,vnode){if(isUndef(oldVnode.data.domProps)&&isUndef(vnode.data.domProps)){return;}var key,cur;var elm=vnode.elm;var oldProps=oldVnode.data.domProps||{};var props=vnode.data.domProps||{};// clone observed objects, as the user probably wants to mutate it
if(isDef(props.__ob__)){props=vnode.data.domProps=extend({},props);}for(key in oldProps){if(isUndef(props[key])){elm[key]='';}}for(key in props){cur=props[key];// ignore children if the node has textContent or innerHTML,
// as these will throw away existing DOM nodes and cause removal errors
// on subsequent patches (#3360)
if(key==='textContent'||key==='innerHTML'){if(vnode.children){vnode.children.length=0;}if(cur===oldProps[key]){continue;}}if(key==='value'){// store value as _value as well since
// non-string values will be stringified
elm._value=cur;// avoid resetting cursor position when value is the same
var strCur=isUndef(cur)?'':String(cur);if(shouldUpdateValue(elm,vnode,strCur)){elm.value=strCur;}}else{elm[key]=cur;}}}// check platforms/web/util/attrs.js acceptValue
function shouldUpdateValue(elm,vnode,checkVal){return!elm.composing&&(vnode.tag==='option'||isDirty(elm,checkVal)||isInputChanged(elm,checkVal));}function isDirty(elm,checkVal){// return true when textbox (.number and .trim) loses focus and its value is not equal to the updated value
return document.activeElement!==elm&&elm.value!==checkVal;}function isInputChanged(elm,newVal){var value=elm.value;var modifiers=elm._vModifiers;// injected by v-model runtime
if(isDef(modifiers)&&modifiers.number||elm.type==='number'){return toNumber(value)!==toNumber(newVal);}if(isDef(modifiers)&&modifiers.trim){return value.trim()!==newVal.trim();}return value!==newVal;}var domProps={create:updateDOMProps,update:updateDOMProps};/*  */var parseStyleText=cached(function(cssText){var res={};var listDelimiter=/;(?![^(]*\))/g;var propertyDelimiter=/:(.+)/;cssText.split(listDelimiter).forEach(function(item){if(item){var tmp=item.split(propertyDelimiter);tmp.length>1&&(res[tmp[0].trim()]=tmp[1].trim());}});return res;});// merge static and dynamic style data on the same vnode
function normalizeStyleData(data){var style=normalizeStyleBinding(data.style);// static style is pre-processed into an object during compilation
// and is always a fresh object, so it's safe to merge into it
return data.staticStyle?extend(data.staticStyle,style):style;}// normalize possible array / string values into Object
function normalizeStyleBinding(bindingStyle){if(Array.isArray(bindingStyle)){return toObject(bindingStyle);}if(typeof bindingStyle==='string'){return parseStyleText(bindingStyle);}return bindingStyle;}/**
 * parent component style should be after child's
 * so that parent component's style could override it
 */function getStyle(vnode,checkChild){var res={};var styleData;if(checkChild){var childNode=vnode;while(childNode.componentInstance){childNode=childNode.componentInstance._vnode;if(childNode.data&&(styleData=normalizeStyleData(childNode.data))){extend(res,styleData);}}}if(styleData=normalizeStyleData(vnode.data)){extend(res,styleData);}var parentNode=vnode;while(parentNode=parentNode.parent){if(parentNode.data&&(styleData=normalizeStyleData(parentNode.data))){extend(res,styleData);}}return res;}/*  */var cssVarRE=/^--/;var importantRE=/\s*!important$/;var setProp=function setProp(el,name,val){/* istanbul ignore if */if(cssVarRE.test(name)){el.style.setProperty(name,val);}else if(importantRE.test(val)){el.style.setProperty(name,val.replace(importantRE,''),'important');}else{var normalizedName=normalize(name);if(Array.isArray(val)){// Support values array created by autoprefixer, e.g.
// {display: ["-webkit-box", "-ms-flexbox", "flex"]}
// Set them one by one, and the browser will only set those it can recognize
for(var i=0,len=val.length;i<len;i++){el.style[normalizedName]=val[i];}}else{el.style[normalizedName]=val;}}};var prefixes=['Webkit','Moz','ms'];var testEl;var normalize=cached(function(prop){testEl=testEl||document.createElement('div');prop=camelize(prop);if(prop!=='filter'&&prop in testEl.style){return prop;}var upper=prop.charAt(0).toUpperCase()+prop.slice(1);for(var i=0;i<prefixes.length;i++){var prefixed=prefixes[i]+upper;if(prefixed in testEl.style){return prefixed;}}});function updateStyle(oldVnode,vnode){var data=vnode.data;var oldData=oldVnode.data;if(isUndef(data.staticStyle)&&isUndef(data.style)&&isUndef(oldData.staticStyle)&&isUndef(oldData.style)){return;}var cur,name;var el=vnode.elm;var oldStaticStyle=oldData.staticStyle;var oldStyleBinding=oldData.normalizedStyle||oldData.style||{};// if static style exists, stylebinding already merged into it when doing normalizeStyleData
var oldStyle=oldStaticStyle||oldStyleBinding;var style=normalizeStyleBinding(vnode.data.style)||{};// store normalized style under a different key for next diff
// make sure to clone it if it's reactive, since the user likley wants
// to mutate it.
vnode.data.normalizedStyle=isDef(style.__ob__)?extend({},style):style;var newStyle=getStyle(vnode,true);for(name in oldStyle){if(isUndef(newStyle[name])){setProp(el,name,'');}}for(name in newStyle){cur=newStyle[name];if(cur!==oldStyle[name]){// ie9 setting to null has no effect, must use empty string
setProp(el,name,cur==null?'':cur);}}}var style={create:updateStyle,update:updateStyle};/*  *//**
 * Add class with compatibility for SVG since classList is not supported on
 * SVG elements in IE
 */function addClass(el,cls){/* istanbul ignore if */if(!cls||!(cls=cls.trim())){return;}/* istanbul ignore else */if(el.classList){if(cls.indexOf(' ')>-1){cls.split(/\s+/).forEach(function(c){return el.classList.add(c);});}else{el.classList.add(cls);}}else{var cur=" "+(el.getAttribute('class')||'')+" ";if(cur.indexOf(' '+cls+' ')<0){el.setAttribute('class',(cur+cls).trim());}}}/**
 * Remove class with compatibility for SVG since classList is not supported on
 * SVG elements in IE
 */function removeClass(el,cls){/* istanbul ignore if */if(!cls||!(cls=cls.trim())){return;}/* istanbul ignore else */if(el.classList){if(cls.indexOf(' ')>-1){cls.split(/\s+/).forEach(function(c){return el.classList.remove(c);});}else{el.classList.remove(cls);}}else{var cur=" "+(el.getAttribute('class')||'')+" ";var tar=' '+cls+' ';while(cur.indexOf(tar)>=0){cur=cur.replace(tar,' ');}el.setAttribute('class',cur.trim());}}/*  */function resolveTransition(def$$1){if(!def$$1){return;}/* istanbul ignore else */if((typeof def$$1==='undefined'?'undefined':_typeof(def$$1))==='object'){var res={};if(def$$1.css!==false){extend(res,autoCssTransition(def$$1.name||'v'));}extend(res,def$$1);return res;}else if(typeof def$$1==='string'){return autoCssTransition(def$$1);}}var autoCssTransition=cached(function(name){return{enterClass:name+"-enter",enterToClass:name+"-enter-to",enterActiveClass:name+"-enter-active",leaveClass:name+"-leave",leaveToClass:name+"-leave-to",leaveActiveClass:name+"-leave-active"};});var hasTransition=inBrowser&&!isIE9;var TRANSITION='transition';var ANIMATION='animation';// Transition property/event sniffing
var transitionProp='transition';var transitionEndEvent='transitionend';var animationProp='animation';var animationEndEvent='animationend';if(hasTransition){/* istanbul ignore if */if(window.ontransitionend===undefined&&window.onwebkittransitionend!==undefined){transitionProp='WebkitTransition';transitionEndEvent='webkitTransitionEnd';}if(window.onanimationend===undefined&&window.onwebkitanimationend!==undefined){animationProp='WebkitAnimation';animationEndEvent='webkitAnimationEnd';}}// binding to window is necessary to make hot reload work in IE in strict mode
var raf=inBrowser&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):setTimeout;function nextFrame(fn){raf(function(){raf(fn);});}function addTransitionClass(el,cls){(el._transitionClasses||(el._transitionClasses=[])).push(cls);addClass(el,cls);}function removeTransitionClass(el,cls){if(el._transitionClasses){remove(el._transitionClasses,cls);}removeClass(el,cls);}function whenTransitionEnds(el,expectedType,cb){var ref=getTransitionInfo(el,expectedType);var type=ref.type;var timeout=ref.timeout;var propCount=ref.propCount;if(!type){return cb();}var event=type===TRANSITION?transitionEndEvent:animationEndEvent;var ended=0;var end=function end(){el.removeEventListener(event,onEnd);cb();};var onEnd=function onEnd(e){if(e.target===el){if(++ended>=propCount){end();}}};setTimeout(function(){if(ended<propCount){end();}},timeout+1);el.addEventListener(event,onEnd);}var transformRE=/\b(transform|all)(,|$)/;function getTransitionInfo(el,expectedType){var styles=window.getComputedStyle(el);var transitionDelays=styles[transitionProp+'Delay'].split(', ');var transitionDurations=styles[transitionProp+'Duration'].split(', ');var transitionTimeout=getTimeout(transitionDelays,transitionDurations);var animationDelays=styles[animationProp+'Delay'].split(', ');var animationDurations=styles[animationProp+'Duration'].split(', ');var animationTimeout=getTimeout(animationDelays,animationDurations);var type;var timeout=0;var propCount=0;/* istanbul ignore if */if(expectedType===TRANSITION){if(transitionTimeout>0){type=TRANSITION;timeout=transitionTimeout;propCount=transitionDurations.length;}}else if(expectedType===ANIMATION){if(animationTimeout>0){type=ANIMATION;timeout=animationTimeout;propCount=animationDurations.length;}}else{timeout=Math.max(transitionTimeout,animationTimeout);type=timeout>0?transitionTimeout>animationTimeout?TRANSITION:ANIMATION:null;propCount=type?type===TRANSITION?transitionDurations.length:animationDurations.length:0;}var hasTransform=type===TRANSITION&&transformRE.test(styles[transitionProp+'Property']);return{type:type,timeout:timeout,propCount:propCount,hasTransform:hasTransform};}function getTimeout(delays,durations){/* istanbul ignore next */while(delays.length<durations.length){delays=delays.concat(delays);}return Math.max.apply(null,durations.map(function(d,i){return toMs(d)+toMs(delays[i]);}));}function toMs(s){return Number(s.slice(0,-1))*1000;}/*  */function enter(vnode,toggleDisplay){var el=vnode.elm;// call leave callback now
if(isDef(el._leaveCb)){el._leaveCb.cancelled=true;el._leaveCb();}var data=resolveTransition(vnode.data.transition);if(isUndef(data)){return;}/* istanbul ignore if */if(isDef(el._enterCb)||el.nodeType!==1){return;}var css=data.css;var type=data.type;var enterClass=data.enterClass;var enterToClass=data.enterToClass;var enterActiveClass=data.enterActiveClass;var appearClass=data.appearClass;var appearToClass=data.appearToClass;var appearActiveClass=data.appearActiveClass;var beforeEnter=data.beforeEnter;var enter=data.enter;var afterEnter=data.afterEnter;var enterCancelled=data.enterCancelled;var beforeAppear=data.beforeAppear;var appear=data.appear;var afterAppear=data.afterAppear;var appearCancelled=data.appearCancelled;var duration=data.duration;// activeInstance will always be the <transition> component managing this
// transition. One edge case to check is when the <transition> is placed
// as the root node of a child component. In that case we need to check
// <transition>'s parent for appear check.
var context=activeInstance;var transitionNode=activeInstance.$vnode;while(transitionNode&&transitionNode.parent){transitionNode=transitionNode.parent;context=transitionNode.context;}var isAppear=!context._isMounted||!vnode.isRootInsert;if(isAppear&&!appear&&appear!==''){return;}var startClass=isAppear&&appearClass?appearClass:enterClass;var activeClass=isAppear&&appearActiveClass?appearActiveClass:enterActiveClass;var toClass=isAppear&&appearToClass?appearToClass:enterToClass;var beforeEnterHook=isAppear?beforeAppear||beforeEnter:beforeEnter;var enterHook=isAppear?typeof appear==='function'?appear:enter:enter;var afterEnterHook=isAppear?afterAppear||afterEnter:afterEnter;var enterCancelledHook=isAppear?appearCancelled||enterCancelled:enterCancelled;var explicitEnterDuration=toNumber(isObject(duration)?duration.enter:duration);if(false){checkDuration(explicitEnterDuration,'enter',vnode);}var expectsCSS=css!==false&&!isIE9;var userWantsControl=getHookArgumentsLength(enterHook);var cb=el._enterCb=once(function(){if(expectsCSS){removeTransitionClass(el,toClass);removeTransitionClass(el,activeClass);}if(cb.cancelled){if(expectsCSS){removeTransitionClass(el,startClass);}enterCancelledHook&&enterCancelledHook(el);}else{afterEnterHook&&afterEnterHook(el);}el._enterCb=null;});if(!vnode.data.show){// remove pending leave element on enter by injecting an insert hook
mergeVNodeHook(vnode.data.hook||(vnode.data.hook={}),'insert',function(){var parent=el.parentNode;var pendingNode=parent&&parent._pending&&parent._pending[vnode.key];if(pendingNode&&pendingNode.tag===vnode.tag&&pendingNode.elm._leaveCb){pendingNode.elm._leaveCb();}enterHook&&enterHook(el,cb);});}// start enter transition
beforeEnterHook&&beforeEnterHook(el);if(expectsCSS){addTransitionClass(el,startClass);addTransitionClass(el,activeClass);nextFrame(function(){addTransitionClass(el,toClass);removeTransitionClass(el,startClass);if(!cb.cancelled&&!userWantsControl){if(isValidDuration(explicitEnterDuration)){setTimeout(cb,explicitEnterDuration);}else{whenTransitionEnds(el,type,cb);}}});}if(vnode.data.show){toggleDisplay&&toggleDisplay();enterHook&&enterHook(el,cb);}if(!expectsCSS&&!userWantsControl){cb();}}function leave(vnode,rm){var el=vnode.elm;// call enter callback now
if(isDef(el._enterCb)){el._enterCb.cancelled=true;el._enterCb();}var data=resolveTransition(vnode.data.transition);if(isUndef(data)){return rm();}/* istanbul ignore if */if(isDef(el._leaveCb)||el.nodeType!==1){return;}var css=data.css;var type=data.type;var leaveClass=data.leaveClass;var leaveToClass=data.leaveToClass;var leaveActiveClass=data.leaveActiveClass;var beforeLeave=data.beforeLeave;var leave=data.leave;var afterLeave=data.afterLeave;var leaveCancelled=data.leaveCancelled;var delayLeave=data.delayLeave;var duration=data.duration;var expectsCSS=css!==false&&!isIE9;var userWantsControl=getHookArgumentsLength(leave);var explicitLeaveDuration=toNumber(isObject(duration)?duration.leave:duration);if(false){checkDuration(explicitLeaveDuration,'leave',vnode);}var cb=el._leaveCb=once(function(){if(el.parentNode&&el.parentNode._pending){el.parentNode._pending[vnode.key]=null;}if(expectsCSS){removeTransitionClass(el,leaveToClass);removeTransitionClass(el,leaveActiveClass);}if(cb.cancelled){if(expectsCSS){removeTransitionClass(el,leaveClass);}leaveCancelled&&leaveCancelled(el);}else{rm();afterLeave&&afterLeave(el);}el._leaveCb=null;});if(delayLeave){delayLeave(performLeave);}else{performLeave();}function performLeave(){// the delayed leave may have already been cancelled
if(cb.cancelled){return;}// record leaving element
if(!vnode.data.show){(el.parentNode._pending||(el.parentNode._pending={}))[vnode.key]=vnode;}beforeLeave&&beforeLeave(el);if(expectsCSS){addTransitionClass(el,leaveClass);addTransitionClass(el,leaveActiveClass);nextFrame(function(){addTransitionClass(el,leaveToClass);removeTransitionClass(el,leaveClass);if(!cb.cancelled&&!userWantsControl){if(isValidDuration(explicitLeaveDuration)){setTimeout(cb,explicitLeaveDuration);}else{whenTransitionEnds(el,type,cb);}}});}leave&&leave(el,cb);if(!expectsCSS&&!userWantsControl){cb();}}}// only used in dev mode
function checkDuration(val,name,vnode){if(typeof val!=='number'){warn("<transition> explicit "+name+" duration is not a valid number - "+"got "+JSON.stringify(val)+".",vnode.context);}else if(isNaN(val)){warn("<transition> explicit "+name+" duration is NaN - "+'the duration expression might be incorrect.',vnode.context);}}function isValidDuration(val){return typeof val==='number'&&!isNaN(val);}/**
 * Normalize a transition hook's argument length. The hook may be:
 * - a merged hook (invoker) with the original in .fns
 * - a wrapped component method (check ._length)
 * - a plain function (.length)
 */function getHookArgumentsLength(fn){if(isUndef(fn)){return false;}var invokerFns=fn.fns;if(isDef(invokerFns)){// invoker
return getHookArgumentsLength(Array.isArray(invokerFns)?invokerFns[0]:invokerFns);}else{return(fn._length||fn.length)>1;}}function _enter(_,vnode){if(vnode.data.show!==true){enter(vnode);}}var transition=inBrowser?{create:_enter,activate:_enter,remove:function remove$$1(vnode,rm){/* istanbul ignore else */if(vnode.data.show!==true){leave(vnode,rm);}else{rm();}}}:{};var platformModules=[attrs,klass,events,domProps,style,transition];/*  */// the directive module should be applied last, after all
// built-in modules have been applied.
var modules=platformModules.concat(baseModules);var patch=createPatchFunction({nodeOps:nodeOps,modules:modules});/**
 * Not type checking this file because flow doesn't like attaching
 * properties to Elements.
 *//* istanbul ignore if */if(isIE9){// http://www.matts411.com/post/internet-explorer-9-oninput/
document.addEventListener('selectionchange',function(){var el=document.activeElement;if(el&&el.vmodel){trigger(el,'input');}});}var model$1={inserted:function inserted(el,binding,vnode){if(vnode.tag==='select'){var cb=function cb(){setSelected(el,binding,vnode.context);};cb();/* istanbul ignore if */if(isIE||isEdge){setTimeout(cb,0);}}else if(vnode.tag==='textarea'||el.type==='text'||el.type==='password'){el._vModifiers=binding.modifiers;if(!binding.modifiers.lazy){// Safari < 10.2 & UIWebView doesn't fire compositionend when
// switching focus before confirming composition choice
// this also fixes the issue where some browsers e.g. iOS Chrome
// fires "change" instead of "input" on autocomplete.
el.addEventListener('change',onCompositionEnd);if(!isAndroid){el.addEventListener('compositionstart',onCompositionStart);el.addEventListener('compositionend',onCompositionEnd);}/* istanbul ignore if */if(isIE9){el.vmodel=true;}}}},componentUpdated:function componentUpdated(el,binding,vnode){if(vnode.tag==='select'){setSelected(el,binding,vnode.context);// in case the options rendered by v-for have changed,
// it's possible that the value is out-of-sync with the rendered options.
// detect such cases and filter out values that no longer has a matching
// option in the DOM.
var needReset=el.multiple?binding.value.some(function(v){return hasNoMatchingOption(v,el.options);}):binding.value!==binding.oldValue&&hasNoMatchingOption(binding.value,el.options);if(needReset){trigger(el,'change');}}}};function setSelected(el,binding,vm){var value=binding.value;var isMultiple=el.multiple;if(isMultiple&&!Array.isArray(value)){"production"!=='production'&&warn("<select multiple v-model=\""+binding.expression+"\"> "+"expects an Array value for its binding, but got "+Object.prototype.toString.call(value).slice(8,-1),vm);return;}var selected,option;for(var i=0,l=el.options.length;i<l;i++){option=el.options[i];if(isMultiple){selected=looseIndexOf(value,getValue(option))>-1;if(option.selected!==selected){option.selected=selected;}}else{if(looseEqual(getValue(option),value)){if(el.selectedIndex!==i){el.selectedIndex=i;}return;}}}if(!isMultiple){el.selectedIndex=-1;}}function hasNoMatchingOption(value,options){for(var i=0,l=options.length;i<l;i++){if(looseEqual(getValue(options[i]),value)){return false;}}return true;}function getValue(option){return'_value'in option?option._value:option.value;}function onCompositionStart(e){e.target.composing=true;}function onCompositionEnd(e){// prevent triggering an input event for no reason
if(!e.target.composing){return;}e.target.composing=false;trigger(e.target,'input');}function trigger(el,type){var e=document.createEvent('HTMLEvents');e.initEvent(type,true,true);el.dispatchEvent(e);}/*  */// recursively search for possible transition defined inside the component root
function locateNode(vnode){return vnode.componentInstance&&(!vnode.data||!vnode.data.transition)?locateNode(vnode.componentInstance._vnode):vnode;}var show={bind:function bind(el,ref,vnode){var value=ref.value;vnode=locateNode(vnode);var transition=vnode.data&&vnode.data.transition;var originalDisplay=el.__vOriginalDisplay=el.style.display==='none'?'':el.style.display;if(value&&transition&&!isIE9){vnode.data.show=true;enter(vnode,function(){el.style.display=originalDisplay;});}else{el.style.display=value?originalDisplay:'none';}},update:function update(el,ref,vnode){var value=ref.value;var oldValue=ref.oldValue;/* istanbul ignore if */if(value===oldValue){return;}vnode=locateNode(vnode);var transition=vnode.data&&vnode.data.transition;if(transition&&!isIE9){vnode.data.show=true;if(value){enter(vnode,function(){el.style.display=el.__vOriginalDisplay;});}else{leave(vnode,function(){el.style.display='none';});}}else{el.style.display=value?el.__vOriginalDisplay:'none';}},unbind:function unbind(el,binding,vnode,oldVnode,isDestroy){if(!isDestroy){el.style.display=el.__vOriginalDisplay;}}};var platformDirectives={model:model$1,show:show};/*  */// Provides transition support for a single element/component.
// supports transition mode (out-in / in-out)
var transitionProps={name:String,appear:Boolean,css:Boolean,mode:String,type:String,enterClass:String,leaveClass:String,enterToClass:String,leaveToClass:String,enterActiveClass:String,leaveActiveClass:String,appearClass:String,appearActiveClass:String,appearToClass:String,duration:[Number,String,Object]};// in case the child is also an abstract component, e.g. <keep-alive>
// we want to recursively retrieve the real component to be rendered
function getRealChild(vnode){var compOptions=vnode&&vnode.componentOptions;if(compOptions&&compOptions.Ctor.options.abstract){return getRealChild(getFirstComponentChild(compOptions.children));}else{return vnode;}}function extractTransitionData(comp){var data={};var options=comp.$options;// props
for(var key in options.propsData){data[key]=comp[key];}// events.
// extract listeners and pass them directly to the transition methods
var listeners=options._parentListeners;for(var key$1 in listeners){data[camelize(key$1)]=listeners[key$1];}return data;}function placeholder(h,rawChild){if(/\d-keep-alive$/.test(rawChild.tag)){return h('keep-alive',{props:rawChild.componentOptions.propsData});}}function hasParentTransition(vnode){while(vnode=vnode.parent){if(vnode.data.transition){return true;}}}function isSameChild(child,oldChild){return oldChild.key===child.key&&oldChild.tag===child.tag;}var Transition={name:'transition',props:transitionProps,abstract:true,render:function render(h){var this$1=this;var children=this.$slots.default;if(!children){return;}// filter out text nodes (possible whitespaces)
children=children.filter(function(c){return c.tag;});/* istanbul ignore if */if(!children.length){return;}// warn multiple elements
if(false){warn('<transition> can only be used on a single element. Use '+'<transition-group> for lists.',this.$parent);}var mode=this.mode;// warn invalid mode
if(false){warn('invalid <transition> mode: '+mode,this.$parent);}var rawChild=children[0];// if this is a component root node and the component's
// parent container node also has transition, skip.
if(hasParentTransition(this.$vnode)){return rawChild;}// apply transition data to child
// use getRealChild() to ignore abstract components e.g. keep-alive
var child=getRealChild(rawChild);/* istanbul ignore if */if(!child){return rawChild;}if(this._leaving){return placeholder(h,rawChild);}// ensure a key that is unique to the vnode type and to this transition
// component instance. This key will be used to remove pending leaving nodes
// during entering.
var id="__transition-"+this._uid+"-";child.key=child.key==null?id+child.tag:isPrimitive(child.key)?String(child.key).indexOf(id)===0?child.key:id+child.key:child.key;var data=(child.data||(child.data={})).transition=extractTransitionData(this);var oldRawChild=this._vnode;var oldChild=getRealChild(oldRawChild);// mark v-show
// so that the transition module can hand over the control to the directive
if(child.data.directives&&child.data.directives.some(function(d){return d.name==='show';})){child.data.show=true;}if(oldChild&&oldChild.data&&!isSameChild(child,oldChild)){// replace old child transition data with fresh one
// important for dynamic transitions!
var oldData=oldChild&&(oldChild.data.transition=extend({},data));// handle transition mode
if(mode==='out-in'){// return placeholder node and queue update when leave finishes
this._leaving=true;mergeVNodeHook(oldData,'afterLeave',function(){this$1._leaving=false;this$1.$forceUpdate();});return placeholder(h,rawChild);}else if(mode==='in-out'){var delayedLeave;var performLeave=function performLeave(){delayedLeave();};mergeVNodeHook(data,'afterEnter',performLeave);mergeVNodeHook(data,'enterCancelled',performLeave);mergeVNodeHook(oldData,'delayLeave',function(leave){delayedLeave=leave;});}}return rawChild;}};/*  */// Provides transition support for list items.
// supports move transitions using the FLIP technique.
// Because the vdom's children update algorithm is "unstable" - i.e.
// it doesn't guarantee the relative positioning of removed elements,
// we force transition-group to update its children into two passes:
// in the first pass, we remove all nodes that need to be removed,
// triggering their leaving transition; in the second pass, we insert/move
// into the final desired state. This way in the second pass removed
// nodes will remain where they should be.
var props=extend({tag:String,moveClass:String},transitionProps);delete props.mode;var TransitionGroup={props:props,render:function render(h){var tag=this.tag||this.$vnode.data.tag||'span';var map=Object.create(null);var prevChildren=this.prevChildren=this.children;var rawChildren=this.$slots.default||[];var children=this.children=[];var transitionData=extractTransitionData(this);for(var i=0;i<rawChildren.length;i++){var c=rawChildren[i];if(c.tag){if(c.key!=null&&String(c.key).indexOf('__vlist')!==0){children.push(c);map[c.key]=c;(c.data||(c.data={})).transition=transitionData;}else if(false){var opts=c.componentOptions;var name=opts?opts.Ctor.options.name||opts.tag||'':c.tag;warn("<transition-group> children must be keyed: <"+name+">");}}}if(prevChildren){var kept=[];var removed=[];for(var i$1=0;i$1<prevChildren.length;i$1++){var c$1=prevChildren[i$1];c$1.data.transition=transitionData;c$1.data.pos=c$1.elm.getBoundingClientRect();if(map[c$1.key]){kept.push(c$1);}else{removed.push(c$1);}}this.kept=h(tag,null,kept);this.removed=removed;}return h(tag,null,children);},beforeUpdate:function beforeUpdate(){// force removing pass
this.__patch__(this._vnode,this.kept,false,// hydrating
true// removeOnly (!important, avoids unnecessary moves)
);this._vnode=this.kept;},updated:function updated(){var children=this.prevChildren;var moveClass=this.moveClass||(this.name||'v')+'-move';if(!children.length||!this.hasMove(children[0].elm,moveClass)){return;}// we divide the work into three loops to avoid mixing DOM reads and writes
// in each iteration - which helps prevent layout thrashing.
children.forEach(callPendingCbs);children.forEach(recordPosition);children.forEach(applyTranslation);// force reflow to put everything in position
var body=document.body;var f=body.offsetHeight;// eslint-disable-line
children.forEach(function(c){if(c.data.moved){var el=c.elm;var s=el.style;addTransitionClass(el,moveClass);s.transform=s.WebkitTransform=s.transitionDuration='';el.addEventListener(transitionEndEvent,el._moveCb=function cb(e){if(!e||/transform$/.test(e.propertyName)){el.removeEventListener(transitionEndEvent,cb);el._moveCb=null;removeTransitionClass(el,moveClass);}});}});},methods:{hasMove:function hasMove(el,moveClass){/* istanbul ignore if */if(!hasTransition){return false;}if(this._hasMove!=null){return this._hasMove;}// Detect whether an element with the move class applied has
// CSS transitions. Since the element may be inside an entering
// transition at this very moment, we make a clone of it and remove
// all other transition classes applied to ensure only the move class
// is applied.
var clone=el.cloneNode();if(el._transitionClasses){el._transitionClasses.forEach(function(cls){removeClass(clone,cls);});}addClass(clone,moveClass);clone.style.display='none';this.$el.appendChild(clone);var info=getTransitionInfo(clone);this.$el.removeChild(clone);return this._hasMove=info.hasTransform;}}};function callPendingCbs(c){/* istanbul ignore if */if(c.elm._moveCb){c.elm._moveCb();}/* istanbul ignore if */if(c.elm._enterCb){c.elm._enterCb();}}function recordPosition(c){c.data.newPos=c.elm.getBoundingClientRect();}function applyTranslation(c){var oldPos=c.data.pos;var newPos=c.data.newPos;var dx=oldPos.left-newPos.left;var dy=oldPos.top-newPos.top;if(dx||dy){c.data.moved=true;var s=c.elm.style;s.transform=s.WebkitTransform="translate("+dx+"px,"+dy+"px)";s.transitionDuration='0s';}}var platformComponents={Transition:Transition,TransitionGroup:TransitionGroup};/*  */// install platform specific utils
Vue$3.config.mustUseProp=mustUseProp;Vue$3.config.isReservedTag=isReservedTag;Vue$3.config.isReservedAttr=isReservedAttr;Vue$3.config.getTagNamespace=getTagNamespace;Vue$3.config.isUnknownElement=isUnknownElement;// install platform runtime directives & components
extend(Vue$3.options.directives,platformDirectives);extend(Vue$3.options.components,platformComponents);// install platform patch function
Vue$3.prototype.__patch__=inBrowser?patch:noop;// public mount method
Vue$3.prototype.$mount=function(el,hydrating){el=el&&inBrowser?query(el):undefined;return mountComponent(this,el,hydrating);};// devtools global hook
/* istanbul ignore next */setTimeout(function(){if(config.devtools){if(devtools){devtools.emit('init',Vue$3);}else if(false){console[console.info?'info':'log']('Download the Vue Devtools extension for a better development experience:\n'+'https://github.com/vuejs/vue-devtools');}}if(false){console[console.info?'info':'log']("You are running Vue in development mode.\n"+"Make sure to turn on production mode when deploying for production.\n"+"See more tips at https://vuejs.org/guide/deployment.html");}},0);/*  */// check whether current browser encodes a char inside attribute values
function shouldDecode(content,encoded){var div=document.createElement('div');div.innerHTML="<div a=\""+content+"\">";return div.innerHTML.indexOf(encoded)>0;}// #3663
// IE encodes newlines inside attribute values while other browsers don't
var shouldDecodeNewlines=inBrowser?shouldDecode('\n','&#10;'):false;/*  */var isUnaryTag=makeMap('area,base,br,col,embed,frame,hr,img,input,isindex,keygen,'+'link,meta,param,source,track,wbr');// Elements that you can, intentionally, leave open
// (and which close themselves)
var canBeLeftOpenTag=makeMap('colgroup,dd,dt,li,options,p,td,tfoot,th,thead,tr,source');// HTML5 tags https://html.spec.whatwg.org/multipage/indices.html#elements-3
// Phrasing Content https://html.spec.whatwg.org/multipage/dom.html#phrasing-content
var isNonPhrasingTag=makeMap('address,article,aside,base,blockquote,body,caption,col,colgroup,dd,'+'details,dialog,div,dl,dt,fieldset,figcaption,figure,footer,form,'+'h1,h2,h3,h4,h5,h6,head,header,hgroup,hr,html,legend,li,menuitem,meta,'+'optgroup,option,param,rp,rt,source,style,summary,tbody,td,tfoot,th,thead,'+'title,tr,track');/*  */var decoder;function decode(html){decoder=decoder||document.createElement('div');decoder.innerHTML=html;return decoder.textContent;}/**
 * Not type-checking this file because it's mostly vendor code.
 *//*!
 * HTML Parser By John Resig (ejohn.org)
 * Modified by Juriy "kangax" Zaytsev
 * Original code by Erik Arvidsson, Mozilla Public License
 * http://erik.eae.net/simplehtmlparser/simplehtmlparser.js
 */// Regular Expressions for parsing tags and attributes
var singleAttrIdentifier=/([^\s"'<>/=]+)/;var singleAttrAssign=/(?:=)/;var singleAttrValues=[// attr value double quotes
/"([^"]*)"+/.source,// attr value, single quotes
/'([^']*)'+/.source,// attr value, no quotes
/([^\s"'=<>`]+)/.source];var attribute=new RegExp('^\\s*'+singleAttrIdentifier.source+'(?:\\s*('+singleAttrAssign.source+')'+'\\s*(?:'+singleAttrValues.join('|')+'))?');// could use https://www.w3.org/TR/1999/REC-xml-names-19990114/#NT-QName
// but for Vue templates we can enforce a simple charset
var ncname='[a-zA-Z_][\\w\\-\\.]*';var qnameCapture='((?:'+ncname+'\\:)?'+ncname+')';var startTagOpen=new RegExp('^<'+qnameCapture);var startTagClose=/^\s*(\/?)>/;var endTag=new RegExp('^<\\/'+qnameCapture+'[^>]*>');var doctype=/^<!DOCTYPE [^>]+>/i;var comment=/^<!--/;var conditionalComment=/^<!\[/;var IS_REGEX_CAPTURING_BROKEN=false;'x'.replace(/x(.)?/g,function(m,g){IS_REGEX_CAPTURING_BROKEN=g==='';});// Special Elements (can contain anything)
var isPlainTextElement=makeMap('script,style,textarea',true);var reCache={};var decodingMap={'&lt;':'<','&gt;':'>','&quot;':'"','&amp;':'&','&#10;':'\n'};var encodedAttr=/&(?:lt|gt|quot|amp);/g;var encodedAttrWithNewLines=/&(?:lt|gt|quot|amp|#10);/g;function decodeAttr(value,shouldDecodeNewlines){var re=shouldDecodeNewlines?encodedAttrWithNewLines:encodedAttr;return value.replace(re,function(match){return decodingMap[match];});}function parseHTML(html,options){var stack=[];var expectHTML=options.expectHTML;var isUnaryTag$$1=options.isUnaryTag||no;var canBeLeftOpenTag$$1=options.canBeLeftOpenTag||no;var index=0;var last,lastTag;while(html){last=html;// Make sure we're not in a plaintext content element like script/style
if(!lastTag||!isPlainTextElement(lastTag)){var textEnd=html.indexOf('<');if(textEnd===0){// Comment:
if(comment.test(html)){var commentEnd=html.indexOf('-->');if(commentEnd>=0){advance(commentEnd+3);continue;}}// http://en.wikipedia.org/wiki/Conditional_comment#Downlevel-revealed_conditional_comment
if(conditionalComment.test(html)){var conditionalEnd=html.indexOf(']>');if(conditionalEnd>=0){advance(conditionalEnd+2);continue;}}// Doctype:
var doctypeMatch=html.match(doctype);if(doctypeMatch){advance(doctypeMatch[0].length);continue;}// End tag:
var endTagMatch=html.match(endTag);if(endTagMatch){var curIndex=index;advance(endTagMatch[0].length);parseEndTag(endTagMatch[1],curIndex,index);continue;}// Start tag:
var startTagMatch=parseStartTag();if(startTagMatch){handleStartTag(startTagMatch);continue;}}var text=void 0,rest$1=void 0,next=void 0;if(textEnd>=0){rest$1=html.slice(textEnd);while(!endTag.test(rest$1)&&!startTagOpen.test(rest$1)&&!comment.test(rest$1)&&!conditionalComment.test(rest$1)){// < in plain text, be forgiving and treat it as text
next=rest$1.indexOf('<',1);if(next<0){break;}textEnd+=next;rest$1=html.slice(textEnd);}text=html.substring(0,textEnd);advance(textEnd);}if(textEnd<0){text=html;html='';}if(options.chars&&text){options.chars(text);}}else{var stackedTag=lastTag.toLowerCase();var reStackedTag=reCache[stackedTag]||(reCache[stackedTag]=new RegExp('([\\s\\S]*?)(</'+stackedTag+'[^>]*>)','i'));var endTagLength=0;var rest=html.replace(reStackedTag,function(all,text,endTag){endTagLength=endTag.length;if(!isPlainTextElement(stackedTag)&&stackedTag!=='noscript'){text=text.replace(/<!--([\s\S]*?)-->/g,'$1').replace(/<!\[CDATA\[([\s\S]*?)]]>/g,'$1');}if(options.chars){options.chars(text);}return'';});index+=html.length-rest.length;html=rest;parseEndTag(stackedTag,index-endTagLength,index);}if(html===last){options.chars&&options.chars(html);if(false){options.warn("Mal-formatted tag at end of template: \""+html+"\"");}break;}}// Clean up any remaining tags
parseEndTag();function advance(n){index+=n;html=html.substring(n);}function parseStartTag(){var start=html.match(startTagOpen);if(start){var match={tagName:start[1],attrs:[],start:index};advance(start[0].length);var end,attr;while(!(end=html.match(startTagClose))&&(attr=html.match(attribute))){advance(attr[0].length);match.attrs.push(attr);}if(end){match.unarySlash=end[1];advance(end[0].length);match.end=index;return match;}}}function handleStartTag(match){var tagName=match.tagName;var unarySlash=match.unarySlash;if(expectHTML){if(lastTag==='p'&&isNonPhrasingTag(tagName)){parseEndTag(lastTag);}if(canBeLeftOpenTag$$1(tagName)&&lastTag===tagName){parseEndTag(tagName);}}var unary=isUnaryTag$$1(tagName)||tagName==='html'&&lastTag==='head'||!!unarySlash;var l=match.attrs.length;var attrs=new Array(l);for(var i=0;i<l;i++){var args=match.attrs[i];// hackish work around FF bug https://bugzilla.mozilla.org/show_bug.cgi?id=369778
if(IS_REGEX_CAPTURING_BROKEN&&args[0].indexOf('""')===-1){if(args[3]===''){delete args[3];}if(args[4]===''){delete args[4];}if(args[5]===''){delete args[5];}}var value=args[3]||args[4]||args[5]||'';attrs[i]={name:args[1],value:decodeAttr(value,options.shouldDecodeNewlines)};}if(!unary){stack.push({tag:tagName,lowerCasedTag:tagName.toLowerCase(),attrs:attrs});lastTag=tagName;}if(options.start){options.start(tagName,attrs,unary,match.start,match.end);}}function parseEndTag(tagName,start,end){var pos,lowerCasedTagName;if(start==null){start=index;}if(end==null){end=index;}if(tagName){lowerCasedTagName=tagName.toLowerCase();}// Find the closest opened tag of the same type
if(tagName){for(pos=stack.length-1;pos>=0;pos--){if(stack[pos].lowerCasedTag===lowerCasedTagName){break;}}}else{// If no tag name is provided, clean shop
pos=0;}if(pos>=0){// Close all the open elements, up the stack
for(var i=stack.length-1;i>=pos;i--){if(false){options.warn("tag <"+stack[i].tag+"> has no matching end tag.");}if(options.end){options.end(stack[i].tag,start,end);}}// Remove the open elements from the stack
stack.length=pos;lastTag=pos&&stack[pos-1].tag;}else if(lowerCasedTagName==='br'){if(options.start){options.start(tagName,[],true,start,end);}}else if(lowerCasedTagName==='p'){if(options.start){options.start(tagName,[],false,start,end);}if(options.end){options.end(tagName,start,end);}}}}/*  */var defaultTagRE=/\{\{((?:.|\n)+?)\}\}/g;var regexEscapeRE=/[-.*+?^${}()|[\]\/\\]/g;var buildRegex=cached(function(delimiters){var open=delimiters[0].replace(regexEscapeRE,'\\$&');var close=delimiters[1].replace(regexEscapeRE,'\\$&');return new RegExp(open+'((?:.|\\n)+?)'+close,'g');});function parseText(text,delimiters){var tagRE=delimiters?buildRegex(delimiters):defaultTagRE;if(!tagRE.test(text)){return;}var tokens=[];var lastIndex=tagRE.lastIndex=0;var match,index;while(match=tagRE.exec(text)){index=match.index;// push text token
if(index>lastIndex){tokens.push(JSON.stringify(text.slice(lastIndex,index)));}// tag token
var exp=parseFilters(match[1].trim());tokens.push("_s("+exp+")");lastIndex=index+match[0].length;}if(lastIndex<text.length){tokens.push(JSON.stringify(text.slice(lastIndex)));}return tokens.join('+');}/*  */var onRE=/^@|^v-on:/;var dirRE=/^v-|^@|^:/;var forAliasRE=/(.*?)\s+(?:in|of)\s+(.*)/;var forIteratorRE=/\((\{[^}]*\}|[^,]*),([^,]*)(?:,([^,]*))?\)/;var argRE=/:(.*)$/;var bindRE=/^:|^v-bind:/;var modifierRE=/\.[^.]+/g;var decodeHTMLCached=cached(decode);// configurable state
var warn$2;var delimiters;var transforms;var preTransforms;var postTransforms;var platformIsPreTag;var platformMustUseProp;var platformGetTagNamespace;/**
 * Convert HTML string to AST.
 */function parse(template,options){warn$2=options.warn||baseWarn;platformGetTagNamespace=options.getTagNamespace||no;platformMustUseProp=options.mustUseProp||no;platformIsPreTag=options.isPreTag||no;preTransforms=pluckModuleFunction(options.modules,'preTransformNode');transforms=pluckModuleFunction(options.modules,'transformNode');postTransforms=pluckModuleFunction(options.modules,'postTransformNode');delimiters=options.delimiters;var stack=[];var preserveWhitespace=options.preserveWhitespace!==false;var root;var currentParent;var inVPre=false;var inPre=false;var warned=false;function warnOnce(msg){if(!warned){warned=true;warn$2(msg);}}function endPre(element){// check pre state
if(element.pre){inVPre=false;}if(platformIsPreTag(element.tag)){inPre=false;}}parseHTML(template,{warn:warn$2,expectHTML:options.expectHTML,isUnaryTag:options.isUnaryTag,canBeLeftOpenTag:options.canBeLeftOpenTag,shouldDecodeNewlines:options.shouldDecodeNewlines,start:function start(tag,attrs,unary){// check namespace.
// inherit parent ns if there is one
var ns=currentParent&&currentParent.ns||platformGetTagNamespace(tag);// handle IE svg bug
/* istanbul ignore if */if(isIE&&ns==='svg'){attrs=guardIESVGBug(attrs);}var element={type:1,tag:tag,attrsList:attrs,attrsMap:makeAttrsMap(attrs),parent:currentParent,children:[]};if(ns){element.ns=ns;}if(isForbiddenTag(element)&&!isServerRendering()){element.forbidden=true;"production"!=='production'&&warn$2('Templates should only be responsible for mapping the state to the '+'UI. Avoid placing tags with side-effects in your templates, such as '+"<"+tag+">"+', as they will not be parsed.');}// apply pre-transforms
for(var i=0;i<preTransforms.length;i++){preTransforms[i](element,options);}if(!inVPre){processPre(element);if(element.pre){inVPre=true;}}if(platformIsPreTag(element.tag)){inPre=true;}if(inVPre){processRawAttrs(element);}else{processFor(element);processIf(element);processOnce(element);processKey(element);// determine whether this is a plain element after
// removing structural attributes
element.plain=!element.key&&!attrs.length;processRef(element);processSlot(element);processComponent(element);for(var i$1=0;i$1<transforms.length;i$1++){transforms[i$1](element,options);}processAttrs(element);}function checkRootConstraints(el){if(false){if(el.tag==='slot'||el.tag==='template'){warnOnce("Cannot use <"+el.tag+"> as component root element because it may "+'contain multiple nodes.');}if(el.attrsMap.hasOwnProperty('v-for')){warnOnce('Cannot use v-for on stateful component root element because '+'it renders multiple elements.');}}}// tree management
if(!root){root=element;checkRootConstraints(root);}else if(!stack.length){// allow root elements with v-if, v-else-if and v-else
if(root.if&&(element.elseif||element.else)){checkRootConstraints(element);addIfCondition(root,{exp:element.elseif,block:element});}else if(false){warnOnce("Component template should contain exactly one root element. "+"If you are using v-if on multiple elements, "+"use v-else-if to chain them instead.");}}if(currentParent&&!element.forbidden){if(element.elseif||element.else){processIfConditions(element,currentParent);}else if(element.slotScope){// scoped slot
currentParent.plain=false;var name=element.slotTarget||'"default"';(currentParent.scopedSlots||(currentParent.scopedSlots={}))[name]=element;}else{currentParent.children.push(element);element.parent=currentParent;}}if(!unary){currentParent=element;stack.push(element);}else{endPre(element);}// apply post-transforms
for(var i$2=0;i$2<postTransforms.length;i$2++){postTransforms[i$2](element,options);}},end:function end(){// remove trailing whitespace
var element=stack[stack.length-1];var lastNode=element.children[element.children.length-1];if(lastNode&&lastNode.type===3&&lastNode.text===' '&&!inPre){element.children.pop();}// pop stack
stack.length-=1;currentParent=stack[stack.length-1];endPre(element);},chars:function chars(text){if(!currentParent){if(false){if(text===template){warnOnce('Component template requires a root element, rather than just text.');}else if(text=text.trim()){warnOnce("text \""+text+"\" outside root element will be ignored.");}}return;}// IE textarea placeholder bug
/* istanbul ignore if */if(isIE&&currentParent.tag==='textarea'&&currentParent.attrsMap.placeholder===text){return;}var children=currentParent.children;text=inPre||text.trim()?isTextTag(currentParent)?text:decodeHTMLCached(text)// only preserve whitespace if its not right after a starting tag
:preserveWhitespace&&children.length?' ':'';if(text){var expression;if(!inVPre&&text!==' '&&(expression=parseText(text,delimiters))){children.push({type:2,expression:expression,text:text});}else if(text!==' '||!children.length||children[children.length-1].text!==' '){children.push({type:3,text:text});}}}});return root;}function processPre(el){if(getAndRemoveAttr(el,'v-pre')!=null){el.pre=true;}}function processRawAttrs(el){var l=el.attrsList.length;if(l){var attrs=el.attrs=new Array(l);for(var i=0;i<l;i++){attrs[i]={name:el.attrsList[i].name,value:JSON.stringify(el.attrsList[i].value)};}}else if(!el.pre){// non root node in pre blocks with no attributes
el.plain=true;}}function processKey(el){var exp=getBindingAttr(el,'key');if(exp){if(false){warn$2("<template> cannot be keyed. Place the key on real elements instead.");}el.key=exp;}}function processRef(el){var ref=getBindingAttr(el,'ref');if(ref){el.ref=ref;el.refInFor=checkInFor(el);}}function processFor(el){var exp;if(exp=getAndRemoveAttr(el,'v-for')){var inMatch=exp.match(forAliasRE);if(!inMatch){"production"!=='production'&&warn$2("Invalid v-for expression: "+exp);return;}el.for=inMatch[2].trim();var alias=inMatch[1].trim();var iteratorMatch=alias.match(forIteratorRE);if(iteratorMatch){el.alias=iteratorMatch[1].trim();el.iterator1=iteratorMatch[2].trim();if(iteratorMatch[3]){el.iterator2=iteratorMatch[3].trim();}}else{el.alias=alias;}}}function processIf(el){var exp=getAndRemoveAttr(el,'v-if');if(exp){el.if=exp;addIfCondition(el,{exp:exp,block:el});}else{if(getAndRemoveAttr(el,'v-else')!=null){el.else=true;}var elseif=getAndRemoveAttr(el,'v-else-if');if(elseif){el.elseif=elseif;}}}function processIfConditions(el,parent){var prev=findPrevElement(parent.children);if(prev&&prev.if){addIfCondition(prev,{exp:el.elseif,block:el});}else if(false){warn$2("v-"+(el.elseif?'else-if="'+el.elseif+'"':'else')+" "+"used on element <"+el.tag+"> without corresponding v-if.");}}function findPrevElement(children){var i=children.length;while(i--){if(children[i].type===1){return children[i];}else{if(false){warn$2("text \""+children[i].text.trim()+"\" between v-if and v-else(-if) "+"will be ignored.");}children.pop();}}}function addIfCondition(el,condition){if(!el.ifConditions){el.ifConditions=[];}el.ifConditions.push(condition);}function processOnce(el){var once$$1=getAndRemoveAttr(el,'v-once');if(once$$1!=null){el.once=true;}}function processSlot(el){if(el.tag==='slot'){el.slotName=getBindingAttr(el,'name');if(false){warn$2("`key` does not work on <slot> because slots are abstract outlets "+"and can possibly expand into multiple elements. "+"Use the key on a wrapping element instead.");}}else{var slotTarget=getBindingAttr(el,'slot');if(slotTarget){el.slotTarget=slotTarget==='""'?'"default"':slotTarget;}if(el.tag==='template'){el.slotScope=getAndRemoveAttr(el,'scope');}}}function processComponent(el){var binding;if(binding=getBindingAttr(el,'is')){el.component=binding;}if(getAndRemoveAttr(el,'inline-template')!=null){el.inlineTemplate=true;}}function processAttrs(el){var list=el.attrsList;var i,l,name,rawName,value,modifiers,isProp;for(i=0,l=list.length;i<l;i++){name=rawName=list[i].name;value=list[i].value;if(dirRE.test(name)){// mark element as dynamic
el.hasBindings=true;// modifiers
modifiers=parseModifiers(name);if(modifiers){name=name.replace(modifierRE,'');}if(bindRE.test(name)){// v-bind
name=name.replace(bindRE,'');value=parseFilters(value);isProp=false;if(modifiers){if(modifiers.prop){isProp=true;name=camelize(name);if(name==='innerHtml'){name='innerHTML';}}if(modifiers.camel){name=camelize(name);}if(modifiers.sync){addHandler(el,"update:"+camelize(name),genAssignmentCode(value,"$event"));}}if(isProp||platformMustUseProp(el.tag,el.attrsMap.type,name)){addProp(el,name,value);}else{addAttr(el,name,value);}}else if(onRE.test(name)){// v-on
name=name.replace(onRE,'');addHandler(el,name,value,modifiers,false,warn$2);}else{// normal directives
name=name.replace(dirRE,'');// parse arg
var argMatch=name.match(argRE);var arg=argMatch&&argMatch[1];if(arg){name=name.slice(0,-(arg.length+1));}addDirective(el,name,rawName,value,arg,modifiers);if(false){checkForAliasModel(el,value);}}}else{// literal attribute
if(false){var expression=parseText(value,delimiters);if(expression){warn$2(name+"=\""+value+"\": "+'Interpolation inside attributes has been removed. '+'Use v-bind or the colon shorthand instead. For example, '+'instead of <div id="{{ val }}">, use <div :id="val">.');}}addAttr(el,name,JSON.stringify(value));}}}function checkInFor(el){var parent=el;while(parent){if(parent.for!==undefined){return true;}parent=parent.parent;}return false;}function parseModifiers(name){var match=name.match(modifierRE);if(match){var ret={};match.forEach(function(m){ret[m.slice(1)]=true;});return ret;}}function makeAttrsMap(attrs){var map={};for(var i=0,l=attrs.length;i<l;i++){if(false){warn$2('duplicate attribute: '+attrs[i].name);}map[attrs[i].name]=attrs[i].value;}return map;}// for script (e.g. type="x/template") or style, do not decode content
function isTextTag(el){return el.tag==='script'||el.tag==='style';}function isForbiddenTag(el){return el.tag==='style'||el.tag==='script'&&(!el.attrsMap.type||el.attrsMap.type==='text/javascript');}var ieNSBug=/^xmlns:NS\d+/;var ieNSPrefix=/^NS\d+:/;/* istanbul ignore next */function guardIESVGBug(attrs){var res=[];for(var i=0;i<attrs.length;i++){var attr=attrs[i];if(!ieNSBug.test(attr.name)){attr.name=attr.name.replace(ieNSPrefix,'');res.push(attr);}}return res;}function checkForAliasModel(el,value){var _el=el;while(_el){if(_el.for&&_el.alias===value){warn$2("<"+el.tag+" v-model=\""+value+"\">: "+"You are binding v-model directly to a v-for iteration alias. "+"This will not be able to modify the v-for source array because "+"writing to the alias is like modifying a function local variable. "+"Consider using an array of objects and use v-model on an object property instead.");}_el=_el.parent;}}/*  */var isStaticKey;var isPlatformReservedTag;var genStaticKeysCached=cached(genStaticKeys$1);/**
 * Goal of the optimizer: walk the generated template AST tree
 * and detect sub-trees that are purely static, i.e. parts of
 * the DOM that never needs to change.
 *
 * Once we detect these sub-trees, we can:
 *
 * 1. Hoist them into constants, so that we no longer need to
 *    create fresh nodes for them on each re-render;
 * 2. Completely skip them in the patching process.
 */function optimize(root,options){if(!root){return;}isStaticKey=genStaticKeysCached(options.staticKeys||'');isPlatformReservedTag=options.isReservedTag||no;// first pass: mark all non-static nodes.
markStatic$1(root);// second pass: mark static roots.
markStaticRoots(root,false);}function genStaticKeys$1(keys){return makeMap('type,tag,attrsList,attrsMap,plain,parent,children,attrs'+(keys?','+keys:''));}function markStatic$1(node){node.static=isStatic(node);if(node.type===1){// do not make component slot content static. this avoids
// 1. components not able to mutate slot nodes
// 2. static slot content fails for hot-reloading
if(!isPlatformReservedTag(node.tag)&&node.tag!=='slot'&&node.attrsMap['inline-template']==null){return;}for(var i=0,l=node.children.length;i<l;i++){var child=node.children[i];markStatic$1(child);if(!child.static){node.static=false;}}}}function markStaticRoots(node,isInFor){if(node.type===1){if(node.static||node.once){node.staticInFor=isInFor;}// For a node to qualify as a static root, it should have children that
// are not just static text. Otherwise the cost of hoisting out will
// outweigh the benefits and it's better off to just always render it fresh.
if(node.static&&node.children.length&&!(node.children.length===1&&node.children[0].type===3)){node.staticRoot=true;return;}else{node.staticRoot=false;}if(node.children){for(var i=0,l=node.children.length;i<l;i++){markStaticRoots(node.children[i],isInFor||!!node.for);}}if(node.ifConditions){walkThroughConditionsBlocks(node.ifConditions,isInFor);}}}function walkThroughConditionsBlocks(conditionBlocks,isInFor){for(var i=1,len=conditionBlocks.length;i<len;i++){markStaticRoots(conditionBlocks[i].block,isInFor);}}function isStatic(node){if(node.type===2){// expression
return false;}if(node.type===3){// text
return true;}return!!(node.pre||!node.hasBindings&&// no dynamic bindings
!node.if&&!node.for&&// not v-if or v-for or v-else
!isBuiltInTag(node.tag)&&// not a built-in
isPlatformReservedTag(node.tag)&&// not a component
!isDirectChildOfTemplateFor(node)&&Object.keys(node).every(isStaticKey));}function isDirectChildOfTemplateFor(node){while(node.parent){node=node.parent;if(node.tag!=='template'){return false;}if(node.for){return true;}}return false;}/*  */var fnExpRE=/^\s*([\w$_]+|\([^)]*?\))\s*=>|^function\s*\(/;var simplePathRE=/^\s*[A-Za-z_$][\w$]*(?:\.[A-Za-z_$][\w$]*|\['.*?']|\[".*?"]|\[\d+]|\[[A-Za-z_$][\w$]*])*\s*$/;// keyCode aliases
var keyCodes={esc:27,tab:9,enter:13,space:32,up:38,left:37,right:39,down:40,'delete':[8,46]};// #4868: modifiers that prevent the execution of the listener
// need to explicitly return null so that we can determine whether to remove
// the listener for .once
var genGuard=function genGuard(condition){return"if("+condition+")return null;";};var modifierCode={stop:'$event.stopPropagation();',prevent:'$event.preventDefault();',self:genGuard("$event.target !== $event.currentTarget"),ctrl:genGuard("!$event.ctrlKey"),shift:genGuard("!$event.shiftKey"),alt:genGuard("!$event.altKey"),meta:genGuard("!$event.metaKey"),left:genGuard("'button' in $event && $event.button !== 0"),middle:genGuard("'button' in $event && $event.button !== 1"),right:genGuard("'button' in $event && $event.button !== 2")};function genHandlers(events,isNative,warn){var res=isNative?'nativeOn:{':'on:{';for(var name in events){var handler=events[name];// #5330: warn click.right, since right clicks do not actually fire click events.
if(false){warn("Use \"contextmenu\" instead of \"click.right\" since right clicks "+"do not actually fire \"click\" events.");}res+="\""+name+"\":"+genHandler(name,handler)+",";}return res.slice(0,-1)+'}';}function genHandler(name,handler){if(!handler){return'function(){}';}if(Array.isArray(handler)){return"["+handler.map(function(handler){return genHandler(name,handler);}).join(',')+"]";}var isMethodPath=simplePathRE.test(handler.value);var isFunctionExpression=fnExpRE.test(handler.value);if(!handler.modifiers){return isMethodPath||isFunctionExpression?handler.value:"function($event){"+handler.value+"}";// inline statement
}else{var code='';var genModifierCode='';var keys=[];for(var key in handler.modifiers){if(modifierCode[key]){genModifierCode+=modifierCode[key];// left/right
if(keyCodes[key]){keys.push(key);}}else{keys.push(key);}}if(keys.length){code+=genKeyFilter(keys);}// Make sure modifiers like prevent and stop get executed after key filtering
if(genModifierCode){code+=genModifierCode;}var handlerCode=isMethodPath?handler.value+'($event)':isFunctionExpression?"("+handler.value+")($event)":handler.value;return"function($event){"+code+handlerCode+"}";}}function genKeyFilter(keys){return"if(!('button' in $event)&&"+keys.map(genFilterCode).join('&&')+")return null;";}function genFilterCode(key){var keyVal=parseInt(key,10);if(keyVal){return"$event.keyCode!=="+keyVal;}var alias=keyCodes[key];return"_k($event.keyCode,"+JSON.stringify(key)+(alias?','+JSON.stringify(alias):'')+")";}/*  */function bind$1(el,dir){el.wrapData=function(code){return"_b("+code+",'"+el.tag+"',"+dir.value+(dir.modifiers&&dir.modifiers.prop?',true':'')+")";};}/*  */var baseDirectives={bind:bind$1,cloak:noop};/*  */// configurable state
var warn$3;var transforms$1;var dataGenFns;var platformDirectives$1;var isPlatformReservedTag$1;var staticRenderFns;var onceCount;var currentOptions;function generate(ast,options){// save previous staticRenderFns so generate calls can be nested
var prevStaticRenderFns=staticRenderFns;var currentStaticRenderFns=staticRenderFns=[];var prevOnceCount=onceCount;onceCount=0;currentOptions=options;warn$3=options.warn||baseWarn;transforms$1=pluckModuleFunction(options.modules,'transformCode');dataGenFns=pluckModuleFunction(options.modules,'genData');platformDirectives$1=options.directives||{};isPlatformReservedTag$1=options.isReservedTag||no;var code=ast?genElement(ast):'_c("div")';staticRenderFns=prevStaticRenderFns;onceCount=prevOnceCount;return{render:"with(this){return "+code+"}",staticRenderFns:currentStaticRenderFns};}function genElement(el){if(el.staticRoot&&!el.staticProcessed){return genStatic(el);}else if(el.once&&!el.onceProcessed){return genOnce(el);}else if(el.for&&!el.forProcessed){return genFor(el);}else if(el.if&&!el.ifProcessed){return genIf(el);}else if(el.tag==='template'&&!el.slotTarget){return genChildren(el)||'void 0';}else if(el.tag==='slot'){return genSlot(el);}else{// component or element
var code;if(el.component){code=genComponent(el.component,el);}else{var data=el.plain?undefined:genData(el);var children=el.inlineTemplate?null:genChildren(el,true);code="_c('"+el.tag+"'"+(data?","+data:'')+(children?","+children:'')+")";}// module transforms
for(var i=0;i<transforms$1.length;i++){code=transforms$1[i](el,code);}return code;}}// hoist static sub-trees out
function genStatic(el){el.staticProcessed=true;staticRenderFns.push("with(this){return "+genElement(el)+"}");return"_m("+(staticRenderFns.length-1)+(el.staticInFor?',true':'')+")";}// v-once
function genOnce(el){el.onceProcessed=true;if(el.if&&!el.ifProcessed){return genIf(el);}else if(el.staticInFor){var key='';var parent=el.parent;while(parent){if(parent.for){key=parent.key;break;}parent=parent.parent;}if(!key){"production"!=='production'&&warn$3("v-once can only be used inside v-for that is keyed. ");return genElement(el);}return"_o("+genElement(el)+","+onceCount++ +(key?","+key:"")+")";}else{return genStatic(el);}}function genIf(el){el.ifProcessed=true;// avoid recursion
return genIfConditions(el.ifConditions.slice());}function genIfConditions(conditions){if(!conditions.length){return'_e()';}var condition=conditions.shift();if(condition.exp){return"("+condition.exp+")?"+genTernaryExp(condition.block)+":"+genIfConditions(conditions);}else{return""+genTernaryExp(condition.block);}// v-if with v-once should generate code like (a)?_m(0):_m(1)
function genTernaryExp(el){return el.once?genOnce(el):genElement(el);}}function genFor(el){var exp=el.for;var alias=el.alias;var iterator1=el.iterator1?","+el.iterator1:'';var iterator2=el.iterator2?","+el.iterator2:'';if(false){warn$3("<"+el.tag+" v-for=\""+alias+" in "+exp+"\">: component lists rendered with "+"v-for should have explicit keys. "+"See https://vuejs.org/guide/list.html#key for more info.",true/* tip */);}el.forProcessed=true;// avoid recursion
return"_l(("+exp+"),"+"function("+alias+iterator1+iterator2+"){"+"return "+genElement(el)+'})';}function genData(el){var data='{';// directives first.
// directives may mutate the el's other properties before they are generated.
var dirs=genDirectives(el);if(dirs){data+=dirs+',';}// key
if(el.key){data+="key:"+el.key+",";}// ref
if(el.ref){data+="ref:"+el.ref+",";}if(el.refInFor){data+="refInFor:true,";}// pre
if(el.pre){data+="pre:true,";}// record original tag name for components using "is" attribute
if(el.component){data+="tag:\""+el.tag+"\",";}// module data generation functions
for(var i=0;i<dataGenFns.length;i++){data+=dataGenFns[i](el);}// attributes
if(el.attrs){data+="attrs:{"+genProps(el.attrs)+"},";}// DOM props
if(el.props){data+="domProps:{"+genProps(el.props)+"},";}// event handlers
if(el.events){data+=genHandlers(el.events,false,warn$3)+",";}if(el.nativeEvents){data+=genHandlers(el.nativeEvents,true,warn$3)+",";}// slot target
if(el.slotTarget){data+="slot:"+el.slotTarget+",";}// scoped slots
if(el.scopedSlots){data+=genScopedSlots(el.scopedSlots)+",";}// component v-model
if(el.model){data+="model:{value:"+el.model.value+",callback:"+el.model.callback+",expression:"+el.model.expression+"},";}// inline-template
if(el.inlineTemplate){var inlineTemplate=genInlineTemplate(el);if(inlineTemplate){data+=inlineTemplate+",";}}data=data.replace(/,$/,'')+'}';// v-bind data wrap
if(el.wrapData){data=el.wrapData(data);}return data;}function genDirectives(el){var dirs=el.directives;if(!dirs){return;}var res='directives:[';var hasRuntime=false;var i,l,dir,needRuntime;for(i=0,l=dirs.length;i<l;i++){dir=dirs[i];needRuntime=true;var gen=platformDirectives$1[dir.name]||baseDirectives[dir.name];if(gen){// compile-time directive that manipulates AST.
// returns true if it also needs a runtime counterpart.
needRuntime=!!gen(el,dir,warn$3);}if(needRuntime){hasRuntime=true;res+="{name:\""+dir.name+"\",rawName:\""+dir.rawName+"\""+(dir.value?",value:("+dir.value+"),expression:"+JSON.stringify(dir.value):'')+(dir.arg?",arg:\""+dir.arg+"\"":'')+(dir.modifiers?",modifiers:"+JSON.stringify(dir.modifiers):'')+"},";}}if(hasRuntime){return res.slice(0,-1)+']';}}function genInlineTemplate(el){var ast=el.children[0];if(false){warn$3('Inline-template components must have exactly one child element.');}if(ast.type===1){var inlineRenderFns=generate(ast,currentOptions);return"inlineTemplate:{render:function(){"+inlineRenderFns.render+"},staticRenderFns:["+inlineRenderFns.staticRenderFns.map(function(code){return"function(){"+code+"}";}).join(',')+"]}";}}function genScopedSlots(slots){return"scopedSlots:_u(["+Object.keys(slots).map(function(key){return genScopedSlot(key,slots[key]);}).join(',')+"])";}function genScopedSlot(key,el){if(el.for&&!el.forProcessed){return genForScopedSlot(key,el);}return"{key:"+key+",fn:function("+String(el.attrsMap.scope)+"){"+"return "+(el.tag==='template'?genChildren(el)||'void 0':genElement(el))+"}}";}function genForScopedSlot(key,el){var exp=el.for;var alias=el.alias;var iterator1=el.iterator1?","+el.iterator1:'';var iterator2=el.iterator2?","+el.iterator2:'';el.forProcessed=true;// avoid recursion
return"_l(("+exp+"),"+"function("+alias+iterator1+iterator2+"){"+"return "+genScopedSlot(key,el)+'})';}function genChildren(el,checkSkip){var children=el.children;if(children.length){var el$1=children[0];// optimize single v-for
if(children.length===1&&el$1.for&&el$1.tag!=='template'&&el$1.tag!=='slot'){return genElement(el$1);}var normalizationType=checkSkip?getNormalizationType(children):0;return"["+children.map(genNode).join(',')+"]"+(normalizationType?","+normalizationType:'');}}// determine the normalization needed for the children array.
// 0: no normalization needed
// 1: simple normalization needed (possible 1-level deep nested array)
// 2: full normalization needed
function getNormalizationType(children){var res=0;for(var i=0;i<children.length;i++){var el=children[i];if(el.type!==1){continue;}if(needsNormalization(el)||el.ifConditions&&el.ifConditions.some(function(c){return needsNormalization(c.block);})){res=2;break;}if(maybeComponent(el)||el.ifConditions&&el.ifConditions.some(function(c){return maybeComponent(c.block);})){res=1;}}return res;}function needsNormalization(el){return el.for!==undefined||el.tag==='template'||el.tag==='slot';}function maybeComponent(el){return!isPlatformReservedTag$1(el.tag);}function genNode(node){if(node.type===1){return genElement(node);}else{return genText(node);}}function genText(text){return"_v("+(text.type===2?text.expression// no need for () because already wrapped in _s()
:transformSpecialNewlines(JSON.stringify(text.text)))+")";}function genSlot(el){var slotName=el.slotName||'"default"';var children=genChildren(el);var res="_t("+slotName+(children?","+children:'');var attrs=el.attrs&&"{"+el.attrs.map(function(a){return camelize(a.name)+":"+a.value;}).join(',')+"}";var bind$$1=el.attrsMap['v-bind'];if((attrs||bind$$1)&&!children){res+=",null";}if(attrs){res+=","+attrs;}if(bind$$1){res+=(attrs?'':',null')+","+bind$$1;}return res+')';}// componentName is el.component, take it as argument to shun flow's pessimistic refinement
function genComponent(componentName,el){var children=el.inlineTemplate?null:genChildren(el,true);return"_c("+componentName+","+genData(el)+(children?","+children:'')+")";}function genProps(props){var res='';for(var i=0;i<props.length;i++){var prop=props[i];res+="\""+prop.name+"\":"+transformSpecialNewlines(prop.value)+",";}return res.slice(0,-1);}// #3895, #4268
function transformSpecialNewlines(text){return text.replace(/\u2028/g,'\\u2028').replace(/\u2029/g,'\\u2029');}/*  */// these keywords should not appear inside expressions, but operators like
// typeof, instanceof and in are allowed
var prohibitedKeywordRE=new RegExp('\\b'+('do,if,for,let,new,try,var,case,else,with,await,break,catch,class,const,'+'super,throw,while,yield,delete,export,import,return,switch,default,'+'extends,finally,continue,debugger,function,arguments').split(',').join('\\b|\\b')+'\\b');// these unary operators should not be used as property/method names
var unaryOperatorsRE=new RegExp('\\b'+'delete,typeof,void'.split(',').join('\\s*\\([^\\)]*\\)|\\b')+'\\s*\\([^\\)]*\\)');// check valid identifier for v-for
var identRE=/[A-Za-z_$][\w$]*/;// strip strings in expressions
var stripStringRE=/'(?:[^'\\]|\\.)*'|"(?:[^"\\]|\\.)*"|`(?:[^`\\]|\\.)*\$\{|\}(?:[^`\\]|\\.)*`|`(?:[^`\\]|\\.)*`/g;// detect problematic expressions in a template
function detectErrors(ast){var errors=[];if(ast){checkNode(ast,errors);}return errors;}function checkNode(node,errors){if(node.type===1){for(var name in node.attrsMap){if(dirRE.test(name)){var value=node.attrsMap[name];if(value){if(name==='v-for'){checkFor(node,"v-for=\""+value+"\"",errors);}else if(onRE.test(name)){checkEvent(value,name+"=\""+value+"\"",errors);}else{checkExpression(value,name+"=\""+value+"\"",errors);}}}}if(node.children){for(var i=0;i<node.children.length;i++){checkNode(node.children[i],errors);}}}else if(node.type===2){checkExpression(node.expression,node.text,errors);}}function checkEvent(exp,text,errors){var stipped=exp.replace(stripStringRE,'');var keywordMatch=stipped.match(unaryOperatorsRE);if(keywordMatch&&stipped.charAt(keywordMatch.index-1)!=='$'){errors.push("avoid using JavaScript unary operator as property name: "+"\""+keywordMatch[0]+"\" in expression "+text.trim());}checkExpression(exp,text,errors);}function checkFor(node,text,errors){checkExpression(node.for||'',text,errors);checkIdentifier(node.alias,'v-for alias',text,errors);checkIdentifier(node.iterator1,'v-for iterator',text,errors);checkIdentifier(node.iterator2,'v-for iterator',text,errors);}function checkIdentifier(ident,type,text,errors){if(typeof ident==='string'&&!identRE.test(ident)){errors.push("invalid "+type+" \""+ident+"\" in expression: "+text.trim());}}function checkExpression(exp,text,errors){try{new Function("return "+exp);}catch(e){var keywordMatch=exp.replace(stripStringRE,'').match(prohibitedKeywordRE);if(keywordMatch){errors.push("avoid using JavaScript keyword as property name: "+"\""+keywordMatch[0]+"\" in expression "+text.trim());}else{errors.push("invalid expression: "+text.trim());}}}/*  */function baseCompile(template,options){var ast=parse(template.trim(),options);optimize(ast,options);var code=generate(ast,options);return{ast:ast,render:code.render,staticRenderFns:code.staticRenderFns};}function makeFunction(code,errors){try{return new Function(code);}catch(err){errors.push({err:err,code:code});return noop;}}function createCompiler(baseOptions){var functionCompileCache=Object.create(null);function compile(template,options){var finalOptions=Object.create(baseOptions);var errors=[];var tips=[];finalOptions.warn=function(msg,tip$$1){(tip$$1?tips:errors).push(msg);};if(options){// merge custom modules
if(options.modules){finalOptions.modules=(baseOptions.modules||[]).concat(options.modules);}// merge custom directives
if(options.directives){finalOptions.directives=extend(Object.create(baseOptions.directives),options.directives);}// copy other options
for(var key in options){if(key!=='modules'&&key!=='directives'){finalOptions[key]=options[key];}}}var compiled=baseCompile(template,finalOptions);if(false){errors.push.apply(errors,detectErrors(compiled.ast));}compiled.errors=errors;compiled.tips=tips;return compiled;}function compileToFunctions(template,options,vm){options=options||{};/* istanbul ignore if */if(false){// detect possible CSP restriction
try{new Function('return 1');}catch(e){if(e.toString().match(/unsafe-eval|CSP/)){warn('It seems you are using the standalone build of Vue.js in an '+'environment with Content Security Policy that prohibits unsafe-eval. '+'The template compiler cannot work in this environment. Consider '+'relaxing the policy to allow unsafe-eval or pre-compiling your '+'templates into render functions.');}}}// check cache
var key=options.delimiters?String(options.delimiters)+template:template;if(functionCompileCache[key]){return functionCompileCache[key];}// compile
var compiled=compile(template,options);// check compilation errors/tips
if(false){if(compiled.errors&&compiled.errors.length){warn("Error compiling template:\n\n"+template+"\n\n"+compiled.errors.map(function(e){return"- "+e;}).join('\n')+'\n',vm);}if(compiled.tips&&compiled.tips.length){compiled.tips.forEach(function(msg){return tip(msg,vm);});}}// turn code into functions
var res={};var fnGenErrors=[];res.render=makeFunction(compiled.render,fnGenErrors);var l=compiled.staticRenderFns.length;res.staticRenderFns=new Array(l);for(var i=0;i<l;i++){res.staticRenderFns[i]=makeFunction(compiled.staticRenderFns[i],fnGenErrors);}// check function generation errors.
// this should only happen if there is a bug in the compiler itself.
// mostly for codegen development use
/* istanbul ignore if */if(false){if((!compiled.errors||!compiled.errors.length)&&fnGenErrors.length){warn("Failed to generate render function:\n\n"+fnGenErrors.map(function(ref){var err=ref.err;var code=ref.code;return err.toString()+" in\n\n"+code+"\n";}).join('\n'),vm);}}return functionCompileCache[key]=res;}return{compile:compile,compileToFunctions:compileToFunctions};}/*  */function transformNode(el,options){var warn=options.warn||baseWarn;var staticClass=getAndRemoveAttr(el,'class');if(false){var expression=parseText(staticClass,options.delimiters);if(expression){warn("class=\""+staticClass+"\": "+'Interpolation inside attributes has been removed. '+'Use v-bind or the colon shorthand instead. For example, '+'instead of <div class="{{ val }}">, use <div :class="val">.');}}if(staticClass){el.staticClass=JSON.stringify(staticClass);}var classBinding=getBindingAttr(el,'class',false/* getStatic */);if(classBinding){el.classBinding=classBinding;}}function genData$1(el){var data='';if(el.staticClass){data+="staticClass:"+el.staticClass+",";}if(el.classBinding){data+="class:"+el.classBinding+",";}return data;}var klass$1={staticKeys:['staticClass'],transformNode:transformNode,genData:genData$1};/*  */function transformNode$1(el,options){var warn=options.warn||baseWarn;var staticStyle=getAndRemoveAttr(el,'style');if(staticStyle){/* istanbul ignore if */if(false){var expression=parseText(staticStyle,options.delimiters);if(expression){warn("style=\""+staticStyle+"\": "+'Interpolation inside attributes has been removed. '+'Use v-bind or the colon shorthand instead. For example, '+'instead of <div style="{{ val }}">, use <div :style="val">.');}}el.staticStyle=JSON.stringify(parseStyleText(staticStyle));}var styleBinding=getBindingAttr(el,'style',false/* getStatic */);if(styleBinding){el.styleBinding=styleBinding;}}function genData$2(el){var data='';if(el.staticStyle){data+="staticStyle:"+el.staticStyle+",";}if(el.styleBinding){data+="style:("+el.styleBinding+"),";}return data;}var style$1={staticKeys:['staticStyle'],transformNode:transformNode$1,genData:genData$2};var modules$1=[klass$1,style$1];/*  */function text(el,dir){if(dir.value){addProp(el,'textContent',"_s("+dir.value+")");}}/*  */function html(el,dir){if(dir.value){addProp(el,'innerHTML',"_s("+dir.value+")");}}var directives$1={model:model,text:text,html:html};/*  */var baseOptions={expectHTML:true,modules:modules$1,directives:directives$1,isPreTag:isPreTag,isUnaryTag:isUnaryTag,mustUseProp:mustUseProp,canBeLeftOpenTag:canBeLeftOpenTag,isReservedTag:isReservedTag,getTagNamespace:getTagNamespace,staticKeys:genStaticKeys(modules$1)};var ref$1=createCompiler(baseOptions);var compileToFunctions=ref$1.compileToFunctions;/*  */var idToTemplate=cached(function(id){var el=query(id);return el&&el.innerHTML;});var mount=Vue$3.prototype.$mount;Vue$3.prototype.$mount=function(el,hydrating){el=el&&query(el);/* istanbul ignore if */if(el===document.body||el===document.documentElement){"production"!=='production'&&warn("Do not mount Vue to <html> or <body> - mount to normal elements instead.");return this;}var options=this.$options;// resolve template/el and convert to render function
if(!options.render){var template=options.template;if(template){if(typeof template==='string'){if(template.charAt(0)==='#'){template=idToTemplate(template);/* istanbul ignore if */if(false){warn("Template element not found or is empty: "+options.template,this);}}}else if(template.nodeType){template=template.innerHTML;}else{if(false){warn('invalid template option:'+template,this);}return this;}}else if(el){template=getOuterHTML(el);}if(template){/* istanbul ignore if */if(false){mark('compile');}var ref=compileToFunctions(template,{shouldDecodeNewlines:shouldDecodeNewlines,delimiters:options.delimiters},this);var render=ref.render;var staticRenderFns=ref.staticRenderFns;options.render=render;options.staticRenderFns=staticRenderFns;/* istanbul ignore if */if(false){mark('compile end');measure(this._name+" compile",'compile','compile end');}}}return mount.call(this,el,hydrating);};/**
 * Get outerHTML of elements, taking care
 * of SVG elements in IE as well.
 */function getOuterHTML(el){if(el.outerHTML){return el.outerHTML;}else{var container=document.createElement('div');container.appendChild(el.cloneNode(true));return container.innerHTML;}}Vue$3.compile=compileToFunctions;/* harmony default export */__webpack_exports__["a"]=Vue$3;/* WEBPACK VAR INJECTION */}).call(__webpack_exports__,__webpack_require__(2));/***/},/* 10 *//***/function(module,__webpack_exports__,__webpack_require__){"use strict";/* harmony default export */__webpack_exports__["a"]={methods:{__runAjax:function __runAjax(uri){var data=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};var method=arguments.length>2&&arguments[2]!==undefined?arguments[2]:'get';var dataType=arguments.length>3&&arguments[3]!==undefined?arguments[3]:'json';return new Promise(function(resolve,reject){if($==undefined){reject('JQUERY NOT AVAILABLE!');}$.ajax({url:uri,method:method||'get',data:data,dataType:dataType,success:function success(response,status,xhr){resolve({success:true,data:response,transferStatus:status,xhr:xhr});},error:function error(xhr,status,_error){reject({success:false,error:_error,transferStatus:status,xhr:xhr});}});});},$_post:function $_post(uri,data){return this.__runAjax(uri,data,'post');},$_get:function $_get(uri,data){return this.__runAjax(uri,data,'get');},$_load:function $_load(uri,data){return this.__runAjax(uri,data,'get',"html");},$_delete:function $_delete(uri,data){return this.__runAjax(uri,data,'delete');},$_put:function $_put(uri,data){return this.__runAjax(uri,data,'put');}}};/***/},/* 11 *//***/function(module,exports,__webpack_require__){var baseKeys=__webpack_require__(51),getTag=__webpack_require__(54),isArguments=__webpack_require__(66),isArray=__webpack_require__(68),isArrayLike=__webpack_require__(69),isBuffer=__webpack_require__(70),isPrototype=__webpack_require__(12),isTypedArray=__webpack_require__(72);/** `Object#toString` result references. */var mapTag='[object Map]',setTag='[object Set]';/** Used for built-in method references. */var objectProto=Object.prototype;/** Used to check objects for own properties. */var hasOwnProperty=objectProto.hasOwnProperty;/**
 * Checks if `value` is an empty object, collection, map, or set.
 *
 * Objects are considered empty if they have no own enumerable string keyed
 * properties.
 *
 * Array-like values such as `arguments` objects, arrays, buffers, strings, or
 * jQuery-like collections are considered empty if they have a `length` of `0`.
 * Similarly, maps and sets are considered empty if they have a `size` of `0`.
 *
 * @static
 * @memberOf _
 * @since 0.1.0
 * @category Lang
 * @param {*} value The value to check.
 * @returns {boolean} Returns `true` if `value` is empty, else `false`.
 * @example
 *
 * _.isEmpty(null);
 * // => true
 *
 * _.isEmpty(true);
 * // => true
 *
 * _.isEmpty(1);
 * // => true
 *
 * _.isEmpty([1, 2, 3]);
 * // => false
 *
 * _.isEmpty({ 'a': 1 });
 * // => false
 */function isEmpty(value){if(value==null){return true;}if(isArrayLike(value)&&(isArray(value)||typeof value=='string'||typeof value.splice=='function'||isBuffer(value)||isTypedArray(value)||isArguments(value))){return!value.length;}var tag=getTag(value);if(tag==mapTag||tag==setTag){return!value.size;}if(isPrototype(value)){return!baseKeys(value).length;}for(var key in value){if(hasOwnProperty.call(value,key)){return false;}}return true;}module.exports=isEmpty;/***/},/* 12 *//***/function(module,exports){/** Used for built-in method references. */var objectProto=Object.prototype;/**
 * Checks if `value` is likely a prototype object.
 *
 * @private
 * @param {*} value The value to check.
 * @returns {boolean} Returns `true` if `value` is a prototype, else `false`.
 */function isPrototype(value){var Ctor=value&&value.constructor,proto=typeof Ctor=='function'&&Ctor.prototype||objectProto;return value===proto;}module.exports=isPrototype;/***/},/* 13 *//***/function(module,exports,__webpack_require__){var baseGetTag=__webpack_require__(7),isObject=__webpack_require__(16);/** `Object#toString` result references. */var asyncTag='[object AsyncFunction]',funcTag='[object Function]',genTag='[object GeneratorFunction]',proxyTag='[object Proxy]';/**
 * Checks if `value` is classified as a `Function` object.
 *
 * @static
 * @memberOf _
 * @since 0.1.0
 * @category Lang
 * @param {*} value The value to check.
 * @returns {boolean} Returns `true` if `value` is a function, else `false`.
 * @example
 *
 * _.isFunction(_);
 * // => true
 *
 * _.isFunction(/abc/);
 * // => false
 */function isFunction(value){if(!isObject(value)){return false;}// The use of `Object#toString` avoids issues with the `typeof` operator
// in Safari 9 which returns 'object' for typed arrays and other constructors.
var tag=baseGetTag(value);return tag==funcTag||tag==genTag||tag==asyncTag||tag==proxyTag;}module.exports=isFunction;/***/},/* 14 *//***/function(module,exports,__webpack_require__){var root=__webpack_require__(0);/** Built-in value references. */var _Symbol2=root.Symbol;module.exports=_Symbol2;/***/},/* 15 *//***/function(module,exports,__webpack_require__){/* WEBPACK VAR INJECTION */(function(global){/** Detect free variable `global` from Node.js. */var freeGlobal=(typeof global==='undefined'?'undefined':_typeof(global))=='object'&&global&&global.Object===Object&&global;module.exports=freeGlobal;/* WEBPACK VAR INJECTION */}).call(exports,__webpack_require__(2));/***/},/* 16 *//***/function(module,exports){/**
 * Checks if `value` is the
 * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)
 * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)
 *
 * @static
 * @memberOf _
 * @since 0.1.0
 * @category Lang
 * @param {*} value The value to check.
 * @returns {boolean} Returns `true` if `value` is an object, else `false`.
 * @example
 *
 * _.isObject({});
 * // => true
 *
 * _.isObject([1, 2, 3]);
 * // => true
 *
 * _.isObject(_.noop);
 * // => true
 *
 * _.isObject(null);
 * // => false
 */function isObject(value){var type=typeof value==='undefined'?'undefined':_typeof(value);return value!=null&&(type=='object'||type=='function');}module.exports=isObject;/***/},/* 17 *//***/function(module,exports){/** Used for built-in method references. */var funcProto=Function.prototype;/** Used to resolve the decompiled source of functions. */var funcToString=funcProto.toString;/**
 * Converts `func` to its source code.
 *
 * @private
 * @param {Function} func The function to convert.
 * @returns {string} Returns the source code.
 */function toSource(func){if(func!=null){try{return funcToString.call(func);}catch(e){}try{return func+'';}catch(e){}}return'';}module.exports=toSource;/***/},/* 18 *//***/function(module,exports){/** Used as references for various `Number` constants. */var MAX_SAFE_INTEGER=9007199254740991;/**
 * Checks if `value` is a valid array-like length.
 *
 * **Note:** This method is loosely based on
 * [`ToLength`](http://ecma-international.org/ecma-262/7.0/#sec-tolength).
 *
 * @static
 * @memberOf _
 * @since 4.0.0
 * @category Lang
 * @param {*} value The value to check.
 * @returns {boolean} Returns `true` if `value` is a valid length, else `false`.
 * @example
 *
 * _.isLength(3);
 * // => true
 *
 * _.isLength(Number.MIN_VALUE);
 * // => false
 *
 * _.isLength(Infinity);
 * // => false
 *
 * _.isLength('3');
 * // => false
 */function isLength(value){return typeof value=='number'&&value>-1&&value%1==0&&value<=MAX_SAFE_INTEGER;}module.exports=isLength;/***/},/* 19 *//***/function(module,exports,__webpack_require__){module.exports=__webpack_require__(20);/***/},/* 20 *//***/function(module,__webpack_exports__,__webpack_require__){"use strict";Object.defineProperty(__webpack_exports__,"__esModule",{value:true});/* harmony import */var __WEBPACK_IMPORTED_MODULE_0_vue__=__webpack_require__(9);/* harmony import */var __WEBPACK_IMPORTED_MODULE_1__ckeditor_ckeditor5_vue__=__webpack_require__(21);/* harmony import */var __WEBPACK_IMPORTED_MODULE_1__ckeditor_ckeditor5_vue___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__ckeditor_ckeditor5_vue__);/* harmony import */var __WEBPACK_IMPORTED_MODULE_2__App_vue__=__webpack_require__(22);/* harmony import */var __WEBPACK_IMPORTED_MODULE_2__App_vue___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2__App_vue__);/* harmony import */var __WEBPACK_IMPORTED_MODULE_3__storage_store__=__webpack_require__(44);/* harmony import */var __WEBPACK_IMPORTED_MODULE_4__mixins_logSystem__=__webpack_require__(79);/* harmony import */var __WEBPACK_IMPORTED_MODULE_4__mixins_logSystem___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4__mixins_logSystem__);// import CKEditor from '@ckeditor/ckeditor5-vue';
//Ignore phpunits testing tags
__WEBPACK_IMPORTED_MODULE_0_vue__["a"/* default */].config.ignoredElements=["x-test"];__WEBPACK_IMPORTED_MODULE_0_vue__["a"/* default */].use(__WEBPACK_IMPORTED_MODULE_4__mixins_logSystem___default.a);__WEBPACK_IMPORTED_MODULE_0_vue__["a"/* default */].use(__WEBPACK_IMPORTED_MODULE_1__ckeditor_ckeditor5_vue___default.a);__WEBPACK_IMPORTED_MODULE_0_vue__["a"/* default */].mixin({methods:{toggleLoading:function toggleLoading(){var forceState=arguments.length>0&&arguments[0]!==undefined?arguments[0]:null;if(forceState!==null){if(forceState){$('#questionEditLoader').fadeIn(200);}else{$('#questionEditLoader').fadeOut(400);}return;}if($('#questionEditLoader').css('display')=='none'){$('#questionEditLoader').fadeIn(200);return;}$('#questionEditLoader').fadeOut(400);}},filters:{translate:function translate(value){return window.QuestionEditData.i10N[value]||value;}}});var AppState=__WEBPACK_IMPORTED_MODULE_3__storage_store__["a"/* default */](window.LS.parameters.qid);var questionEditor=new __WEBPACK_IMPORTED_MODULE_0_vue__["a"/* default */]({el:'#advancedQuestionEditor',store:AppState,components:{App:__WEBPACK_IMPORTED_MODULE_2__App_vue___default.a}});/***/},/* 21 *//***/function(module,exports,__webpack_require__){/*!
 * @license Copyright (c) 2003-2018, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */!function(t,e){true?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==(typeof exports==='undefined'?'undefined':_typeof(exports))?exports.CKEditor=e():t.CKEditor=e();}(window,function(){return function(t){var e={};function n(i){if(e[i])return e[i].exports;var o=e[i]={i:i,l:!1,exports:{}};return t[i].call(o.exports,o,o.exports,n),o.l=!0,o.exports;}return n.m=t,n.c=e,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i});},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0});},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==(typeof t==='undefined'?'undefined':_typeof(t))&&t&&t.__esModule)return t;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t){n.d(i,o,function(e){return t[e];}.bind(null,o));}return i;},n.n=function(t){var e=t&&t.__esModule?function(){return t.default;}:function(){return t;};return n.d(e,"a",e),e;},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e);},n.p="",n(n.s=0);}([function(t,e,n){"use strict";n.r(e);var i={name:"ckeditor",render:function render(t){return t(this.tagName);},props:{editor:{type:Function,default:null},value:{type:String,default:""},config:{type:Object,default:function _default(){return{};}},tagName:{type:String,default:"div"},disabled:{type:Boolean,default:!1}},data:function data(){return{instance:null};},mounted:function mounted(){var _this2=this;this.editor.create(this.$el,this.config).then(function(t){_this2.instance=t,t.setData(_this2.value),t.isReadOnly=_this2.disabled,_this2.$_setUpEditorEvents(),_this2.$emit("ready",t);}).catch(function(t){console.error(t);});},beforeDestroy:function beforeDestroy(){this.instance&&(this.instance.destroy(),this.instance=null),this.$emit("destroy",this.instance);},watch:{value:function value(t){this.instance.getData()!==t&&this.instance.setData(t);},disabled:function disabled(t){this.instance.isReadOnly=t;}},methods:{$_setUpEditorEvents:function $_setUpEditorEvents(){var _this3=this;var t=this.instance;t.model.document.on("change:data",function(e){var n=t.getData();_this3.$emit("input",n,e,t);}),t.editing.view.document.on("focus",function(e){_this3.$emit("focus",e,t);}),t.editing.view.document.on("blur",function(e){_this3.$emit("blur",e,t);});}}};var o={install:function install(t){t.component("ckeditor",i);},component:i};e.default=o;}]).default;});//# sourceMappingURL=ckeditor.js.map
/***/},/* 22 *//***/function(module,exports,__webpack_require__){function injectStyle(ssrContext){__webpack_require__(23);}var Component=__webpack_require__(5)(/* script */__webpack_require__(26),/* template */__webpack_require__(43),/* styles */injectStyle,/* scopeId */"data-v-05c0cfb0",/* moduleIdentifier (server only) */null);module.exports=Component.exports;/***/},/* 23 *//***/function(module,exports,__webpack_require__){// style-loader: Adds some css to the DOM by adding a <style> tag
// load the styles
var content=__webpack_require__(24);if(typeof content==='string')content=[[module.i,content,'']];if(content.locals)module.exports=content.locals;// add the styles to the DOM
var update=__webpack_require__(4)("2fb819dc",content,true);/***/},/* 24 *//***/function(module,exports,__webpack_require__){exports=module.exports=__webpack_require__(3)(undefined);// imports
// module
exports.push([module.i,".loading-back-greyed[data-v-05c0cfb0]{background-color:hsla(0,0%,78%,.4);width:100%;height:100%;min-height:60vh}",""]);// exports
/***/},/* 25 *//***/function(module,exports){/**
 * Translates the list format produced by css-loader into something
 * easier to manipulate.
 */module.exports=function listToStyles(parentId,list){var styles=[];var newStyles={};for(var i=0;i<list.length;i++){var item=list[i];var id=item[0];var css=item[1];var media=item[2];var sourceMap=item[3];var part={id:parentId+':'+i,css:css,media:media,sourceMap:sourceMap};if(!newStyles[id]){styles.push(newStyles[id]={id:id,parts:[part]});}else{newStyles[id].parts.push(part);}}return styles;};/***/},/* 26 *//***/function(module,__webpack_exports__,__webpack_require__){"use strict";Object.defineProperty(__webpack_exports__,"__esModule",{value:true});/* harmony import */var __WEBPACK_IMPORTED_MODULE_0__components_mainEditor_vue__=__webpack_require__(27);/* harmony import */var __WEBPACK_IMPORTED_MODULE_0__components_mainEditor_vue___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__components_mainEditor_vue__);/* harmony import */var __WEBPACK_IMPORTED_MODULE_1__components_generalSettings_vue__=__webpack_require__(33);/* harmony import */var __WEBPACK_IMPORTED_MODULE_1__components_generalSettings_vue___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__components_generalSettings_vue__);/* harmony import */var __WEBPACK_IMPORTED_MODULE_2__components_advancedSettings_vue__=__webpack_require__(38);/* harmony import */var __WEBPACK_IMPORTED_MODULE_2__components_advancedSettings_vue___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2__components_advancedSettings_vue__);/* harmony default export */__webpack_exports__["default"]={name:'lsnextquestioneditor',data:function data(){return{};},components:{'maineditor':__WEBPACK_IMPORTED_MODULE_0__components_mainEditor_vue___default.a,'generalsettings':__WEBPACK_IMPORTED_MODULE_1__components_generalSettings_vue___default.a,'advancedsettings':__WEBPACK_IMPORTED_MODULE_2__components_advancedSettings_vue___default.a},mounted:function mounted(){this.toggleLoading(false);},created:function created(){this.$store.dispatch('loadQuestion');}};/***/},/* 27 *//***/function(module,exports,__webpack_require__){function injectStyle(ssrContext){__webpack_require__(28);}var Component=__webpack_require__(5)(/* script */__webpack_require__(30),/* template */__webpack_require__(32),/* styles */injectStyle,/* scopeId */"data-v-33645a86",/* moduleIdentifier (server only) */null);module.exports=Component.exports;/***/},/* 28 *//***/function(module,exports,__webpack_require__){// style-loader: Adds some css to the DOM by adding a <style> tag
// load the styles
var content=__webpack_require__(29);if(typeof content==='string')content=[[module.i,content,'']];if(content.locals)module.exports=content.locals;// add the styles to the DOM
var update=__webpack_require__(4)("603045d2",content,true);/***/},/* 29 *//***/function(module,exports,__webpack_require__){exports=module.exports=__webpack_require__(3)(undefined);// imports
// module
exports.push([module.i,".scope-set-min-height[data-v-33645a86]{min-height:40vh}.scope-border-simple[data-v-33645a86]{border:1px solid #cfcfcf}.scope-overflow-scroll[data-v-33645a86]{overflow:scroll;height:100%;width:100%}.scope-preview[data-v-33645a86]{margin:5px;border:1px solid #cfcfcf}",""]);// exports
/***/},/* 30 *//***/function(module,__webpack_exports__,__webpack_require__){"use strict";Object.defineProperty(__webpack_exports__,"__esModule",{value:true});/* harmony import */var __WEBPACK_IMPORTED_MODULE_0__mixins_runAjax_js__=__webpack_require__(10);/* harmony import */var __WEBPACK_IMPORTED_MODULE_1__ckeditor_ckeditor5_build_classic__=__webpack_require__(31);/* harmony import */var __WEBPACK_IMPORTED_MODULE_1__ckeditor_ckeditor5_build_classic___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__ckeditor_ckeditor5_build_classic__);// import _ from 'lodash';
/* harmony default export */__webpack_exports__["default"]={name:'MainEditor',mixins:[__WEBPACK_IMPORTED_MODULE_0__mixins_runAjax_js__["a"/* default */]],data:function data(){return{currentQuestionCode:'',editorQuestion:__WEBPACK_IMPORTED_MODULE_1__ckeditor_ckeditor5_build_classic___default.a,editorQuestionData:'',editorQuestionConfig:{},editorHelp:__WEBPACK_IMPORTED_MODULE_1__ckeditor_ckeditor5_build_classic___default.a,editorHelpData:'',editorHelpConfig:{},previewContent:{},previewActive:true,debug:false};},methods:{changeTriggered:function changeTriggered(){this.$log.log(arguments);// this.$store.commit('updateCurrentQuestionI10NValue', {value:'question', newValue: this.editorQuestionData});
// this.$store.commit('updateCurrentQuestionI10NValue', {value:'help', newValue: this.editorHelpData});
// this.getQuestionPreview();
},getQuestionPreview:function getQuestionPreview(){var _this4=this;this.$_load(window.QuestionEditData.connectorBaseUrl+'/getRenderedPreview',{'sLanguage':this.$store.state.activeLanguage,'iQuestionId':window.QuestionEditData.qid,'changedText':this.$store.getters.currentLanguageQuestionI10N}).then(function(result){_this4.previewContent=result.data;});},selectLanguage:function selectLanguage(sLanguage){this.$store.commit('setActiveLanguage',sLanguage);this.editorQuestionData=this.$store.getters.currentQuestionI10NQuestion;this.editorHelpData=this.$store.getters.currentQuestionI10NHelp;}},mounted:function mounted(){this.selectLanguage(this.$store.state.languages[0]);this.getQuestionPreview();this.currentQuestionCode=this.$store.state.currentQuestion.title;},created:function created(){}};/***/},/* 31 *//***/function(module,exports,__webpack_require__){/*!
 * @license Copyright (c) 2003-2018, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */!function(t){t.en=Object.assign(t.en||{},{a:"Cannot upload file:",b:"Italic",c:"Bold",d:"Block quote",e:"Full size image",f:"Side image",g:"Left aligned image",h:"Centered image",i:"Right aligned image",j:"image widget",k:"Insert image or file",l:"Insert image",m:"Choose heading",n:"Heading",o:"Numbered List",p:"Bulleted List",q:"Enter image caption",r:"Upload failed",s:"Link",t:"Insert table",u:"Header column",v:"Insert column left",w:"Insert column right",x:"Delete column",y:"Column",z:"Header row",aa:"Insert row below",ab:"Insert row above",ac:"Delete row",ad:"Row",ae:"Merge cell up",af:"Merge cell right",ag:"Merge cell down",ah:"Merge cell left",ai:"Split cell vertically",aj:"Split cell horizontally",ak:"Merge cells",al:"media widget",am:"Insert media",an:"The URL must not be empty.",ao:"This media URL is not supported.",ap:"Upload in progress",aq:"Could not obtain resized image URL.",ar:"Selecting resized image failed",as:"Could not insert image at the current position.",at:"Inserting image failed",au:"Change image text alternative",av:"Paragraph",aw:"Heading 1",ax:"Heading 2",ay:"Heading 3",az:"Rich Text Editor",ba:"Save",bb:"Cancel",bc:"Text alternative",bd:"Undo",be:"Redo",bf:"Media URL",bg:"Paste the URL into the content to embed faster.",bh:"Link URL",bi:"Unlink",bj:"Edit link",bk:"Open link in new tab",bl:"This link has no URL",bm:"Rich Text Editor, %0"});}(window.CKEDITOR_TRANSLATIONS||(window.CKEDITOR_TRANSLATIONS={})),function(t,e){true?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==(typeof exports==='undefined'?'undefined':_typeof(exports))?exports.ClassicEditor=e():t.ClassicEditor=e();}(window,function(){return function(t){var e={};function n(i){if(e[i])return e[i].exports;var o=e[i]={i:i,l:!1,exports:{}};return t[i].call(o.exports,o,o.exports,n),o.l=!0,o.exports;}return n.m=t,n.c=e,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i});},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0});},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==(typeof t==='undefined'?'undefined':_typeof(t))&&t&&t.__esModule)return t;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t){n.d(i,o,function(e){return t[e];}.bind(null,o));}return i;},n.n=function(t){var e=t&&t.__esModule?function(){return t.default;}:function(){return t;};return n.d(e,"a",e),e;},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e);},n.p="",n(n.s=117);}([function(t,e,n){"use strict";n.d(e,"b",function(){return o;}),n.d(e,"a",function(){return r;});var i="https://ckeditor.com/docs/ckeditor5/latest/framework/guides/support/error-codes.html";var o=function(_Error){_inherits(o,_Error);function o(t,e){var _this5;_classCallCheck(this,o);t=r(t),e&&(t+=" "+JSON.stringify(e)),(_this5=_possibleConstructorReturn(this,(o.__proto__||Object.getPrototypeOf(o)).call(this,t)),_this5),_this5.name="CKEditorError",_this5.data=e;return _this5;}_createClass(o,null,[{key:'isCKEditorError',value:function isCKEditorError(t){return t instanceof o;}}]);return o;}(Error);function r(t){var e=t.match(/^([^:]+):/);return e?t+(' Read more: '+i+'#error-'+e[1]+'\n'):t;}},function(t,e,n){"use strict";var i=n(0);var o={error:function error(t,e){console.error(Object(i.a)(t),e);},warn:function warn(t,e){console.warn(Object(i.a)(t),e);}};e.a=o;},function(t,e,n){var i={},o=function(t){var e;return function(){return void 0===e&&(e=t.apply(this,arguments)),e;};}(function(){return window&&document&&document.all&&!window.atob;}),r=function(t){var e={};return function(t,n){if("function"==typeof t)return t();if(void 0===e[t]){var i=function(t,e){return e?e.querySelector(t):document.querySelector(t);}.call(this,t,n);if(window.HTMLIFrameElement&&i instanceof window.HTMLIFrameElement)try{i=i.contentDocument.head;}catch(t){i=null;}e[t]=i;}return e[t];};}(),s=null,a=0,c=[],l=n(45);function d(t,e){for(var n=0;n<t.length;n++){var o=t[n],r=i[o.id];if(r){r.refs++;for(var s=0;s<r.parts.length;s++){r.parts[s](o.parts[s]);}for(;s<o.parts.length;s++){r.parts.push(g(o.parts[s],e));}}else{var a=[];for(s=0;s<o.parts.length;s++){a.push(g(o.parts[s],e));}i[o.id]={id:o.id,refs:1,parts:a};}}}function u(t,e){for(var n=[],i={},o=0;o<t.length;o++){var r=t[o],s=e.base?r[0]+e.base:r[0],a={css:r[1],media:r[2],sourceMap:r[3]};i[s]?i[s].parts.push(a):n.push(i[s]={id:s,parts:[a]});}return n;}function h(t,e){var n=r(t.insertInto);if(!n)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var i=c[c.length-1];if("top"===t.insertAt)i?i.nextSibling?n.insertBefore(e,i.nextSibling):n.appendChild(e):n.insertBefore(e,n.firstChild),c.push(e);else if("bottom"===t.insertAt)n.appendChild(e);else{if("object"!=_typeof(t.insertAt)||!t.insertAt.before)throw new Error("[Style Loader]\n\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\n Must be 'top', 'bottom', or Object.\n (https://github.com/webpack-contrib/style-loader#insertat)\n");var o=r(t.insertAt.before,n);n.insertBefore(e,o);}}function f(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t);var e=c.indexOf(t);e>=0&&c.splice(e,1);}function m(t){var e=document.createElement("style");if(void 0===t.attrs.type&&(t.attrs.type="text/css"),void 0===t.attrs.nonce){var i=function(){0;return n.nc;}();i&&(t.attrs.nonce=i);}return p(e,t.attrs),h(t,e),e;}function p(t,e){Object.keys(e).forEach(function(n){t.setAttribute(n,e[n]);});}function g(t,e){var n,i,o,r;if(e.transform&&t.css){if(!(r="function"==typeof e.transform?e.transform(t.css):e.transform.default(t.css)))return function(){};t.css=r;}if(e.singleton){var c=a++;n=s||(s=m(e)),i=w.bind(null,n,c,!1),o=w.bind(null,n,c,!0);}else t.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(n=function(t){var e=document.createElement("link");return void 0===t.attrs.type&&(t.attrs.type="text/css"),t.attrs.rel="stylesheet",p(e,t.attrs),h(t,e),e;}(e),i=function(t,e,n){var i=n.css,o=n.sourceMap,r=void 0===e.convertToAbsoluteUrls&&o;(e.convertToAbsoluteUrls||r)&&(i=l(i));o&&(i+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(o))))+" */");var s=new Blob([i],{type:"text/css"}),a=t.href;t.href=URL.createObjectURL(s),a&&URL.revokeObjectURL(a);}.bind(null,n,e),o=function o(){f(n),n.href&&URL.revokeObjectURL(n.href);}):(n=m(e),i=function(t,e){var n=e.css,i=e.media;i&&t.setAttribute("media",i);if(t.styleSheet)t.styleSheet.cssText=n;else{for(;t.firstChild;){t.removeChild(t.firstChild);}t.appendChild(document.createTextNode(n));}}.bind(null,n),o=function o(){f(n);});return i(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;i(t=e);}else o();};}t.exports=function(t,e){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=(typeof document==='undefined'?'undefined':_typeof(document)))throw new Error("The style-loader cannot be used in a non-browser environment");(e=e||{}).attrs="object"==_typeof(e.attrs)?e.attrs:{},e.singleton||"boolean"==typeof e.singleton||(e.singleton=o()),e.insertInto||(e.insertInto="head"),e.insertAt||(e.insertAt="bottom");var n=u(t,e);return d(n,e),function(t){for(var o=[],r=0;r<n.length;r++){var s=n[r];(a=i[s.id]).refs--,o.push(a);}t&&d(u(t,e),e);for(r=0;r<o.length;r++){var a;if(0===(a=o[r]).refs){for(var c=0;c<a.parts.length;c++){a.parts[c]();}delete i[a.id];}}};};var b=function(){var t=[];return function(e,n){return t[e]=n,t.filter(Boolean).join("\n");};}();function w(t,e,n,i){var o=n?"":i.css;if(t.styleSheet)t.styleSheet.cssText=b(e,o);else{var r=document.createTextNode(o),s=t.childNodes;s[e]&&t.removeChild(s[e]),s.length?t.insertBefore(r,s[e]):t.appendChild(r);}}},,function(t,e,n){"use strict";var i=n(9),o="object"==(typeof self==='undefined'?'undefined':_typeof(self))&&self&&self.Object===Object&&self,r=i.a||o||Function("return this")();e.a=r;},function(t,e,n){"use strict";(function(t){var i=n(9),o="object"==(typeof exports==='undefined'?'undefined':_typeof(exports))&&exports&&!exports.nodeType&&exports,r=o&&"object"==(typeof t==='undefined'?'undefined':_typeof(t))&&t&&!t.nodeType&&t,s=r&&r.exports===o&&i.a.process,a=function(){try{var t=r&&r.require&&r.require("util").types;return t||s&&s.binding&&s.binding("util");}catch(t){}}();e.a=a;}).call(this,n(11)(t));},function(t,e,n){"use strict";(function(t){var i=n(4),o=n(18),r="object"==(typeof exports==='undefined'?'undefined':_typeof(exports))&&exports&&!exports.nodeType&&exports,s=r&&"object"==(typeof t==='undefined'?'undefined':_typeof(t))&&t&&!t.nodeType&&t,a=s&&s.exports===r?i.a.Buffer:void 0,c=(a?a.isBuffer:void 0)||o.a;e.a=c;}).call(this,n(11)(t));},function(t,e){t.exports='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M6.972 16.615a.997.997 0 0 1-.744-.292l-4.596-4.596a1 1 0 1 1 1.414-1.414l3.926 3.926 9.937-9.937a1 1 0 0 1 1.414 1.415L7.717 16.323a.997.997 0 0 1-.745.292z"/></svg>';},function(t,e){t.exports='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M11.591 10.177l4.243 4.242a1 1 0 0 1-1.415 1.415l-4.242-4.243-4.243 4.243a1 1 0 0 1-1.414-1.415l4.243-4.242L4.52 5.934A1 1 0 0 1 5.934 4.52l4.243 4.243 4.242-4.243a1 1 0 1 1 1.415 1.414l-4.243 4.243z"/></svg>';},function(t,e,n){"use strict";(function(t){var n="object"==(typeof t==='undefined'?'undefined':_typeof(t))&&t&&t.Object===Object&&t;e.a=n;}).call(this,n(16));},function(t,e){t.exports='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 4.5V3h16v1.5zm0 3V6h5.674v1.5zm0 3V9h5.674v1.5zm0 3V12h5.674v1.5zm8.5-6V12h6V7.5h-6zM9.682 6h7.636c.377 0 .682.407.682.91v5.68c0 .503-.305.91-.682.91H9.682c-.377 0-.682-.407-.682-.91V6.91c0-.503.305-.91.682-.91zM2 16.5V15h16v1.5z"/></svg>';},function(t,e){t.exports=function(t){if(!t.webpackPolyfill){var e=Object.create(t);e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function get(){return e.l;}}),Object.defineProperty(e,"id",{enumerable:!0,get:function get(){return e.i;}}),Object.defineProperty(e,"exports",{enumerable:!0}),e.webpackPolyfill=1;}return e;};},function(t){t.exports={a:"11.2.0"};},function(t,e){t.exports='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 4.5V3h16v1.5zm2.5 3V12h11V7.5h-11zM4.061 6H15.94c.586 0 1.061.407 1.061.91v5.68c0 .503-.475.91-1.061.91H4.06c-.585 0-1.06-.407-1.06-.91V6.91C3 6.406 3.475 6 4.061 6zM2 16.5V15h16v1.5z"/></svg>';},function(t,e){t.exports='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg" clip-rule="evenodd" stroke-linejoin="round" stroke-miterlimit="1.414"><path d="M18 4.5V3H2v1.5h16zm0 3V6h-5.674v1.5H18zm0 3V9h-5.674v1.5H18zm0 3V12h-5.674v1.5H18zm-8.5-6V12h-6V7.5h6zm.818-1.5H2.682C2.305 6 2 6.407 2 6.91v5.68c0 .503.305.91.682.91h7.636c.377 0 .682-.407.682-.91V6.91c0-.503-.305-.91-.682-.91zM18 16.5V15H2v1.5h16z"/></svg>';},function(t,e){t.exports='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 4.5V3h16v1.5zm4.5 3V12h7V7.5h-7zM5.758 6h8.484c.419 0 .758.407.758.91v5.681c0 .502-.34.909-.758.909H5.758c-.419 0-.758-.407-.758-.91V6.91c0-.503.34-.91.758-.91zM2 16.5V15h16v1.5z"/></svg>';},function(t,e){var n;n=function(){return this;}();try{n=n||new Function("return this")();}catch(t){"object"==(typeof window==='undefined'?'undefined':_typeof(window))&&(n=window);}t.exports=n;},function(t,e,n){var i=n(92);"string"==typeof i&&(i=[[t.i,i,""]]);var o={singleton:!0,hmr:!0,transform:void 0,insertInto:void 0};n(2)(i,o);i.locals&&(t.exports=i.locals);},function(t,e,n){"use strict";e.a=function(){return!1;};},function(t,e,n){"use strict";(function(t){var i=n(4),o="object"==(typeof exports==='undefined'?'undefined':_typeof(exports))&&exports&&!exports.nodeType&&exports,r=o&&"object"==(typeof t==='undefined'?'undefined':_typeof(t))&&t&&!t.nodeType&&t,s=r&&r.exports===o?i.a.Buffer:void 0,a=s?s.allocUnsafe:void 0;e.a=function(t,e){if(e)return t.slice();var n=t.length,i=a?a(n):new t.constructor(n);return t.copy(i),i;};}).call(this,n(11)(t));},function(t,e){t.exports='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M5.042 9.367l2.189 1.837a.75.75 0 0 1-.965 1.149l-3.788-3.18a.747.747 0 0 1-.21-.284.75.75 0 0 1 .17-.945L6.23 4.762a.75.75 0 1 1 .964 1.15L4.863 7.866h8.917A.75.75 0 0 1 14 7.9a4 4 0 1 1-1.477 7.718l.344-1.489a2.5 2.5 0 1 0 1.094-4.73l.008-.032H5.042z"/></svg>';},function(t,e){t.exports='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M14.958 9.367l-2.189 1.837a.75.75 0 0 0 .965 1.149l3.788-3.18a.747.747 0 0 0 .21-.284.75.75 0 0 0-.17-.945L13.77 4.762a.75.75 0 1 0-.964 1.15l2.331 1.955H6.22A.75.75 0 0 0 6 7.9a4 4 0 1 0 1.477 7.718l-.344-1.489A2.5 2.5 0 1 1 6.039 9.4l-.008-.032h8.927z"/></svg>';},function(t,e){t.exports='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M10.187 17H5.773c-.637 0-1.092-.138-1.364-.415-.273-.277-.409-.718-.409-1.323V4.738c0-.617.14-1.062.419-1.332.279-.27.73-.406 1.354-.406h4.68c.69 0 1.288.041 1.793.124.506.083.96.242 1.36.478.341.197.644.447.906.75a3.262 3.262 0 0 1 .808 2.162c0 1.401-.722 2.426-2.167 3.075C15.05 10.175 16 11.315 16 13.01a3.756 3.756 0 0 1-2.296 3.504 6.1 6.1 0 0 1-1.517.377c-.571.073-1.238.11-2 .11zm-.217-6.217H7v4.087h3.069c1.977 0 2.965-.69 2.965-2.072 0-.707-.256-1.22-.768-1.537-.512-.319-1.277-.478-2.296-.478zM7 5.13v3.619h2.606c.729 0 1.292-.067 1.69-.2a1.6 1.6 0 0 0 .91-.765c.165-.267.247-.566.247-.897 0-.707-.26-1.176-.778-1.409-.519-.232-1.31-.348-2.375-.348H7z"/></svg>';},function(t,e){t.exports='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M9.586 14.633l.021.004c-.036.335.095.655.393.962.082.083.173.15.274.201h1.474a.6.6 0 1 1 0 1.2H5.304a.6.6 0 0 1 0-1.2h1.15c.474-.07.809-.182 1.005-.334.157-.122.291-.32.404-.597l2.416-9.55a1.053 1.053 0 0 0-.281-.823 1.12 1.12 0 0 0-.442-.296H8.15a.6.6 0 0 1 0-1.2h6.443a.6.6 0 1 1 0 1.2h-1.195c-.376.056-.65.155-.823.296-.215.175-.423.439-.623.79l-2.366 9.347z"/></svg>';},function(t,e){t.exports='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M3 10.423a6.5 6.5 0 0 1 6.056-6.408l.038.67C6.448 5.423 5.354 7.663 5.22 10H9c.552 0 .5.432.5.986v4.511c0 .554-.448.503-1 .503h-5c-.552 0-.5-.449-.5-1.003v-4.574zm8 0a6.5 6.5 0 0 1 6.056-6.408l.038.67c-2.646.739-3.74 2.979-3.873 5.315H17c.552 0 .5.432.5.986v4.511c0 .554-.448.503-1 .503h-5c-.552 0-.5-.449-.5-1.003v-4.574z"/></svg>';},function(t,e){t.exports='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M11.627 16.5a3.496 3.496 0 0 1 0 0zm5.873-.196a3.484 3.484 0 0 1 0 0zm0-7.001V8h-13v8.5h4.341c.191.54.457 1.044.785 1.5H2a1.5 1.5 0 0 1-1.5-1.5v-13A1.5 1.5 0 0 1 2 2h4.5a1.5 1.5 0 0 1 1.06.44L9.122 4H16a1.5 1.5 0 0 1 1.5 1.5v1A1.5 1.5 0 0 1 19 8v2.531a6.027 6.027 0 0 0-1.5-1.228zM16 6.5v-1H8.5l-2-2H2v13h1V8a1.5 1.5 0 0 1 1.5-1.5H16z"/><path d="M14.5 19.5a5 5 0 1 1 0-10 5 5 0 0 1 0 10zM15 14v-2h-1v2h-2v1h2v2h1v-2h2v-1h-2z"/></svg>\n';},function(t,e){t.exports='<svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M4 0v1H1v3H0V.5A.5.5 0 0 1 .5 0H4zm8 0h3.5a.5.5 0 0 1 .5.5V4h-1V1h-3V0zM4 16H.5a.5.5 0 0 1-.5-.5V12h1v3h3v1zm8 0v-1h3v-3h1v3.5a.5.5 0 0 1-.5.5H12z"/><path fill-opacity=".256" d="M1 1h14v14H1z"/><g class="ck-icon__selected-indicator"><path d="M7 0h2v1H7V0zM0 7h1v2H0V7zm15 0h1v2h-1V7zm-8 8h2v1H7v-1z"/><path fill-opacity=".254" d="M1 1h14v14H1z"/></g></svg>';},function(t,e){t.exports='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M5.085 6.22L2.943 4.078a.75.75 0 1 1 1.06-1.06l2.592 2.59A11.094 11.094 0 0 1 10 5.068c4.738 0 8.578 3.101 8.578 5.083 0 1.197-1.401 2.803-3.555 3.887l1.714 1.713a.75.75 0 0 1-.09 1.138.488.488 0 0 1-.15.084.75.75 0 0 1-.821-.16L6.17 7.304c-.258.11-.51.233-.757.365l6.239 6.24-.006.005.78.78c-.388.094-.78.166-1.174.215l-1.11-1.11h.011L4.55 8.197a7.2 7.2 0 0 0-.665.514l-.112.098 4.897 4.897-.005.006 1.276 1.276a10.164 10.164 0 0 1-1.477-.117l-.479-.479-.009.009-4.863-4.863-.022.031a2.563 2.563 0 0 0-.124.2c-.043.077-.08.158-.108.241a.534.534 0 0 0-.028.133.29.29 0 0 0 .008.072.927.927 0 0 0 .082.226c.067.133.145.26.234.379l3.242 3.365.025.01.59.623c-3.265-.918-5.59-3.155-5.59-4.668 0-1.194 1.448-2.838 3.663-3.93zm7.07.531a4.632 4.632 0 0 1 1.108 5.992l.345.344.046-.018a9.313 9.313 0 0 0 2-1.112c.256-.187.5-.392.727-.613.137-.134.27-.277.392-.431.072-.091.141-.185.203-.286.057-.093.107-.19.148-.292a.72.72 0 0 0 .036-.12.29.29 0 0 0 .008-.072.492.492 0 0 0-.028-.133.999.999 0 0 0-.036-.096 2.165 2.165 0 0 0-.071-.145 2.917 2.917 0 0 0-.125-.2 3.592 3.592 0 0 0-.263-.335 5.444 5.444 0 0 0-.53-.523 7.955 7.955 0 0 0-1.054-.768 9.766 9.766 0 0 0-1.879-.891c-.337-.118-.68-.219-1.027-.301zm-2.85.21l-.069.002a.508.508 0 0 0-.254.097.496.496 0 0 0-.104.679.498.498 0 0 0 .326.199l.045.005c.091.003.181.003.272.012a2.45 2.45 0 0 1 2.017 1.513c.024.061.043.125.069.185a.494.494 0 0 0 .45.287h.008a.496.496 0 0 0 .35-.158.482.482 0 0 0 .13-.335.638.638 0 0 0-.048-.219 3.379 3.379 0 0 0-.36-.723 3.438 3.438 0 0 0-2.791-1.543l-.028-.001h-.013z"/></svg>';},function(t,e){t.exports='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M6.91 10.54c.26-.23.64-.21.88.03l3.36 3.14 2.23-2.06a.64.64 0 0 1 .87 0l2.52 2.97V4.5H3.2v10.12l3.71-4.08zm10.27-7.51c.6 0 1.09.47 1.09 1.05v11.84c0 .59-.49 1.06-1.09 1.06H2.79c-.6 0-1.09-.47-1.09-1.06V4.08c0-.58.49-1.05 1.1-1.05h14.38zm-5.22 5.56a1.96 1.96 0 1 1 3.4-1.96 1.96 1.96 0 0 1-3.4 1.96z"/></svg>';},function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 700 250"><rect rx="4"/></svg>';},function(t,e){t.exports='<svg viewBox="0 0 10 10" xmlns="http://www.w3.org/2000/svg"><path d="M.941 4.523a.75.75 0 1 1 1.06-1.06l3.006 3.005 3.005-3.005a.75.75 0 1 1 1.06 1.06l-3.549 3.55a.75.75 0 0 1-1.168-.136L.941 4.523z"/></svg>';},function(t,e){t.exports='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M11.077 15l.991-1.416a.75.75 0 1 1 1.229.86l-1.148 1.64a.748.748 0 0 1-.217.206 5.251 5.251 0 0 1-8.503-5.955.741.741 0 0 1 .12-.274l1.147-1.639a.75.75 0 1 1 1.228.86L4.933 10.7l.006.003a3.75 3.75 0 0 0 6.132 4.294l.006.004zm5.494-5.335a.748.748 0 0 1-.12.274l-1.147 1.639a.75.75 0 1 1-1.228-.86l.86-1.23a3.75 3.75 0 0 0-6.144-4.301l-.86 1.229a.75.75 0 0 1-1.229-.86l1.148-1.64a.748.748 0 0 1 .217-.206 5.251 5.251 0 0 1 8.503 5.955zm-4.563-2.532a.75.75 0 0 1 .184 1.045l-3.155 4.505a.75.75 0 1 1-1.229-.86l3.155-4.506a.75.75 0 0 1 1.045-.184zm4.919 10.562l-1.414 1.414a.75.75 0 1 1-1.06-1.06l1.414-1.415-1.415-1.414a.75.75 0 0 1 1.061-1.06l1.414 1.414 1.414-1.415a.75.75 0 0 1 1.061 1.061l-1.414 1.414 1.414 1.415a.75.75 0 0 1-1.06 1.06l-1.415-1.414z"/></svg>';},function(t,e){t.exports='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M7.3 17.37l-.061.088a1.518 1.518 0 0 1-.934.535l-4.178.663-.806-4.153a1.495 1.495 0 0 1 .187-1.058l.056-.086L8.77 2.639c.958-1.351 2.803-1.076 4.296-.03 1.497 1.047 2.387 2.693 1.433 4.055L7.3 17.37zM9.14 4.728l-5.545 8.346 3.277 2.294 5.544-8.346L9.14 4.728zM6.07 16.512l-3.276-2.295.53 2.73 2.746-.435zM9.994 3.506L13.271 5.8c.316-.452-.16-1.333-1.065-1.966-.905-.634-1.895-.78-2.212-.328zM8 18.5L9.375 17H19v1.5H8z"/></svg>';},function(t,e){t.exports='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M11.077 15l.991-1.416a.75.75 0 1 1 1.229.86l-1.148 1.64a.748.748 0 0 1-.217.206 5.251 5.251 0 0 1-8.503-5.955.741.741 0 0 1 .12-.274l1.147-1.639a.75.75 0 1 1 1.228.86L4.933 10.7l.006.003a3.75 3.75 0 0 0 6.132 4.294l.006.004zm5.494-5.335a.748.748 0 0 1-.12.274l-1.147 1.639a.75.75 0 1 1-1.228-.86l.86-1.23a3.75 3.75 0 0 0-6.144-4.301l-.86 1.229a.75.75 0 0 1-1.229-.86l1.148-1.64a.748.748 0 0 1 .217-.206 5.251 5.251 0 0 1 8.503 5.955zm-4.563-2.532a.75.75 0 0 1 .184 1.045l-3.155 4.505a.75.75 0 1 1-1.229-.86l3.155-4.506a.75.75 0 0 1 1.045-.184z"/></svg>';},function(t,e){t.exports='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M7 5.75c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zM3.5 3v5H2V3.7H1v-1h2.5V3zM.343 17.857l2.59-3.257H2.92a.6.6 0 1 0-1.04 0H.302a2 2 0 1 1 3.995 0h-.001c-.048.405-.16.734-.333.988-.175.254-.59.692-1.244 1.312H4.3v1h-4l.043-.043zM7 14.75a.75.75 0 0 1 .75-.75h9.5a.75.75 0 1 1 0 1.5h-9.5a.75.75 0 0 1-.75-.75z"/></svg>';},function(t,e){t.exports='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M7 5.75c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zm-6 0C1 4.784 1.777 4 2.75 4c.966 0 1.75.777 1.75 1.75 0 .966-.777 1.75-1.75 1.75C1.784 7.5 1 6.723 1 5.75zm6 9c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zm-6 0c0-.966.777-1.75 1.75-1.75.966 0 1.75.777 1.75 1.75 0 .966-.777 1.75-1.75 1.75-.966 0-1.75-.777-1.75-1.75z"/></svg>';},function(t,e){t.exports='<svg viewBox="0 0 64 42" xmlns="http://www.w3.org/2000/svg"><path d="M47.426 17V3.713L63.102 0v19.389h-.001l.001.272c0 1.595-2.032 3.43-4.538 4.098-2.506.668-4.538-.083-4.538-1.678 0-1.594 2.032-3.43 4.538-4.098.914-.244 2.032-.565 2.888-.603V4.516L49.076 7.447v9.556A1.014 1.014 0 0 0 49 17h-1.574zM29.5 17h-8.343a7.073 7.073 0 1 0-4.657 4.06v3.781H3.3a2.803 2.803 0 0 1-2.8-2.804V8.63a2.803 2.803 0 0 1 2.8-2.805h4.082L8.58 2.768A1.994 1.994 0 0 1 10.435 1.5h8.985c.773 0 1.477.448 1.805 1.149l1.488 3.177H26.7c1.546 0 2.8 1.256 2.8 2.805V17zm-11.637 0H17.5a1 1 0 0 0-1 1v.05A4.244 4.244 0 1 1 17.863 17zm29.684 2c.97 0 .953-.048.953.889v20.743c0 .953.016.905-.953.905H19.453c-.97 0-.953.048-.953-.905V19.89c0-.937-.016-.889.97-.889h28.077zm-4.701 19.338V22.183H24.154v16.155h18.692zM20.6 21.375v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616V37.53H20.6zm24.233-16.155v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615V37.53h-1.615zM29.485 25.283a.4.4 0 0 1 .593-.35l9.05 4.977a.4.4 0 0 1 0 .701l-9.05 4.978a.4.4 0 0 1-.593-.35v-9.956z"/></svg>\n';},function(t,e){t.exports='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M18.68 2.53c.6 0 .59-.03.59.55v12.84c0 .59.01.56-.59.56H1.29c-.6 0-.59.03-.59-.56V3.08c0-.58-.01-.55.6-.55h17.38zM15.77 14.5v-10H4.2v10h11.57zM2 4v1h1V4H2zm0 2v1h1V6H2zm0 2v1h1V8H2zm0 2v1h1v-1H2zm0 2v1h1v-1H2zm0 2v1h1v-1H2zM17 4v1h1V4h-1zm0 2v1h1V6h-1zm0 2v1h1V8h-1zm0 2v1h1v-1h-1zm0 2v1h1v-1h-1zm0 2v1h1v-1h-1zM7.5 6.677a.4.4 0 0 1 .593-.351l5.133 2.824a.4.4 0 0 1 0 .7l-5.133 2.824a.4.4 0 0 1-.593-.35V6.676z"/></svg>';},function(t,e){t.exports='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M3 6v3h4V6H3zm0 4v3h4v-3H3zm0 4v3h4v-3H3zm5 3h4v-3H8v3zm5 0h4v-3h-4v3zm4-4v-3h-4v3h4zm0-4V6h-4v3h4zm1.5 8a1.5 1.5 0 0 1-1.5 1.5H3A1.5 1.5 0 0 1 1.5 17V4c.222-.863 1.068-1.5 2-1.5h13c.932 0 1.778.637 2 1.5v13zM12 13v-3H8v3h4zm0-4V6H8v3h4z"/></svg>';},function(t,e){t.exports='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><g><path d="M2.5 1h15A1.5 1.5 0 0 1 19 2.5v15a1.5 1.5 0 0 1-1.5 1.5h-15A1.5 1.5 0 0 1 1 17.5v-15A1.5 1.5 0 0 1 2.5 1zM2 2v16h16V2H2z" opacity=".6"/><path d="M18 7v1H2V7h16zm0 5v1H2v-1h16z" opacity=".6"/><path d="M14 1v18a1 1 0 0 1-1 1H7a1 1 0 0 1-1-1V1a1 1 0 0 1 1-1h6a1 1 0 0 1 1 1zm-2 1H8v4h4V2zm0 6H8v4h4V8zm0 6H8v4h4v-4z"/></g></svg>';},function(t,e){t.exports='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><g><path d="M2.5 1h15A1.5 1.5 0 0 1 19 2.5v15a1.5 1.5 0 0 1-1.5 1.5h-15A1.5 1.5 0 0 1 1 17.5v-15A1.5 1.5 0 0 1 2.5 1zM2 2v16h16V2H2z" opacity=".6"/><path d="M7 2h1v16H7V2zm5 0h1v16h-1V2z" opacity=".6"/><path d="M1 6h18a1 1 0 0 1 1 1v6a1 1 0 0 1-1 1H1a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1zm1 2v4h4V8H2zm6 0v4h4V8H8zm6 0v4h4V8h-4z"/></g></svg>';},function(t,e){t.exports='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><g><path d="M2.5 1h15A1.5 1.5 0 0 1 19 2.5v15a1.5 1.5 0 0 1-1.5 1.5h-15A1.5 1.5 0 0 1 1 17.5v-15A1.5 1.5 0 0 1 2.5 1zM2 2v16h16V2H2z" opacity=".6"/><path d="M7 2h1v16H7V2zm5 0h1v7h-1V2zm6 5v1H2V7h16zM8 12v1H2v-1h6z" opacity=".6"/><path d="M7 7h12a1 1 0 0 1 1 1v11a1 1 0 0 1-1 1H7a1 1 0 0 1-1-1V8a1 1 0 0 1 1-1zm1 2v9h10V9H8z"/></g></svg>';},function(t,e,n){"use strict";(function(t){var e=n(1),i=n(12);var o="object"==(typeof window==='undefined'?'undefined':_typeof(window))?window:t;o.CKEDITOR_VERSION?e.a.error("ckeditor-version-collision: The global CKEDITOR_VERSION constant has already been set.",{collidingVersion:o.CKEDITOR_VERSION,version:i.a}):o.CKEDITOR_VERSION=i.a;}).call(this,n(16));},function(t,e,n){var i=n(44);"string"==typeof i&&(i=[[t.i,i,""]]);var o={singleton:!0,hmr:!0,transform:void 0,insertInto:void 0};n(2)(i,o);i.locals&&(t.exports=i.locals);},function(t,e){t.exports=".ck-hidden{display:none!important}.ck.ck-reset,.ck.ck-reset_all,.ck.ck-reset_all *{box-sizing:border-box;width:auto;height:auto;position:static}:root{--ck-z-default:1;--ck-z-modal:calc(var(--ck-z-default) + 999);--ck-color-base-foreground:#fafafa;--ck-color-base-background:#fff;--ck-color-base-border:#c4c4c4;--ck-color-base-action:#61b045;--ck-color-base-focus:#6cb5f9;--ck-color-base-text:#333;--ck-color-base-active:#198cf0;--ck-color-base-active-focus:#0e7fe1;--ck-color-base-error:#db3700;--ck-color-focus-border:#47a4f5;--ck-color-focus-shadow:rgba(119,186,248,0.5);--ck-color-focus-disabled-shadow:rgba(119,186,248,0.3);--ck-color-focus-error-shadow:rgba(255,64,31,0.3);--ck-color-text:var(--ck-color-base-text);--ck-color-shadow-drop:rgba(0,0,0,0.15);--ck-color-shadow-inner:rgba(0,0,0,0.1);--ck-color-button-default-background:transparent;--ck-color-button-default-hover-background:#e6e6e6;--ck-color-button-default-active-background:#d9d9d9;--ck-color-button-default-active-shadow:#bfbfbf;--ck-color-button-default-disabled-background:transparent;--ck-color-button-on-background:#dedede;--ck-color-button-on-hover-background:#c4c4c4;--ck-color-button-on-active-background:#bababa;--ck-color-button-on-active-shadow:#a1a1a1;--ck-color-button-on-disabled-background:#dedede;--ck-color-button-action-background:var(--ck-color-base-action);--ck-color-button-action-hover-background:#579e3d;--ck-color-button-action-active-background:#53973b;--ck-color-button-action-active-shadow:#498433;--ck-color-button-action-disabled-background:#7ec365;--ck-color-button-action-text:var(--ck-color-base-background);--ck-color-button-save:#008a00;--ck-color-button-cancel:#db3700;--ck-color-switch-button-off-background:#b0b0b0;--ck-color-switch-button-on-background:var(--ck-color-button-action-background);--ck-color-switch-button-inner-background:var(--ck-color-base-background);--ck-color-dropdown-panel-background:var(--ck-color-base-background);--ck-color-dropdown-panel-border:var(--ck-color-base-border);--ck-color-input-background:var(--ck-color-base-background);--ck-color-input-border:#c7c7c7;--ck-color-input-error-border:var(--ck-color-base-error);--ck-color-input-text:var(--ck-color-base-text);--ck-color-input-disabled-background:#f2f2f2;--ck-color-input-disabled-border:#c7c7c7;--ck-color-input-disabled-text:#5c5c5c;--ck-color-list-background:var(--ck-color-base-background);--ck-color-list-button-hover-background:var(--ck-color-base-foreground);--ck-color-list-button-on-background:var(--ck-color-base-active);--ck-color-list-button-on-background-focus:var(--ck-color-base-active-focus);--ck-color-list-button-on-text:var(--ck-color-base-background);--ck-color-panel-background:var(--ck-color-base-background);--ck-color-panel-border:var(--ck-color-base-border);--ck-color-toolbar-background:var(--ck-color-base-foreground);--ck-color-toolbar-border:var(--ck-color-base-border);--ck-color-tooltip-background:var(--ck-color-base-text);--ck-color-tooltip-text:var(--ck-color-base-background);--ck-color-engine-placeholder-text:#c2c2c2;--ck-color-upload-bar-background:#6cb5f9;--ck-color-upload-infinite-background:rgba(0,0,0,0.1);--ck-color-link-default:#0000f0;--ck-color-link-selected-background:rgba(31,177,255,0.1);--ck-disabled-opacity:.5;--ck-focus-outer-shadow-geometry:0 0 0 3px;--ck-focus-outer-shadow:var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-shadow);--ck-focus-disabled-outer-shadow:var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-disabled-shadow);--ck-focus-error-outer-shadow:var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-error-shadow);--ck-focus-ring:1px solid var(--ck-color-focus-border);--ck-font-size-base:13px;--ck-line-height-base:1.84615;--ck-font-face:Helvetica,Arial,Tahoma,Verdana,Sans-Serif;--ck-font-size-tiny:0.7em;--ck-font-size-small:0.75em;--ck-font-size-normal:1em;--ck-font-size-big:1.4em;--ck-font-size-large:1.8em;--ck-ui-component-min-height:2.3em}.ck.ck-reset,.ck.ck-reset_all,.ck.ck-reset_all *{margin:0;padding:0;border:0;background:transparent;text-decoration:none;vertical-align:middle;transition:none;word-wrap:break-word}.ck.ck-reset_all,.ck.ck-reset_all *{border-collapse:collapse;font:normal normal normal var(--ck-font-size-base)/var(--ck-line-height-base) var(--ck-font-face);color:var(--ck-color-text);text-align:left;white-space:nowrap;cursor:auto;float:none}.ck.ck-reset_all .ck-rtl *{text-align:right}.ck.ck-reset_all iframe{vertical-align:inherit}.ck.ck-reset_all textarea{white-space:pre-wrap}.ck.ck-reset_all input[type=password],.ck.ck-reset_all input[type=text],.ck.ck-reset_all textarea{cursor:text}.ck.ck-reset_all input[type=password][disabled],.ck.ck-reset_all input[type=text][disabled],.ck.ck-reset_all textarea[disabled]{cursor:default}.ck.ck-reset_all fieldset{padding:10px;border:2px groove #dfdee3}.ck.ck-reset_all button::-moz-focus-inner{padding:0;border:0}:root{--ck-border-radius:2px;--ck-inner-shadow:2px 2px 3px var(--ck-color-shadow-inner) inset;--ck-drop-shadow:0 1px 2px 1px var(--ck-color-shadow-drop);--ck-spacing-unit:0.6em;--ck-spacing-large:calc(var(--ck-spacing-unit)*1.5);--ck-spacing-standard:var(--ck-spacing-unit);--ck-spacing-medium:calc(var(--ck-spacing-unit)*0.8);--ck-spacing-small:calc(var(--ck-spacing-unit)*0.5);--ck-spacing-tiny:calc(var(--ck-spacing-unit)*0.3);--ck-spacing-extra-tiny:calc(var(--ck-spacing-unit)*0.16)}";},function(t,e){t.exports=function(t){var e="undefined"!=typeof window&&window.location;if(!e)throw new Error("fixUrls requires window.location");if(!t||"string"!=typeof t)return t;var n=e.protocol+"//"+e.host,i=n+e.pathname.replace(/\/[^\/]*$/,"/");return t.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,function(t,e){var o,r=e.trim().replace(/^"(.*)"$/,function(t,e){return e;}).replace(/^'(.*)'$/,function(t,e){return e;});return /^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(r)?t:(o=0===r.indexOf("//")?r:0===r.indexOf("/")?n+r:i+r.replace(/^\.\//,""),"url("+JSON.stringify(o)+")");});};},function(t,e,n){var i=n(47);"string"==typeof i&&(i=[[t.i,i,""]]);var o={singleton:!0,hmr:!0,transform:void 0,insertInto:void 0};n(2)(i,o);i.locals&&(t.exports=i.locals);},function(t,e){t.exports=".ck.ck-editor__editable:not(.ck-editor__nested-editable){border-radius:0}.ck-rounded-corners .ck.ck-editor__editable:not(.ck-editor__nested-editable),.ck.ck-editor__editable:not(.ck-editor__nested-editable).ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-editor__editable:not(.ck-editor__nested-editable).ck-focused{outline:none;border:var(--ck-focus-ring);box-shadow:var(--ck-inner-shadow),0 0}.ck.ck-editor__editable_inline{overflow:auto;padding:0 var(--ck-spacing-standard);border:1px solid transparent}.ck.ck-editor__editable_inline>:first-child{margin-top:var(--ck-spacing-large)}.ck.ck-editor__editable_inline>:last-child{margin-bottom:var(--ck-spacing-large)}.ck.ck-balloon-panel.ck-toolbar-container[class*=arrow_n]:after{border-bottom-color:var(--ck-color-base-foreground)}.ck.ck-balloon-panel.ck-toolbar-container[class*=arrow_s]:after{border-top-color:var(--ck-color-base-foreground)}";},function(t,e,n){var i=n(49);"string"==typeof i&&(i=[[t.i,i,""]]);var o={singleton:!0,hmr:!0,transform:void 0,insertInto:void 0};n(2)(i,o);i.locals&&(t.exports=i.locals);},function(t,e){t.exports=".ck.ck-label{display:block}.ck.ck-voice-label{display:none}.ck.ck-label{font-weight:700}";},function(t,e,n){var i=n(51);"string"==typeof i&&(i=[[t.i,i,""]]);var o={singleton:!0,hmr:!0,transform:void 0,insertInto:void 0};n(2)(i,o);i.locals&&(t.exports=i.locals);},function(t,e){t.exports=".ck.ck-sticky-panel .ck-sticky-panel__content_sticky{z-index:var(--ck-z-modal);position:fixed;top:0}.ck.ck-sticky-panel .ck-sticky-panel__content_sticky_bottom-limit{top:auto;position:absolute}.ck.ck-sticky-panel .ck-sticky-panel__content_sticky{box-shadow:var(--ck-drop-shadow),0 0;border-width:0 1px 1px;border-top-left-radius:0;border-top-right-radius:0}";},function(t,e,n){var i=n(53);"string"==typeof i&&(i=[[t.i,i,""]]);var o={singleton:!0,hmr:!0,transform:void 0,insertInto:void 0};n(2)(i,o);i.locals&&(t.exports=i.locals);},function(t,e){t.exports=".ck.ck-toolbar{-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;user-select:none;display:flex;flex-flow:row wrap;align-items:center}.ck.ck-toolbar.ck-toolbar_vertical{flex-direction:column}.ck.ck-toolbar.ck-toolbar_floating{flex-wrap:nowrap}.ck.ck-toolbar__separator{display:inline-block}.ck.ck-toolbar__newline{display:block;width:100%}.ck.ck-toolbar{border-radius:0}.ck-rounded-corners .ck.ck-toolbar,.ck.ck-toolbar.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-toolbar{background:var(--ck-color-toolbar-background);padding:0 var(--ck-spacing-small);border:1px solid var(--ck-color-toolbar-border)}.ck.ck-toolbar>*{margin-right:var(--ck-spacing-small);margin-top:var(--ck-spacing-small);margin-bottom:var(--ck-spacing-small)}.ck.ck-toolbar.ck-toolbar_vertical{padding:0}.ck.ck-toolbar.ck-toolbar_vertical>*{width:100%;margin:0;border-radius:0;border:0}.ck.ck-toolbar>:last-child{margin-right:0}.ck-toolbar-container .ck.ck-toolbar{border:0}.ck.ck-toolbar__separator{align-self:stretch;width:1px;margin-top:0;margin-bottom:0;background:var(--ck-color-toolbar-border)}.ck.ck-toolbar__newline{margin:0}";},function(t,e,n){var i=n(55);"string"==typeof i&&(i=[[t.i,i,""]]);var o={singleton:!0,hmr:!0,transform:void 0,insertInto:void 0};n(2)(i,o);i.locals&&(t.exports=i.locals);},function(t,e){t.exports=".ck.ck-editor{position:relative}.ck.ck-editor .ck-editor__top .ck-sticky-panel .ck-toolbar{z-index:var(--ck-z-modal)}.ck.ck-editor__top .ck-sticky-panel .ck-toolbar{border-radius:0}.ck-rounded-corners .ck.ck-editor__top .ck-sticky-panel .ck-toolbar,.ck.ck-editor__top .ck-sticky-panel .ck-toolbar.ck-rounded-corners{border-radius:var(--ck-border-radius);border-bottom-left-radius:0;border-bottom-right-radius:0}.ck.ck-editor__top .ck-sticky-panel .ck-toolbar{border-bottom-width:0}.ck.ck-editor__top .ck-sticky-panel .ck-sticky-panel__content_sticky .ck-toolbar{border-bottom-width:1px;border-radius:0}.ck-rounded-corners .ck.ck-editor__top .ck-sticky-panel .ck-sticky-panel__content_sticky .ck-toolbar,.ck.ck-editor__top .ck-sticky-panel .ck-sticky-panel__content_sticky .ck-toolbar.ck-rounded-corners{border-radius:var(--ck-border-radius);border-radius:0}.ck.ck-editor__main>.ck-editor__editable{background:var(--ck-color-base-background);border-radius:0}.ck-rounded-corners .ck.ck-editor__main>.ck-editor__editable,.ck.ck-editor__main>.ck-editor__editable.ck-rounded-corners{border-radius:var(--ck-border-radius);border-top-left-radius:0;border-top-right-radius:0}.ck.ck-editor__main>.ck-editor__editable:not(.ck-focused){border-color:var(--ck-color-base-border)}";},function(t,e,n){var i=n(57);"string"==typeof i&&(i=[[t.i,i,""]]);var o={singleton:!0,hmr:!0,transform:void 0,insertInto:void 0};n(2)(i,o);i.locals&&(t.exports=i.locals);},function(t,e){t.exports=".ck.ck-icon{vertical-align:middle}:root{--ck-icon-size:calc(var(--ck-line-height-base)*var(--ck-font-size-normal))}.ck.ck-icon{width:var(--ck-icon-size);height:var(--ck-icon-size);font-size:.8333350694em;will-change:transform}.ck.ck-icon,.ck.ck-icon *{color:inherit;cursor:inherit}.ck.ck-icon :not([fill]){fill:currentColor}";},function(t,e,n){var i=n(59);"string"==typeof i&&(i=[[t.i,i,""]]);var o={singleton:!0,hmr:!0,transform:void 0,insertInto:void 0};n(2)(i,o);i.locals&&(t.exports=i.locals);},function(t,e){t.exports='.ck.ck-tooltip,.ck.ck-tooltip .ck-tooltip__text:after{position:absolute;pointer-events:none;-webkit-backface-visibility:hidden}.ck-tooltip{visibility:hidden;opacity:0;display:none;z-index:var(--ck-z-modal)}.ck-tooltip .ck-tooltip__text{display:inline-block}.ck-tooltip .ck-tooltip__text:after{content:"";width:0;height:0}:root{--ck-tooltip-arrow-size:5px}.ck.ck-tooltip{left:50%}.ck.ck-tooltip.ck-tooltip_s{bottom:calc(-1*var(--ck-tooltip-arrow-size));transform:translateY(100%)}.ck.ck-tooltip.ck-tooltip_s .ck-tooltip__text:after{top:calc(-1*var(--ck-tooltip-arrow-size));transform:translateX(-50%);border-left-color:transparent;border-bottom-color:var(--ck-color-tooltip-background);border-right-color:transparent;border-top-color:transparent;border-left-width:var(--ck-tooltip-arrow-size);border-bottom-width:var(--ck-tooltip-arrow-size);border-right-width:var(--ck-tooltip-arrow-size);border-top-width:0}.ck.ck-tooltip.ck-tooltip_n{top:calc(-1*var(--ck-tooltip-arrow-size));transform:translateY(-100%)}.ck.ck-tooltip.ck-tooltip_n .ck-tooltip__text:after{bottom:calc(-1*var(--ck-tooltip-arrow-size));transform:translateX(-50%);border-left-color:transparent;border-bottom-color:transparent;border-right-color:transparent;border-top-color:var(--ck-color-tooltip-background);border-left-width:var(--ck-tooltip-arrow-size);border-bottom-width:0;border-right-width:var(--ck-tooltip-arrow-size);border-top-width:var(--ck-tooltip-arrow-size)}.ck.ck-tooltip .ck-tooltip__text{border-radius:0}.ck-rounded-corners .ck.ck-tooltip .ck-tooltip__text,.ck.ck-tooltip .ck-tooltip__text.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-tooltip .ck-tooltip__text{font-size:.9em;line-height:1.5;color:var(--ck-color-tooltip-text);padding:var(--ck-spacing-small) var(--ck-spacing-medium);background:var(--ck-color-tooltip-background);position:relative;left:-50%}.ck.ck-tooltip .ck-tooltip__text:after{border-style:solid;left:50%}.ck.ck-tooltip,.ck.ck-tooltip .ck-tooltip__text:after{transition:opacity .2s ease-in-out .2s}';},function(t,e,n){var i=n(61);"string"==typeof i&&(i=[[t.i,i,""]]);var o={singleton:!0,hmr:!0,transform:void 0,insertInto:void 0};n(2)(i,o);i.locals&&(t.exports=i.locals);},function(t,e){t.exports=".ck.ck-button,a.ck.ck-button{-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;user-select:none}.ck.ck-button .ck-tooltip,a.ck.ck-button .ck-tooltip{display:block}@media (hover:none){.ck.ck-button .ck-tooltip,a.ck.ck-button .ck-tooltip{display:none}}.ck.ck-button,a.ck.ck-button{position:relative;display:inline-flex;align-items:center;justify-content:left}.ck.ck-button.ck-button_with-text .ck-button__label,a.ck.ck-button.ck-button_with-text .ck-button__label{display:inline-block}.ck.ck-button:not(.ck-button_with-text),a.ck.ck-button:not(.ck-button_with-text){justify-content:center}.ck.ck-button:hover .ck-tooltip,a.ck.ck-button:hover .ck-tooltip{visibility:visible;opacity:1}.ck.ck-button .ck-button__label,.ck.ck-button:focus:not(:hover) .ck-tooltip,a.ck.ck-button .ck-button__label,a.ck.ck-button:focus:not(:hover) .ck-tooltip{display:none}.ck.ck-button,a.ck.ck-button{background:var(--ck-color-button-default-background)}.ck.ck-button:not(.ck-disabled):hover,a.ck.ck-button:not(.ck-disabled):hover{background:var(--ck-color-button-default-hover-background)}.ck.ck-button:not(.ck-disabled):active,a.ck.ck-button:not(.ck-disabled):active{background:var(--ck-color-button-default-active-background);box-shadow:inset 0 2px 2px var(--ck-color-button-default-active-shadow)}.ck.ck-button.ck-disabled,a.ck.ck-button.ck-disabled{background:var(--ck-color-button-default-disabled-background)}.ck.ck-button,a.ck.ck-button{border-radius:0}.ck-rounded-corners .ck.ck-button,.ck-rounded-corners a.ck.ck-button,.ck.ck-button.ck-rounded-corners,a.ck.ck-button.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-button,a.ck.ck-button{white-space:nowrap;cursor:default;vertical-align:middle;padding:var(--ck-spacing-tiny);text-align:center;min-width:var(--ck-ui-component-min-height);min-height:var(--ck-ui-component-min-height);line-height:1;font-size:inherit;border:1px solid transparent;transition:box-shadow .2s ease-in-out;-webkit-appearance:none}.ck.ck-button:active,.ck.ck-button:focus,a.ck.ck-button:active,a.ck.ck-button:focus{outline:none;border:var(--ck-focus-ring);box-shadow:var(--ck-focus-outer-shadow),0 0;border-color:transparent}.ck.ck-button.ck-disabled:active,.ck.ck-button.ck-disabled:focus,a.ck.ck-button.ck-disabled:active,a.ck.ck-button.ck-disabled:focus{box-shadow:var(--ck-focus-disabled-outer-shadow),0 0}.ck.ck-button.ck-disabled .ck-button__icon,a.ck.ck-button.ck-disabled .ck-button__icon{opacity:var(--ck-disabled-opacity)}.ck.ck-button.ck-disabled .ck-button__label,a.ck.ck-button.ck-disabled .ck-button__label{opacity:var(--ck-disabled-opacity)}.ck.ck-button.ck-button_with-text,a.ck.ck-button.ck-button_with-text{padding:var(--ck-spacing-tiny) var(--ck-spacing-standard)}.ck.ck-button.ck-button_with-text .ck-button__icon,a.ck.ck-button.ck-button_with-text .ck-button__icon{margin-left:calc(-1*var(--ck-spacing-small));margin-right:var(--ck-spacing-small)}.ck.ck-button.ck-on,a.ck.ck-button.ck-on{background:var(--ck-color-button-on-background)}.ck.ck-button.ck-on:not(.ck-disabled):hover,a.ck.ck-button.ck-on:not(.ck-disabled):hover{background:var(--ck-color-button-on-hover-background)}.ck.ck-button.ck-on:not(.ck-disabled):active,a.ck.ck-button.ck-on:not(.ck-disabled):active{background:var(--ck-color-button-on-active-background);box-shadow:inset 0 2px 2px var(--ck-color-button-on-active-shadow)}.ck.ck-button.ck-on.ck-disabled,a.ck.ck-button.ck-on.ck-disabled{background:var(--ck-color-button-on-disabled-background)}.ck.ck-button.ck-button-save,a.ck.ck-button.ck-button-save{color:var(--ck-color-button-save)}.ck.ck-button.ck-button-cancel,a.ck.ck-button.ck-button-cancel{color:var(--ck-color-button-cancel)}.ck.ck-button .ck-button__icon use,.ck.ck-button .ck-button__icon use *,a.ck.ck-button .ck-button__icon use,a.ck.ck-button .ck-button__icon use *{color:inherit}.ck.ck-button .ck-button__label,a.ck.ck-button .ck-button__label{font-size:inherit;font-weight:inherit;color:inherit;cursor:inherit;vertical-align:middle}.ck.ck-button-action,a.ck.ck-button-action{background:var(--ck-color-button-action-background)}.ck.ck-button-action:not(.ck-disabled):hover,a.ck.ck-button-action:not(.ck-disabled):hover{background:var(--ck-color-button-action-hover-background)}.ck.ck-button-action:not(.ck-disabled):active,a.ck.ck-button-action:not(.ck-disabled):active{background:var(--ck-color-button-action-active-background);box-shadow:inset 0 2px 2px var(--ck-color-button-action-active-shadow)}.ck.ck-button-action.ck-disabled,a.ck.ck-button-action.ck-disabled{background:var(--ck-color-button-action-disabled-background)}.ck.ck-button-action,a.ck.ck-button-action{color:var(--ck-color-button-action-text)}.ck.ck-button-bold,a.ck.ck-button-bold{font-weight:700}";},function(t,e,n){var i=n(63);"string"==typeof i&&(i=[[t.i,i,""]]);var o={singleton:!0,hmr:!0,transform:void 0,insertInto:void 0};n(2)(i,o);i.locals&&(t.exports=i.locals);},function(t,e){t.exports=".ck-content blockquote{overflow:hidden;padding-right:1.5em;padding-left:1.5em;margin-left:0;font-style:italic;border-left:5px solid #ccc}";},function(t,e,n){var i=n(65);"string"==typeof i&&(i=[[t.i,i,""]]);var o={singleton:!0,hmr:!0,transform:void 0,insertInto:void 0};n(2)(i,o);i.locals&&(t.exports=i.locals);},function(t,e){t.exports=".ck .ck-widget.ck-widget_selectable{position:relative}.ck .ck-widget.ck-widget_selectable .ck-widget__selection-handler{visibility:hidden;position:absolute}.ck .ck-widget.ck-widget_selectable .ck-widget__selection-handler .ck-icon{display:block}.ck .ck-widget.ck-widget_selectable.ck-widget_selected .ck-widget__selection-handler,.ck .ck-widget.ck-widget_selectable:hover .ck-widget__selection-handler{visibility:visible}:root{--ck-widget-outline-thickness:3px;--ck-widget-handler-icon-size:16px;--ck-widget-handler-animation-duration:200ms;--ck-widget-handler-animation-curve:ease;--ck-color-widget-blurred-border:#dedede;--ck-color-widget-hover-border:#ffc83d;--ck-color-widget-editable-focus-background:var(--ck-color-base-background);--ck-color-widget-drag-handler-icon-color:var(--ck-color-base-background)}.ck .ck-widget{outline-width:var(--ck-widget-outline-thickness);outline-style:solid;outline-color:transparent;transition:outline-color var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve)}.ck .ck-widget.ck-widget_selected,.ck .ck-widget.ck-widget_selected:hover{outline:var(--ck-widget-outline-thickness) solid var(--ck-color-focus-border)}.ck .ck-widget:hover{outline-color:var(--ck-color-widget-hover-border)}.ck .ck-editor__nested-editable{border:1px solid transparent}.ck .ck-editor__nested-editable.ck-editor__nested-editable_focused,.ck .ck-editor__nested-editable:focus{outline:none;border:var(--ck-focus-ring);box-shadow:var(--ck-inner-shadow),0 0;background-color:var(--ck-color-widget-editable-focus-background)}.ck .ck-widget.ck-widget_selectable .ck-widget__selection-handler{padding:4px;box-sizing:border-box;background-color:transparent;opacity:0;transition:background-color var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve),visibility var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve),opacity var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve);border-radius:var(--ck-border-radius) var(--ck-border-radius) 0 0;transform:translateY(-100%);left:calc(0px - var(--ck-widget-outline-thickness))}.ck .ck-widget.ck-widget_selectable .ck-widget__selection-handler:hover .ck-icon .ck-icon__selected-indicator{opacity:1}.ck .ck-widget.ck-widget_selectable .ck-widget__selection-handler .ck-icon{width:var(--ck-widget-handler-icon-size);height:var(--ck-widget-handler-icon-size);color:var(--ck-color-widget-drag-handler-icon-color)}.ck .ck-widget.ck-widget_selectable .ck-widget__selection-handler .ck-icon .ck-icon__selected-indicator{opacity:0;transition:opacity .3s var(--ck-widget-handler-animation-curve)}.ck .ck-widget.ck-widget_selectable.ck-widget_selected .ck-widget__selection-handler,.ck .ck-widget.ck-widget_selectable.ck-widget_selected:hover .ck-widget__selection-handler{opacity:1;background-color:var(--ck-color-focus-border)}.ck .ck-widget.ck-widget_selectable.ck-widget_selected .ck-widget__selection-handler .ck-icon .ck-icon__selected-indicator,.ck .ck-widget.ck-widget_selectable.ck-widget_selected:hover .ck-widget__selection-handler .ck-icon .ck-icon__selected-indicator{opacity:1}.ck .ck-widget.ck-widget_selectable:hover .ck-widget__selection-handler{opacity:1;background-color:var(--ck-color-widget-hover-border)}.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected,.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected:hover{outline-color:var(--ck-color-widget-blurred-border)}.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected .ck-widget__selection-handler,.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected .ck-widget__selection-handler:hover,.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected:hover .ck-widget__selection-handler,.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected:hover .ck-widget__selection-handler:hover{background:var(--ck-color-widget-blurred-border)}.ck-editor__editable.ck-read-only .ck-widget{--ck-widget-outline-thickness:0}";},function(t,e,n){var i=n(67);"string"==typeof i&&(i=[[t.i,i,""]]);var o={singleton:!0,hmr:!0,transform:void 0,insertInto:void 0};n(2)(i,o);i.locals&&(t.exports=i.locals);},function(t,e){t.exports=".ck.ck-labeled-input .ck-labeled-input__status{font-size:var(--ck-font-size-small);margin-top:var(--ck-spacing-small);white-space:normal}.ck.ck-labeled-input .ck-labeled-input__status_error{color:var(--ck-color-base-error)}";},function(t,e,n){var i=n(69);"string"==typeof i&&(i=[[t.i,i,""]]);var o={singleton:!0,hmr:!0,transform:void 0,insertInto:void 0};n(2)(i,o);i.locals&&(t.exports=i.locals);},function(t,e){t.exports=":root{--ck-input-text-width:18em}.ck.ck-input-text{border-radius:0}.ck-rounded-corners .ck.ck-input-text,.ck.ck-input-text.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-input-text{box-shadow:var(--ck-inner-shadow),0 0;background:var(--ck-color-input-background);border:1px solid var(--ck-color-input-border);padding:var(--ck-spacing-extra-tiny) var(--ck-spacing-medium);min-width:var(--ck-input-text-width);min-height:var(--ck-ui-component-min-height);transition-property:box-shadow,border;transition:.2s ease-in-out}.ck.ck-input-text:focus{outline:none;border:var(--ck-focus-ring);box-shadow:var(--ck-focus-outer-shadow),var(--ck-inner-shadow)}.ck.ck-input-text[readonly]{border:1px solid var(--ck-color-input-disabled-border);background:var(--ck-color-input-disabled-background);color:var(--ck-color-input-disabled-text)}.ck.ck-input-text[readonly]:focus{box-shadow:var(--ck-focus-disabled-outer-shadow),var(--ck-inner-shadow)}.ck.ck-input-text.ck-error{border-color:var(--ck-color-input-error-border);animation:ck-text-input-shake .3s ease both}.ck.ck-input-text.ck-error:focus{box-shadow:var(--ck-focus-error-outer-shadow),var(--ck-inner-shadow)}@keyframes ck-text-input-shake{20%{transform:translateX(-2px)}40%{transform:translateX(2px)}60%{transform:translateX(-1px)}80%{transform:translateX(1px)}}";},function(t,e,n){var i=n(71);"string"==typeof i&&(i=[[t.i,i,""]]);var o={singleton:!0,hmr:!0,transform:void 0,insertInto:void 0};n(2)(i,o);i.locals&&(t.exports=i.locals);},function(t,e){t.exports=".ck.ck-text-alternative-form{display:flex;flex-direction:row;flex-wrap:nowrap}.ck.ck-text-alternative-form .ck-labeled-input{display:inline-block}.ck.ck-text-alternative-form .ck-label{display:none}@media screen and (max-width:600px){.ck.ck-text-alternative-form{flex-wrap:wrap}.ck.ck-text-alternative-form .ck-labeled-input{flex-basis:100%}.ck.ck-text-alternative-form .ck-button{flex-basis:50%}}.ck.ck-text-alternative-form{padding:var(--ck-spacing-standard)}.ck.ck-text-alternative-form:focus{outline:none}.ck.ck-text-alternative-form>:not(:first-child){margin-left:var(--ck-spacing-standard)}@media screen and (max-width:600px){.ck.ck-text-alternative-form{padding:0;width:calc(0.8*var(--ck-input-text-width))}.ck.ck-text-alternative-form .ck-labeled-input{margin:var(--ck-spacing-standard) var(--ck-spacing-standard) 0}.ck.ck-text-alternative-form .ck-labeled-input .ck-input-text{min-width:0;width:100%}.ck.ck-text-alternative-form .ck-button{padding:var(--ck-spacing-standard);margin-top:var(--ck-spacing-standard);margin-left:0;border-radius:0;border:0;border-top:1px solid var(--ck-color-base-border)}.ck.ck-text-alternative-form .ck-button:first-of-type{border-right:1px solid var(--ck-color-base-border)}}";},function(t,e,n){var i=n(73);"string"==typeof i&&(i=[[t.i,i,""]]);var o={singleton:!0,hmr:!0,transform:void 0,insertInto:void 0};n(2)(i,o);i.locals&&(t.exports=i.locals);},function(t,e){t.exports=':root{--ck-balloon-panel-arrow-z-index:calc(var(--ck-z-default) - 3)}.ck.ck-balloon-panel{display:none;position:absolute;z-index:var(--ck-z-modal)}.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:after,.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:before{content:"";position:absolute}.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:before{z-index:var(--ck-balloon-panel-arrow-z-index)}.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:after{z-index:calc(var(--ck-balloon-panel-arrow-z-index) + 1)}.ck.ck-balloon-panel[class*=arrow_n]:before{z-index:var(--ck-balloon-panel-arrow-z-index)}.ck.ck-balloon-panel[class*=arrow_n]:after{z-index:calc(var(--ck-balloon-panel-arrow-z-index) + 1)}.ck.ck-balloon-panel[class*=arrow_s]:before{z-index:var(--ck-balloon-panel-arrow-z-index)}.ck.ck-balloon-panel[class*=arrow_s]:after{z-index:calc(var(--ck-balloon-panel-arrow-z-index) + 1)}.ck.ck-balloon-panel.ck-balloon-panel_visible{display:block}:root{--ck-balloon-arrow-offset:2px;--ck-balloon-arrow-height:10px;--ck-balloon-arrow-half-width:8px}.ck.ck-balloon-panel{border-radius:0}.ck-rounded-corners .ck.ck-balloon-panel,.ck.ck-balloon-panel.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-balloon-panel{box-shadow:var(--ck-drop-shadow),0 0;min-height:15px;background:var(--ck-color-panel-background);border:1px solid var(--ck-color-panel-border)}.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:after,.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:before{width:0;height:0;border-style:solid}.ck.ck-balloon-panel[class*=arrow_n]:after,.ck.ck-balloon-panel[class*=arrow_n]:before{border-left-width:var(--ck-balloon-arrow-half-width);border-bottom-width:var(--ck-balloon-arrow-height);border-right-width:var(--ck-balloon-arrow-half-width);border-top-width:0}.ck.ck-balloon-panel[class*=arrow_n]:before{border-bottom-color:var(--ck-color-panel-border)}.ck.ck-balloon-panel[class*=arrow_n]:after,.ck.ck-balloon-panel[class*=arrow_n]:before{border-left-color:transparent;border-right-color:transparent;border-top-color:transparent}.ck.ck-balloon-panel[class*=arrow_n]:after{border-bottom-color:var(--ck-color-panel-background);margin-top:var(--ck-balloon-arrow-offset)}.ck.ck-balloon-panel[class*=arrow_s]:after,.ck.ck-balloon-panel[class*=arrow_s]:before{border-left-width:var(--ck-balloon-arrow-half-width);border-bottom-width:0;border-right-width:var(--ck-balloon-arrow-half-width);border-top-width:var(--ck-balloon-arrow-height)}.ck.ck-balloon-panel[class*=arrow_s]:before{border-top-color:var(--ck-color-panel-border)}.ck.ck-balloon-panel[class*=arrow_s]:after,.ck.ck-balloon-panel[class*=arrow_s]:before{border-left-color:transparent;border-bottom-color:transparent;border-right-color:transparent}.ck.ck-balloon-panel[class*=arrow_s]:after{border-top-color:var(--ck-color-panel-background);margin-bottom:var(--ck-balloon-arrow-offset)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_n:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_n:before{left:50%;margin-left:calc(-1*var(--ck-balloon-arrow-half-width));top:calc(-1*var(--ck-balloon-arrow-height))}.ck.ck-balloon-panel.ck-balloon-panel_arrow_nw:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_nw:before{left:calc(2*var(--ck-balloon-arrow-half-width));top:calc(-1*var(--ck-balloon-arrow-height))}.ck.ck-balloon-panel.ck-balloon-panel_arrow_ne:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_ne:before{right:calc(2*var(--ck-balloon-arrow-half-width));top:calc(-1*var(--ck-balloon-arrow-height))}.ck.ck-balloon-panel.ck-balloon-panel_arrow_s:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_s:before{left:50%;margin-left:calc(-1*var(--ck-balloon-arrow-half-width));bottom:calc(-1*var(--ck-balloon-arrow-height))}.ck.ck-balloon-panel.ck-balloon-panel_arrow_sw:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_sw:before{left:calc(2*var(--ck-balloon-arrow-half-width));bottom:calc(-1*var(--ck-balloon-arrow-height))}.ck.ck-balloon-panel.ck-balloon-panel_arrow_se:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_se:before{right:calc(2*var(--ck-balloon-arrow-half-width));bottom:calc(-1*var(--ck-balloon-arrow-height))}';},function(t,e,n){var i=n(75);"string"==typeof i&&(i=[[t.i,i,""]]);var o={singleton:!0,hmr:!0,transform:void 0,insertInto:void 0};n(2)(i,o);i.locals&&(t.exports=i.locals);},function(t,e){t.exports=".ck-content .image{clear:both;text-align:center;margin:1em 0}.ck-content .image>img{display:block;margin:0 auto;max-width:100%}";},function(t,e,n){var i=n(77);"string"==typeof i&&(i=[[t.i,i,""]]);var o={singleton:!0,hmr:!0,transform:void 0,insertInto:void 0};n(2)(i,o);i.locals&&(t.exports=i.locals);},function(t,e){t.exports=".ck-content .image{position:relative;overflow:hidden}.ck-content .image .ck-progress-bar{position:absolute;top:0;left:0}:root{--ck-image-upload-progress-line-width:30px}.ck-content .image.ck-appear{animation:fadeIn .7s}.ck-content .image .ck-progress-bar{height:2px;width:0;background:var(--ck-color-upload-bar-background);transition:width .1s}@keyframes fadeIn{0%{opacity:0}to{opacity:1}}";},function(t,e,n){var i=n(79);"string"==typeof i&&(i=[[t.i,i,""]]);var o={singleton:!0,hmr:!0,transform:void 0,insertInto:void 0};n(2)(i,o);i.locals&&(t.exports=i.locals);},function(t,e){t.exports='.ck-image-upload-complete-icon{display:block;position:absolute;top:10px;right:10px;border-radius:50%}.ck-image-upload-complete-icon:after{content:"";position:absolute}:root{--ck-color-image-upload-icon:#fff;--ck-color-image-upload-icon-background:#008a00;--ck-image-upload-icon-size:20px;--ck-image-upload-icon-width:2px}.ck-image-upload-complete-icon{width:var(--ck-image-upload-icon-size);height:var(--ck-image-upload-icon-size);opacity:0;background:var(--ck-color-image-upload-icon-background);animation-name:ck-upload-complete-icon-show,ck-upload-complete-icon-hide;animation-fill-mode:forwards,forwards;animation-duration:.5s,.5s;font-size:var(--ck-image-upload-icon-size);animation-delay:0ms,3s}.ck-image-upload-complete-icon:after{left:25%;top:50%;opacity:0;height:0;width:0;transform:scaleX(-1) rotate(135deg);transform-origin:left top;border-top:var(--ck-image-upload-icon-width) solid var(--ck-color-image-upload-icon);border-right:var(--ck-image-upload-icon-width) solid var(--ck-color-image-upload-icon);animation-name:ck-upload-complete-icon-check;animation-duration:.5s;animation-delay:.5s;animation-fill-mode:forwards;box-sizing:border-box}@keyframes ck-upload-complete-icon-show{0%{opacity:0}to{opacity:1}}@keyframes ck-upload-complete-icon-hide{0%{opacity:1}to{opacity:0}}@keyframes ck-upload-complete-icon-check{0%{opacity:1;width:0;height:0}33%{width:.3em;height:0}to{opacity:1;width:.3em;height:.45em}}';},function(t,e,n){var i=n(81);"string"==typeof i&&(i=[[t.i,i,""]]);var o={singleton:!0,hmr:!0,transform:void 0,insertInto:void 0};n(2)(i,o);i.locals&&(t.exports=i.locals);},function(t,e){t.exports='.ck .ck-upload-placeholder-loader{position:absolute;display:flex;align-items:center;justify-content:center;top:0;left:0}.ck .ck-upload-placeholder-loader:before{content:"";position:relative}:root{--ck-color-upload-placeholder-loader:#b3b3b3;--ck-upload-placeholder-loader-size:32px}.ck .ck-image-upload-placeholder{width:100%;margin:0}.ck .ck-upload-placeholder-loader{width:100%;height:100%}.ck .ck-upload-placeholder-loader:before{width:var(--ck-upload-placeholder-loader-size);height:var(--ck-upload-placeholder-loader-size);border-radius:50%;border-top:3px solid var(--ck-color-upload-placeholder-loader);border-right:2px solid transparent;animation:ck-upload-placeholder-loader 1s linear infinite}@keyframes ck-upload-placeholder-loader{to{transform:rotate(1turn)}}';},function(t,e,n){var i=n(83);"string"==typeof i&&(i=[[t.i,i,""]]);var o={singleton:!0,hmr:!0,transform:void 0,insertInto:void 0};n(2)(i,o);i.locals&&(t.exports=i.locals);},function(t,e){t.exports=".ck.ck-dropdown{display:inline-block;position:relative}.ck.ck-dropdown .ck-dropdown__arrow{pointer-events:none;z-index:var(--ck-z-default)}.ck.ck-dropdown .ck-button.ck-dropdown__button{width:100%}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-on .ck-tooltip{display:none}.ck.ck-dropdown .ck-dropdown__panel{-webkit-backface-visibility:hidden;display:none;z-index:var(--ck-z-modal);position:absolute}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel-visible{display:inline-block;will-change:transform}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_ne,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nw{bottom:100%}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_se,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_sw{transform:translate3d(0,100%,0)}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_ne,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_se{left:0}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nw,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_sw{right:0}:root{--ck-dropdown-arrow-size:calc(0.5*var(--ck-icon-size))}.ck.ck-dropdown{font-size:inherit}.ck.ck-dropdown .ck-dropdown__arrow{right:var(--ck-spacing-standard);width:var(--ck-dropdown-arrow-size);margin-left:var(--ck-spacing-small)}.ck.ck-dropdown.ck-disabled .ck-dropdown__arrow{opacity:var(--ck-disabled-opacity)}.ck.ck-dropdown .ck-button.ck-dropdown__button:not(.ck-button_with-text){padding-left:var(--ck-spacing-small)}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-disabled .ck-button__label{opacity:var(--ck-disabled-opacity)}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-on{border-bottom-left-radius:0;border-bottom-right-radius:0}.ck.ck-dropdown .ck-button.ck-dropdown__button .ck-button__label{width:7em;overflow:hidden;text-overflow:ellipsis}.ck.ck-dropdown__panel{box-shadow:var(--ck-drop-shadow),0 0;border-radius:0}.ck-rounded-corners .ck.ck-dropdown__panel,.ck.ck-dropdown__panel.ck-rounded-corners{border-radius:var(--ck-border-radius);border-top-left-radius:0}.ck.ck-dropdown__panel{background:var(--ck-color-dropdown-panel-background);border:1px solid var(--ck-color-dropdown-panel-border);bottom:0;min-width:100%}";},function(t,e,n){var i=n(85);"string"==typeof i&&(i=[[t.i,i,""]]);var o={singleton:!0,hmr:!0,transform:void 0,insertInto:void 0};n(2)(i,o);i.locals&&(t.exports=i.locals);},function(t,e){t.exports=".ck.ck-list{-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;user-select:none;display:flex;flex-direction:column}.ck.ck-list .ck-list__item,.ck.ck-list .ck-list__separator{display:block}.ck.ck-list .ck-list__item>:focus{position:relative;z-index:var(--ck-z-default)}.ck.ck-list{border-radius:0}.ck-rounded-corners .ck.ck-list,.ck.ck-list.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-list{list-style-type:none;background:var(--ck-color-list-background)}.ck.ck-list__item{cursor:default;min-width:12em}.ck.ck-list__item .ck-button{min-height:unset;width:100%;text-align:left;border-radius:0;border:0;padding:calc(0.2*var(--ck-line-height-base)*var(--ck-font-size-base)) calc(0.4*var(--ck-line-height-base)*var(--ck-font-size-base))}.ck.ck-list__item .ck-button .ck-button__label{line-height:calc(1.2*var(--ck-line-height-base)*var(--ck-font-size-base))}.ck.ck-list__item .ck-button:active{box-shadow:none}.ck.ck-list__item .ck-button.ck-on{background:var(--ck-color-list-button-on-background);color:var(--ck-color-list-button-on-text)}.ck.ck-list__item .ck-button.ck-on:hover:not(ck-disabled){background:var(--ck-color-list-button-on-background-focus)}.ck.ck-list__item .ck-button.ck-on:active{box-shadow:none}.ck.ck-list__item .ck-button:hover:not(.ck-disabled){background:var(--ck-color-list-button-hover-background)}.ck.ck-list__item .ck-switchbutton.ck-on{background:var(--ck-color-list-background);color:inherit}.ck.ck-list__item .ck-switchbutton.ck-on:hover:not(ck-disabled){background:var(--ck-color-list-button-hover-background);color:inherit}.ck.ck-list__separator{height:1px;width:100%;background:var(--ck-color-base-border)}";},function(t,e,n){var i=n(87);"string"==typeof i&&(i=[[t.i,i,""]]);var o={singleton:!0,hmr:!0,transform:void 0,insertInto:void 0};n(2)(i,o);i.locals&&(t.exports=i.locals);},function(t,e){t.exports=".ck.ck-button.ck-switchbutton .ck-button__toggle,.ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner{display:block}:root{--ck-switch-button-toggle-width:2.6153846154em;--ck-switch-button-toggle-inner-size:1.0769230769em;--ck-switch-button-toggle-spacing:1px}.ck.ck-button.ck-switchbutton .ck-button__label{margin-right:calc(2*var(--ck-spacing-large))}.ck.ck-button.ck-switchbutton.ck-disabled .ck-button__toggle{opacity:var(--ck-disabled-opacity)}.ck.ck-button.ck-switchbutton .ck-button__toggle{border-radius:0}.ck-rounded-corners .ck.ck-button.ck-switchbutton .ck-button__toggle,.ck.ck-button.ck-switchbutton .ck-button__toggle.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-button.ck-switchbutton .ck-button__toggle{margin-left:auto;transition:background .4s ease;width:var(--ck-switch-button-toggle-width);background:var(--ck-color-switch-button-off-background)}.ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner{border-radius:0}.ck-rounded-corners .ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner,.ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner.ck-rounded-corners{border-radius:var(--ck-border-radius);border-radius:calc(0.5*var(--ck-border-radius))}.ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner{margin:var(--ck-switch-button-toggle-spacing);width:var(--ck-switch-button-toggle-inner-size);height:var(--ck-switch-button-toggle-inner-size);background:var(--ck-color-switch-button-inner-background);transition:transform .3s ease}.ck.ck-button.ck-switchbutton.ck-on .ck-button__toggle{background:var(--ck-color-switch-button-on-background)}.ck.ck-button.ck-switchbutton.ck-on .ck-button__toggle .ck-button__toggle__inner{transform:translateX(1.3846153847em)}";},function(t,e,n){var i=n(89);"string"==typeof i&&(i=[[t.i,i,""]]);var o={singleton:!0,hmr:!0,transform:void 0,insertInto:void 0};n(2)(i,o);i.locals&&(t.exports=i.locals);},function(t,e){t.exports=".ck.ck-toolbar-dropdown .ck-toolbar{flex-wrap:nowrap}.ck.ck-toolbar-dropdown .ck-dropdown__panel .ck-button:focus{z-index:calc(var(--ck-z-default) + 1)}.ck.ck-toolbar-dropdown .ck-toolbar{border:0}";},function(t,e,n){var i=n(91);"string"==typeof i&&(i=[[t.i,i,""]]);var o={singleton:!0,hmr:!0,transform:void 0,insertInto:void 0};n(2)(i,o);i.locals&&(t.exports=i.locals);},function(t,e){t.exports=".ck.ck-dropdown .ck-dropdown__panel .ck-list{border-radius:0}.ck-rounded-corners .ck.ck-dropdown .ck-dropdown__panel .ck-list,.ck.ck-dropdown .ck-dropdown__panel .ck-list.ck-rounded-corners{border-radius:var(--ck-border-radius);border-top-left-radius:0}.ck.ck-dropdown .ck-dropdown__panel .ck-list .ck-list__item:first-child .ck-button{border-radius:0}.ck-rounded-corners .ck.ck-dropdown .ck-dropdown__panel .ck-list .ck-list__item:first-child .ck-button,.ck.ck-dropdown .ck-dropdown__panel .ck-list .ck-list__item:first-child .ck-button.ck-rounded-corners{border-radius:var(--ck-border-radius);border-top-left-radius:0;border-bottom-left-radius:0;border-bottom-right-radius:0}.ck.ck-dropdown .ck-dropdown__panel .ck-list .ck-list__item:last-child .ck-button{border-radius:0}.ck-rounded-corners .ck.ck-dropdown .ck-dropdown__panel .ck-list .ck-list__item:last-child .ck-button,.ck.ck-dropdown .ck-dropdown__panel .ck-list .ck-list__item:last-child .ck-button.ck-rounded-corners{border-radius:var(--ck-border-radius);border-top-left-radius:0;border-top-right-radius:0}";},function(t,e){t.exports=".ck.ck-heading_heading1{font-size:20px}.ck.ck-heading_heading2{font-size:17px}.ck.ck-heading_heading3{font-size:14px}.ck[class*=ck-heading_heading]{font-weight:700}.ck.ck-dropdown.ck-heading-dropdown .ck-dropdown__button .ck-button__label{width:8em}.ck.ck-dropdown.ck-heading-dropdown .ck-dropdown__panel .ck-list__item{min-width:18em}";},function(t,e,n){var i=n(94);"string"==typeof i&&(i=[[t.i,i,""]]);var o={singleton:!0,hmr:!0,transform:void 0,insertInto:void 0};n(2)(i,o);i.locals&&(t.exports=i.locals);},function(t,e){t.exports=".ck.ck-placeholder:before,.ck .ck-placeholder:before{content:attr(data-placeholder);pointer-events:none;cursor:text;color:var(--ck-color-engine-placeholder-text)}";},function(t,e,n){var i=n(96);"string"==typeof i&&(i=[[t.i,i,""]]);var o={singleton:!0,hmr:!0,transform:void 0,insertInto:void 0};n(2)(i,o);i.locals&&(t.exports=i.locals);},function(t,e){t.exports=".ck-content .image>figcaption{color:#333;background-color:#f7f7f7;padding:.6em;font-size:.75em;outline-offset:-1px}";},function(t,e,n){var i=n(98);"string"==typeof i&&(i=[[t.i,i,""]]);var o={singleton:!0,hmr:!0,transform:void 0,insertInto:void 0};n(2)(i,o);i.locals&&(t.exports=i.locals);},function(t,e){t.exports=":root{--ck-image-style-spacing:1.5em}.ck-content .image-style-align-center,.ck-content .image-style-align-left,.ck-content .image-style-align-right,.ck-content .image-style-side{max-width:50%}.ck-content .image-style-side{float:right;margin-left:var(--ck-image-style-spacing)}.ck-content .image-style-align-left{float:left;margin-right:var(--ck-image-style-spacing)}.ck-content .image-style-align-center{margin-left:auto;margin-right:auto}.ck-content .image-style-align-right{float:right;margin-left:var(--ck-image-style-spacing)}";},function(t,e,n){var i=n(100);"string"==typeof i&&(i=[[t.i,i,""]]);var o={singleton:!0,hmr:!0,transform:void 0,insertInto:void 0};n(2)(i,o);i.locals&&(t.exports=i.locals);},function(t,e){t.exports=".ck .ck-link_selected{background:var(--ck-color-link-selected-background)}";},function(t,e,n){var i=n(102);"string"==typeof i&&(i=[[t.i,i,""]]);var o={singleton:!0,hmr:!0,transform:void 0,insertInto:void 0};n(2)(i,o);i.locals&&(t.exports=i.locals);},function(t,e){t.exports=".ck.ck-link-form{display:flex;flex-direction:row;flex-wrap:nowrap}.ck.ck-link-form .ck-label{display:none}@media screen and (max-width:600px){.ck.ck-link-form{flex-wrap:wrap}.ck.ck-link-form .ck-labeled-input{flex-basis:100%}.ck.ck-link-form .ck-button{flex-basis:50%}}.ck.ck-link-form{padding:var(--ck-spacing-standard)}.ck.ck-link-form:focus{outline:none}.ck.ck-link-form>:not(:first-child){margin-left:var(--ck-spacing-standard)}@media screen and (max-width:600px){.ck.ck-link-form{padding:0;width:calc(0.8*var(--ck-input-text-width))}.ck.ck-link-form .ck-labeled-input{margin:var(--ck-spacing-standard) var(--ck-spacing-standard) 0}.ck.ck-link-form .ck-labeled-input .ck-input-text{min-width:0;width:100%}.ck.ck-link-form .ck-button{padding:var(--ck-spacing-standard);margin-top:var(--ck-spacing-standard);margin-left:0;border-radius:0;border:0;border-top:1px solid var(--ck-color-base-border)}.ck.ck-link-form .ck-button:first-of-type{border-right:1px solid var(--ck-color-base-border)}}";},function(t,e,n){var i=n(104);"string"==typeof i&&(i=[[t.i,i,""]]);var o={singleton:!0,hmr:!0,transform:void 0,insertInto:void 0};n(2)(i,o);i.locals&&(t.exports=i.locals);},function(t,e){t.exports=".ck.ck-link-actions{display:flex;flex-direction:row;flex-wrap:nowrap}.ck.ck-link-actions .ck-link-actions__preview{display:inline-block}.ck.ck-link-actions .ck-link-actions__preview .ck-button__label{overflow:hidden}@media screen and (max-width:600px){.ck.ck-link-actions{flex-wrap:wrap}.ck.ck-link-actions .ck-link-actions__preview{flex-basis:100%}.ck.ck-link-actions .ck-button:not(.ck-link-actions__preview){flex-basis:50%}}.ck.ck-link-actions{padding:var(--ck-spacing-standard)}.ck.ck-link-actions .ck-button.ck-link-actions__preview{padding-left:0;padding-right:0}.ck.ck-link-actions .ck-button.ck-link-actions__preview,.ck.ck-link-actions .ck-button.ck-link-actions__preview:active,.ck.ck-link-actions .ck-button.ck-link-actions__preview:focus,.ck.ck-link-actions .ck-button.ck-link-actions__preview:hover{background:none}.ck.ck-link-actions .ck-button.ck-link-actions__preview:active{box-shadow:none}.ck.ck-link-actions .ck-button.ck-link-actions__preview:focus .ck-button__label{text-decoration:underline}.ck.ck-link-actions .ck-button.ck-link-actions__preview .ck-button__label{padding:0 var(--ck-spacing-medium);color:var(--ck-color-link-default);text-overflow:ellipsis;cursor:pointer;max-width:var(--ck-input-text-width);min-width:3em;text-align:center}.ck.ck-link-actions .ck-button.ck-link-actions__preview .ck-button__label:hover{text-decoration:underline}.ck.ck-link-actions:focus{outline:none}.ck.ck-link-actions .ck-button:not(.ck-link-actions__preview){margin-left:var(--ck-spacing-standard)}@media screen and (max-width:600px){.ck.ck-link-actions{padding:0;width:calc(0.8*var(--ck-input-text-width))}.ck.ck-link-actions .ck-button.ck-link-actions__preview{margin:var(--ck-spacing-standard) var(--ck-spacing-standard) 0}.ck.ck-link-actions .ck-button.ck-link-actions__preview .ck-button__label{min-width:0;max-width:100%}.ck.ck-link-actions .ck-button:not(.ck-link-actions__preview){padding:var(--ck-spacing-standard);margin-top:var(--ck-spacing-standard);margin-left:0;border-radius:0;border:0;border-top:1px solid var(--ck-color-base-border)}.ck.ck-link-actions .ck-button:not(.ck-link-actions__preview):first-of-type{border-right:1px solid var(--ck-color-base-border)}}";},function(t,e,n){var i=n(106);"string"==typeof i&&(i=[[t.i,i,""]]);var o={singleton:!0,hmr:!0,transform:void 0,insertInto:void 0};n(2)(i,o);i.locals&&(t.exports=i.locals);},function(t,e){t.exports='.ck-media__wrapper .ck-media__placeholder{display:flex;flex-direction:column;align-items:center}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__url .ck-tooltip{display:block}@media (hover:none){.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__url .ck-tooltip{display:none}}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__url{max-width:100%;position:relative}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__url:hover .ck-tooltip{visibility:visible;opacity:1}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__url .ck-media__placeholder__url__text{overflow:hidden;display:block}.ck-media__wrapper[data-oembed-url*="facebook.com"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="google.com/maps"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="instagram.com"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="twitter.com"] .ck-media__placeholder__icon *{display:none}[contenteditable=true] .ck-media__wrapper>:not(.ck-media__placeholder){pointer-events:none}:root{--ck-media-embed-placeholder-icon-size:3em;--ck-color-media-embed-placeholder-url-text:#757575;--ck-color-media-embed-placeholder-url-text-hover:var(--ck-color-base-text)}.ck-media__wrapper{margin:0 auto}.ck-media__wrapper .ck-media__placeholder{padding:calc(3*var(--ck-spacing-standard));background:var(--ck-color-base-foreground)}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__icon{min-width:var(--ck-media-embed-placeholder-icon-size);height:var(--ck-media-embed-placeholder-icon-size);margin-bottom:var(--ck-spacing-large);background-position:50%;background-size:cover}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__icon .ck-icon{width:100%;height:100%}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__url .ck-media__placeholder__url__text{color:var(--ck-color-media-embed-placeholder-url-text);white-space:nowrap;text-align:center;font-style:italic;text-overflow:ellipsis}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__url .ck-media__placeholder__url__text:hover{color:var(--ck-color-media-embed-placeholder-url-text-hover);cursor:pointer;text-decoration:underline}.ck-media__wrapper[data-oembed-url*="open.spotify.com"]{max-width:300px;max-height:380px}.ck-media__wrapper[data-oembed-url*="twitter.com"] .ck.ck-media__placeholder{background:linear-gradient(90deg,#71c6f4,#0d70a5)}.ck-media__wrapper[data-oembed-url*="twitter.com"] .ck.ck-media__placeholder .ck-media__placeholder__icon{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA0MDAgNDAwIj48cGF0aCBkPSJNNDAwIDIwMGMwIDExMC41LTg5LjUgMjAwLTIwMCAyMDBTMCAzMTAuNSAwIDIwMCA4OS41IDAgMjAwIDBzMjAwIDg5LjUgMjAwIDIwMHpNMTYzLjQgMzA1LjVjODguNyAwIDEzNy4yLTczLjUgMTM3LjItMTM3LjIgMC0yLjEgMC00LjItLjEtNi4yIDkuNC02LjggMTcuNi0xNS4zIDI0LjEtMjUtOC42IDMuOC0xNy45IDYuNC0yNy43IDcuNiAxMC02IDE3LjYtMTUuNCAyMS4yLTI2LjctOS4zIDUuNS0xOS42IDkuNS0zMC42IDExLjctOC44LTkuNC0yMS4zLTE1LjItMzUuMi0xNS4yLTI2LjYgMC00OC4yIDIxLjYtNDguMiA0OC4yIDAgMy44LjQgNy41IDEuMyAxMS00MC4xLTItNzUuNi0yMS4yLTk5LjQtNTAuNC00LjEgNy4xLTYuNSAxNS40LTYuNSAyNC4yIDAgMTYuNyA4LjUgMzEuNSAyMS41IDQwLjEtNy45LS4yLTE1LjMtMi40LTIxLjgtNnYuNmMwIDIzLjQgMTYuNiA0Mi44IDM4LjcgNDcuMy00IDEuMS04LjMgMS43LTEyLjcgMS43LTMuMSAwLTYuMS0uMy05LjEtLjkgNi4xIDE5LjIgMjMuOSAzMy4xIDQ1IDMzLjUtMTYuNSAxMi45LTM3LjMgMjAuNi01OS45IDIwLjYtMy45IDAtNy43LS4yLTExLjUtLjcgMjEuMSAxMy44IDQ2LjUgMjEuOCA3My43IDIxLjgiIGZpbGw9IiNmZmYiLz48L3N2Zz4=)}.ck-media__wrapper[data-oembed-url*="twitter.com"] .ck.ck-media__placeholder .ck-media__placeholder__url__text{color:#b8e6ff}.ck-media__wrapper[data-oembed-url*="twitter.com"] .ck.ck-media__placeholder .ck-media__placeholder__url__text:hover{color:#fff}.ck-media__wrapper[data-oembed-url*="google.com/maps"] .ck-media__placeholder__icon{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNTAuMzc4IiBoZWlnaHQ9IjI1NC4xNjciIHZpZXdCb3g9IjAgMCA2Ni4yNDYgNjcuMjQ4Ij48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMTcyLjUzMSAtMjE4LjQ1NSkgc2NhbGUoLjk4MDEyKSI+PHJlY3Qgcnk9IjUuMjM4IiByeD0iNS4yMzgiIHk9IjIzMS4zOTkiIHg9IjE3Ni4wMzEiIGhlaWdodD0iNjAuMDk5IiB3aWR0aD0iNjAuMDk5IiBmaWxsPSIjMzRhNjY4IiBwYWludC1vcmRlcj0ibWFya2VycyBzdHJva2UgZmlsbCIvPjxwYXRoIGQ9Ik0yMDYuNDc3IDI2MC45bC0yOC45ODcgMjguOTg3YTUuMjE4IDUuMjE4IDAgMCAwIDMuNzggMS42MWg0OS42MjFjMS42OTQgMCAzLjE5LS43OTggNC4xNDYtMi4wMzd6IiBmaWxsPSIjNWM4OGM1Ii8+PHBhdGggZD0iTTIyNi43NDIgMjIyLjk4OGMtOS4yNjYgMC0xNi43NzcgNy4xNy0xNi43NzcgMTYuMDE0LjAwNyAyLjc2Mi42NjMgNS40NzQgMi4wOTMgNy44NzUuNDMuNzAzLjgzIDEuNDA4IDEuMTkgMi4xMDcuMzMzLjUwMi42NSAxLjAwNS45NSAxLjUwOC4zNDMuNDc3LjY3My45NTcuOTg4IDEuNDQgMS4zMSAxLjc2OSAyLjUgMy41MDIgMy42MzcgNS4xNjguNzkzIDEuMjc1IDEuNjgzIDIuNjQgMi40NjYgMy45OSAyLjM2MyA0LjA5NCA0LjAwNyA4LjA5MiA0LjYgMTMuOTE0di4wMTJjLjE4Mi40MTIuNTE2LjY2Ni44NzkuNjY3LjQwMy0uMDAxLjc2OC0uMzE0LjkzLS43OTkuNjAzLTUuNzU2IDIuMjM4LTkuNzI5IDQuNTg1LTEzLjc5NC43ODItMS4zNSAxLjY3My0yLjcxNSAyLjQ2NS0zLjk5IDEuMTM3LTEuNjY2IDIuMzI4LTMuNCAzLjYzOC01LjE2OS4zMTUtLjQ4Mi42NDUtLjk2Mi45ODgtMS40MzkuMy0uNTAzLjYxNy0xLjAwNi45NS0xLjUwOC4zNTktLjcuNzYtMS40MDQgMS4xOS0yLjEwNyAxLjQyNi0yLjQwMiAyLTUuMTE0IDIuMDA0LTcuODc1IDAtOC44NDQtNy41MTEtMTYuMDE0LTE2Ljc3Ni0xNi4wMTR6IiBmaWxsPSIjZGQ0YjNlIiBwYWludC1vcmRlcj0ibWFya2VycyBzdHJva2UgZmlsbCIvPjxlbGxpcHNlIHJ5PSI1LjU2NCIgcng9IjUuODI4IiBjeT0iMjM5LjAwMiIgY3g9IjIyNi43NDIiIGZpbGw9IiM4MDJkMjciIHBhaW50LW9yZGVyPSJtYXJrZXJzIHN0cm9rZSBmaWxsIi8+PHBhdGggZD0iTTE5MC4zMDEgMjM3LjI4M2MtNC42NyAwLTguNDU3IDMuODUzLTguNDU3IDguNjA2czMuNzg2IDguNjA3IDguNDU3IDguNjA3YzMuMDQzIDAgNC44MDYtLjk1OCA2LjMzNy0yLjUxNiAxLjUzLTEuNTU3IDIuMDg3LTMuOTEzIDIuMDg3LTYuMjkgMC0uMzYyLS4wMjMtLjcyMi0uMDY0LTEuMDc5aC04LjI1N3YzLjA0M2g0Ljg1Yy0uMTk3Ljc1OS0uNTMxIDEuNDUtMS4wNTggMS45ODYtLjk0Mi45NTgtMi4wMjggMS41NDgtMy45MDEgMS41NDgtMi44NzYgMC01LjIwOC0yLjM3Mi01LjIwOC01LjI5OSAwLTIuOTI2IDIuMzMyLTUuMjk5IDUuMjA4LTUuMjk5IDEuMzk5IDAgMi42MTguNDA3IDMuNTg0IDEuMjkzbDIuMzgxLTIuMzhjMC0uMDAyLS4wMDMtLjAwNC0uMDA0LS4wMDUtMS41ODgtMS41MjQtMy42Mi0yLjIxNS01Ljk1NS0yLjIxNXptNC40MyA1LjY2bC4wMDMuMDA2di0uMDAzeiIgZmlsbD0iI2ZmZiIgcGFpbnQtb3JkZXI9Im1hcmtlcnMgc3Ryb2tlIGZpbGwiLz48cGF0aCBkPSJNMjE1LjE4NCAyNTEuOTI5bC03Ljk4IDcuOTc5IDI4LjQ3NyAyOC40NzVhNS4yMzMgNS4yMzMgMCAwIDAgLjQ0OS0yLjEyM3YtMzEuMTY1Yy0uNDY5LjY3NS0uOTM0IDEuMzQ5LTEuMzgyIDIuMDA1LS43OTIgMS4yNzUtMS42ODIgMi42NC0yLjQ2NSAzLjk5LTIuMzQ3IDQuMDY1LTMuOTgyIDguMDM4LTQuNTg1IDEzLjc5NC0uMTYyLjQ4NS0uNTI3Ljc5OC0uOTMuNzk5LS4zNjMtLjAwMS0uNjk3LS4yNTUtLjg3OS0uNjY3di0uMDEyYy0uNTkzLTUuODIyLTIuMjM3LTkuODItNC42LTEzLjkxNC0uNzgzLTEuMzUtMS42NzMtMi43MTUtMi40NjYtMy45OS0xLjEzNy0xLjY2Ni0yLjMyNy0zLjQtMy42MzctNS4xNjlsLS4wMDItLjAwM3oiIGZpbGw9IiNjM2MzYzMiLz48cGF0aCBkPSJNMjEyLjk4MyAyNDguNDk1bC0zNi45NTIgMzYuOTUzdi44MTJhNS4yMjcgNS4yMjcgMCAwIDAgNS4yMzggNS4yMzhoMS4wMTVsMzUuNjY2LTM1LjY2NmExMzYuMjc1IDEzNi4yNzUgMCAwIDAtMi43NjQtMy45IDM3LjU3NSAzNy41NzUgMCAwIDAtLjk4OS0xLjQ0IDM1LjEyNyAzNS4xMjcgMCAwIDAtLjk1LTEuNTA4Yy0uMDgzLS4xNjItLjE3Ni0uMzI2LS4yNjQtLjQ4OXoiIGZpbGw9IiNmZGRjNGYiIHBhaW50LW9yZGVyPSJtYXJrZXJzIHN0cm9rZSBmaWxsIi8+PHBhdGggZD0iTTIxMS45OTggMjYxLjA4M2wtNi4xNTIgNi4xNTEgMjQuMjY0IDI0LjI2NGguNzgxYTUuMjI3IDUuMjI3IDAgMCAwIDUuMjM5LTUuMjM4di0xLjA0NXoiIGZpbGw9IiNmZmYiIHBhaW50LW9yZGVyPSJtYXJrZXJzIHN0cm9rZSBmaWxsIi8+PC9nPjwvc3ZnPg==)}.ck-media__wrapper[data-oembed-url*="facebook.com"] .ck-media__placeholder{background:#4268b3}.ck-media__wrapper[data-oembed-url*="facebook.com"] .ck-media__placeholder .ck-media__placeholder__icon{background-image:url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTAyNCIgaGVpZ2h0PSIxMDI0IiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPjxwYXRoIGQ9Ik05NjcuNDg0IDBINTYuNTE3QzI1LjMwNCAwIDAgMjUuMzA0IDAgNTYuNTE3djkxMC45NjZDMCA5OTguNjk0IDI1LjI5NyAxMDI0IDU2LjUyMiAxMDI0SDU0N1Y2MjhINDE0VjQ3M2gxMzNWMzU5LjAyOWMwLTEzMi4yNjIgODAuNzczLTIwNC4yODIgMTk4Ljc1Ni0yMDQuMjgyIDU2LjUxMyAwIDEwNS4wODYgNC4yMDggMTE5LjI0NCA2LjA4OVYyOTlsLTgxLjYxNi4wMzdjLTYzLjk5MyAwLTc2LjM4NCAzMC40OTItNzYuMzg0IDc1LjIzNlY0NzNoMTUzLjQ4N2wtMTkuOTg2IDE1NUg3MDd2Mzk2aDI2MC40ODRjMzEuMjEzIDAgNTYuNTE2LTI1LjMwMyA1Ni41MTYtNTYuNTE2VjU2LjUxNUMxMDI0IDI1LjMwMyA5OTguNjk3IDAgOTY3LjQ4NCAwIiBmaWxsPSIjRkZGRkZFIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiLz48L3N2Zz4=)}.ck-media__wrapper[data-oembed-url*="facebook.com"] .ck-media__placeholder .ck-media__placeholder__url__text{color:#cdf}.ck-media__wrapper[data-oembed-url*="facebook.com"] .ck-media__placeholder .ck-media__placeholder__url__text:hover{color:#fff}.ck-media__wrapper[data-oembed-url*="instagram.com"] .ck-media__placeholder{background:linear-gradient(-135deg,#1400c8,#b900b4,#f50000)}.ck-media__wrapper[data-oembed-url*="instagram.com"] .ck-media__placeholder .ck-media__placeholder__icon{background-image:url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNTA0IiBoZWlnaHQ9IjUwNCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+PGRlZnM+PHBhdGggaWQ9ImEiIGQ9Ik0wIC4xNTloNTAzLjg0MVY1MDMuOTRIMHoiLz48L2RlZnM+PGcgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj48bWFzayBpZD0iYiIgZmlsbD0iI2ZmZiI+PHVzZSB4bGluazpocmVmPSIjYSIvPjwvbWFzaz48cGF0aCBkPSJNMjUxLjkyMS4xNTljLTY4LjQxOCAwLTc2Ljk5Ny4yOS0xMDMuODY3IDEuNTE2LTI2LjgxNCAxLjIyMy00NS4xMjcgNS40ODItNjEuMTUxIDExLjcxLTE2LjU2NiA2LjQzNy0zMC42MTUgMTUuMDUxLTQ0LjYyMSAyOS4wNTYtMTQuMDA1IDE0LjAwNi0yMi42MTkgMjguMDU1LTI5LjA1NiA0NC42MjEtNi4yMjggMTYuMDI0LTEwLjQ4NyAzNC4zMzctMTEuNzEgNjEuMTUxQy4yOSAxNzUuMDgzIDAgMTgzLjY2MiAwIDI1Mi4wOGMwIDY4LjQxNy4yOSA3Ni45OTYgMS41MTYgMTAzLjg2NiAxLjIyMyAyNi44MTQgNS40ODIgNDUuMTI3IDExLjcxIDYxLjE1MSA2LjQzNyAxNi41NjYgMTUuMDUxIDMwLjYxNSAyOS4wNTYgNDQuNjIxIDE0LjAwNiAxNC4wMDUgMjguMDU1IDIyLjYxOSA0NC42MjEgMjkuMDU3IDE2LjAyNCA2LjIyNyAzNC4zMzcgMTAuNDg2IDYxLjE1MSAxMS43MDkgMjYuODcgMS4yMjYgMzUuNDQ5IDEuNTE2IDEwMy44NjcgMS41MTYgNjguNDE3IDAgNzYuOTk2LS4yOSAxMDMuODY2LTEuNTE2IDI2LjgxNC0xLjIyMyA0NS4xMjctNS40ODIgNjEuMTUxLTExLjcwOSAxNi41NjYtNi40MzggMzAuNjE1LTE1LjA1MiA0NC42MjEtMjkuMDU3IDE0LjAwNS0xNC4wMDYgMjIuNjE5LTI4LjA1NSAyOS4wNTctNDQuNjIxIDYuMjI3LTE2LjAyNCAxMC40ODYtMzQuMzM3IDExLjcwOS02MS4xNTEgMS4yMjYtMjYuODcgMS41MTYtMzUuNDQ5IDEuNTE2LTEwMy44NjYgMC02OC40MTgtLjI5LTc2Ljk5Ny0xLjUxNi0xMDMuODY3LTEuMjIzLTI2LjgxNC01LjQ4Mi00NS4xMjctMTEuNzA5LTYxLjE1MS02LjQzOC0xNi41NjYtMTUuMDUyLTMwLjYxNS0yOS4wNTctNDQuNjIxLTE0LjAwNi0xNC4wMDUtMjguMDU1LTIyLjYxOS00NC42MjEtMjkuMDU2LTE2LjAyNC02LjIyOC0zNC4zMzctMTAuNDg3LTYxLjE1MS0xMS43MUMzMjguOTE3LjQ0OSAzMjAuMzM4LjE1OSAyNTEuOTIxLjE1OXptMCA0NS4zOTFjNjcuMjY1IDAgNzUuMjMzLjI1NyAxMDEuNzk3IDEuNDY5IDI0LjU2MiAxLjEyIDM3LjkwMSA1LjIyNCA0Ni43NzggOC42NzQgMTEuNzU5IDQuNTcgMjAuMTUxIDEwLjAyOSAyOC45NjYgMTguODQ1IDguODE2IDguODE1IDE0LjI3NSAxNy4yMDcgMTguODQ1IDI4Ljk2NiAzLjQ1IDguODc3IDcuNTU0IDIyLjIxNiA4LjY3NCA0Ni43NzggMS4yMTIgMjYuNTY0IDEuNDY5IDM0LjUzMiAxLjQ2OSAxMDEuNzk4IDAgNjcuMjY1LS4yNTcgNzUuMjMzLTEuNDY5IDEwMS43OTctMS4xMiAyNC41NjItNS4yMjQgMzcuOTAxLTguNjc0IDQ2Ljc3OC00LjU3IDExLjc1OS0xMC4wMjkgMjAuMTUxLTE4Ljg0NSAyOC45NjYtOC44MTUgOC44MTYtMTcuMjA3IDE0LjI3NS0yOC45NjYgMTguODQ1LTguODc3IDMuNDUtMjIuMjE2IDcuNTU0LTQ2Ljc3OCA4LjY3NC0yNi41NiAxLjIxMi0zNC41MjcgMS40NjktMTAxLjc5NyAxLjQ2OS02Ny4yNzEgMC03NS4yMzctLjI1Ny0xMDEuNzk4LTEuNDY5LTI0LjU2Mi0xLjEyLTM3LjkwMS01LjIyNC00Ni43NzgtOC42NzQtMTEuNzU5LTQuNTctMjAuMTUxLTEwLjAyOS0yOC45NjYtMTguODQ1LTguODE1LTguODE1LTE0LjI3NS0xNy4yMDctMTguODQ1LTI4Ljk2Ni0zLjQ1LTguODc3LTcuNTU0LTIyLjIxNi04LjY3NC00Ni43NzgtMS4yMTItMjYuNTY0LTEuNDY5LTM0LjUzMi0xLjQ2OS0xMDEuNzk3IDAtNjcuMjY2LjI1Ny03NS4yMzQgMS40NjktMTAxLjc5OCAxLjEyLTI0LjU2MiA1LjIyNC0zNy45MDEgOC42NzQtNDYuNzc4IDQuNTctMTEuNzU5IDEwLjAyOS0yMC4xNTEgMTguODQ1LTI4Ljk2NiA4LjgxNS04LjgxNiAxNy4yMDctMTQuMjc1IDI4Ljk2Ni0xOC44NDUgOC44NzctMy40NSAyMi4yMTYtNy41NTQgNDYuNzc4LTguNjc0IDI2LjU2NC0xLjIxMiAzNC41MzItMS40NjkgMTAxLjc5OC0xLjQ2OXoiIGZpbGw9IiNGRkYiIG1hc2s9InVybCgjYikiLz48cGF0aCBkPSJNMjUxLjkyMSAzMzYuMDUzYy00Ni4zNzggMC04My45NzQtMzcuNTk2LTgzLjk3NC04My45NzMgMC00Ni4zNzggMzcuNTk2LTgzLjk3NCA4My45NzQtODMuOTc0IDQ2LjM3NyAwIDgzLjk3MyAzNy41OTYgODMuOTczIDgzLjk3NCAwIDQ2LjM3Ny0zNy41OTYgODMuOTczLTgzLjk3MyA4My45NzN6bTAtMjEzLjMzOGMtNzEuNDQ3IDAtMTI5LjM2NSA1Ny45MTgtMTI5LjM2NSAxMjkuMzY1IDAgNzEuNDQ2IDU3LjkxOCAxMjkuMzY0IDEyOS4zNjUgMTI5LjM2NCA3MS40NDYgMCAxMjkuMzY0LTU3LjkxOCAxMjkuMzY0LTEyOS4zNjQgMC03MS40NDctNTcuOTE4LTEyOS4zNjUtMTI5LjM2NC0xMjkuMzY1ek00MTYuNjI3IDExNy42MDRjMCAxNi42OTYtMTMuNTM1IDMwLjIzLTMwLjIzMSAzMC4yMy0xNi42OTUgMC0zMC4yMy0xMy41MzQtMzAuMjMtMzAuMjMgMC0xNi42OTYgMTMuNTM1LTMwLjIzMSAzMC4yMy0zMC4yMzEgMTYuNjk2IDAgMzAuMjMxIDEzLjUzNSAzMC4yMzEgMzAuMjMxIiBmaWxsPSIjRkZGIi8+PC9nPjwvc3ZnPg==)}.ck-media__wrapper[data-oembed-url*="instagram.com"] .ck-media__placeholder .ck-media__placeholder__url__text{color:#ffe0fe}.ck-media__wrapper[data-oembed-url*="instagram.com"] .ck-media__placeholder .ck-media__placeholder__url__text:hover{color:#fff}';},function(t,e,n){var i=n(108);"string"==typeof i&&(i=[[t.i,i,""]]);var o={singleton:!0,hmr:!0,transform:void 0,insertInto:void 0};n(2)(i,o);i.locals&&(t.exports=i.locals);},function(t,e){t.exports=".ck.ck-media-form{display:flex;align-items:flex-start;flex-direction:row;flex-wrap:nowrap}.ck.ck-media-form .ck-labeled-input{display:inline-block}.ck.ck-media-form .ck-label{display:none}@media screen and (max-width:600px){.ck.ck-media-form{flex-wrap:wrap}.ck.ck-media-form .ck-labeled-input{flex-basis:100%}.ck.ck-media-form .ck-button{flex-basis:50%}}.ck.ck-media-form{padding:var(--ck-spacing-standard)}.ck.ck-media-form:focus{outline:none}.ck.ck-media-form>:not(:first-child){margin-left:var(--ck-spacing-standard)}@media screen and (max-width:600px){.ck.ck-media-form{padding:0;width:calc(0.8*var(--ck-input-text-width))}.ck.ck-media-form .ck-labeled-input{margin:var(--ck-spacing-standard) var(--ck-spacing-standard) 0}.ck.ck-media-form .ck-labeled-input .ck-input-text{min-width:0;width:100%}.ck.ck-media-form .ck-labeled-input .ck-labeled-input__error{white-space:normal}.ck.ck-media-form .ck-button{padding:var(--ck-spacing-standard);margin-top:var(--ck-spacing-standard);margin-left:0;border-radius:0;border:0;border-top:1px solid var(--ck-color-base-border)}.ck.ck-media-form .ck-button:first-of-type{border-right:1px solid var(--ck-color-base-border)}}";},function(t,e,n){var i=n(110);"string"==typeof i&&(i=[[t.i,i,""]]);var o={singleton:!0,hmr:!0,transform:void 0,insertInto:void 0};n(2)(i,o);i.locals&&(t.exports=i.locals);},function(t,e){t.exports=".ck-content .media{clear:both;margin:1em 0}";},function(t,e,n){var i=n(112);"string"==typeof i&&(i=[[t.i,i,""]]);var o={singleton:!0,hmr:!0,transform:void 0,insertInto:void 0};n(2)(i,o);i.locals&&(t.exports=i.locals);},function(t,e){t.exports=":root{--ck-color-table-focused-cell-background:#f5fafe}.ck-widget.table td.ck-editor__nested-editable.ck-editor__nested-editable_focused,.ck-widget.table th.ck-editor__nested-editable.ck-editor__nested-editable_focused{background:var(--ck-color-table-focused-cell-background);border-style:none;outline:1px solid var(--ck-color-focus-border);outline-offset:-1px}";},function(t,e,n){var i=n(114);"string"==typeof i&&(i=[[t.i,i,""]]);var o={singleton:!0,hmr:!0,transform:void 0,insertInto:void 0};n(2)(i,o);i.locals&&(t.exports=i.locals);},function(t,e){t.exports=":root{--ck-insert-table-dropdown-padding:10px;--ck-insert-table-dropdown-box-height:11px;--ck-insert-table-dropdown-box-width:12px;--ck-insert-table-dropdown-box-margin:1px;--ck-insert-table-dropdown-box-border-color:#bfbfbf;--ck-insert-table-dropdown-box-border-active-color:#53a0e4;--ck-insert-table-dropdown-box-active-background:#c7e5ff}.ck .ck-insert-table-dropdown__grid{display:flex;flex-direction:row;flex-wrap:wrap;width:calc(var(--ck-insert-table-dropdown-box-width)*10 + var(--ck-insert-table-dropdown-box-margin)*20 + var(--ck-insert-table-dropdown-padding)*2);padding:var(--ck-insert-table-dropdown-padding) var(--ck-insert-table-dropdown-padding) 0}.ck .ck-insert-table-dropdown__label{text-align:center}.ck .ck-insert-table-dropdown-grid-box{width:var(--ck-insert-table-dropdown-box-width);height:var(--ck-insert-table-dropdown-box-height);margin:var(--ck-insert-table-dropdown-box-margin);border:1px solid var(--ck-insert-table-dropdown-box-border-color);border-radius:1px}.ck .ck-insert-table-dropdown-grid-box.ck-on{border-color:var(--ck-insert-table-dropdown-box-border-active-color);background:var(--ck-insert-table-dropdown-box-active-background)}";},function(t,e,n){var i=n(116);"string"==typeof i&&(i=[[t.i,i,""]]);var o={singleton:!0,hmr:!0,transform:void 0,insertInto:void 0};n(2)(i,o);i.locals&&(t.exports=i.locals);},function(t,e){t.exports=".ck-content .table{margin:1em auto;display:table}.ck-content .table table{border-collapse:collapse;border-spacing:0;border:1px double #b3b3b3}.ck-content .table table td,.ck-content .table table th{min-width:2em;padding:.4em;border-color:#d9d9d9}.ck-content .table table th{font-weight:700;background:#fafafa}";},function(t,e,n){"use strict";var _marked=/*#__PURE__*/regeneratorRuntime.mark(Fa),_marked2=/*#__PURE__*/regeneratorRuntime.mark(Ua);n.r(e);var i=n(4),o=i.a.Symbol,r=Object.prototype,s=r.hasOwnProperty,a=r.toString,c=o?o.toStringTag:void 0;var l=function l(t){var e=s.call(t,c),n=t[c];try{t[c]=void 0;var i=!0;}catch(t){}var o=a.call(t);return i&&(e?t[c]=n:delete t[c]),o;},d=Object.prototype.toString;var u=function u(t){return d.call(t);},h="[object Null]",f="[object Undefined]",m=o?o.toStringTag:void 0;var p=function p(t){return null==t?void 0===t?f:h:m&&m in Object(t)?l(t):u(t);};var g=function g(t,e){return function(n){return t(e(n));};},b=g(Object.getPrototypeOf,Object);var w=function w(t){return null!=t&&"object"==(typeof t==='undefined'?'undefined':_typeof(t));},_="[object Object]",k=Function.prototype,v=Object.prototype,y=k.toString,x=v.hasOwnProperty,A=y.call(Object);var C=function C(t){if(!w(t)||p(t)!=_)return!1;var e=b(t);if(null===e)return!0;var n=x.call(e,"constructor")&&e.constructor;return"function"==typeof n&&n instanceof n&&y.call(n)==A;};var T=function(){function T(t,e){_classCallCheck(this,T);this._config={},e&&this.define(e),t&&this._setObjectToTarget(this._config,t);}_createClass(T,[{key:'set',value:function set(t,e){this._setToTarget(this._config,t,e);}},{key:'define',value:function define(t,e){this._setToTarget(this._config,t,e,!0);}},{key:'get',value:function get(t){return this._getFromSource(this._config,t);}},{key:'_setToTarget',value:function _setToTarget(t,e,n){var i=arguments.length>3&&arguments[3]!==undefined?arguments[3]:!1;if(C(e))return void this._setObjectToTarget(t,e,i);var o=e.split(".");e=o.pop();var _iteratorNormalCompletion=true;var _didIteratorError=false;var _iteratorError=undefined;try{for(var _iterator=o[Symbol.iterator](),_step;!(_iteratorNormalCompletion=(_step=_iterator.next()).done);_iteratorNormalCompletion=true){var _e2=_step.value;C(t[_e2])||(t[_e2]={}),t=t[_e2];}}catch(err){_didIteratorError=true;_iteratorError=err;}finally{try{if(!_iteratorNormalCompletion&&_iterator.return){_iterator.return();}}finally{if(_didIteratorError){throw _iteratorError;}}}if(C(n))return C(t[e])||(t[e]={}),t=t[e],void this._setObjectToTarget(t,n,i);i&&void 0!==t[e]||(t[e]=n);}},{key:'_getFromSource',value:function _getFromSource(t,e){var n=e.split(".");e=n.pop();var _iteratorNormalCompletion2=true;var _didIteratorError2=false;var _iteratorError2=undefined;try{for(var _iterator2=n[Symbol.iterator](),_step2;!(_iteratorNormalCompletion2=(_step2=_iterator2.next()).done);_iteratorNormalCompletion2=true){var _e3=_step2.value;if(!C(t[_e3])){t=null;break;}t=t[_e3];}}catch(err){_didIteratorError2=true;_iteratorError2=err;}finally{try{if(!_iteratorNormalCompletion2&&_iterator2.return){_iterator2.return();}}finally{if(_didIteratorError2){throw _iteratorError2;}}}return t?t[e]:void 0;}},{key:'_setObjectToTarget',value:function _setObjectToTarget(t,e,n){var _this6=this;Object.keys(e).forEach(function(i){_this6._setToTarget(t,i,e[i],n);});}}]);return T;}();var P=n(0);var M=function M(){return function t(){t.called=!0;};};var S=function S(t,e){_classCallCheck(this,S);this.source=t,this.name=e,this.path=[],this.stop=M(),this.off=M();};function I(){var t="e";for(var _e4=0;_e4<8;_e4++){t+=Math.floor(65536*(1+Math.random())).toString(16).substring(1);}return t;}var E={get:function get(t){return"number"!=typeof t?this[t]||this.normal:t;},highest:1e5,high:1e3,normal:0,low:-1e3,lowest:-1e5};var N=Symbol("listeningTo"),O=Symbol("emitterId");var R={on:function on(t,e){var n=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{};this.listenTo(this,t,e,n);},once:function once(t,e,n){this.listenTo(this,t,function(t){for(var _len=arguments.length,n=Array(_len>1?_len-1:0),_key=1;_key<_len;_key++){n[_key-1]=arguments[_key];}t.off(),e.call.apply(e,[this,t].concat(n));},n);},off:function off(t,e){this.stopListening(this,t,e);},listenTo:function listenTo(t,e,n){var i=arguments.length>3&&arguments[3]!==undefined?arguments[3]:{};var o=void 0,r=void 0;this[N]||(this[N]={});var s=this[N];L(t)||D(t);var a=L(t);(o=s[a])||(o=s[a]={emitter:t,callbacks:{}}),(r=o.callbacks[e])||(r=o.callbacks[e]=[]),r.push(n),function(t,e){var n=j(t);if(n[e])return;var i=e,o=null;var r=[];for(;""!==i&&!n[i];){n[i]={callbacks:[],childEvents:[]},r.push(n[i]),o&&n[i].childEvents.push(o),o=i,i=i.substr(0,i.lastIndexOf(":"));}if(""!==i){var _iteratorNormalCompletion3=true;var _didIteratorError3=false;var _iteratorError3=undefined;try{for(var _iterator3=r[Symbol.iterator](),_step3;!(_iteratorNormalCompletion3=(_step3=_iterator3.next()).done);_iteratorNormalCompletion3=true){var _t2=_step3.value;_t2.callbacks=n[i].callbacks.slice();}}catch(err){_didIteratorError3=true;_iteratorError3=err;}finally{try{if(!_iteratorNormalCompletion3&&_iterator3.return){_iterator3.return();}}finally{if(_didIteratorError3){throw _iteratorError3;}}}n[i].childEvents.push(o);}}(t,e);var c=V(t,e),l=E.get(i.priority),d={callback:n,priority:l};var _iteratorNormalCompletion4=true;var _didIteratorError4=false;var _iteratorError4=undefined;try{for(var _iterator4=c[Symbol.iterator](),_step4;!(_iteratorNormalCompletion4=(_step4=_iterator4.next()).done);_iteratorNormalCompletion4=true){var _t3=_step4.value;var _e5=!1;for(var _n2=0;_n2<_t3.length;_n2++){if(_t3[_n2].priority<l){_t3.splice(_n2,0,d),_e5=!0;break;}}_e5||_t3.push(d);}}catch(err){_didIteratorError4=true;_iteratorError4=err;}finally{try{if(!_iteratorNormalCompletion4&&_iterator4.return){_iterator4.return();}}finally{if(_didIteratorError4){throw _iteratorError4;}}}},stopListening:function stopListening(t,e,n){var i=this[N];var o=t&&L(t);var r=i&&o&&i[o],s=r&&e&&r.callbacks[e];if(!(!i||t&&!r||e&&!s))if(n)B(t,e,n);else if(s){for(;n=s.pop();){B(t,e,n);}delete r.callbacks[e];}else if(r){for(e in r.callbacks){this.stopListening(t,e);}delete i[o];}else{for(o in i){this.stopListening(i[o].emitter);}delete this[N];}},fire:function fire(t){for(var _len2=arguments.length,e=Array(_len2>1?_len2-1:0),_key2=1;_key2<_len2;_key2++){e[_key2-1]=arguments[_key2];}var n=t instanceof S?t:new S(this,t),i=n.name;var o=function t(e,n){var i=void 0;if(!e._events||!(i=e._events[n])||!i.callbacks.length)return n.indexOf(":")>-1?t(e,n.substr(0,n.lastIndexOf(":"))):null;return i.callbacks;}(this,i);if(n.path.push(this),o){var _t4=[n].concat(_toConsumableArray(e));o=Array.from(o);for(var _e6=0;_e6<o.length&&(o[_e6].callback.apply(this,_t4),n.off.called&&(delete n.off.called,B(this,i,o[_e6].callback)),!n.stop.called);_e6++){}}if(this._delegations){var _t5=this._delegations.get(i),_o2=this._delegations.get("*");_t5&&z(_t5,n,e),_o2&&z(_o2,n,e);}return n.return;},delegate:function delegate(){var _this7=this;for(var _len3=arguments.length,t=Array(_len3),_key3=0;_key3<_len3;_key3++){t[_key3]=arguments[_key3];}return{to:function to(e,n){_this7._delegations||(_this7._delegations=new Map());var _iteratorNormalCompletion5=true;var _didIteratorError5=false;var _iteratorError5=undefined;try{for(var _iterator5=t[Symbol.iterator](),_step5;!(_iteratorNormalCompletion5=(_step5=_iterator5.next()).done);_iteratorNormalCompletion5=true){var i=_step5.value;var _t6=_this7._delegations.get(i);_t6?_t6.set(e,n):_this7._delegations.set(i,new Map([[e,n]]));}}catch(err){_didIteratorError5=true;_iteratorError5=err;}finally{try{if(!_iteratorNormalCompletion5&&_iterator5.return){_iterator5.return();}}finally{if(_didIteratorError5){throw _iteratorError5;}}}}};},stopDelegating:function stopDelegating(t,e){if(this._delegations)if(t){if(e){var _n3=this._delegations.get(t);_n3&&_n3.delete(e);}else this._delegations.delete(t);}else this._delegations.clear();}};function D(t,e){t[O]||(t[O]=e||I());}function L(t){return t[O];}function j(t){return t._events||Object.defineProperty(t,"_events",{value:{}}),t._events;}function V(t,e){var n=j(t)[e];if(!n)return[];var i=[n.callbacks];for(var _e7=0;_e7<n.childEvents.length;_e7++){var _o3=V(t,n.childEvents[_e7]);i=i.concat(_o3);}return i;}function z(t,e,n){var _iteratorNormalCompletion6=true;var _didIteratorError6=false;var _iteratorError6=undefined;try{for(var _iterator6=t[Symbol.iterator](),_step6;!(_iteratorNormalCompletion6=(_step6=_iterator6.next()).done);_iteratorNormalCompletion6=true){var _ref=_step6.value;var _ref2=_slicedToArray(_ref,2);var i=_ref2[0];var _o4=_ref2[1];_o4?"function"==typeof _o4&&(_o4=_o4(e.name)):_o4=e.name;var _t7=new S(e.source,_o4);_t7.path=[].concat(_toConsumableArray(e.path)),i.fire.apply(i,[_t7].concat(_toConsumableArray(n)));}}catch(err){_didIteratorError6=true;_iteratorError6=err;}finally{try{if(!_iteratorNormalCompletion6&&_iterator6.return){_iterator6.return();}}finally{if(_didIteratorError6){throw _iteratorError6;}}}}function B(t,e,n){var i=V(t,e);var _iteratorNormalCompletion7=true;var _didIteratorError7=false;var _iteratorError7=undefined;try{for(var _iterator7=i[Symbol.iterator](),_step7;!(_iteratorNormalCompletion7=(_step7=_iterator7.next()).done);_iteratorNormalCompletion7=true){var _t8=_step7.value;for(var _e8=0;_e8<_t8.length;_e8++){_t8[_e8].callback==n&&(_t8.splice(_e8,1),_e8--);}}}catch(err){_didIteratorError7=true;_iteratorError7=err;}finally{try{if(!_iteratorNormalCompletion7&&_iterator7.return){_iterator7.return();}}finally{if(_didIteratorError7){throw _iteratorError7;}}}}function F(t){for(var _len4=arguments.length,e=Array(_len4>1?_len4-1:0),_key4=1;_key4<_len4;_key4++){e[_key4-1]=arguments[_key4];}e.forEach(function(e){Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e)).forEach(function(n){if(n in t.prototype)return;var i=Object.getOwnPropertyDescriptor(e,n);i.enumerable=!1,Object.defineProperty(t.prototype,n,i);});});}function U(t,e){var n=Math.min(t.length,e.length);for(var i=0;i<n;i++){if(t[i]!=e[i])return i;}return t.length==e.length?"same":t.length<e.length?"prefix":"extension";}var H=function H(){this.__data__=[],this.size=0;};var q=function q(t,e){return t===e||t!=t&&e!=e;};var W=function W(t,e){for(var n=t.length;n--;){if(q(t[n][0],e))return n;}return-1;},Y=Array.prototype.splice;var $=function $(t){var e=this.__data__,n=W(e,t);return!(n<0||(n==e.length-1?e.pop():Y.call(e,n,1),--this.size,0));};var G=function G(t){var e=this.__data__,n=W(e,t);return n<0?void 0:e[n][1];};var Q=function Q(t){return W(this.__data__,t)>-1;};var J=function J(t,e){var n=this.__data__,i=W(n,t);return i<0?(++this.size,n.push([t,e])):n[i][1]=e,this;};function K(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var i=t[e];this.set(i[0],i[1]);}}K.prototype.clear=H,K.prototype.delete=$,K.prototype.get=G,K.prototype.has=Q,K.prototype.set=J;var Z=K;var X=function X(){this.__data__=new Z(),this.size=0;};var tt=function tt(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n;};var et=function et(t){return this.__data__.get(t);};var nt=function nt(t){return this.__data__.has(t);};var it=function it(t){var e=typeof t==='undefined'?'undefined':_typeof(t);return null!=t&&("object"==e||"function"==e);},ot="[object AsyncFunction]",rt="[object Function]",st="[object GeneratorFunction]",at="[object Proxy]";var ct=function ct(t){if(!it(t))return!1;var e=p(t);return e==rt||e==st||e==ot||e==at;},lt=i.a["__core-js_shared__"],dt=function(){var t=/[^.]+$/.exec(lt&&lt.keys&&lt.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:"";}();var ut=function ut(t){return!!dt&&dt in t;},ht=Function.prototype.toString;var ft=function ft(t){if(null!=t){try{return ht.call(t);}catch(t){}try{return t+"";}catch(t){}}return"";},mt=/^\[object .+?Constructor\]$/,pt=Function.prototype,gt=Object.prototype,bt=pt.toString,wt=gt.hasOwnProperty,_t=RegExp("^"+bt.call(wt).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");var kt=function kt(t){return!(!it(t)||ut(t))&&(ct(t)?_t:mt).test(ft(t));};var vt=function vt(t,e){return null==t?void 0:t[e];};var yt=function yt(t,e){var n=vt(t,e);return kt(n)?n:void 0;},xt=yt(i.a,"Map"),At=yt(Object,"create");var Ct=function Ct(){this.__data__=At?At(null):{},this.size=0;};var Tt=function Tt(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e;},Pt="__lodash_hash_undefined__",Mt=Object.prototype.hasOwnProperty;var St=function St(t){var e=this.__data__;if(At){var n=e[t];return n===Pt?void 0:n;}return Mt.call(e,t)?e[t]:void 0;},It=Object.prototype.hasOwnProperty;var Et=function Et(t){var e=this.__data__;return At?void 0!==e[t]:It.call(e,t);},Nt="__lodash_hash_undefined__";var Ot=function Ot(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=At&&void 0===e?Nt:e,this;};function Rt(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var i=t[e];this.set(i[0],i[1]);}}Rt.prototype.clear=Ct,Rt.prototype.delete=Tt,Rt.prototype.get=St,Rt.prototype.has=Et,Rt.prototype.set=Ot;var Dt=Rt;var Lt=function Lt(){this.size=0,this.__data__={hash:new Dt(),map:new(xt||Z)(),string:new Dt()};};var jt=function jt(t){var e=typeof t==='undefined'?'undefined':_typeof(t);return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t;};var Vt=function Vt(t,e){var n=t.__data__;return jt(e)?n["string"==typeof e?"string":"hash"]:n.map;};var zt=function zt(t){var e=Vt(this,t).delete(t);return this.size-=e?1:0,e;};var Bt=function Bt(t){return Vt(this,t).get(t);};var Ft=function Ft(t){return Vt(this,t).has(t);};var Ut=function Ut(t,e){var n=Vt(this,t),i=n.size;return n.set(t,e),this.size+=n.size==i?0:1,this;};function Ht(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var i=t[e];this.set(i[0],i[1]);}}Ht.prototype.clear=Lt,Ht.prototype.delete=zt,Ht.prototype.get=Bt,Ht.prototype.has=Ft,Ht.prototype.set=Ut;var qt=Ht,Wt=200;var Yt=function Yt(t,e){var n=this.__data__;if(n instanceof Z){var i=n.__data__;if(!xt||i.length<Wt-1)return i.push([t,e]),this.size=++n.size,this;n=this.__data__=new qt(i);}return n.set(t,e),this.size=n.size,this;};function $t(t){var e=this.__data__=new Z(t);this.size=e.size;}$t.prototype.clear=X,$t.prototype.delete=tt,$t.prototype.get=et,$t.prototype.has=nt,$t.prototype.set=Yt;var Gt=$t;var Qt=function Qt(t,e){for(var n=-1,i=null==t?0:t.length;++n<i&&!1!==e(t[n],n,t);){}return t;},Jt=function(){try{var t=yt(Object,"defineProperty");return t({},"",{}),t;}catch(t){}}();var Kt=function Kt(t,e,n){"__proto__"==e&&Jt?Jt(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n;},Zt=Object.prototype.hasOwnProperty;var Xt=function Xt(t,e,n){var i=t[e];Zt.call(t,e)&&q(i,n)&&(void 0!==n||e in t)||Kt(t,e,n);};var te=function te(t,e,n,i){var o=!n;n||(n={});for(var r=-1,s=e.length;++r<s;){var a=e[r],c=i?i(n[a],t[a],a,n,t):void 0;void 0===c&&(c=t[a]),o?Kt(n,a,c):Xt(n,a,c);}return n;};var ee=function ee(t,e){for(var n=-1,i=Array(t);++n<t;){i[n]=e(n);}return i;},ne="[object Arguments]";var ie=function ie(t){return w(t)&&p(t)==ne;},oe=Object.prototype,re=oe.hasOwnProperty,se=oe.propertyIsEnumerable,ae=ie(function(){return arguments;}())?ie:function(t){return w(t)&&re.call(t,"callee")&&!se.call(t,"callee");},ce=Array.isArray,le=n(6),de=9007199254740991,ue=/^(?:0|[1-9]\d*)$/;var he=function he(t,e){var n=typeof t==='undefined'?'undefined':_typeof(t);return!!(e=null==e?de:e)&&("number"==n||"symbol"!=n&&ue.test(t))&&t>-1&&t%1==0&&t<e;},fe=9007199254740991;var me=function me(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=fe;},pe={};pe["[object Float32Array]"]=pe["[object Float64Array]"]=pe["[object Int8Array]"]=pe["[object Int16Array]"]=pe["[object Int32Array]"]=pe["[object Uint8Array]"]=pe["[object Uint8ClampedArray]"]=pe["[object Uint16Array]"]=pe["[object Uint32Array]"]=!0,pe["[object Arguments]"]=pe["[object Array]"]=pe["[object ArrayBuffer]"]=pe["[object Boolean]"]=pe["[object DataView]"]=pe["[object Date]"]=pe["[object Error]"]=pe["[object Function]"]=pe["[object Map]"]=pe["[object Number]"]=pe["[object Object]"]=pe["[object RegExp]"]=pe["[object Set]"]=pe["[object String]"]=pe["[object WeakMap]"]=!1;var ge=function ge(t){return w(t)&&me(t.length)&&!!pe[p(t)];};var be=function be(t){return function(e){return t(e);};},we=n(5),_e=we.a&&we.a.isTypedArray,ke=_e?be(_e):ge,ve=Object.prototype.hasOwnProperty;var ye=function ye(t,e){var n=ce(t),i=!n&&ae(t),o=!n&&!i&&Object(le.a)(t),r=!n&&!i&&!o&&ke(t),s=n||i||o||r,a=s?ee(t.length,String):[],c=a.length;for(var l in t){!e&&!ve.call(t,l)||s&&("length"==l||o&&("offset"==l||"parent"==l)||r&&("buffer"==l||"byteLength"==l||"byteOffset"==l)||he(l,c))||a.push(l);}return a;},xe=Object.prototype;var Ae=function Ae(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||xe);},Ce=g(Object.keys,Object),Te=Object.prototype.hasOwnProperty;var Pe=function Pe(t){if(!Ae(t))return Ce(t);var e=[];for(var n in Object(t)){Te.call(t,n)&&"constructor"!=n&&e.push(n);}return e;};var Me=function Me(t){return null!=t&&me(t.length)&&!ct(t);};var Se=function Se(t){return Me(t)?ye(t):Pe(t);};var Ie=function Ie(t,e){return t&&te(e,Se(e),t);};var Ee=function Ee(t){var e=[];if(null!=t)for(var n in Object(t)){e.push(n);}return e;},Ne=Object.prototype.hasOwnProperty;var Oe=function Oe(t){if(!it(t))return Ee(t);var e=Ae(t),n=[];for(var i in t){("constructor"!=i||!e&&Ne.call(t,i))&&n.push(i);}return n;};var Re=function Re(t){return Me(t)?ye(t,!0):Oe(t);};var De=function De(t,e){return t&&te(e,Re(e),t);},Le=n(19);var je=function je(t,e){var n=-1,i=t.length;for(e||(e=Array(i));++n<i;){e[n]=t[n];}return e;};var Ve=function Ve(t,e){for(var n=-1,i=null==t?0:t.length,o=0,r=[];++n<i;){var s=t[n];e(s,n,t)&&(r[o++]=s);}return r;};var ze=function ze(){return[];},Be=Object.prototype.propertyIsEnumerable,Fe=Object.getOwnPropertySymbols,Ue=Fe?function(t){return null==t?[]:(t=Object(t),Ve(Fe(t),function(e){return Be.call(t,e);}));}:ze;var He=function He(t,e){return te(t,Ue(t),e);};var qe=function qe(t,e){for(var n=-1,i=e.length,o=t.length;++n<i;){t[o+n]=e[n];}return t;},We=Object.getOwnPropertySymbols?function(t){for(var e=[];t;){qe(e,Ue(t)),t=b(t);}return e;}:ze;var Ye=function Ye(t,e){return te(t,We(t),e);};var $e=function $e(t,e,n){var i=e(t);return ce(t)?i:qe(i,n(t));};var Ge=function Ge(t){return $e(t,Se,Ue);};var Qe=function Qe(t){return $e(t,Re,We);},Je=yt(i.a,"DataView"),Ke=yt(i.a,"Promise"),Ze=yt(i.a,"Set"),Xe=yt(i.a,"WeakMap"),tn=ft(Je),en=ft(xt),nn=ft(Ke),on=ft(Ze),rn=ft(Xe),sn=p;(Je&&"[object DataView]"!=sn(new Je(new ArrayBuffer(1)))||xt&&"[object Map]"!=sn(new xt())||Ke&&"[object Promise]"!=sn(Ke.resolve())||Ze&&"[object Set]"!=sn(new Ze())||Xe&&"[object WeakMap]"!=sn(new Xe()))&&(sn=function sn(t){var e=p(t),n="[object Object]"==e?t.constructor:void 0,i=n?ft(n):"";if(i)switch(i){case tn:return"[object DataView]";case en:return"[object Map]";case nn:return"[object Promise]";case on:return"[object Set]";case rn:return"[object WeakMap]";}return e;});var an=sn,cn=Object.prototype.hasOwnProperty;var ln=function ln(t){var e=t.length,n=new t.constructor(e);return e&&"string"==typeof t[0]&&cn.call(t,"index")&&(n.index=t.index,n.input=t.input),n;},dn=i.a.Uint8Array;var un=function un(t){var e=new t.constructor(t.byteLength);return new dn(e).set(new dn(t)),e;};var hn=function hn(t,e){var n=e?un(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength);},fn=/\w*$/;var mn=function mn(t){var e=new t.constructor(t.source,fn.exec(t));return e.lastIndex=t.lastIndex,e;},pn=o?o.prototype:void 0,gn=pn?pn.valueOf:void 0;var bn=function bn(t){return gn?Object(gn.call(t)):{};};var wn=function wn(t,e){var n=e?un(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length);},_n="[object Boolean]",kn="[object Date]",vn="[object Map]",yn="[object Number]",xn="[object RegExp]",An="[object Set]",Cn="[object String]",Tn="[object Symbol]",Pn="[object ArrayBuffer]",Mn="[object DataView]",Sn="[object Float32Array]",In="[object Float64Array]",En="[object Int8Array]",Nn="[object Int16Array]",On="[object Int32Array]",Rn="[object Uint8Array]",Dn="[object Uint8ClampedArray]",Ln="[object Uint16Array]",jn="[object Uint32Array]";var Vn=function Vn(t,e,n){var i=t.constructor;switch(e){case Pn:return un(t);case _n:case kn:return new i(+t);case Mn:return hn(t,n);case Sn:case In:case En:case Nn:case On:case Rn:case Dn:case Ln:case jn:return wn(t,n);case vn:return new i();case yn:case Cn:return new i(t);case xn:return mn(t);case An:return new i();case Tn:return bn(t);}},zn=Object.create,Bn=function(){function t(){}return function(e){if(!it(e))return{};if(zn)return zn(e);t.prototype=e;var n=new t();return t.prototype=void 0,n;};}();var Fn=function Fn(t){return"function"!=typeof t.constructor||Ae(t)?{}:Bn(b(t));},Un="[object Map]";var Hn=function Hn(t){return w(t)&&an(t)==Un;},qn=we.a&&we.a.isMap,Wn=qn?be(qn):Hn,Yn="[object Set]";var $n=function $n(t){return w(t)&&an(t)==Yn;},Gn=we.a&&we.a.isSet,Qn=Gn?be(Gn):$n,Jn=1,Kn=2,Zn=4,Xn="[object Arguments]",ti="[object Function]",ei="[object GeneratorFunction]",ni="[object Object]",ii={};ii[Xn]=ii["[object Array]"]=ii["[object ArrayBuffer]"]=ii["[object DataView]"]=ii["[object Boolean]"]=ii["[object Date]"]=ii["[object Float32Array]"]=ii["[object Float64Array]"]=ii["[object Int8Array]"]=ii["[object Int16Array]"]=ii["[object Int32Array]"]=ii["[object Map]"]=ii["[object Number]"]=ii[ni]=ii["[object RegExp]"]=ii["[object Set]"]=ii["[object String]"]=ii["[object Symbol]"]=ii["[object Uint8Array]"]=ii["[object Uint8ClampedArray]"]=ii["[object Uint16Array]"]=ii["[object Uint32Array]"]=!0,ii["[object Error]"]=ii[ti]=ii["[object WeakMap]"]=!1;var oi=function t(e,n,i,o,r,s){var a,c=n&Jn,l=n&Kn,d=n&Zn;if(i&&(a=r?i(e,o,r,s):i(e)),void 0!==a)return a;if(!it(e))return e;var u=ce(e);if(u){if(a=ln(e),!c)return je(e,a);}else{var h=an(e),f=h==ti||h==ei;if(Object(le.a)(e))return Object(Le.a)(e,c);if(h==ni||h==Xn||f&&!r){if(a=l||f?{}:Fn(e),!c)return l?Ye(e,De(a,e)):He(e,Ie(a,e));}else{if(!ii[h])return r?e:{};a=Vn(e,h,c);}}s||(s=new Gt());var m=s.get(e);if(m)return m;if(s.set(e,a),Qn(e))return e.forEach(function(o){a.add(t(o,n,i,o,e,s));}),a;if(Wn(e))return e.forEach(function(o,r){a.set(r,t(o,n,i,r,e,s));}),a;var p=d?l?Qe:Ge:l?keysIn:Se,g=u?void 0:p(e);return Qt(g||e,function(o,r){g&&(o=e[r=o]),Xt(a,r,t(o,n,i,r,e,s));}),a;},ri=4;var si=function si(t){return oi(t,ri);};var ai=function(){function ai(){_classCallCheck(this,ai);this.parent=null;}_createClass(ai,[{key:'getPath',value:function getPath(){var t=[];var e=this;for(;e.parent;){t.unshift(e.index),e=e.parent;}return t;}},{key:'getAncestors',value:function getAncestors(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{includeSelf:!1,parentFirst:!1};var e=[];var n=t.includeSelf?this:this.parent;for(;n;){e[t.parentFirst?"push":"unshift"](n),n=n.parent;}return e;}},{key:'getCommonAncestor',value:function getCommonAncestor(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};var n=this.getAncestors(e),i=t.getAncestors(e);var o=0;for(;n[o]==i[o]&&n[o];){o++;}return 0===o?null:n[o-1];}},{key:'isBefore',value:function isBefore(t){if(this==t)return!1;if(this.root!==t.root)return!1;var e=this.getPath(),n=t.getPath(),i=U(e,n);switch(i){case"prefix":return!0;case"extension":return!1;default:return e[i]<n[i];}}},{key:'isAfter',value:function isAfter(t){return this!=t&&this.root===t.root&&!this.isBefore(t);}},{key:'_remove',value:function _remove(){this.parent._removeChildren(this.index);}},{key:'_fireChange',value:function _fireChange(t,e){this.fire("change:"+t,e),this.parent&&this.parent._fireChange(t,e);}},{key:'toJSON',value:function toJSON(){var t=si(this);return delete t.parent,t;}},{key:'is',value:function is(t){return"node"==t;}},{key:'index',get:function get(){var t=void 0;if(!this.parent)return null;if(-1==(t=this.parent.getChildIndex(this)))throw new P.b("view-node-not-found-in-parent: The node's parent does not contain this node.");return t;}},{key:'nextSibling',get:function get(){var t=this.index;return null!==t&&this.parent.getChild(t+1)||null;}},{key:'previousSibling',get:function get(){var t=this.index;return null!==t&&this.parent.getChild(t-1)||null;}},{key:'root',get:function get(){var t=this;for(;t.parent;){t=t.parent;}return t;}},{key:'document',get:function get(){return this.parent instanceof ai?this.parent.document:null;}}]);return ai;}();F(ai,R);var ci=function(_ai){_inherits(ci,_ai);function ci(t){var _this8;_classCallCheck(this,ci);(_this8=_possibleConstructorReturn(this,(ci.__proto__||Object.getPrototypeOf(ci)).call(this)),_this8),_this8._textData=t;return _this8;}_createClass(ci,[{key:'is',value:function is(t){return"text"==t||_get(ci.prototype.__proto__||Object.getPrototypeOf(ci.prototype),'is',this).call(this,t);}},{key:'isSimilar',value:function isSimilar(t){return t instanceof ci&&(this===t||this.data===t.data);}},{key:'_clone',value:function _clone(){return new ci(this.data);}},{key:'data',get:function get(){return this._textData;}},{key:'_data',get:function get(){return this.data;},set:function set(t){this._fireChange("text",this),this._textData=t;}}]);return ci;}(ai);var li=function(){function li(t,e,n){_classCallCheck(this,li);if(this.textNode=t,e<0||e>t.data.length)throw new P.b("view-textproxy-wrong-offsetintext: Given offsetInText value is incorrect.");if(n<0||e+n>t.data.length)throw new P.b("view-textproxy-wrong-length: Given length value is incorrect.");this.data=t.data.substring(e,e+n),this.offsetInText=e;}_createClass(li,[{key:'is',value:function is(t){return"textProxy"==t;}},{key:'getAncestors',value:function getAncestors(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{includeSelf:!1,parentFirst:!1};var e=[];var n=t.includeSelf?this.textNode:this.parent;for(;null!==n;){e[t.parentFirst?"push":"unshift"](n),n=n.parent;}return e;}},{key:'offsetSize',get:function get(){return this.data.length;}},{key:'isPartial',get:function get(){return this.data.length!==this.textNode.data.length;}},{key:'parent',get:function get(){return this.textNode.parent;}},{key:'root',get:function get(){return this.textNode.root;}},{key:'document',get:function get(){return this.textNode.document;}}]);return li;}();function di(t){var e=new Map();for(var _n4 in t){e.set(_n4,t[_n4]);}return e;}function ui(t){return!(!t||!t[Symbol.iterator]);}var hi=function(){function hi(){_classCallCheck(this,hi);this._patterns=[],this.add.apply(this,arguments);}_createClass(hi,[{key:'add',value:function add(){for(var _len5=arguments.length,t=Array(_len5),_key5=0;_key5<_len5;_key5++){t[_key5]=arguments[_key5];}var _iteratorNormalCompletion8=true;var _didIteratorError8=false;var _iteratorError8=undefined;try{for(var _iterator8=t[Symbol.iterator](),_step8;!(_iteratorNormalCompletion8=(_step8=_iterator8.next()).done);_iteratorNormalCompletion8=true){var e=_step8.value;("string"==typeof e||e instanceof RegExp)&&(e={name:e}),e.classes&&("string"==typeof e.classes||e.classes instanceof RegExp)&&(e.classes=[e.classes]),this._patterns.push(e);}}catch(err){_didIteratorError8=true;_iteratorError8=err;}finally{try{if(!_iteratorNormalCompletion8&&_iterator8.return){_iterator8.return();}}finally{if(_didIteratorError8){throw _iteratorError8;}}}}},{key:'match',value:function match(){for(var _len6=arguments.length,t=Array(_len6),_key6=0;_key6<_len6;_key6++){t[_key6]=arguments[_key6];}var _iteratorNormalCompletion9=true;var _didIteratorError9=false;var _iteratorError9=undefined;try{for(var _iterator9=t[Symbol.iterator](),_step9;!(_iteratorNormalCompletion9=(_step9=_iterator9.next()).done);_iteratorNormalCompletion9=true){var e=_step9.value;var _iteratorNormalCompletion10=true;var _didIteratorError10=false;var _iteratorError10=undefined;try{for(var _iterator10=this._patterns[Symbol.iterator](),_step10;!(_iteratorNormalCompletion10=(_step10=_iterator10.next()).done);_iteratorNormalCompletion10=true){var _t9=_step10.value;var _n5=fi(e,_t9);if(_n5)return{element:e,pattern:_t9,match:_n5};}}catch(err){_didIteratorError10=true;_iteratorError10=err;}finally{try{if(!_iteratorNormalCompletion10&&_iterator10.return){_iterator10.return();}}finally{if(_didIteratorError10){throw _iteratorError10;}}}}}catch(err){_didIteratorError9=true;_iteratorError9=err;}finally{try{if(!_iteratorNormalCompletion9&&_iterator9.return){_iterator9.return();}}finally{if(_didIteratorError9){throw _iteratorError9;}}}return null;}},{key:'matchAll',value:function matchAll(){var e=[];for(var _len7=arguments.length,t=Array(_len7),_key7=0;_key7<_len7;_key7++){t[_key7]=arguments[_key7];}var _iteratorNormalCompletion11=true;var _didIteratorError11=false;var _iteratorError11=undefined;try{for(var _iterator11=t[Symbol.iterator](),_step11;!(_iteratorNormalCompletion11=(_step11=_iterator11.next()).done);_iteratorNormalCompletion11=true){var _n6=_step11.value;var _iteratorNormalCompletion12=true;var _didIteratorError12=false;var _iteratorError12=undefined;try{for(var _iterator12=this._patterns[Symbol.iterator](),_step12;!(_iteratorNormalCompletion12=(_step12=_iterator12.next()).done);_iteratorNormalCompletion12=true){var _t10=_step12.value;var i=fi(_n6,_t10);i&&e.push({element:_n6,pattern:_t10,match:i});}}catch(err){_didIteratorError12=true;_iteratorError12=err;}finally{try{if(!_iteratorNormalCompletion12&&_iterator12.return){_iterator12.return();}}finally{if(_didIteratorError12){throw _iteratorError12;}}}}}catch(err){_didIteratorError11=true;_iteratorError11=err;}finally{try{if(!_iteratorNormalCompletion11&&_iterator11.return){_iterator11.return();}}finally{if(_didIteratorError11){throw _iteratorError11;}}}return e.length>0?e:null;}},{key:'getElementName',value:function getElementName(){if(1!==this._patterns.length)return null;var t=this._patterns[0],e=t.name;return"function"==typeof t||!e||e instanceof RegExp?null:e;}}]);return hi;}();function fi(t,e){if("function"==typeof e)return e(t);var n={};return e.name&&(n.name=function(t,e){if(t instanceof RegExp)return t.test(e);return t===e;}(e.name,t.name),!n.name)?null:e.attributes&&(n.attributes=function(t,e){var n=[];for(var i in t){var _o5=t[i];if(!e.hasAttribute(i))return null;{var _t11=e.getAttribute(i);if(!0===_o5)n.push(i);else if(_o5 instanceof RegExp){if(!_o5.test(_t11))return null;n.push(i);}else{if(_t11!==_o5)return null;n.push(i);}}}return n;}(e.attributes,t),!n.attributes)?null:!(e.classes&&(n.classes=function(t,e){var n=[];var _iteratorNormalCompletion13=true;var _didIteratorError13=false;var _iteratorError13=undefined;try{for(var _iterator13=t[Symbol.iterator](),_step13;!(_iteratorNormalCompletion13=(_step13=_iterator13.next()).done);_iteratorNormalCompletion13=true){var i=_step13.value;if(i instanceof RegExp){var _t12=e.getClassNames();var _iteratorNormalCompletion14=true;var _didIteratorError14=false;var _iteratorError14=undefined;try{for(var _iterator14=_t12[Symbol.iterator](),_step14;!(_iteratorNormalCompletion14=(_step14=_iterator14.next()).done);_iteratorNormalCompletion14=true){var _e9=_step14.value;i.test(_e9)&&n.push(_e9);}}catch(err){_didIteratorError14=true;_iteratorError14=err;}finally{try{if(!_iteratorNormalCompletion14&&_iterator14.return){_iterator14.return();}}finally{if(_didIteratorError14){throw _iteratorError14;}}}if(0===n.length)return null;}else{if(!e.hasClass(i))return null;n.push(i);}}}catch(err){_didIteratorError13=true;_iteratorError13=err;}finally{try{if(!_iteratorNormalCompletion13&&_iterator13.return){_iterator13.return();}}finally{if(_didIteratorError13){throw _iteratorError13;}}}return n;}(e.classes,t),!n.classes))&&!(e.styles&&(n.styles=function(t,e){var n=[];for(var i in t){var _o6=t[i];if(!e.hasStyle(i))return null;{var _t13=e.getStyle(i);if(_o6 instanceof RegExp){if(!_o6.test(_t13))return null;n.push(i);}else{if(_t13!==_o6)return null;n.push(i);}}}return n;}(e.styles,t),!n.styles))&&n;}var mi=function(_ai2){_inherits(mi,_ai2);function mi(t,e,n){var _this9;_classCallCheck(this,mi);if((_this9=_possibleConstructorReturn(this,(mi.__proto__||Object.getPrototypeOf(mi)).call(this)),_this9),_this9.name=t,_this9._attrs=function(t){t=C(t)?di(t):new Map(t);var _iteratorNormalCompletion15=true;var _didIteratorError15=false;var _iteratorError15=undefined;try{for(var _iterator15=t[Symbol.iterator](),_step15;!(_iteratorNormalCompletion15=(_step15=_iterator15.next()).done);_iteratorNormalCompletion15=true){var _ref3=_step15.value;var _ref4=_slicedToArray(_ref3,2);var _e10=_ref4[0];var _n7=_ref4[1];null===_n7?t.delete(_e10):"string"!=typeof _n7&&t.set(_e10,String(_n7));}}catch(err){_didIteratorError15=true;_iteratorError15=err;}finally{try{if(!_iteratorNormalCompletion15&&_iterator15.return){_iterator15.return();}}finally{if(_didIteratorError15){throw _iteratorError15;}}}return t;}(e),_this9._children=[],n&&_this9._insertChild(0,n),_this9._classes=new Set(),_this9._attrs.has("class")){var _t14=_this9._attrs.get("class");gi(_this9._classes,_t14),_this9._attrs.delete("class");}_this9._styles=new Map(),_this9._attrs.has("style")&&(pi(_this9._styles,_this9._attrs.get("style")),_this9._attrs.delete("style")),_this9._customProperties=new Map();return _possibleConstructorReturn(_this9);}_createClass(mi,[{key:'is',value:function is(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:null;return e?"element"==t&&e==this.name:"element"==t||t==this.name||_get(mi.prototype.__proto__||Object.getPrototypeOf(mi.prototype),'is',this).call(this,t);}},{key:'getChild',value:function getChild(t){return this._children[t];}},{key:'getChildIndex',value:function getChildIndex(t){return this._children.indexOf(t);}},{key:'getChildren',value:function getChildren(){return this._children[Symbol.iterator]();}},{key:'getAttributeKeys',value:/*#__PURE__*/regeneratorRuntime.mark(function getAttributeKeys(){var _iteratorNormalCompletion16,_didIteratorError16,_iteratorError16,_iterator16,_step16,t;return regeneratorRuntime.wrap(function getAttributeKeys$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.t0=this._classes.size>0;if(!_context2.t0){_context2.next=4;break;}_context2.next=4;return"class";case 4:_context2.t1=this._styles.size>0;if(!_context2.t1){_context2.next=8;break;}_context2.next=8;return"style";case 8:_iteratorNormalCompletion16=true;_didIteratorError16=false;_iteratorError16=undefined;_context2.prev=11;_iterator16=this._attrs.keys()[Symbol.iterator]();case 13:if(_iteratorNormalCompletion16=(_step16=_iterator16.next()).done){_context2.next=20;break;}t=_step16.value;_context2.next=17;return t;case 17:_iteratorNormalCompletion16=true;_context2.next=13;break;case 20:_context2.next=26;break;case 22:_context2.prev=22;_context2.t2=_context2['catch'](11);_didIteratorError16=true;_iteratorError16=_context2.t2;case 26:_context2.prev=26;_context2.prev=27;if(!_iteratorNormalCompletion16&&_iterator16.return){_iterator16.return();}case 29:_context2.prev=29;if(!_didIteratorError16){_context2.next=32;break;}throw _iteratorError16;case 32:return _context2.finish(29);case 33:return _context2.finish(26);case 34:case'end':return _context2.stop();}}},getAttributeKeys,this,[[11,22,26,34],[27,,29,33]]);})},{key:'getAttributes',value:/*#__PURE__*/regeneratorRuntime.mark(function getAttributes(){return regeneratorRuntime.wrap(function getAttributes$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:return _context3.delegateYield(this._attrs.entries(),'t0',1);case 1:_context3.t1=this._classes.size>0;if(!_context3.t1){_context3.next=5;break;}_context3.next=5;return["class",this.getAttribute("class")];case 5:_context3.t2=this._styles.size>0;if(!_context3.t2){_context3.next=9;break;}_context3.next=9;return["style",this.getAttribute("style")];case 9:case'end':return _context3.stop();}}},getAttributes,this);})},{key:'getAttribute',value:function getAttribute(t){if("class"==t)return this._classes.size>0?[].concat(_toConsumableArray(this._classes)).join(" "):void 0;if("style"!=t)return this._attrs.get(t);if(this._styles.size>0){var _t15="";var _iteratorNormalCompletion17=true;var _didIteratorError17=false;var _iteratorError17=undefined;try{for(var _iterator17=this._styles[Symbol.iterator](),_step17;!(_iteratorNormalCompletion17=(_step17=_iterator17.next()).done);_iteratorNormalCompletion17=true){var _ref5=_step17.value;var _ref6=_slicedToArray(_ref5,2);var e=_ref6[0];var _n8=_ref6[1];_t15+=e+':'+_n8+';';}}catch(err){_didIteratorError17=true;_iteratorError17=err;}finally{try{if(!_iteratorNormalCompletion17&&_iterator17.return){_iterator17.return();}}finally{if(_didIteratorError17){throw _iteratorError17;}}}return _t15;}}},{key:'hasAttribute',value:function hasAttribute(t){return"class"==t?this._classes.size>0:"style"==t?this._styles.size>0:this._attrs.has(t);}},{key:'isSimilar',value:function isSimilar(t){if(!(t instanceof mi))return!1;if(this===t)return!0;if(this.name!=t.name)return!1;if(this._attrs.size!==t._attrs.size||this._classes.size!==t._classes.size||this._styles.size!==t._styles.size)return!1;var _iteratorNormalCompletion18=true;var _didIteratorError18=false;var _iteratorError18=undefined;try{for(var _iterator18=this._attrs[Symbol.iterator](),_step18;!(_iteratorNormalCompletion18=(_step18=_iterator18.next()).done);_iteratorNormalCompletion18=true){var _ref7=_step18.value;var _ref8=_slicedToArray(_ref7,2);var e=_ref8[0];var _n9=_ref8[1];if(!t._attrs.has(e)||t._attrs.get(e)!==_n9)return!1;}}catch(err){_didIteratorError18=true;_iteratorError18=err;}finally{try{if(!_iteratorNormalCompletion18&&_iterator18.return){_iterator18.return();}}finally{if(_didIteratorError18){throw _iteratorError18;}}}var _iteratorNormalCompletion19=true;var _didIteratorError19=false;var _iteratorError19=undefined;try{for(var _iterator19=this._classes[Symbol.iterator](),_step19;!(_iteratorNormalCompletion19=(_step19=_iterator19.next()).done);_iteratorNormalCompletion19=true){var _e11=_step19.value;if(!t._classes.has(_e11))return!1;}}catch(err){_didIteratorError19=true;_iteratorError19=err;}finally{try{if(!_iteratorNormalCompletion19&&_iterator19.return){_iterator19.return();}}finally{if(_didIteratorError19){throw _iteratorError19;}}}var _iteratorNormalCompletion20=true;var _didIteratorError20=false;var _iteratorError20=undefined;try{for(var _iterator20=this._styles[Symbol.iterator](),_step20;!(_iteratorNormalCompletion20=(_step20=_iterator20.next()).done);_iteratorNormalCompletion20=true){var _ref9=_step20.value;var _ref10=_slicedToArray(_ref9,2);var _e12=_ref10[0];var _n10=_ref10[1];if(!t._styles.has(_e12)||t._styles.get(_e12)!==_n10)return!1;}}catch(err){_didIteratorError20=true;_iteratorError20=err;}finally{try{if(!_iteratorNormalCompletion20&&_iterator20.return){_iterator20.return();}}finally{if(_didIteratorError20){throw _iteratorError20;}}}return!0;}},{key:'hasClass',value:function hasClass(){for(var _len8=arguments.length,t=Array(_len8),_key8=0;_key8<_len8;_key8++){t[_key8]=arguments[_key8];}var _iteratorNormalCompletion21=true;var _didIteratorError21=false;var _iteratorError21=undefined;try{for(var _iterator21=t[Symbol.iterator](),_step21;!(_iteratorNormalCompletion21=(_step21=_iterator21.next()).done);_iteratorNormalCompletion21=true){var e=_step21.value;if(!this._classes.has(e))return!1;}}catch(err){_didIteratorError21=true;_iteratorError21=err;}finally{try{if(!_iteratorNormalCompletion21&&_iterator21.return){_iterator21.return();}}finally{if(_didIteratorError21){throw _iteratorError21;}}}return!0;}},{key:'getClassNames',value:function getClassNames(){return this._classes.keys();}},{key:'getStyle',value:function getStyle(t){return this._styles.get(t);}},{key:'getStyleNames',value:function getStyleNames(){return this._styles.keys();}},{key:'hasStyle',value:function hasStyle(){for(var _len9=arguments.length,t=Array(_len9),_key9=0;_key9<_len9;_key9++){t[_key9]=arguments[_key9];}var _iteratorNormalCompletion22=true;var _didIteratorError22=false;var _iteratorError22=undefined;try{for(var _iterator22=t[Symbol.iterator](),_step22;!(_iteratorNormalCompletion22=(_step22=_iterator22.next()).done);_iteratorNormalCompletion22=true){var e=_step22.value;if(!this._styles.has(e))return!1;}}catch(err){_didIteratorError22=true;_iteratorError22=err;}finally{try{if(!_iteratorNormalCompletion22&&_iterator22.return){_iterator22.return();}}finally{if(_didIteratorError22){throw _iteratorError22;}}}return!0;}},{key:'findAncestor',value:function findAncestor(){for(var _len10=arguments.length,t=Array(_len10),_key10=0;_key10<_len10;_key10++){t[_key10]=arguments[_key10];}var e=new(Function.prototype.bind.apply(hi,[null].concat(t)))();var n=this.parent;for(;n;){if(e.match(n))return n;n=n.parent;}return null;}},{key:'getCustomProperty',value:function getCustomProperty(t){return this._customProperties.get(t);}},{key:'getCustomProperties',value:/*#__PURE__*/regeneratorRuntime.mark(function getCustomProperties(){return regeneratorRuntime.wrap(function getCustomProperties$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:return _context4.delegateYield(this._customProperties.entries(),'t0',1);case 1:case'end':return _context4.stop();}}},getCustomProperties,this);})},{key:'getIdentity',value:function getIdentity(){var t=Array.from(this._classes).sort().join(","),e=Array.from(this._styles).map(function(t){return t[0]+':'+t[1];}).sort().join(";"),n=Array.from(this._attrs).map(function(t){return t[0]+'="'+t[1]+'"';}).sort().join(" ");return this.name+(""==t?"":' class="'+t+'"')+(""==e?"":' style="'+e+'"')+(""==n?"":' '+n);}},{key:'_clone',value:function _clone(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:!1;var e=[];if(t){var _iteratorNormalCompletion23=true;var _didIteratorError23=false;var _iteratorError23=undefined;try{for(var _iterator23=this.getChildren()[Symbol.iterator](),_step23;!(_iteratorNormalCompletion23=(_step23=_iterator23.next()).done);_iteratorNormalCompletion23=true){var _n11=_step23.value;e.push(_n11._clone(t));}}catch(err){_didIteratorError23=true;_iteratorError23=err;}finally{try{if(!_iteratorNormalCompletion23&&_iterator23.return){_iterator23.return();}}finally{if(_didIteratorError23){throw _iteratorError23;}}}}var n=new this.constructor(this.name,this._attrs,e);return n._classes=new Set(this._classes),n._styles=new Map(this._styles),n._customProperties=new Map(this._customProperties),n.getFillerOffset=this.getFillerOffset,n;}},{key:'_appendChild',value:function _appendChild(t){return this._insertChild(this.childCount,t);}},{key:'_insertChild',value:function _insertChild(t,e){this._fireChange("children",this);var n=0;var i=function(t){if("string"==typeof t)return[new ci(t)];ui(t)||(t=[t]);return Array.from(t).map(function(t){return"string"==typeof t?new ci(t):t instanceof li?new ci(t.data):t;});}(e);var _iteratorNormalCompletion24=true;var _didIteratorError24=false;var _iteratorError24=undefined;try{for(var _iterator24=i[Symbol.iterator](),_step24;!(_iteratorNormalCompletion24=(_step24=_iterator24.next()).done);_iteratorNormalCompletion24=true){var _e13=_step24.value;null!==_e13.parent&&_e13._remove(),_e13.parent=this,this._children.splice(t,0,_e13),t++,n++;}}catch(err){_didIteratorError24=true;_iteratorError24=err;}finally{try{if(!_iteratorNormalCompletion24&&_iterator24.return){_iterator24.return();}}finally{if(_didIteratorError24){throw _iteratorError24;}}}return n;}},{key:'_removeChildren',value:function _removeChildren(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:1;this._fireChange("children",this);for(var _n12=t;_n12<t+e;_n12++){this._children[_n12].parent=null;}return this._children.splice(t,e);}},{key:'_setAttribute',value:function _setAttribute(t,e){e=String(e),this._fireChange("attributes",this),"class"==t?gi(this._classes,e):"style"==t?pi(this._styles,e):this._attrs.set(t,e);}},{key:'_removeAttribute',value:function _removeAttribute(t){return this._fireChange("attributes",this),"class"==t?this._classes.size>0&&(this._classes.clear(),!0):"style"==t?this._styles.size>0&&(this._styles.clear(),!0):this._attrs.delete(t);}},{key:'_addClass',value:function _addClass(t){var _this10=this;this._fireChange("attributes",this),(t=Array.isArray(t)?t:[t]).forEach(function(t){return _this10._classes.add(t);});}},{key:'_removeClass',value:function _removeClass(t){var _this11=this;this._fireChange("attributes",this),(t=Array.isArray(t)?t:[t]).forEach(function(t){return _this11._classes.delete(t);});}},{key:'_setStyle',value:function _setStyle(t,e){if(this._fireChange("attributes",this),C(t)){var _e14=Object.keys(t);var _iteratorNormalCompletion25=true;var _didIteratorError25=false;var _iteratorError25=undefined;try{for(var _iterator25=_e14[Symbol.iterator](),_step25;!(_iteratorNormalCompletion25=(_step25=_iterator25.next()).done);_iteratorNormalCompletion25=true){var _n13=_step25.value;this._styles.set(_n13,t[_n13]);}}catch(err){_didIteratorError25=true;_iteratorError25=err;}finally{try{if(!_iteratorNormalCompletion25&&_iterator25.return){_iterator25.return();}}finally{if(_didIteratorError25){throw _iteratorError25;}}}}else this._styles.set(t,e);}},{key:'_removeStyle',value:function _removeStyle(t){var _this12=this;this._fireChange("attributes",this),(t=Array.isArray(t)?t:[t]).forEach(function(t){return _this12._styles.delete(t);});}},{key:'_setCustomProperty',value:function _setCustomProperty(t,e){this._customProperties.set(t,e);}},{key:'_removeCustomProperty',value:function _removeCustomProperty(t){return this._customProperties.delete(t);}},{key:'childCount',get:function get(){return this._children.length;}},{key:'isEmpty',get:function get(){return 0===this._children.length;}}]);return mi;}(ai);function pi(t,e){var n=null,i=0,o=0,r=null;if(t.clear(),""!==e){";"!=e.charAt(e.length-1)&&(e+=";");for(var _s2=0;_s2<e.length;_s2++){var _a2=e.charAt(_s2);if(null===n)switch(_a2){case":":r||(r=e.substr(i,_s2-i),o=_s2+1);break;case'"':case"'":n=_a2;break;case";":{var _n14=e.substr(o,_s2-o);r&&t.set(r.trim(),_n14.trim()),r=null,i=_s2+1;break;}}else _a2===n&&(n=null);}}}function gi(t,e){var n=e.split(/\s+/);t.clear(),n.forEach(function(e){return t.add(e);});}var bi=function(_mi){_inherits(bi,_mi);function bi(t,e,n){var _this13;_classCallCheck(this,bi);(_this13=_possibleConstructorReturn(this,(bi.__proto__||Object.getPrototypeOf(bi)).call(this,t,e,n)),_this13),_this13.getFillerOffset=wi;return _this13;}_createClass(bi,[{key:'is',value:function is(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:null;return e?"containerElement"==t&&e==this.name||_get(bi.prototype.__proto__||Object.getPrototypeOf(bi.prototype),'is',this).call(this,t,e):"containerElement"==t||_get(bi.prototype.__proto__||Object.getPrototypeOf(bi.prototype),'is',this).call(this,t);}}]);return bi;}(mi);function wi(){var t=[].concat(_toConsumableArray(this.getChildren())),e=t[this.childCount-1];if(e&&e.is("element","br"))return this.childCount;var _iteratorNormalCompletion26=true;var _didIteratorError26=false;var _iteratorError26=undefined;try{for(var _iterator26=t[Symbol.iterator](),_step26;!(_iteratorNormalCompletion26=(_step26=_iterator26.next()).done);_iteratorNormalCompletion26=true){var _e15=_step26.value;if(!_e15.is("uiElement"))return null;}}catch(err){_didIteratorError26=true;_iteratorError26=err;}finally{try{if(!_iteratorNormalCompletion26&&_iterator26.return){_iterator26.return();}}finally{if(_didIteratorError26){throw _iteratorError26;}}}return this.childCount;}var _i=function _i(t){return t;};var ki=function ki(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2]);}return t.apply(e,n);},vi=Math.max;var yi=function yi(t,e,n){return e=vi(void 0===e?t.length-1:e,0),function(){for(var i=arguments,o=-1,r=vi(i.length-e,0),s=Array(r);++o<r;){s[o]=i[e+o];}o=-1;for(var a=Array(e+1);++o<e;){a[o]=i[o];}return a[e]=n(s),ki(t,this,a);};};var xi=function xi(t){return function(){return t;};},Ai=Jt?function(t,e){return Jt(t,"toString",{configurable:!0,enumerable:!1,value:xi(e),writable:!0});}:_i,Ci=800,Ti=16,Pi=Date.now;var Mi=function(t){var e=0,n=0;return function(){var i=Pi(),o=Ti-(i-n);if(n=i,o>0){if(++e>=Ci)return arguments[0];}else e=0;return t.apply(void 0,arguments);};}(Ai);var Si=function Si(t,e){return Mi(yi(t,e,_i),t+"");};var Ii=function Ii(t,e,n){if(!it(n))return!1;var i=typeof e==='undefined'?'undefined':_typeof(e);return!!("number"==i?Me(n)&&he(e,n.length):"string"==i&&e in n)&&q(n[e],t);};var Ei=function(t){return Si(function(e,n){var i=-1,o=n.length,r=o>1?n[o-1]:void 0,s=o>2?n[2]:void 0;for(r=t.length>3&&"function"==typeof r?(o--,r):void 0,s&&Ii(n[0],n[1],s)&&(r=o<3?void 0:r,o=1),e=Object(e);++i<o;){var a=n[i];a&&t(e,a,i,r);}return e;});}(function(t,e){te(e,Re(e),t);});var Ni=Symbol("observableProperties"),Oi=Symbol("boundObservables"),Ri=Symbol("boundProperties"),Di={set:function set(t,e){var _this14=this;if(it(t))return void Object.keys(t).forEach(function(e){_this14.set(e,t[e]);},this);ji(this);var n=this[Ni];if(t in this&&!n.has(t))throw new P.b("observable-set-cannot-override: Cannot override an existing property.");Object.defineProperty(this,t,{enumerable:!0,configurable:!0,get:function get(){return n.get(t);},set:function set(e){var i=n.get(t);var o=this.fire("set:"+t,t,e,i);void 0===o&&(o=e),i===o&&n.has(t)||(n.set(t,o),this.fire("change:"+t,t,o,i));}}),this[t]=e;},bind:function bind(){for(var _len11=arguments.length,t=Array(_len11),_key11=0;_key11<_len11;_key11++){t[_key11]=arguments[_key11];}if(!t.length||!Bi(t))throw new P.b("observable-bind-wrong-properties: All properties must be strings.");if(new Set(t).size!==t.length)throw new P.b("observable-bind-duplicate-properties: Properties must be unique.");ji(this);var e=this[Ri];t.forEach(function(t){if(e.has(t))throw new P.b("observable-bind-rebind: Cannot bind the same property more that once.");});var n=new Map();return t.forEach(function(t){var i={property:t,to:[]};e.set(t,i),n.set(t,i);}),{to:Vi,toMany:zi,_observable:this,_bindProperties:t,_to:[],_bindings:n};},unbind:function unbind(){var _this15=this;for(var _len12=arguments.length,t=Array(_len12),_key12=0;_key12<_len12;_key12++){t[_key12]=arguments[_key12];}if(!(Ni in this))return;var e=this[Ri],n=this[Oi];if(t.length){if(!Bi(t))throw new P.b("observable-unbind-wrong-properties: Properties must be strings.");t.forEach(function(t){var i=e.get(t);if(!i)return;var o=void 0,r=void 0,s=void 0,a=void 0;i.to.forEach(function(t){o=t[0],r=t[1],s=n.get(o),(a=s[r]).delete(i),a.size||delete s[r],Object.keys(s).length||(n.delete(o),_this15.stopListening(o,"change"));}),e.delete(t);});}else n.forEach(function(t,e){_this15.stopListening(e,"change");}),n.clear(),e.clear();},decorate:function decorate(t){var _this16=this;var e=this[t];if(!e)throw new P.b("observablemixin-cannot-decorate-undefined: Cannot decorate an undefined method.",{object:this,methodName:t});this.on(t,function(t,n){t.return=e.apply(_this16,n);}),this[t]=function(){for(var _len13=arguments.length,e=Array(_len13),_key13=0;_key13<_len13;_key13++){e[_key13]=arguments[_key13];}return this.fire(t,e);};}};Ei(Di,R);var Li=Di;function ji(t){Ni in t||(Object.defineProperty(t,Ni,{value:new Map()}),Object.defineProperty(t,Oi,{value:new Map()}),Object.defineProperty(t,Ri,{value:new Map()}));}function Vi(){var _this17=this;for(var _len14=arguments.length,t=Array(_len14),_key14=0;_key14<_len14;_key14++){t[_key14]=arguments[_key14];}var e=function(){for(var _len15=arguments.length,t=Array(_len15),_key15=0;_key15<_len15;_key15++){t[_key15]=arguments[_key15];}if(!t.length)throw new P.b("observable-bind-to-parse-error: Invalid argument syntax in `to()`.");var e={to:[]};var n=void 0;"function"==typeof t[t.length-1]&&(e.callback=t.pop());return t.forEach(function(t){if("string"==typeof t)n.properties.push(t);else{if("object"!=(typeof t==='undefined'?'undefined':_typeof(t)))throw new P.b("observable-bind-to-parse-error: Invalid argument syntax in `to()`.");n={observable:t,properties:[]},e.to.push(n);}}),e;}.apply(undefined,t),n=Array.from(this._bindings.keys()),i=n.length;if(!e.callback&&e.to.length>1)throw new P.b("observable-bind-to-no-callback: Binding multiple observables only possible with callback.");if(i>1&&e.callback)throw new P.b("observable-bind-to-extra-callback: Cannot bind multiple properties and use a callback in one binding.");e.to.forEach(function(t){if(t.properties.length&&t.properties.length!==i)throw new P.b("observable-bind-to-properties-length: The number of properties must match.");t.properties.length||(t.properties=_this17._bindProperties);}),this._to=e.to,e.callback&&(this._bindings.get(n[0]).callback=e.callback),function(t,e){e.forEach(function(e){var n=t[Oi];var i=void 0;n.get(e.observable)||t.listenTo(e.observable,"change",function(o,r){(i=n.get(e.observable)[r])&&i.forEach(function(e){Fi(t,e.property);});});});}(this._observable,this._to),function(t){var e=void 0;t._bindings.forEach(function(n,i){t._to.forEach(function(o){e=o.properties[n.callback?0:t._bindProperties.indexOf(i)],n.to.push([o.observable,e]),function(t,e,n,i){var o=t[Oi],r=o.get(n),s=r||{};s[i]||(s[i]=new Set());s[i].add(e),r||o.set(n,s);}(t._observable,n,o.observable,e);});});}(this),this._bindProperties.forEach(function(t){Fi(_this17._observable,t);});}function zi(t,e,n){if(this._bindings.size>1)throw new P.b("observable-bind-to-many-not-one-binding: Cannot bind multiple properties with toMany().");this.to.apply(this,_toConsumableArray(function(t,e){var n=t.map(function(t){return[t,e];});return Array.prototype.concat.apply([],n);}(t,e)).concat([n]));}function Bi(t){return t.every(function(t){return"string"==typeof t;});}function Fi(t,e){var n=t[Ri].get(e);var i=void 0;i=n.callback?n.callback.apply(t,n.to.map(function(t){return t[0][t[1]];})):(i=n.to[0])[0][i[1]],t.hasOwnProperty(e)?t[e]=i:t.set(e,i);}var Ui=Symbol("document");var Hi=function(_bi){_inherits(Hi,_bi);function Hi(t,e,n){var _this18;_classCallCheck(this,Hi);(_this18=_possibleConstructorReturn(this,(Hi.__proto__||Object.getPrototypeOf(Hi)).call(this,t,e,n)),_this18),_this18.set("isReadOnly",!1),_this18.set("isFocused",!1);return _this18;}_createClass(Hi,[{key:'is',value:function is(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:null;return e?"editableElement"==t&&e==this.name||_get(Hi.prototype.__proto__||Object.getPrototypeOf(Hi.prototype),'is',this).call(this,t,e):"editableElement"==t||_get(Hi.prototype.__proto__||Object.getPrototypeOf(Hi.prototype),'is',this).call(this,t);}},{key:'document',get:function get(){return this.getCustomProperty(Ui);}},{key:'_document',set:function set(t){var _this19=this;if(this.getCustomProperty(Ui))throw new P.b("view-editableelement-document-already-set: View document is already set.");this._setCustomProperty(Ui,t),this.bind("isReadOnly").to(t),this.bind("isFocused").to(t,"isFocused",function(e){return e&&t.selection.editableElement==_this19;}),this.listenTo(t.selection,"change",function(){_this19.isFocused=t.isFocused&&t.selection.editableElement==_this19;});}}]);return Hi;}(bi);F(Hi,Li);var qi=Symbol("rootName");var Wi=function(_Hi){_inherits(Wi,_Hi);function Wi(t){var _this20;_classCallCheck(this,Wi);(_this20=_possibleConstructorReturn(this,(Wi.__proto__||Object.getPrototypeOf(Wi)).call(this,t)),_this20),_this20.rootName="main";return _this20;}_createClass(Wi,[{key:'is',value:function is(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:null;return e?"rootElement"==t&&e==this.name||_get(Wi.prototype.__proto__||Object.getPrototypeOf(Wi.prototype),'is',this).call(this,t,e):"rootElement"==t||_get(Wi.prototype.__proto__||Object.getPrototypeOf(Wi.prototype),'is',this).call(this,t);}},{key:'rootName',get:function get(){return this.getCustomProperty(qi);},set:function set(t){this._setCustomProperty(qi,t);}},{key:'_name',set:function set(t){this.name=t;}}]);return Wi;}(Hi);var Yi=function(){function Yi(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};_classCallCheck(this,Yi);if(!t.boundaries&&!t.startPosition)throw new P.b("view-tree-walker-no-start-position: Neither boundaries nor starting position have been defined.");if(t.direction&&"forward"!=t.direction&&"backward"!=t.direction)throw new P.b("view-tree-walker-unknown-direction: Only `backward` and `forward` direction allowed.",{direction:t.direction});this.boundaries=t.boundaries||null,t.startPosition?this.position=$i._createAt(t.startPosition):this.position=$i._createAt(t.boundaries["backward"==t.direction?"end":"start"]),this.direction=t.direction||"forward",this.singleCharacters=!!t.singleCharacters,this.shallow=!!t.shallow,this.ignoreElementEnd=!!t.ignoreElementEnd,this._boundaryStartParent=this.boundaries?this.boundaries.start.parent:null,this._boundaryEndParent=this.boundaries?this.boundaries.end.parent:null;}_createClass(Yi,[{key:Symbol.iterator,value:function value(){return this;}},{key:'skip',value:function skip(t){var e=void 0,n=void 0,i=void 0;do{var _next2;i=this.position,(_next2=this.next(),e=_next2.done,n=_next2.value,_next2);}while(!e&&t(n));e||(this.position=i);}},{key:'next',value:function next(){return"forward"==this.direction?this._next():this._previous();}},{key:'_next',value:function _next(){var t=this.position.clone();var e=this.position,n=t.parent;if(null===n.parent&&t.offset===n.childCount)return{done:!0};if(n===this._boundaryEndParent&&t.offset==this.boundaries.end.offset)return{done:!0};var i=void 0;if(n instanceof ci){if(t.isAtEnd)return this.position=$i._createAfter(n),this._next();i=n.data[t.offset];}else i=n.getChild(t.offset);if(i instanceof mi)return this.shallow?t.offset++:t=new $i(i,0),this.position=t,this._formatReturnValue("elementStart",i,e,t,1);if(i instanceof ci){if(this.singleCharacters)return t=new $i(i,0),this.position=t,this._next();{var _n15=void 0,_o7=i.data.length;return i==this._boundaryEndParent?(_o7=this.boundaries.end.offset,_n15=new li(i,0,_o7),t=$i._createAfter(_n15)):(_n15=new li(i,0,i.data.length),t.offset++),this.position=t,this._formatReturnValue("text",_n15,e,t,_o7);}}if("string"==typeof i){var _i2=void 0;if(this.singleCharacters)_i2=1;else{_i2=(n===this._boundaryEndParent?this.boundaries.end.offset:n.data.length)-t.offset;}var _o8=new li(n,t.offset,_i2);return t.offset+=_i2,this.position=t,this._formatReturnValue("text",_o8,e,t,_i2);}return t=$i._createAfter(n),this.position=t,this.ignoreElementEnd?this._next():this._formatReturnValue("elementEnd",n,e,t);}},{key:'_previous',value:function _previous(){var t=this.position.clone();var e=this.position,n=t.parent;if(null===n.parent&&0===t.offset)return{done:!0};if(n==this._boundaryStartParent&&t.offset==this.boundaries.start.offset)return{done:!0};var i=void 0;if(n instanceof ci){if(t.isAtStart)return this.position=$i._createBefore(n),this._previous();i=n.data[t.offset-1];}else i=n.getChild(t.offset-1);if(i instanceof mi)return this.shallow?(t.offset--,this.position=t,this._formatReturnValue("elementStart",i,e,t,1)):(t=new $i(i,i.childCount),this.position=t,this.ignoreElementEnd?this._previous():this._formatReturnValue("elementEnd",i,e,t));if(i instanceof ci){if(this.singleCharacters)return t=new $i(i,i.data.length),this.position=t,this._previous();{var _n16=void 0,_o9=i.data.length;if(i==this._boundaryStartParent){var _e16=this.boundaries.start.offset;_o9=(_n16=new li(i,_e16,i.data.length-_e16)).data.length,t=$i._createBefore(_n16);}else _n16=new li(i,0,i.data.length),t.offset--;return this.position=t,this._formatReturnValue("text",_n16,e,t,_o9);}}if("string"==typeof i){var _i3=void 0;if(this.singleCharacters)_i3=1;else{var _e17=n===this._boundaryStartParent?this.boundaries.start.offset:0;_i3=t.offset-_e17;}t.offset-=_i3;var _o10=new li(n,t.offset,_i3);return this.position=t,this._formatReturnValue("text",_o10,e,t,_i3);}return t=$i._createBefore(n),this.position=t,this._formatReturnValue("elementStart",n,e,t,1);}},{key:'_formatReturnValue',value:function _formatReturnValue(t,e,n,i,o){return e instanceof li&&(e.offsetInText+e.data.length==e.textNode.data.length&&("forward"!=this.direction||this.boundaries&&this.boundaries.end.isEqual(this.position)?n=$i._createAfter(e.textNode):(i=$i._createAfter(e.textNode),this.position=i)),0===e.offsetInText&&("backward"!=this.direction||this.boundaries&&this.boundaries.start.isEqual(this.position)?n=$i._createBefore(e.textNode):(i=$i._createBefore(e.textNode),this.position=i))),{done:!1,value:{type:t,item:e,previousPosition:n,nextPosition:i,length:o}};}}]);return Yi;}();var $i=function(){function $i(t,e){_classCallCheck(this,$i);this.parent=t,this.offset=e;}_createClass($i,[{key:'getShiftedBy',value:function getShiftedBy(t){var e=$i._createAt(this),n=e.offset+t;return e.offset=n<0?0:n,e;}},{key:'getLastMatchingPosition',value:function getLastMatchingPosition(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};e.startPosition=this;var n=new Yi(e);return n.skip(t),n.position;}},{key:'getAncestors',value:function getAncestors(){return this.parent.is("documentFragment")?[this.parent]:this.parent.getAncestors({includeSelf:!0});}},{key:'getCommonAncestor',value:function getCommonAncestor(t){var e=this.getAncestors(),n=t.getAncestors();var i=0;for(;e[i]==n[i]&&e[i];){i++;}return 0===i?null:e[i-1];}},{key:'isEqual',value:function isEqual(t){return this.parent==t.parent&&this.offset==t.offset;}},{key:'isBefore',value:function isBefore(t){return"before"==this.compareWith(t);}},{key:'isAfter',value:function isAfter(t){return"after"==this.compareWith(t);}},{key:'compareWith',value:function compareWith(t){if(this.root!==t.root)return"different";if(this.isEqual(t))return"same";var e=this.parent.is("node")?this.parent.getPath():[],n=t.parent.is("node")?t.parent.getPath():[];e.push(this.offset),n.push(t.offset);var i=U(e,n);switch(i){case"prefix":return"before";case"extension":return"after";default:return e[i]<n[i]?"before":"after";}}},{key:'getWalker',value:function getWalker(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};return t.startPosition=this,new Yi(t);}},{key:'clone',value:function clone(){return new $i(this.parent,this.offset);}},{key:'nodeAfter',get:function get(){return this.parent.is("text")?null:this.parent.getChild(this.offset)||null;}},{key:'nodeBefore',get:function get(){return this.parent.is("text")?null:this.parent.getChild(this.offset-1)||null;}},{key:'isAtStart',get:function get(){return 0===this.offset;}},{key:'isAtEnd',get:function get(){var t=this.parent.is("text")?this.parent.data.length:this.parent.childCount;return this.offset===t;}},{key:'root',get:function get(){return this.parent.root;}},{key:'editableElement',get:function get(){var t=this.parent;for(;!(t instanceof Hi);){if(!t.parent)return null;t=t.parent;}return t;}}],[{key:'_createAt',value:function _createAt(t,e){if(t instanceof $i)return new this(t.parent,t.offset);{var _n17=t;if("end"==e)e=_n17.is("text")?_n17.data.length:_n17.childCount;else{if("before"==e)return this._createBefore(_n17);if("after"==e)return this._createAfter(_n17);if(0!==e&&!e)throw new P.b("view-createPositionAt-offset-required: View#createPositionAt() requires the offset when the first parameter is a view item.");}return new $i(_n17,e);}}},{key:'_createAfter',value:function _createAfter(t){if(t.is("textProxy"))return new $i(t.textNode,t.offsetInText+t.data.length);if(!t.parent)throw new P.b("view-position-after-root: You can not make position after root.",{root:t});return new $i(t.parent,t.index+1);}},{key:'_createBefore',value:function _createBefore(t){if(t.is("textProxy"))return new $i(t.textNode,t.offsetInText);if(!t.parent)throw new P.b("view-position-before-root: You can not make position before root.",{root:t});return new $i(t.parent,t.index);}}]);return $i;}();var Gi=function(){function Gi(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:null;_classCallCheck(this,Gi);this.start=t.clone(),this.end=e?e.clone():t.clone();}_createClass(Gi,[{key:Symbol.iterator,value:/*#__PURE__*/regeneratorRuntime.mark(function value(){return regeneratorRuntime.wrap(function value$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:return _context5.delegateYield(new Yi({boundaries:this,ignoreElementEnd:!0}),'t0',1);case 1:case'end':return _context5.stop();}}},value,this);})},{key:'getEnlarged',value:function getEnlarged(){var t=this.start.getLastMatchingPosition(Qi,{direction:"backward"}),e=this.end.getLastMatchingPosition(Qi);return t.parent.is("text")&&t.isAtStart&&(t=$i._createBefore(t.parent)),e.parent.is("text")&&e.isAtEnd&&(e=$i._createAfter(e.parent)),new Gi(t,e);}},{key:'getTrimmed',value:function getTrimmed(){var t=this.start.getLastMatchingPosition(Qi);if(t.isAfter(this.end)||t.isEqual(this.end))return new Gi(t,t);var e=this.end.getLastMatchingPosition(Qi,{direction:"backward"});var n=t.nodeAfter,i=e.nodeBefore;return n&&n.is("text")&&(t=new $i(n,0)),i&&i.is("text")&&(e=new $i(i,i.data.length)),new Gi(t,e);}},{key:'isEqual',value:function isEqual(t){return this==t||this.start.isEqual(t.start)&&this.end.isEqual(t.end);}},{key:'containsPosition',value:function containsPosition(t){return t.isAfter(this.start)&&t.isBefore(this.end);}},{key:'containsRange',value:function containsRange(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:!1;t.isCollapsed&&(e=!1);var n=this.containsPosition(t.start)||e&&this.start.isEqual(t.start),i=this.containsPosition(t.end)||e&&this.end.isEqual(t.end);return n&&i;}},{key:'getDifference',value:function getDifference(t){var e=[];return this.isIntersecting(t)?(this.containsPosition(t.start)&&e.push(new Gi(this.start,t.start)),this.containsPosition(t.end)&&e.push(new Gi(t.end,this.end))):e.push(this.clone()),e;}},{key:'getIntersection',value:function getIntersection(t){if(this.isIntersecting(t)){var e=this.start,_n18=this.end;return this.containsPosition(t.start)&&(e=t.start),this.containsPosition(t.end)&&(_n18=t.end),new Gi(e,_n18);}return null;}},{key:'getWalker',value:function getWalker(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};return t.boundaries=this,new Yi(t);}},{key:'getCommonAncestor',value:function getCommonAncestor(){return this.start.getCommonAncestor(this.end);}},{key:'clone',value:function clone(){return new Gi(this.start,this.end);}},{key:'getItems',value:/*#__PURE__*/regeneratorRuntime.mark(function getItems(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};var e,_iteratorNormalCompletion27,_didIteratorError27,_iteratorError27,_iterator27,_step27,_t16;return regeneratorRuntime.wrap(function getItems$(_context6){while(1){switch(_context6.prev=_context6.next){case 0:t.boundaries=this,t.ignoreElementEnd=!0;e=new Yi(t);_iteratorNormalCompletion27=true;_didIteratorError27=false;_iteratorError27=undefined;_context6.prev=5;_iterator27=e[Symbol.iterator]();case 7:if(_iteratorNormalCompletion27=(_step27=_iterator27.next()).done){_context6.next=14;break;}_t16=_step27.value;_context6.next=11;return _t16.item;case 11:_iteratorNormalCompletion27=true;_context6.next=7;break;case 14:_context6.next=20;break;case 16:_context6.prev=16;_context6.t0=_context6['catch'](5);_didIteratorError27=true;_iteratorError27=_context6.t0;case 20:_context6.prev=20;_context6.prev=21;if(!_iteratorNormalCompletion27&&_iterator27.return){_iterator27.return();}case 23:_context6.prev=23;if(!_didIteratorError27){_context6.next=26;break;}throw _iteratorError27;case 26:return _context6.finish(23);case 27:return _context6.finish(20);case 28:case'end':return _context6.stop();}}},getItems,this,[[5,16,20,28],[21,,23,27]]);})},{key:'getPositions',value:/*#__PURE__*/regeneratorRuntime.mark(function getPositions(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};var e,_iteratorNormalCompletion28,_didIteratorError28,_iteratorError28,_iterator28,_step28,_t17;return regeneratorRuntime.wrap(function getPositions$(_context7){while(1){switch(_context7.prev=_context7.next){case 0:t.boundaries=this;e=new Yi(t);_context7.next=4;return e.position;case 4:_iteratorNormalCompletion28=true;_didIteratorError28=false;_iteratorError28=undefined;_context7.prev=7;_iterator28=e[Symbol.iterator]();case 9:if(_iteratorNormalCompletion28=(_step28=_iterator28.next()).done){_context7.next=16;break;}_t17=_step28.value;_context7.next=13;return _t17.nextPosition;case 13:_iteratorNormalCompletion28=true;_context7.next=9;break;case 16:_context7.next=22;break;case 18:_context7.prev=18;_context7.t0=_context7['catch'](7);_didIteratorError28=true;_iteratorError28=_context7.t0;case 22:_context7.prev=22;_context7.prev=23;if(!_iteratorNormalCompletion28&&_iterator28.return){_iterator28.return();}case 25:_context7.prev=25;if(!_didIteratorError28){_context7.next=28;break;}throw _iteratorError28;case 28:return _context7.finish(25);case 29:return _context7.finish(22);case 30:case'end':return _context7.stop();}}},getPositions,this,[[7,18,22,30],[23,,25,29]]);})},{key:'isIntersecting',value:function isIntersecting(t){return this.start.isBefore(t.end)&&this.end.isAfter(t.start);}},{key:'isCollapsed',get:function get(){return this.start.isEqual(this.end);}},{key:'isFlat',get:function get(){return this.start.parent===this.end.parent;}},{key:'root',get:function get(){return this.start.root;}}],[{key:'_createFromParentsAndOffsets',value:function _createFromParentsAndOffsets(t,e,n,i){return new this(new $i(t,e),new $i(n,i));}},{key:'_createFromPositionAndShift',value:function _createFromPositionAndShift(t,e){var n=t,i=t.getShiftedBy(e);return e>0?new this(n,i):new this(i,n);}},{key:'_createIn',value:function _createIn(t){return this._createFromParentsAndOffsets(t,0,t,t.childCount);}},{key:'_createOn',value:function _createOn(t){var e=t.is("textProxy")?t.offsetSize:1;return this._createFromPositionAndShift($i._createBefore(t),e);}}]);return Gi;}();function Qi(t){return!(!t.item.is("attributeElement")&&!t.item.is("uiElement"));}function Ji(t){var e=0;var _iteratorNormalCompletion29=true;var _didIteratorError29=false;var _iteratorError29=undefined;try{for(var _iterator29=t[Symbol.iterator](),_step29;!(_iteratorNormalCompletion29=(_step29=_iterator29.next()).done);_iteratorNormalCompletion29=true){var _n19=_step29.value;e++;}}catch(err){_didIteratorError29=true;_iteratorError29=err;}finally{try{if(!_iteratorNormalCompletion29&&_iterator29.return){_iterator29.return();}}finally{if(_didIteratorError29){throw _iteratorError29;}}}return e;}var Ki=function(){function Ki(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:null;var e=arguments[1];var n=arguments[2];_classCallCheck(this,Ki);this._ranges=[],this._lastRangeBackward=!1,this._isFake=!1,this._fakeSelectionLabel="",this.setTo(t,e,n);}_createClass(Ki,[{key:'getRanges',value:/*#__PURE__*/regeneratorRuntime.mark(function getRanges(){var _iteratorNormalCompletion30,_didIteratorError30,_iteratorError30,_iterator30,_step30,t;return regeneratorRuntime.wrap(function getRanges$(_context8){while(1){switch(_context8.prev=_context8.next){case 0:_iteratorNormalCompletion30=true;_didIteratorError30=false;_iteratorError30=undefined;_context8.prev=3;_iterator30=this._ranges[Symbol.iterator]();case 5:if(_iteratorNormalCompletion30=(_step30=_iterator30.next()).done){_context8.next=12;break;}t=_step30.value;_context8.next=9;return t.clone();case 9:_iteratorNormalCompletion30=true;_context8.next=5;break;case 12:_context8.next=18;break;case 14:_context8.prev=14;_context8.t0=_context8['catch'](3);_didIteratorError30=true;_iteratorError30=_context8.t0;case 18:_context8.prev=18;_context8.prev=19;if(!_iteratorNormalCompletion30&&_iterator30.return){_iterator30.return();}case 21:_context8.prev=21;if(!_didIteratorError30){_context8.next=24;break;}throw _iteratorError30;case 24:return _context8.finish(21);case 25:return _context8.finish(18);case 26:case'end':return _context8.stop();}}},getRanges,this,[[3,14,18,26],[19,,21,25]]);})},{key:'getFirstRange',value:function getFirstRange(){var t=null;var _iteratorNormalCompletion31=true;var _didIteratorError31=false;var _iteratorError31=undefined;try{for(var _iterator31=this._ranges[Symbol.iterator](),_step31;!(_iteratorNormalCompletion31=(_step31=_iterator31.next()).done);_iteratorNormalCompletion31=true){var e=_step31.value;t&&!e.start.isBefore(t.start)||(t=e);}}catch(err){_didIteratorError31=true;_iteratorError31=err;}finally{try{if(!_iteratorNormalCompletion31&&_iterator31.return){_iterator31.return();}}finally{if(_didIteratorError31){throw _iteratorError31;}}}return t?t.clone():null;}},{key:'getLastRange',value:function getLastRange(){var t=null;var _iteratorNormalCompletion32=true;var _didIteratorError32=false;var _iteratorError32=undefined;try{for(var _iterator32=this._ranges[Symbol.iterator](),_step32;!(_iteratorNormalCompletion32=(_step32=_iterator32.next()).done);_iteratorNormalCompletion32=true){var e=_step32.value;t&&!e.end.isAfter(t.end)||(t=e);}}catch(err){_didIteratorError32=true;_iteratorError32=err;}finally{try{if(!_iteratorNormalCompletion32&&_iterator32.return){_iterator32.return();}}finally{if(_didIteratorError32){throw _iteratorError32;}}}return t?t.clone():null;}},{key:'getFirstPosition',value:function getFirstPosition(){var t=this.getFirstRange();return t?t.start.clone():null;}},{key:'getLastPosition',value:function getLastPosition(){var t=this.getLastRange();return t?t.end.clone():null;}},{key:'isEqual',value:function isEqual(t){if(this.isFake!=t.isFake)return!1;if(this.isFake&&this.fakeSelectionLabel!=t.fakeSelectionLabel)return!1;if(this.rangeCount!=t.rangeCount)return!1;if(0===this.rangeCount)return!0;if(!this.anchor.isEqual(t.anchor)||!this.focus.isEqual(t.focus))return!1;var _iteratorNormalCompletion33=true;var _didIteratorError33=false;var _iteratorError33=undefined;try{for(var _iterator33=this._ranges[Symbol.iterator](),_step33;!(_iteratorNormalCompletion33=(_step33=_iterator33.next()).done);_iteratorNormalCompletion33=true){var e=_step33.value;var _n20=!1;var _iteratorNormalCompletion34=true;var _didIteratorError34=false;var _iteratorError34=undefined;try{for(var _iterator34=t._ranges[Symbol.iterator](),_step34;!(_iteratorNormalCompletion34=(_step34=_iterator34.next()).done);_iteratorNormalCompletion34=true){var i=_step34.value;if(e.isEqual(i)){_n20=!0;break;}}}catch(err){_didIteratorError34=true;_iteratorError34=err;}finally{try{if(!_iteratorNormalCompletion34&&_iterator34.return){_iterator34.return();}}finally{if(_didIteratorError34){throw _iteratorError34;}}}if(!_n20)return!1;}}catch(err){_didIteratorError33=true;_iteratorError33=err;}finally{try{if(!_iteratorNormalCompletion33&&_iterator33.return){_iterator33.return();}}finally{if(_didIteratorError33){throw _iteratorError33;}}}return!0;}},{key:'isSimilar',value:function isSimilar(t){if(this.isBackward!=t.isBackward)return!1;var e=Ji(this.getRanges());if(e!=Ji(t.getRanges()))return!1;if(0==e)return!0;var _iteratorNormalCompletion35=true;var _didIteratorError35=false;var _iteratorError35=undefined;try{for(var _iterator35=this.getRanges()[Symbol.iterator](),_step35;!(_iteratorNormalCompletion35=(_step35=_iterator35.next()).done);_iteratorNormalCompletion35=true){var _e18=_step35.value;_e18=_e18.getTrimmed();var _n21=!1;var _iteratorNormalCompletion36=true;var _didIteratorError36=false;var _iteratorError36=undefined;try{for(var _iterator36=t.getRanges()[Symbol.iterator](),_step36;!(_iteratorNormalCompletion36=(_step36=_iterator36.next()).done);_iteratorNormalCompletion36=true){var i=_step36.value;if(i=i.getTrimmed(),_e18.start.isEqual(i.start)&&_e18.end.isEqual(i.end)){_n21=!0;break;}}}catch(err){_didIteratorError36=true;_iteratorError36=err;}finally{try{if(!_iteratorNormalCompletion36&&_iterator36.return){_iterator36.return();}}finally{if(_didIteratorError36){throw _iteratorError36;}}}if(!_n21)return!1;}}catch(err){_didIteratorError35=true;_iteratorError35=err;}finally{try{if(!_iteratorNormalCompletion35&&_iterator35.return){_iterator35.return();}}finally{if(_didIteratorError35){throw _iteratorError35;}}}return!0;}},{key:'getSelectedElement',value:function getSelectedElement(){if(1!==this.rangeCount)return null;var t=this.getFirstRange(),e=t.start.nodeAfter,n=t.end.nodeBefore;return e instanceof mi&&e==n?e:null;}},{key:'setTo',value:function setTo(t,e,n){if(null===t)this._setRanges([]),this._setFakeOptions(e);else if(t instanceof Ki||t instanceof Zi)this._setRanges(t.getRanges(),t.isBackward),this._setFakeOptions({fake:t.isFake,label:t.fakeSelectionLabel});else if(t instanceof Gi)this._setRanges([t],e&&e.backward),this._setFakeOptions(e);else if(t instanceof $i)this._setRanges([new Gi(t)]),this._setFakeOptions(e);else if(t instanceof ai){var i=!!n&&!!n.backward;var _o11=void 0;if(void 0===e)throw new P.b("view-selection-setTo-required-second-parameter: selection.setTo requires the second parameter when the first parameter is a node.");_o11="in"==e?Gi._createIn(t):"on"==e?Gi._createOn(t):new Gi($i._createAt(t,e)),this._setRanges([_o11],i),this._setFakeOptions(n);}else{if(!ui(t))throw new P.b("view-selection-setTo-not-selectable: Cannot set selection to given place.");this._setRanges(t,e&&e.backward),this._setFakeOptions(e);}this.fire("change");}},{key:'setFocus',value:function setFocus(t,e){if(null===this.anchor)throw new P.b("view-selection-setFocus-no-ranges: Cannot set selection focus if there are no ranges in selection.");var n=$i._createAt(t,e);if("same"==n.compareWith(this.focus))return;var i=this.anchor;this._ranges.pop(),"before"==n.compareWith(i)?this._addRange(new Gi(n,i),!0):this._addRange(new Gi(i,n)),this.fire("change");}},{key:'_setRanges',value:function _setRanges(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:!1;t=Array.from(t),this._ranges=[];var _iteratorNormalCompletion37=true;var _didIteratorError37=false;var _iteratorError37=undefined;try{for(var _iterator37=t[Symbol.iterator](),_step37;!(_iteratorNormalCompletion37=(_step37=_iterator37.next()).done);_iteratorNormalCompletion37=true){var _e19=_step37.value;this._addRange(_e19);}}catch(err){_didIteratorError37=true;_iteratorError37=err;}finally{try{if(!_iteratorNormalCompletion37&&_iterator37.return){_iterator37.return();}}finally{if(_didIteratorError37){throw _iteratorError37;}}}this._lastRangeBackward=!!e;}},{key:'_setFakeOptions',value:function _setFakeOptions(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};this._isFake=!!t.fake,this._fakeSelectionLabel=t.fake&&t.label||"";}},{key:'_addRange',value:function _addRange(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:!1;if(!(t instanceof Gi))throw new P.b("view-selection-add-range-not-range: Selection range set to an object that is not an instance of view.Range");this._pushRange(t),this._lastRangeBackward=!!e;}},{key:'_pushRange',value:function _pushRange(t){var _iteratorNormalCompletion38=true;var _didIteratorError38=false;var _iteratorError38=undefined;try{for(var _iterator38=this._ranges[Symbol.iterator](),_step38;!(_iteratorNormalCompletion38=(_step38=_iterator38.next()).done);_iteratorNormalCompletion38=true){var e=_step38.value;if(t.isIntersecting(e))throw new P.b("view-selection-range-intersects: Trying to add a range that intersects with another range from selection.",{addedRange:t,intersectingRange:e});}}catch(err){_didIteratorError38=true;_iteratorError38=err;}finally{try{if(!_iteratorNormalCompletion38&&_iterator38.return){_iterator38.return();}}finally{if(_didIteratorError38){throw _iteratorError38;}}}this._ranges.push(new Gi(t.start,t.end));}},{key:'isFake',get:function get(){return this._isFake;}},{key:'fakeSelectionLabel',get:function get(){return this._fakeSelectionLabel;}},{key:'anchor',get:function get(){if(!this._ranges.length)return null;var t=this._ranges[this._ranges.length-1];return(this._lastRangeBackward?t.end:t.start).clone();}},{key:'focus',get:function get(){if(!this._ranges.length)return null;var t=this._ranges[this._ranges.length-1];return(this._lastRangeBackward?t.start:t.end).clone();}},{key:'isCollapsed',get:function get(){return 1===this.rangeCount&&this._ranges[0].isCollapsed;}},{key:'rangeCount',get:function get(){return this._ranges.length;}},{key:'isBackward',get:function get(){return!this.isCollapsed&&this._lastRangeBackward;}},{key:'editableElement',get:function get(){return this.anchor?this.anchor.editableElement:null;}}]);return Ki;}();F(Ki,R);var Zi=function(){function Zi(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:null;var e=arguments[1];var n=arguments[2];_classCallCheck(this,Zi);this._selection=new Ki(),this._selection.delegate("change").to(this),this._selection.setTo(t,e,n);}_createClass(Zi,[{key:'getRanges',value:/*#__PURE__*/regeneratorRuntime.mark(function getRanges(){return regeneratorRuntime.wrap(function getRanges$(_context9){while(1){switch(_context9.prev=_context9.next){case 0:return _context9.delegateYield(this._selection.getRanges(),'t0',1);case 1:case'end':return _context9.stop();}}},getRanges,this);})},{key:'getFirstRange',value:function getFirstRange(){return this._selection.getFirstRange();}},{key:'getLastRange',value:function getLastRange(){return this._selection.getLastRange();}},{key:'getFirstPosition',value:function getFirstPosition(){return this._selection.getFirstPosition();}},{key:'getLastPosition',value:function getLastPosition(){return this._selection.getLastPosition();}},{key:'getSelectedElement',value:function getSelectedElement(){return this._selection.getSelectedElement();}},{key:'isEqual',value:function isEqual(t){return this._selection.isEqual(t);}},{key:'isSimilar',value:function isSimilar(t){return this._selection.isSimilar(t);}},{key:'_setTo',value:function _setTo(t,e,n){this._selection.setTo(t,e,n);}},{key:'_setFocus',value:function _setFocus(t,e){this._selection.setFocus(t,e);}},{key:'isFake',get:function get(){return this._selection.isFake;}},{key:'fakeSelectionLabel',get:function get(){return this._selection.fakeSelectionLabel;}},{key:'anchor',get:function get(){return this._selection.anchor;}},{key:'focus',get:function get(){return this._selection.focus;}},{key:'isCollapsed',get:function get(){return this._selection.isCollapsed;}},{key:'rangeCount',get:function get(){return this._selection.rangeCount;}},{key:'isBackward',get:function get(){return this._selection.isBackward;}},{key:'editableElement',get:function get(){return this._selection.editableElement;}},{key:'_ranges',get:function get(){return this._selection._ranges;}}]);return Zi;}();F(Zi,R);var Xi=function(){function Xi(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};_classCallCheck(this,Xi);this._items=[],this._itemMap=new Map(),this._idProperty=t.idProperty||"id",this._bindToExternalToInternalMap=new WeakMap(),this._bindToInternalToExternalMap=new WeakMap(),this._skippedIndexesFromExternal=[];}_createClass(Xi,[{key:'add',value:function add(t,e){var n=void 0;var i=this._idProperty;if(i in t){if("string"!=typeof(n=t[i]))throw new P.b("collection-add-invalid-id");if(this.get(n))throw new P.b("collection-add-item-already-exists");}else t[i]=n=I();if(void 0===e)e=this._items.length;else if(e>this._items.length||e<0)throw new P.b("collection-add-item-invalid-index");return this._items.splice(e,0,t),this._itemMap.set(n,t),this.fire("add",t,e),this;}},{key:'get',value:function get(t){var e=void 0;if("string"==typeof t)e=this._itemMap.get(t);else{if("number"!=typeof t)throw new P.b("collection-get-invalid-arg: Index or id must be given.");e=this._items[t];}return e||null;}},{key:'getIndex',value:function getIndex(t){var e=void 0;return e="string"==typeof t?this._itemMap.get(t):t,this._items.indexOf(e);}},{key:'remove',value:function remove(t){var e=void 0,n=void 0,i=void 0,o=!1;var r=this._idProperty;if("string"==typeof t?(n=t,o=!(i=this._itemMap.get(n)),i&&(e=this._items.indexOf(i))):"number"==typeof t?(e=t,o=!(i=this._items[e]),i&&(n=i[r])):(n=(i=t)[r],o=-1==(e=this._items.indexOf(i))||!this._itemMap.get(n)),o)throw new P.b("collection-remove-404: Item not found.");this._items.splice(e,1),this._itemMap.delete(n);var s=this._bindToInternalToExternalMap.get(i);return this._bindToInternalToExternalMap.delete(i),this._bindToExternalToInternalMap.delete(s),this.fire("remove",i,e),i;}},{key:'map',value:function map(t,e){return this._items.map(t,e);}},{key:'find',value:function find(t,e){return this._items.find(t,e);}},{key:'filter',value:function filter(t,e){return this._items.filter(t,e);}},{key:'clear',value:function clear(){for(this._bindToCollection&&(this.stopListening(this._bindToCollection),this._bindToCollection=null);this.length;){this.remove(0);}}},{key:'bindTo',value:function bindTo(t){var _this21=this;if(this._bindToCollection)throw new P.b("collection-bind-to-rebind: The collection cannot be bound more than once.");return this._bindToCollection=t,{as:function as(t){_this21._setUpBindToBinding(function(e){return new t(e);});},using:function using(t){"function"==typeof t?_this21._setUpBindToBinding(function(e){return t(e);}):_this21._setUpBindToBinding(function(e){return e[t];});}};}},{key:'_setUpBindToBinding',value:function _setUpBindToBinding(t){var _this22=this;var e=this._bindToCollection,n=function n(_n23,i,o){var r=e._bindToCollection==_this22,s=e._bindToInternalToExternalMap.get(i);if(r&&s)_this22._bindToExternalToInternalMap.set(i,s),_this22._bindToInternalToExternalMap.set(s,i);else{var _n22=t(i);if(!_n22)return void _this22._skippedIndexesFromExternal.push(o);var _r2=o;var _iteratorNormalCompletion39=true;var _didIteratorError39=false;var _iteratorError39=undefined;try{for(var _iterator39=_this22._skippedIndexesFromExternal[Symbol.iterator](),_step39;!(_iteratorNormalCompletion39=(_step39=_iterator39.next()).done);_iteratorNormalCompletion39=true){var _t18=_step39.value;o>_t18&&_r2--;}}catch(err){_didIteratorError39=true;_iteratorError39=err;}finally{try{if(!_iteratorNormalCompletion39&&_iterator39.return){_iterator39.return();}}finally{if(_didIteratorError39){throw _iteratorError39;}}}var _iteratorNormalCompletion40=true;var _didIteratorError40=false;var _iteratorError40=undefined;try{for(var _iterator40=e._skippedIndexesFromExternal[Symbol.iterator](),_step40;!(_iteratorNormalCompletion40=(_step40=_iterator40.next()).done);_iteratorNormalCompletion40=true){var _t19=_step40.value;_r2>=_t19&&_r2++;}}catch(err){_didIteratorError40=true;_iteratorError40=err;}finally{try{if(!_iteratorNormalCompletion40&&_iterator40.return){_iterator40.return();}}finally{if(_didIteratorError40){throw _iteratorError40;}}}_this22._bindToExternalToInternalMap.set(i,_n22),_this22._bindToInternalToExternalMap.set(_n22,i),_this22.add(_n22,_r2);for(var _t20=0;_t20<e._skippedIndexesFromExternal.length;_t20++){_r2<=e._skippedIndexesFromExternal[_t20]&&e._skippedIndexesFromExternal[_t20]++;}}};var _iteratorNormalCompletion41=true;var _didIteratorError41=false;var _iteratorError41=undefined;try{for(var _iterator41=e[Symbol.iterator](),_step41;!(_iteratorNormalCompletion41=(_step41=_iterator41.next()).done);_iteratorNormalCompletion41=true){var _t21=_step41.value;n(0,_t21,e.getIndex(_t21));}}catch(err){_didIteratorError41=true;_iteratorError41=err;}finally{try{if(!_iteratorNormalCompletion41&&_iterator41.return){_iterator41.return();}}finally{if(_didIteratorError41){throw _iteratorError41;}}}this.listenTo(e,"add",n),this.listenTo(e,"remove",function(t,e,n){var i=_this22._bindToExternalToInternalMap.get(e);i&&_this22.remove(i),_this22._skippedIndexesFromExternal=_this22._skippedIndexesFromExternal.reduce(function(t,e){return n<e&&t.push(e-1),n>e&&t.push(e),t;},[]);});}},{key:Symbol.iterator,value:function value(){return this._items[Symbol.iterator]();}},{key:'length',get:function get(){return this._items.length;}},{key:'first',get:function get(){return this._items[0]||null;}},{key:'last',get:function get(){return this._items[this.length-1]||null;}}]);return Xi;}();F(Xi,R);var to=function(){function to(){_classCallCheck(this,to);this.selection=new Zi(),this.roots=new Xi({idProperty:"rootName"}),this.set("isReadOnly",!1),this.set("isFocused",!1),this.set("isComposing",!1),this._postFixers=new Set();}_createClass(to,[{key:'getRoot',value:function getRoot(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:"main";return this.roots.get(t);}},{key:'registerPostFixer',value:function registerPostFixer(t){this._postFixers.add(t);}},{key:'_callPostFixers',value:function _callPostFixers(t){var e=!1;do{var _iteratorNormalCompletion42=true;var _didIteratorError42=false;var _iteratorError42=undefined;try{for(var _iterator42=this._postFixers[Symbol.iterator](),_step42;!(_iteratorNormalCompletion42=(_step42=_iterator42.next()).done);_iteratorNormalCompletion42=true){var n=_step42.value;if(e=n(t))break;}}catch(err){_didIteratorError42=true;_iteratorError42=err;}finally{try{if(!_iteratorNormalCompletion42&&_iterator42.return){_iterator42.return();}}finally{if(_didIteratorError42){throw _iteratorError42;}}}}while(e);}}]);return to;}();F(to,Li);var eo=10;var no=function(_mi2){_inherits(no,_mi2);function no(t,e,n){var _this23;_classCallCheck(this,no);(_this23=_possibleConstructorReturn(this,(no.__proto__||Object.getPrototypeOf(no)).call(this,t,e,n)),_this23),_this23.getFillerOffset=io,_this23._priority=eo,_this23._id=null,_this23._clonesGroup=null;return _this23;}_createClass(no,[{key:'getElementsWithSameId',value:function getElementsWithSameId(){if(null===this.id)throw new P.b("attribute-element-get-elements-with-same-id-no-id: Cannot get elements with the same id for an attribute element without id.");return new Set(this._clonesGroup);}},{key:'is',value:function is(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:null;return e?"attributeElement"==t&&e==this.name||_get(no.prototype.__proto__||Object.getPrototypeOf(no.prototype),'is',this).call(this,t,e):"attributeElement"==t||_get(no.prototype.__proto__||Object.getPrototypeOf(no.prototype),'is',this).call(this,t);}},{key:'isSimilar',value:function isSimilar(t){return null!==this.id||null!==t.id?this.id===t.id:_get(no.prototype.__proto__||Object.getPrototypeOf(no.prototype),'isSimilar',this).call(this,t)&&this.priority==t.priority;}},{key:'_clone',value:function _clone(t){var e=_get(no.prototype.__proto__||Object.getPrototypeOf(no.prototype),'_clone',this).call(this,t);return e._priority=this._priority,e._id=this._id,e;}},{key:'priority',get:function get(){return this._priority;}},{key:'id',get:function get(){return this._id;}}]);return no;}(mi);function io(){if(oo(this))return null;var t=this.parent;for(;t&&t.is("attributeElement");){if(oo(t)>1)return null;t=t.parent;}return!t||oo(t)>1?null:this.childCount;}function oo(t){return Array.from(t.getChildren()).filter(function(t){return!t.is("uiElement");}).length;}no.DEFAULT_PRIORITY=eo;var ro=function(_mi3){_inherits(ro,_mi3);function ro(t,e,n){var _this24;_classCallCheck(this,ro);(_this24=_possibleConstructorReturn(this,(ro.__proto__||Object.getPrototypeOf(ro)).call(this,t,e,n)),_this24),_this24.getFillerOffset=so;return _this24;}_createClass(ro,[{key:'is',value:function is(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:null;return e?"emptyElement"==t&&e==this.name||_get(ro.prototype.__proto__||Object.getPrototypeOf(ro.prototype),'is',this).call(this,t,e):"emptyElement"==t||_get(ro.prototype.__proto__||Object.getPrototypeOf(ro.prototype),'is',this).call(this,t);}},{key:'_insertChild',value:function _insertChild(t,e){if(e&&(e instanceof ai||Array.from(e).length>0))throw new P.b("view-emptyelement-cannot-add: Cannot add child nodes to EmptyElement instance.");}}]);return ro;}(mi);function so(){return null;}var ao=navigator.userAgent.toLowerCase();var co={isMac:function(t){return t.indexOf("macintosh")>-1;}(ao),isEdge:function(t){return!!t.match(/edge\/(\d+.?\d*)/);}(ao),isGecko:function(t){return!!t.match(/gecko\/\d+/);}(ao)};var lo={"⌘":"ctrl","⇧":"shift","⌥":"alt"},uo={ctrl:"⌘",shift:"⇧",alt:"⌥"},ho=function(){var t={arrowleft:37,arrowup:38,arrowright:39,arrowdown:40,backspace:8,delete:46,enter:13,space:32,esc:27,tab:9,ctrl:1114112,cmd:1114112,shift:2228224,alt:4456448};for(var e=65;e<=90;e++){var n=String.fromCharCode(e);t[n.toLowerCase()]=e;}for(var _e20=48;_e20<=57;_e20++){t[_e20-48]=_e20;}for(var _e21=112;_e21<=123;_e21++){t["f"+(_e21-111)]=_e21;}return t;}();function fo(t){var e=void 0;if("string"==typeof t){if(!(e=ho[t.toLowerCase()]))throw new P.b("keyboard-unknown-key: Unknown key name.",{key:t});}else e=t.keyCode+(t.altKey?ho.alt:0)+(t.ctrlKey?ho.ctrl:0)+(t.shiftKey?ho.shift:0);return e;}function mo(t){return"string"==typeof t&&(t=po(t)),t.map(function(t){return"string"==typeof t?fo(t):t;}).reduce(function(t,e){return e+t;},0);}function po(t){return t.split(/\s*\+\s*/);}var go=function(_mi4){_inherits(go,_mi4);function go(t,e,n){var _this25;_classCallCheck(this,go);(_this25=_possibleConstructorReturn(this,(go.__proto__||Object.getPrototypeOf(go)).call(this,t,e,n)),_this25),_this25.getFillerOffset=wo;return _this25;}_createClass(go,[{key:'is',value:function is(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:null;return e?"uiElement"==t&&e==this.name||_get(go.prototype.__proto__||Object.getPrototypeOf(go.prototype),'is',this).call(this,t,e):"uiElement"==t||_get(go.prototype.__proto__||Object.getPrototypeOf(go.prototype),'is',this).call(this,t);}},{key:'_insertChild',value:function _insertChild(t,e){if(e&&(e instanceof ai||Array.from(e).length>0))throw new P.b("view-uielement-cannot-add: Cannot add child nodes to UIElement instance.");}},{key:'render',value:function render(t){return this.toDomElement(t);}},{key:'toDomElement',value:function toDomElement(t){var e=t.createElement(this.name);var _iteratorNormalCompletion43=true;var _didIteratorError43=false;var _iteratorError43=undefined;try{for(var _iterator43=this.getAttributeKeys()[Symbol.iterator](),_step43;!(_iteratorNormalCompletion43=(_step43=_iterator43.next()).done);_iteratorNormalCompletion43=true){var _t22=_step43.value;e.setAttribute(_t22,this.getAttribute(_t22));}}catch(err){_didIteratorError43=true;_iteratorError43=err;}finally{try{if(!_iteratorNormalCompletion43&&_iterator43.return){_iterator43.return();}}finally{if(_didIteratorError43){throw _iteratorError43;}}}return e;}}]);return go;}(mi);function bo(t){t.document.on("keydown",function(e,n){return function(t,e,n){if(e.keyCode==ho.arrowright){var _t23=e.domTarget.ownerDocument.defaultView.getSelection(),i=1==_t23.rangeCount&&_t23.getRangeAt(0).collapsed;if(i||e.shiftKey){var _e22=_t23.focusNode,_o12=_t23.focusOffset,_r3=n.domPositionToView(_e22,_o12);if(null===_r3)return;var _s3=!1;var _a3=_r3.getLastMatchingPosition(function(t){return t.item.is("uiElement")&&(_s3=!0),!(!t.item.is("uiElement")&&!t.item.is("attributeElement"));});if(_s3){var _e23=n.viewPositionToDom(_a3);i?_t23.collapse(_e23.parent,_e23.offset):_t23.extend(_e23.parent,_e23.offset);}}}}(0,n,t.domConverter);});}function wo(){return null;}var _o=function(){function _o(t){_classCallCheck(this,_o);this._children=[],t&&this._insertChild(0,t);}_createClass(_o,[{key:Symbol.iterator,value:function value(){return this._children[Symbol.iterator]();}},{key:'is',value:function is(t){return"documentFragment"==t;}},{key:'_appendChild',value:function _appendChild(t){return this._insertChild(this.childCount,t);}},{key:'getChild',value:function getChild(t){return this._children[t];}},{key:'getChildIndex',value:function getChildIndex(t){return this._children.indexOf(t);}},{key:'getChildren',value:function getChildren(){return this._children[Symbol.iterator]();}},{key:'_insertChild',value:function _insertChild(t,e){this._fireChange("children",this);var n=0;var i=function(t){if("string"==typeof t)return[new ci(t)];ui(t)||(t=[t]);return Array.from(t).map(function(t){return"string"==typeof t?new ci(t):t instanceof li?new ci(t.data):t;});}(e);var _iteratorNormalCompletion44=true;var _didIteratorError44=false;var _iteratorError44=undefined;try{for(var _iterator44=i[Symbol.iterator](),_step44;!(_iteratorNormalCompletion44=(_step44=_iterator44.next()).done);_iteratorNormalCompletion44=true){var _e24=_step44.value;null!==_e24.parent&&_e24._remove(),_e24.parent=this,this._children.splice(t,0,_e24),t++,n++;}}catch(err){_didIteratorError44=true;_iteratorError44=err;}finally{try{if(!_iteratorNormalCompletion44&&_iterator44.return){_iterator44.return();}}finally{if(_didIteratorError44){throw _iteratorError44;}}}return n;}},{key:'_removeChildren',value:function _removeChildren(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:1;this._fireChange("children",this);for(var n=t;n<t+e;n++){this._children[n].parent=null;}return this._children.splice(t,e);}},{key:'_fireChange',value:function _fireChange(t,e){this.fire("change:"+t,e);}},{key:'childCount',get:function get(){return this._children.length;}},{key:'isEmpty',get:function get(){return 0===this.childCount;}},{key:'root',get:function get(){return this;}},{key:'parent',get:function get(){return null;}}]);return _o;}();F(_o,R);var ko=function(){function ko(t){_classCallCheck(this,ko);this.document=t,this._cloneGroups=new Map();}_createClass(ko,[{key:'setSelection',value:function setSelection(t,e,n){this.document.selection._setTo(t,e,n);}},{key:'setSelectionFocus',value:function setSelectionFocus(t,e){this.document.selection._setFocus(t,e);}},{key:'createText',value:function createText(t){return new ci(t);}},{key:'createAttributeElement',value:function createAttributeElement(t,e){var n=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{};var i=new no(t,e);return n.priority&&(i._priority=n.priority),n.id&&(i._id=n.id),i;}},{key:'createContainerElement',value:function createContainerElement(t,e){return new bi(t,e);}},{key:'createEditableElement',value:function createEditableElement(t,e){var n=new Hi(t,e);return n._document=this.document,n;}},{key:'createEmptyElement',value:function createEmptyElement(t,e){return new ro(t,e);}},{key:'createUIElement',value:function createUIElement(t,e,n){var i=new go(t,e);return n&&(i.render=n),i;}},{key:'setAttribute',value:function setAttribute(t,e,n){n._setAttribute(t,e);}},{key:'removeAttribute',value:function removeAttribute(t,e){e._removeAttribute(t);}},{key:'addClass',value:function addClass(t,e){e._addClass(t);}},{key:'removeClass',value:function removeClass(t,e){e._removeClass(t);}},{key:'setStyle',value:function setStyle(t,e,n){C(t)&&void 0===n&&(n=e),n._setStyle(t,e);}},{key:'removeStyle',value:function removeStyle(t,e){e._removeStyle(t);}},{key:'setCustomProperty',value:function setCustomProperty(t,e,n){n._setCustomProperty(t,e);}},{key:'removeCustomProperty',value:function removeCustomProperty(t,e){return e._removeCustomProperty(t);}},{key:'breakAttributes',value:function breakAttributes(t){return t instanceof $i?this._breakAttributes(t):this._breakAttributesRange(t);}},{key:'breakContainer',value:function breakContainer(t){var e=t.parent;if(!e.is("containerElement"))throw new P.b("view-writer-break-non-container-element: Trying to break an element which is not a container element.");if(!e.parent)throw new P.b("view-writer-break-root: Trying to break root element.");if(t.isAtStart)return $i._createBefore(e);if(!t.isAtEnd){var n=e._clone(!1);this.insert($i._createAfter(e),n);var i=new Gi(t,$i._createAt(e,"end")),_o13=new $i(n,0);this.move(i,_o13);}return $i._createAfter(e);}},{key:'mergeAttributes',value:function mergeAttributes(t){var e=t.offset,n=t.parent;if(n.is("text"))return t;if(n.is("attributeElement")&&0===n.childCount){var _t24=n.parent,_e25=n.index;return n._remove(),this._removeFromClonedElementsGroup(n),this.mergeAttributes(new $i(_t24,_e25));}var i=n.getChild(e-1),o=n.getChild(e);if(!i||!o)return t;if(i.is("text")&&o.is("text"))return Co(i,o);if(i.is("attributeElement")&&o.is("attributeElement")&&i.isSimilar(o)){var _t25=i.childCount;return i._appendChild(o.getChildren()),o._remove(),this._removeFromClonedElementsGroup(o),this.mergeAttributes(new $i(i,_t25));}return t;}},{key:'mergeContainers',value:function mergeContainers(t){var e=t.nodeBefore,n=t.nodeAfter;if(!(e&&n&&e.is("containerElement")&&n.is("containerElement")))throw new P.b("view-writer-merge-containers-invalid-position: Element before and after given position cannot be merged.");var i=e.getChild(e.childCount-1),o=i instanceof ci?$i._createAt(i,"end"):$i._createAt(e,"end");return this.move(Gi._createIn(n),$i._createAt(e,"end")),this.remove(Gi._createOn(n)),o;}},{key:'insert',value:function insert(t,e){(function t(e){var _loop=function _loop(_n24){if(!To.some(function(t){return _n24 instanceof t;}))throw new P.b("view-writer-insert-invalid-node");_n24.is("text")||t(_n24.getChildren());};var _iteratorNormalCompletion45=true;var _didIteratorError45=false;var _iteratorError45=undefined;try{for(var _iterator45=e[Symbol.iterator](),_step45;!(_iteratorNormalCompletion45=(_step45=_iterator45.next()).done);_iteratorNormalCompletion45=true){var _n24=_step45.value;_loop(_n24);}}catch(err){_didIteratorError45=true;_iteratorError45=err;}finally{try{if(!_iteratorNormalCompletion45&&_iterator45.return){_iterator45.return();}}finally{if(_didIteratorError45){throw _iteratorError45;}}}})(e=ui(e)?[].concat(_toConsumableArray(e)):[e]);var n=vo(t);if(!n)throw new P.b("view-writer-invalid-position-container");var i=this._breakAttributes(t,!0),o=n._insertChild(i.offset,e);var _iteratorNormalCompletion46=true;var _didIteratorError46=false;var _iteratorError46=undefined;try{for(var _iterator46=e[Symbol.iterator](),_step46;!(_iteratorNormalCompletion46=(_step46=_iterator46.next()).done);_iteratorNormalCompletion46=true){var _t26=_step46.value;this._addToClonedElementsGroup(_t26);}}catch(err){_didIteratorError46=true;_iteratorError46=err;}finally{try{if(!_iteratorNormalCompletion46&&_iterator46.return){_iterator46.return();}}finally{if(_didIteratorError46){throw _iteratorError46;}}}var r=i.getShiftedBy(o),s=this.mergeAttributes(i);if(0===o)return new Gi(s,s);{s.isEqual(i)||r.offset--;var _t27=this.mergeAttributes(r);return new Gi(s,_t27);}}},{key:'remove',value:function remove(t){var e=t instanceof Gi?t:Gi._createOn(t);if(Mo(e),e.isCollapsed)return new _o();var _breakAttributesRange2=this._breakAttributesRange(e,!0),n=_breakAttributesRange2.start,i=_breakAttributesRange2.end,o=n.parent,r=i.offset-n.offset,s=o._removeChildren(n.offset,r);var _iteratorNormalCompletion47=true;var _didIteratorError47=false;var _iteratorError47=undefined;try{for(var _iterator47=s[Symbol.iterator](),_step47;!(_iteratorNormalCompletion47=(_step47=_iterator47.next()).done);_iteratorNormalCompletion47=true){var _t28=_step47.value;this._removeFromClonedElementsGroup(_t28);}}catch(err){_didIteratorError47=true;_iteratorError47=err;}finally{try{if(!_iteratorNormalCompletion47&&_iterator47.return){_iterator47.return();}}finally{if(_didIteratorError47){throw _iteratorError47;}}}var a=this.mergeAttributes(n);return e.start=a,e.end=a.clone(),new _o(s);}},{key:'clear',value:function clear(t,e){Mo(t);var n=t.getWalker({direction:"backward",ignoreElementEnd:!0});var _iteratorNormalCompletion48=true;var _didIteratorError48=false;var _iteratorError48=undefined;try{for(var _iterator48=n[Symbol.iterator](),_step48;!(_iteratorNormalCompletion48=(_step48=_iterator48.next()).done);_iteratorNormalCompletion48=true){var i=_step48.value;var _n25=i.item;var _o14=void 0;if(_n25.is("element")&&e.isSimilar(_n25))_o14=Gi._createOn(_n25);else if(!i.nextPosition.isAfter(t.start)&&_n25.is("textProxy")){var _t29=_n25.getAncestors().find(function(t){return t.is("element")&&e.isSimilar(t);});_t29&&(_o14=Gi._createIn(_t29));}_o14&&(_o14.end.isAfter(t.end)&&(_o14.end=t.end),_o14.start.isBefore(t.start)&&(_o14.start=t.start),this.remove(_o14));}}catch(err){_didIteratorError48=true;_iteratorError48=err;}finally{try{if(!_iteratorNormalCompletion48&&_iterator48.return){_iterator48.return();}}finally{if(_didIteratorError48){throw _iteratorError48;}}}}},{key:'move',value:function move(t,e){var n=void 0;if(e.isAfter(t.end)){var i=(e=this._breakAttributes(e,!0)).parent,_o15=i.childCount;t=this._breakAttributesRange(t,!0),n=this.remove(t),e.offset+=i.childCount-_o15;}else n=this.remove(t);return this.insert(e,n);}},{key:'wrap',value:function wrap(t,e){if(!(e instanceof no))throw new P.b("view-writer-wrap-invalid-attribute");if(Mo(t),t.isCollapsed){var n=t.start;n.parent.is("element")&&!function(t){return Array.from(t.getChildren()).some(function(t){return!t.is("uiElement");});}(n.parent)&&(n=n.getLastMatchingPosition(function(t){return t.item.is("uiElement");})),n=this._wrapPosition(n,e);var i=this.document.selection;return i.isCollapsed&&i.getFirstPosition().isEqual(t.start)&&this.setSelection(n),new Gi(n);}return this._wrapRange(t,e);}},{key:'unwrap',value:function unwrap(t,e){if(!(e instanceof no))throw new P.b("view-writer-unwrap-invalid-attribute");if(Mo(t),t.isCollapsed)return t;var _breakAttributesRange3=this._breakAttributesRange(t,!0),n=_breakAttributesRange3.start,i=_breakAttributesRange3.end;if(i.isEqual(n.getShiftedBy(1))){var _t30=n.nodeAfter;if(!e.isSimilar(_t30)&&_t30 instanceof no&&this._unwrapAttributeElement(e,_t30)){var _t31=this.mergeAttributes(n);_t31.isEqual(n)||i.offset--;var _e26=this.mergeAttributes(i);return new Gi(_t31,_e26);}}var o=n.parent,r=this._unwrapChildren(o,n.offset,i.offset,e),s=this.mergeAttributes(r.start);s.isEqual(r.start)||r.end.offset--;var a=this.mergeAttributes(r.end);return new Gi(s,a);}},{key:'rename',value:function rename(t,e){var n=new bi(t,e.getAttributes());return this.insert($i._createAfter(e),n),this.move(Gi._createIn(e),$i._createAt(n,0)),this.remove(Gi._createOn(e)),n;}},{key:'clearClonedElementsGroup',value:function clearClonedElementsGroup(t){this._cloneGroups.delete(t);}},{key:'createPositionAt',value:function createPositionAt(t,e){return $i._createAt(t,e);}},{key:'createPositionAfter',value:function createPositionAfter(t){return $i._createAfter(t);}},{key:'createPositionBefore',value:function createPositionBefore(t){return $i._createBefore(t);}},{key:'createRange',value:function createRange(t,e){return new Gi(t,e);}},{key:'createRangeOn',value:function createRangeOn(t){return Gi._createOn(t);}},{key:'createRangeIn',value:function createRangeIn(t){return Gi._createIn(t);}},{key:'createSelection',value:function createSelection(t,e,n){return new Ki(t,e,n);}},{key:'_wrapChildren',value:function _wrapChildren(t,e,n,i){var o=e;var r=[];for(;o<n;){var _e27=t.getChild(o),_n26=_e27.is("text"),_s4=_e27.is("attributeElement"),_a4=_e27.is("emptyElement"),_c2=_e27.is("uiElement");if(_n26||_a4||_c2||_s4&&yo(i,_e27)){var _n27=i._clone();_e27._remove(),_n27._appendChild(_e27),t._insertChild(o,_n27),this._addToClonedElementsGroup(_n27),r.push(new $i(t,o));}else _s4&&this._wrapChildren(_e27,0,_e27.childCount,i);o++;}var s=0;var _iteratorNormalCompletion49=true;var _didIteratorError49=false;var _iteratorError49=undefined;try{for(var _iterator49=r[Symbol.iterator](),_step49;!(_iteratorNormalCompletion49=(_step49=_iterator49.next()).done);_iteratorNormalCompletion49=true){var _t32=_step49.value;if(_t32.offset-=s,_t32.offset==e)continue;this.mergeAttributes(_t32).isEqual(_t32)||(s++,n--);}}catch(err){_didIteratorError49=true;_iteratorError49=err;}finally{try{if(!_iteratorNormalCompletion49&&_iterator49.return){_iterator49.return();}}finally{if(_didIteratorError49){throw _iteratorError49;}}}return Gi._createFromParentsAndOffsets(t,e,t,n);}},{key:'_unwrapChildren',value:function _unwrapChildren(t,e,n,i){var o=e;var r=[];for(;o<n;){var _e28=t.getChild(o);if(_e28.isSimilar(i)){var _i4=_e28.getChildren(),_s5=_e28.childCount;_e28._remove(),t._insertChild(o,_i4),this._removeFromClonedElementsGroup(_e28),r.push(new $i(t,o),new $i(t,o+_s5)),o+=_s5,n+=_s5-1;}else _e28.is("attributeElement")&&this._unwrapChildren(_e28,0,_e28.childCount,i),o++;}var s=0;var _iteratorNormalCompletion50=true;var _didIteratorError50=false;var _iteratorError50=undefined;try{for(var _iterator50=r[Symbol.iterator](),_step50;!(_iteratorNormalCompletion50=(_step50=_iterator50.next()).done);_iteratorNormalCompletion50=true){var _t33=_step50.value;if(_t33.offset-=s,_t33.offset==e||_t33.offset==n)continue;this.mergeAttributes(_t33).isEqual(_t33)||(s++,n--);}}catch(err){_didIteratorError50=true;_iteratorError50=err;}finally{try{if(!_iteratorNormalCompletion50&&_iterator50.return){_iterator50.return();}}finally{if(_didIteratorError50){throw _iteratorError50;}}}return Gi._createFromParentsAndOffsets(t,e,t,n);}},{key:'_wrapRange',value:function _wrapRange(t,e){if(function(t){return t.start.parent==t.end.parent&&t.start.parent.is("attributeElement")&&0===t.start.offset&&t.end.offset===t.start.parent.childCount;}(t)&&this._wrapAttributeElement(e,t.start.parent)){var _e29=t.start.parent,_n28=this.mergeAttributes($i._createAfter(_e29)),_i5=this.mergeAttributes($i._createBefore(_e29));return new Gi(_i5,_n28);}var _breakAttributesRange4=this._breakAttributesRange(t,!0),n=_breakAttributesRange4.start,i=_breakAttributesRange4.end;if(i.isEqual(n.getShiftedBy(1))){var _t34=n.nodeAfter;if(_t34 instanceof no&&this._wrapAttributeElement(e,_t34)){var _t35=this.mergeAttributes(n);_t35.isEqual(n)||i.offset--;var _e30=this.mergeAttributes(i);return new Gi(_t35,_e30);}}var o=n.parent,r=this._unwrapChildren(o,n.offset,i.offset,e),s=this._wrapChildren(o,r.start.offset,r.end.offset,e),a=this.mergeAttributes(s.start);a.isEqual(s.start)||s.end.offset--;var c=this.mergeAttributes(s.end);return new Gi(a,c);}},{key:'_wrapPosition',value:function _wrapPosition(t,e){if(e.isSimilar(t.parent))return xo(t.clone());t.parent.is("text")&&(t=Ao(t));var n=this.createAttributeElement();n._priority=Number.POSITIVE_INFINITY,n.isSimilar=function(){return!1;},t.parent._insertChild(t.offset,n);var i=new Gi(t,t.getShiftedBy(1));this.wrap(i,e);var o=new $i(n.parent,n.index);n._remove();var r=o.nodeBefore,s=o.nodeAfter;return r instanceof ci&&s instanceof ci?Co(r,s):xo(o);}},{key:'_wrapAttributeElement',value:function _wrapAttributeElement(t,e){if(!So(t,e))return!1;if(t.name!==e.name||t.priority!==e.priority)return!1;var _iteratorNormalCompletion51=true;var _didIteratorError51=false;var _iteratorError51=undefined;try{for(var _iterator51=t.getAttributeKeys()[Symbol.iterator](),_step51;!(_iteratorNormalCompletion51=(_step51=_iterator51.next()).done);_iteratorNormalCompletion51=true){var n=_step51.value;if("class"!==n&&"style"!==n&&e.hasAttribute(n)&&e.getAttribute(n)!==t.getAttribute(n))return!1;}}catch(err){_didIteratorError51=true;_iteratorError51=err;}finally{try{if(!_iteratorNormalCompletion51&&_iterator51.return){_iterator51.return();}}finally{if(_didIteratorError51){throw _iteratorError51;}}}var _iteratorNormalCompletion52=true;var _didIteratorError52=false;var _iteratorError52=undefined;try{for(var _iterator52=t.getStyleNames()[Symbol.iterator](),_step52;!(_iteratorNormalCompletion52=(_step52=_iterator52.next()).done);_iteratorNormalCompletion52=true){var _n29=_step52.value;if(e.hasStyle(_n29)&&e.getStyle(_n29)!==t.getStyle(_n29))return!1;}}catch(err){_didIteratorError52=true;_iteratorError52=err;}finally{try{if(!_iteratorNormalCompletion52&&_iterator52.return){_iterator52.return();}}finally{if(_didIteratorError52){throw _iteratorError52;}}}var _iteratorNormalCompletion53=true;var _didIteratorError53=false;var _iteratorError53=undefined;try{for(var _iterator53=t.getAttributeKeys()[Symbol.iterator](),_step53;!(_iteratorNormalCompletion53=(_step53=_iterator53.next()).done);_iteratorNormalCompletion53=true){var _n30=_step53.value;"class"!==_n30&&"style"!==_n30&&(e.hasAttribute(_n30)||this.setAttribute(_n30,t.getAttribute(_n30),e));}}catch(err){_didIteratorError53=true;_iteratorError53=err;}finally{try{if(!_iteratorNormalCompletion53&&_iterator53.return){_iterator53.return();}}finally{if(_didIteratorError53){throw _iteratorError53;}}}var _iteratorNormalCompletion54=true;var _didIteratorError54=false;var _iteratorError54=undefined;try{for(var _iterator54=t.getStyleNames()[Symbol.iterator](),_step54;!(_iteratorNormalCompletion54=(_step54=_iterator54.next()).done);_iteratorNormalCompletion54=true){var _n31=_step54.value;e.hasStyle(_n31)||this.setStyle(_n31,t.getStyle(_n31),e);}}catch(err){_didIteratorError54=true;_iteratorError54=err;}finally{try{if(!_iteratorNormalCompletion54&&_iterator54.return){_iterator54.return();}}finally{if(_didIteratorError54){throw _iteratorError54;}}}var _iteratorNormalCompletion55=true;var _didIteratorError55=false;var _iteratorError55=undefined;try{for(var _iterator55=t.getClassNames()[Symbol.iterator](),_step55;!(_iteratorNormalCompletion55=(_step55=_iterator55.next()).done);_iteratorNormalCompletion55=true){var _n32=_step55.value;e.hasClass(_n32)||this.addClass(_n32,e);}}catch(err){_didIteratorError55=true;_iteratorError55=err;}finally{try{if(!_iteratorNormalCompletion55&&_iterator55.return){_iterator55.return();}}finally{if(_didIteratorError55){throw _iteratorError55;}}}return!0;}},{key:'_unwrapAttributeElement',value:function _unwrapAttributeElement(t,e){if(!So(t,e))return!1;if(t.name!==e.name||t.priority!==e.priority)return!1;var _iteratorNormalCompletion56=true;var _didIteratorError56=false;var _iteratorError56=undefined;try{for(var _iterator56=t.getAttributeKeys()[Symbol.iterator](),_step56;!(_iteratorNormalCompletion56=(_step56=_iterator56.next()).done);_iteratorNormalCompletion56=true){var n=_step56.value;if("class"!==n&&"style"!==n&&(!e.hasAttribute(n)||e.getAttribute(n)!==t.getAttribute(n)))return!1;}}catch(err){_didIteratorError56=true;_iteratorError56=err;}finally{try{if(!_iteratorNormalCompletion56&&_iterator56.return){_iterator56.return();}}finally{if(_didIteratorError56){throw _iteratorError56;}}}if(!e.hasClass.apply(e,_toConsumableArray(t.getClassNames())))return!1;var _iteratorNormalCompletion57=true;var _didIteratorError57=false;var _iteratorError57=undefined;try{for(var _iterator57=t.getStyleNames()[Symbol.iterator](),_step57;!(_iteratorNormalCompletion57=(_step57=_iterator57.next()).done);_iteratorNormalCompletion57=true){var _n33=_step57.value;if(!e.hasStyle(_n33)||e.getStyle(_n33)!==t.getStyle(_n33))return!1;}}catch(err){_didIteratorError57=true;_iteratorError57=err;}finally{try{if(!_iteratorNormalCompletion57&&_iterator57.return){_iterator57.return();}}finally{if(_didIteratorError57){throw _iteratorError57;}}}var _iteratorNormalCompletion58=true;var _didIteratorError58=false;var _iteratorError58=undefined;try{for(var _iterator58=t.getAttributeKeys()[Symbol.iterator](),_step58;!(_iteratorNormalCompletion58=(_step58=_iterator58.next()).done);_iteratorNormalCompletion58=true){var _n34=_step58.value;"class"!==_n34&&"style"!==_n34&&this.removeAttribute(_n34,e);}}catch(err){_didIteratorError58=true;_iteratorError58=err;}finally{try{if(!_iteratorNormalCompletion58&&_iterator58.return){_iterator58.return();}}finally{if(_didIteratorError58){throw _iteratorError58;}}}return this.removeClass(Array.from(t.getClassNames()),e),this.removeStyle(Array.from(t.getStyleNames()),e),!0;}},{key:'_breakAttributesRange',value:function _breakAttributesRange(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:!1;var n=t.start,i=t.end;if(Mo(t),t.isCollapsed){var _n35=this._breakAttributes(t.start,e);return new Gi(_n35,_n35);}var o=this._breakAttributes(i,e),r=o.parent.childCount,s=this._breakAttributes(n,e);return o.offset+=o.parent.childCount-r,new Gi(s,o);}},{key:'_breakAttributes',value:function _breakAttributes(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:!1;var n=t.offset,i=t.parent;if(t.parent.is("emptyElement"))throw new P.b("view-writer-cannot-break-empty-element");if(t.parent.is("uiElement"))throw new P.b("view-writer-cannot-break-ui-element");if(!e&&i.is("text")&&Po(i.parent))return t.clone();if(Po(i))return t.clone();if(i.is("text"))return this._breakAttributes(Ao(t),e);if(n==i.childCount){var _t36=new $i(i.parent,i.index+1);return this._breakAttributes(_t36,e);}if(0===n){var _t37=new $i(i.parent,i.index);return this._breakAttributes(_t37,e);}{var _t38=i.index+1,_o16=i._clone();i.parent._insertChild(_t38,_o16),this._addToClonedElementsGroup(_o16);var _r4=i.childCount-n,_s6=i._removeChildren(n,_r4);_o16._appendChild(_s6);var _a5=new $i(i.parent,_t38);return this._breakAttributes(_a5,e);}}},{key:'_addToClonedElementsGroup',value:function _addToClonedElementsGroup(t){if(!t.root.is("rootElement"))return;if(t.is("element")){var _iteratorNormalCompletion59=true;var _didIteratorError59=false;var _iteratorError59=undefined;try{for(var _iterator59=t.getChildren()[Symbol.iterator](),_step59;!(_iteratorNormalCompletion59=(_step59=_iterator59.next()).done);_iteratorNormalCompletion59=true){var _e31=_step59.value;this._addToClonedElementsGroup(_e31);}}catch(err){_didIteratorError59=true;_iteratorError59=err;}finally{try{if(!_iteratorNormalCompletion59&&_iterator59.return){_iterator59.return();}}finally{if(_didIteratorError59){throw _iteratorError59;}}}}var e=t.id;if(!e)return;var n=this._cloneGroups.get(e);n||(n=new Set(),this._cloneGroups.set(e,n)),n.add(t),t._clonesGroup=n;}},{key:'_removeFromClonedElementsGroup',value:function _removeFromClonedElementsGroup(t){if(t.is("element")){var _iteratorNormalCompletion60=true;var _didIteratorError60=false;var _iteratorError60=undefined;try{for(var _iterator60=t.getChildren()[Symbol.iterator](),_step60;!(_iteratorNormalCompletion60=(_step60=_iterator60.next()).done);_iteratorNormalCompletion60=true){var _e32=_step60.value;this._removeFromClonedElementsGroup(_e32);}}catch(err){_didIteratorError60=true;_iteratorError60=err;}finally{try{if(!_iteratorNormalCompletion60&&_iterator60.return){_iterator60.return();}}finally{if(_didIteratorError60){throw _iteratorError60;}}}}var e=t.id;if(!e)return;var n=this._cloneGroups.get(e);n&&n.delete(t);}}]);return ko;}();function vo(t){var e=t.parent;for(;!Po(e);){if(!e)return;e=e.parent;}return e;}function yo(t,e){return t.priority<e.priority||!(t.priority>e.priority)&&t.getIdentity()<e.getIdentity();}function xo(t){var e=t.nodeBefore;if(e&&e.is("text"))return new $i(e,e.data.length);var n=t.nodeAfter;return n&&n.is("text")?new $i(n,0):t;}function Ao(t){if(t.offset==t.parent.data.length)return new $i(t.parent.parent,t.parent.index+1);if(0===t.offset)return new $i(t.parent.parent,t.parent.index);var e=t.parent.data.slice(t.offset);return t.parent._data=t.parent.data.slice(0,t.offset),t.parent.parent._insertChild(t.parent.index+1,new ci(e)),new $i(t.parent.parent,t.parent.index+1);}function Co(t,e){var n=t.data.length;return t._data+=e.data,e._remove(),new $i(t,n);}var To=[ci,no,bi,ro,go];function Po(t){return t&&(t.is("containerElement")||t.is("documentFragment"));}function Mo(t){var e=vo(t.start),n=vo(t.end);if(!e||!n||e!==n)throw new P.b("view-writer-invalid-range-container");}function So(t,e){return null===t.id&&null===e.id;}function Io(t){return"[object Text]"==Object.prototype.toString.call(t);}var Eo=function Eo(t){var e=t.createElement("br");return e.dataset.ckeFiller=!0,e;},No=function No(t){return t.createTextNode(" ");},Oo=7;var Ro="";for(var t=0;t<Oo;t++){Ro+="​";}function Do(t){return Io(t)&&t.data.substr(0,Oo)===Ro;}function Lo(t){return t.data.length==Oo&&Do(t);}function jo(t){return Do(t)?t.data.slice(Oo):t.data;}var Vo=new WeakMap();function zo(t,e){var n=Vo.get(e);return n||(n=e(window.document),Vo.set(e,n)),t.isEqualNode(n);}function Bo(t,e){if(e.keyCode==ho.arrowleft){var _t39=e.domTarget.ownerDocument.defaultView.getSelection();if(1==_t39.rangeCount&&_t39.getRangeAt(0).collapsed){var _e33=_t39.getRangeAt(0).startContainer,n=_t39.getRangeAt(0).startOffset;Do(_e33)&&n<=Oo&&_t39.collapse(_e33,0);}}}function Fo(t,e,n){var i=void 0,o=void 0;if(n=n||function(t,e){return t===e;},e.length<t.length){var _n36=t;t=e,e=_n36,i="delete",o="insert";}else i="insert",o="delete";var r=t.length,s=e.length,a=s-r,c={},l={};function d(a){var d=(void 0!==l[a-1]?l[a-1]:-1)+1,u=void 0!==l[a+1]?l[a+1]:-1,h=d>u?-1:1;c[a+h]&&(c[a]=c[a+h].slice(0)),c[a]||(c[a]=[]),c[a].push(d>u?i:o);var f=Math.max(d,u),m=f-a;for(;m<r&&f<s&&n(t[m],e[f]);){m++,f++,c[a].push("equal");}return f;}var u=void 0,h=0;do{for(u=-h;u<a;u++){l[u]=d(u);}for(u=a+h;u>a;u--){l[u]=d(u);}l[a]=d(a),h++;}while(l[a]!==s);return c[a].slice(1);}function Uo(t,e,n){t.insertBefore(n,t.childNodes[e]||null);}function Ho(t){var e=t.parentNode;e&&e.removeChild(t);}function qo(t){if(t){if(t.defaultView)return t instanceof t.defaultView.Document;if(t.ownerDocument&&t.ownerDocument.defaultView)return t instanceof t.ownerDocument.defaultView.Node;}return!1;}function Wo(t,e){if(t===e)return[];return function(t,e){var n=[],i=e.firstIndex,o=e.lastIndexOld,r=e.lastIndexNew;r-i>0&&n.push({index:i,type:"insert",values:t.substring(i,r).split("")});o-i>0&&n.push({index:i+(r-i),type:"delete",howMany:o-i});return n;}(e,function(t,e){var n=Yo(t,e),i=$o(t,n),o=$o(e,n),r=Yo(i,o),s=t.length-r,a=e.length-r;return{firstIndex:n,lastIndexOld:s,lastIndexNew:a};}(t,e));}function Yo(t,e){for(var n=0;n<Math.max(t.length,e.length);n++){if(t[n]!==e[n])return n;}}function $o(t,e){return t.substring(e).split("").reverse().join("");}var Go=function(){function Go(t,e){_classCallCheck(this,Go);this.domDocuments=new Set(),this.domConverter=t,this.markedAttributes=new Set(),this.markedChildren=new Set(),this.markedTexts=new Set(),this.selection=e,this.isFocused=!1,this._inlineFiller=null,this._fakeSelectionContainer=null;}_createClass(Go,[{key:'markToSync',value:function markToSync(t,e){if("text"===t)this.domConverter.mapViewToDom(e.parent)&&this.markedTexts.add(e);else{if(!this.domConverter.mapViewToDom(e))return;if("attributes"===t)this.markedAttributes.add(e);else{if("children"!==t)throw new P.b("view-renderer-unknown-type: Unknown type passed to Renderer.markToSync.");this.markedChildren.add(e);}}}},{key:'render',value:function render(){var t=void 0;var _iteratorNormalCompletion61=true;var _didIteratorError61=false;var _iteratorError61=undefined;try{for(var _iterator61=this.markedChildren[Symbol.iterator](),_step61;!(_iteratorNormalCompletion61=(_step61=_iterator61.next()).done);_iteratorNormalCompletion61=true){var _t40=_step61.value;this._updateChildrenMappings(_t40);}}catch(err){_didIteratorError61=true;_iteratorError61=err;}finally{try{if(!_iteratorNormalCompletion61&&_iterator61.return){_iterator61.return();}}finally{if(_didIteratorError61){throw _iteratorError61;}}}this._inlineFiller&&!this._isSelectionInInlineFiller()&&this._removeInlineFiller(),this._inlineFiller?t=this._getInlineFillerPosition():this._needsInlineFillerAtSelection()&&(t=this.selection.getFirstPosition(),this.markedChildren.add(t.parent));var _iteratorNormalCompletion62=true;var _didIteratorError62=false;var _iteratorError62=undefined;try{for(var _iterator62=this.markedAttributes[Symbol.iterator](),_step62;!(_iteratorNormalCompletion62=(_step62=_iterator62.next()).done);_iteratorNormalCompletion62=true){var _t41=_step62.value;this._updateAttrs(_t41);}}catch(err){_didIteratorError62=true;_iteratorError62=err;}finally{try{if(!_iteratorNormalCompletion62&&_iterator62.return){_iterator62.return();}}finally{if(_didIteratorError62){throw _iteratorError62;}}}var _iteratorNormalCompletion63=true;var _didIteratorError63=false;var _iteratorError63=undefined;try{for(var _iterator63=this.markedChildren[Symbol.iterator](),_step63;!(_iteratorNormalCompletion63=(_step63=_iterator63.next()).done);_iteratorNormalCompletion63=true){var e=_step63.value;this._updateChildren(e,{inlineFillerPosition:t});}}catch(err){_didIteratorError63=true;_iteratorError63=err;}finally{try{if(!_iteratorNormalCompletion63&&_iterator63.return){_iterator63.return();}}finally{if(_didIteratorError63){throw _iteratorError63;}}}var _iteratorNormalCompletion64=true;var _didIteratorError64=false;var _iteratorError64=undefined;try{for(var _iterator64=this.markedTexts[Symbol.iterator](),_step64;!(_iteratorNormalCompletion64=(_step64=_iterator64.next()).done);_iteratorNormalCompletion64=true){var _e34=_step64.value;!this.markedChildren.has(_e34.parent)&&this.domConverter.mapViewToDom(_e34.parent)&&this._updateText(_e34,{inlineFillerPosition:t});}}catch(err){_didIteratorError64=true;_iteratorError64=err;}finally{try{if(!_iteratorNormalCompletion64&&_iterator64.return){_iterator64.return();}}finally{if(_didIteratorError64){throw _iteratorError64;}}}if(t){var _e35=this.domConverter.viewPositionToDom(t),n=_e35.parent.ownerDocument;Do(_e35.parent)?this._inlineFiller=_e35.parent:this._inlineFiller=Qo(n,_e35.parent,_e35.offset);}else this._inlineFiller=null;this._updateSelection(),this._updateFocus(),this.markedTexts.clear(),this.markedAttributes.clear(),this.markedChildren.clear();}},{key:'_updateChildrenMappings',value:function _updateChildrenMappings(t){var e=this.domConverter.mapViewToDom(t);if(!e)return;var n=this.domConverter.mapViewToDom(t).childNodes,i=Array.from(this.domConverter.viewChildrenToDom(t,e.ownerDocument,{withChildren:!1})),o=this._diffNodeLists(n,i),r=this._findReplaceActions(o,n,i);if(-1!==r.indexOf("replace")){var _e36={equal:0,insert:0,delete:0};var _iteratorNormalCompletion65=true;var _didIteratorError65=false;var _iteratorError65=undefined;try{for(var _iterator65=r[Symbol.iterator](),_step65;!(_iteratorNormalCompletion65=(_step65=_iterator65.next()).done);_iteratorNormalCompletion65=true){var _o17=_step65.value;if("replace"===_o17){var _o18=_e36.equal+_e36.insert,_r5=_e36.equal+_e36.delete,_s7=t.getChild(_o18);_s7&&!_s7.is("uiElement")&&this._updateElementMappings(_s7,n[_r5]),Ho(i[_o18]),_e36.equal++;}else _e36[_o17]++;}}catch(err){_didIteratorError65=true;_iteratorError65=err;}finally{try{if(!_iteratorNormalCompletion65&&_iterator65.return){_iterator65.return();}}finally{if(_didIteratorError65){throw _iteratorError65;}}}}}},{key:'_updateElementMappings',value:function _updateElementMappings(t,e){this.domConverter.unbindDomElement(e),this.domConverter.bindElements(e,t),this.markedChildren.add(t),this.markedAttributes.add(t);}},{key:'_getInlineFillerPosition',value:function _getInlineFillerPosition(){var t=this.selection.getFirstPosition();return t.parent.is("text")?$i._createBefore(this.selection.getFirstPosition().parent):t;}},{key:'_isSelectionInInlineFiller',value:function _isSelectionInInlineFiller(){if(1!=this.selection.rangeCount||!this.selection.isCollapsed)return!1;var t=this.selection.getFirstPosition(),e=this.domConverter.viewPositionToDom(t);return!!(e&&Io(e.parent)&&Do(e.parent));}},{key:'_removeInlineFiller',value:function _removeInlineFiller(){var t=this._inlineFiller;if(!Do(t))throw new P.b("view-renderer-filler-was-lost: The inline filler node was lost.");Lo(t)?t.parentNode.removeChild(t):t.data=t.data.substr(Oo),this._inlineFiller=null;}},{key:'_needsInlineFillerAtSelection',value:function _needsInlineFillerAtSelection(){if(1!=this.selection.rangeCount||!this.selection.isCollapsed)return!1;var t=this.selection.getFirstPosition(),e=t.parent,n=t.offset;if(!this.domConverter.mapViewToDom(e.root))return!1;if(!e.is("element"))return!1;if(!function(t){if("false"==t.getAttribute("contenteditable"))return!1;var e=t.findAncestor(function(t){return t.hasAttribute("contenteditable");});return!e||"true"==e.getAttribute("contenteditable");}(e))return!1;if(n===e.getFillerOffset())return!1;var i=t.nodeBefore,o=t.nodeAfter;return!(i instanceof ci||o instanceof ci);}},{key:'_updateText',value:function _updateText(t,e){var n=this.domConverter.findCorrespondingDomText(t),i=this.domConverter.viewToDom(t,n.ownerDocument),o=n.data;var r=i.data;var s=e.inlineFillerPosition;if(s&&s.parent==t.parent&&s.offset==t.index&&(r=Ro+r),o!=r){var _t42=Wo(o,r);var _iteratorNormalCompletion66=true;var _didIteratorError66=false;var _iteratorError66=undefined;try{for(var _iterator66=_t42[Symbol.iterator](),_step66;!(_iteratorNormalCompletion66=(_step66=_iterator66.next()).done);_iteratorNormalCompletion66=true){var _e37=_step66.value;"insert"===_e37.type?n.insertData(_e37.index,_e37.values.join("")):n.deleteData(_e37.index,_e37.howMany);}}catch(err){_didIteratorError66=true;_iteratorError66=err;}finally{try{if(!_iteratorNormalCompletion66&&_iterator66.return){_iterator66.return();}}finally{if(_didIteratorError66){throw _iteratorError66;}}}}}},{key:'_updateAttrs',value:function _updateAttrs(t){var e=this.domConverter.mapViewToDom(t);if(!e)return;var n=Array.from(e.attributes).map(function(t){return t.name;}),i=t.getAttributeKeys();var _iteratorNormalCompletion67=true;var _didIteratorError67=false;var _iteratorError67=undefined;try{for(var _iterator67=i[Symbol.iterator](),_step67;!(_iteratorNormalCompletion67=(_step67=_iterator67.next()).done);_iteratorNormalCompletion67=true){var _n37=_step67.value;e.setAttribute(_n37,t.getAttribute(_n37));}}catch(err){_didIteratorError67=true;_iteratorError67=err;}finally{try{if(!_iteratorNormalCompletion67&&_iterator67.return){_iterator67.return();}}finally{if(_didIteratorError67){throw _iteratorError67;}}}var _iteratorNormalCompletion68=true;var _didIteratorError68=false;var _iteratorError68=undefined;try{for(var _iterator68=n[Symbol.iterator](),_step68;!(_iteratorNormalCompletion68=(_step68=_iterator68.next()).done);_iteratorNormalCompletion68=true){var _i6=_step68.value;t.hasAttribute(_i6)||e.removeAttribute(_i6);}}catch(err){_didIteratorError68=true;_iteratorError68=err;}finally{try{if(!_iteratorNormalCompletion68&&_iterator68.return){_iterator68.return();}}finally{if(_didIteratorError68){throw _iteratorError68;}}}}},{key:'_updateChildren',value:function _updateChildren(t,e){var n=this.domConverter.mapViewToDom(t);if(!n)return;var i=e.inlineFillerPosition,o=this.domConverter.mapViewToDom(t).childNodes,r=Array.from(this.domConverter.viewChildrenToDom(t,n.ownerDocument,{bind:!0,inlineFillerPosition:i}));i&&i.parent===t&&Qo(n.ownerDocument,r,i.offset);var s=this._diffNodeLists(o,r);var a=0;var c=new Set();var _iteratorNormalCompletion69=true;var _didIteratorError69=false;var _iteratorError69=undefined;try{for(var _iterator69=s[Symbol.iterator](),_step69;!(_iteratorNormalCompletion69=(_step69=_iterator69.next()).done);_iteratorNormalCompletion69=true){var _t43=_step69.value;"insert"===_t43?(Uo(n,a,r[a]),a++):"delete"===_t43?(c.add(o[a]),Ho(o[a])):(this._markDescendantTextToSync(this.domConverter.domToView(r[a])),a++);}}catch(err){_didIteratorError69=true;_iteratorError69=err;}finally{try{if(!_iteratorNormalCompletion69&&_iterator69.return){_iterator69.return();}}finally{if(_didIteratorError69){throw _iteratorError69;}}}var _iteratorNormalCompletion70=true;var _didIteratorError70=false;var _iteratorError70=undefined;try{for(var _iterator70=c[Symbol.iterator](),_step70;!(_iteratorNormalCompletion70=(_step70=_iterator70.next()).done);_iteratorNormalCompletion70=true){var _t44=_step70.value;_t44.parentNode||this.domConverter.unbindDomElement(_t44);}}catch(err){_didIteratorError70=true;_iteratorError70=err;}finally{try{if(!_iteratorNormalCompletion70&&_iterator70.return){_iterator70.return();}}finally{if(_didIteratorError70){throw _iteratorError70;}}}}},{key:'_diffNodeLists',value:function _diffNodeLists(t,e){return Fo(t,e,function(t,e,n){if(e===n)return!0;if(Io(e)&&Io(n))return e.data===n.data;if(zo(e,t)&&zo(n,t))return!0;return!1;}.bind(null,this.domConverter.blockFiller));}},{key:'_findReplaceActions',value:function _findReplaceActions(t,e,n){if(-1===t.indexOf("insert")||-1===t.indexOf("delete"))return t;var i=[],o=[],r=[];var s={equal:0,insert:0,delete:0};var _iteratorNormalCompletion71=true;var _didIteratorError71=false;var _iteratorError71=undefined;try{for(var _iterator71=t[Symbol.iterator](),_step71;!(_iteratorNormalCompletion71=(_step71=_iterator71.next()).done);_iteratorNormalCompletion71=true){var _a6=_step71.value;"insert"===_a6?r.push(n[s.equal+s.insert]):"delete"===_a6?o.push(e[s.equal+s.delete]):((i=i.concat(Fo(o,r,Jo).map(function(t){return"equal"===t?"replace":t;}))).push("equal"),o=[],r=[]),s[_a6]++;}}catch(err){_didIteratorError71=true;_iteratorError71=err;}finally{try{if(!_iteratorNormalCompletion71&&_iterator71.return){_iterator71.return();}}finally{if(_didIteratorError71){throw _iteratorError71;}}}return i.concat(Fo(o,r,Jo).map(function(t){return"equal"===t?"replace":t;}));}},{key:'_markDescendantTextToSync',value:function _markDescendantTextToSync(t){if(t)if(t.is("text"))this.markedTexts.add(t);else if(t.is("element")){var _iteratorNormalCompletion72=true;var _didIteratorError72=false;var _iteratorError72=undefined;try{for(var _iterator72=t.getChildren()[Symbol.iterator](),_step72;!(_iteratorNormalCompletion72=(_step72=_iterator72.next()).done);_iteratorNormalCompletion72=true){var e=_step72.value;this._markDescendantTextToSync(e);}}catch(err){_didIteratorError72=true;_iteratorError72=err;}finally{try{if(!_iteratorNormalCompletion72&&_iterator72.return){_iterator72.return();}}finally{if(_didIteratorError72){throw _iteratorError72;}}}}}},{key:'_updateSelection',value:function _updateSelection(){if(0===this.selection.rangeCount)return this._removeDomSelection(),void this._removeFakeSelection();var t=this.domConverter.mapViewToDom(this.selection.editableElement);this.isFocused&&t&&(this.selection.isFake?this._updateFakeSelection(t):(this._removeFakeSelection(),this._updateDomSelection(t)));}},{key:'_updateFakeSelection',value:function _updateFakeSelection(t){var e=t.ownerDocument;var n=this._fakeSelectionContainer;n||(this._fakeSelectionContainer=n=e.createElement("div"),Object.assign(n.style,{position:"fixed",top:0,left:"-9999px",width:"42px"}),n.appendChild(e.createTextNode(" "))),n.parentElement||t.appendChild(n),n.firstChild.data=this.selection.fakeSelectionLabel||" ";var i=e.getSelection(),o=e.createRange();i.removeAllRanges(),o.selectNodeContents(n),i.addRange(o),this.domConverter.bindFakeSelection(n,this.selection);}},{key:'_updateDomSelection',value:function _updateDomSelection(t){var e=t.ownerDocument.defaultView.getSelection();if(!this._domSelectionNeedsUpdate(e))return;var n=this.domConverter.viewPositionToDom(this.selection.anchor),i=this.domConverter.viewPositionToDom(this.selection.focus);t.focus(),e.collapse(n.parent,n.offset),e.extend(i.parent,i.offset),co.isGecko&&function(t,e){var n=t.parent;if(n.nodeType!=Node.ELEMENT_NODE||t.offset!=n.childNodes.length-1)return;var i=n.childNodes[t.offset];i&&"BR"==i.tagName&&e.addRange(e.getRangeAt(0));}(i,e);}},{key:'_domSelectionNeedsUpdate',value:function _domSelectionNeedsUpdate(t){if(!this.domConverter.isDomSelectionCorrect(t))return!0;var e=t&&this.domConverter.domSelectionToView(t);return(!e||!this.selection.isEqual(e))&&!(!this.selection.isCollapsed&&this.selection.isSimilar(e));}},{key:'_removeDomSelection',value:function _removeDomSelection(){var _iteratorNormalCompletion73=true;var _didIteratorError73=false;var _iteratorError73=undefined;try{for(var _iterator73=this.domDocuments[Symbol.iterator](),_step73;!(_iteratorNormalCompletion73=(_step73=_iterator73.next()).done);_iteratorNormalCompletion73=true){var _t45=_step73.value;if(_t45.getSelection().rangeCount){var e=_t45.activeElement,n=this.domConverter.mapDomToView(e);e&&n&&_t45.getSelection().removeAllRanges();}}}catch(err){_didIteratorError73=true;_iteratorError73=err;}finally{try{if(!_iteratorNormalCompletion73&&_iterator73.return){_iterator73.return();}}finally{if(_didIteratorError73){throw _iteratorError73;}}}}},{key:'_removeFakeSelection',value:function _removeFakeSelection(){var t=this._fakeSelectionContainer;t&&t.remove();}},{key:'_updateFocus',value:function _updateFocus(){if(this.isFocused){var _t46=this.selection.editableElement;_t46&&this.domConverter.focus(_t46);}}}]);return Go;}();function Qo(t,e,n){var i=e instanceof Array?e:e.childNodes,o=i[n];if(Io(o))return o.data=Ro+o.data,o;{var _o19=t.createTextNode(Ro);return Array.isArray(e)?i.splice(n,0,_o19):Uo(e,n,_o19),_o19;}}function Jo(t,e){return qo(t)&&qo(e)&&!Io(t)&&!Io(e)&&t.tagName.toLowerCase()===e.tagName.toLowerCase();}F(Go,Li);var Ko={window:window,document:document};function Zo(t){var e=0;for(;t.previousSibling;){t=t.previousSibling,e++;}return e;}function Xo(t){var e=[];for(;t&&t.nodeType!=Node.DOCUMENT_NODE;){e.unshift(t),t=t.parentNode;}return e;}var tr=function tr(t){return w(t)&&1===t.nodeType&&!C(t);};var er=function(){function er(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};_classCallCheck(this,er);this.blockFiller=t.blockFiller||Eo,this.preElements=["pre"],this.blockElements=["p","div","h1","h2","h3","h4","h5","h6"],this._domToViewMapping=new WeakMap(),this._viewToDomMapping=new WeakMap(),this._fakeSelectionMapping=new WeakMap();}_createClass(er,[{key:'bindFakeSelection',value:function bindFakeSelection(t,e){this._fakeSelectionMapping.set(t,new Ki(e));}},{key:'fakeSelectionToView',value:function fakeSelectionToView(t){return this._fakeSelectionMapping.get(t);}},{key:'bindElements',value:function bindElements(t,e){this._domToViewMapping.set(t,e),this._viewToDomMapping.set(e,t);}},{key:'unbindDomElement',value:function unbindDomElement(t){var e=this._domToViewMapping.get(t);if(e){this._domToViewMapping.delete(t),this._viewToDomMapping.delete(e);var _iteratorNormalCompletion74=true;var _didIteratorError74=false;var _iteratorError74=undefined;try{for(var _iterator74=Array.from(t.childNodes)[Symbol.iterator](),_step74;!(_iteratorNormalCompletion74=(_step74=_iterator74.next()).done);_iteratorNormalCompletion74=true){var _e38=_step74.value;this.unbindDomElement(_e38);}}catch(err){_didIteratorError74=true;_iteratorError74=err;}finally{try{if(!_iteratorNormalCompletion74&&_iterator74.return){_iterator74.return();}}finally{if(_didIteratorError74){throw _iteratorError74;}}}}}},{key:'bindDocumentFragments',value:function bindDocumentFragments(t,e){this._domToViewMapping.set(t,e),this._viewToDomMapping.set(e,t);}},{key:'viewToDom',value:function viewToDom(t,e){var n=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{};if(t.is("text")){var _n38=this._processDataFromViewText(t);return e.createTextNode(_n38);}{if(this.mapViewToDom(t))return this.mapViewToDom(t);var i=void 0;if(t.is("documentFragment"))i=e.createDocumentFragment(),n.bind&&this.bindDocumentFragments(i,t);else{if(t.is("uiElement"))return i=t.render(e),n.bind&&this.bindElements(i,t),i;i=e.createElement(t.name),n.bind&&this.bindElements(i,t);var _iteratorNormalCompletion75=true;var _didIteratorError75=false;var _iteratorError75=undefined;try{for(var _iterator75=t.getAttributeKeys()[Symbol.iterator](),_step75;!(_iteratorNormalCompletion75=(_step75=_iterator75.next()).done);_iteratorNormalCompletion75=true){var _e39=_step75.value;i.setAttribute(_e39,t.getAttribute(_e39));}}catch(err){_didIteratorError75=true;_iteratorError75=err;}finally{try{if(!_iteratorNormalCompletion75&&_iterator75.return){_iterator75.return();}}finally{if(_didIteratorError75){throw _iteratorError75;}}}}if(n.withChildren||void 0===n.withChildren){var _iteratorNormalCompletion76=true;var _didIteratorError76=false;var _iteratorError76=undefined;try{for(var _iterator76=this.viewChildrenToDom(t,e,n)[Symbol.iterator](),_step76;!(_iteratorNormalCompletion76=(_step76=_iterator76.next()).done);_iteratorNormalCompletion76=true){var _o20=_step76.value;i.appendChild(_o20);}}catch(err){_didIteratorError76=true;_iteratorError76=err;}finally{try{if(!_iteratorNormalCompletion76&&_iterator76.return){_iterator76.return();}}finally{if(_didIteratorError76){throw _iteratorError76;}}}}return i;}}},{key:'viewChildrenToDom',value:/*#__PURE__*/regeneratorRuntime.mark(function viewChildrenToDom(t,e){var n=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{};var i,o,_iteratorNormalCompletion77,_didIteratorError77,_iteratorError77,_iterator77,_step77,_r6;return regeneratorRuntime.wrap(function viewChildrenToDom$(_context10){while(1){switch(_context10.prev=_context10.next){case 0:i=t.getFillerOffset&&t.getFillerOffset();o=0;_iteratorNormalCompletion77=true;_didIteratorError77=false;_iteratorError77=undefined;_context10.prev=5;_iterator77=t.getChildren()[Symbol.iterator]();case 7:if(_iteratorNormalCompletion77=(_step77=_iterator77.next()).done){_context10.next=19;break;}_r6=_step77.value;_context10.t0=i===o;if(!_context10.t0){_context10.next=13;break;}_context10.next=13;return this.blockFiller(e);case 13:_context10.next=15;return this.viewToDom(_r6,e,n);case 15:o++;case 16:_iteratorNormalCompletion77=true;_context10.next=7;break;case 19:_context10.next=25;break;case 21:_context10.prev=21;_context10.t1=_context10['catch'](5);_didIteratorError77=true;_iteratorError77=_context10.t1;case 25:_context10.prev=25;_context10.prev=26;if(!_iteratorNormalCompletion77&&_iterator77.return){_iterator77.return();}case 28:_context10.prev=28;if(!_didIteratorError77){_context10.next=31;break;}throw _iteratorError77;case 31:return _context10.finish(28);case 32:return _context10.finish(25);case 33:_context10.t2=i===o;if(!_context10.t2){_context10.next=37;break;}_context10.next=37;return this.blockFiller(e);case 37:case'end':return _context10.stop();}}},viewChildrenToDom,this,[[5,21,25,33],[26,,28,32]]);})},{key:'viewRangeToDom',value:function viewRangeToDom(t){var e=this.viewPositionToDom(t.start),n=this.viewPositionToDom(t.end),i=document.createRange();return i.setStart(e.parent,e.offset),i.setEnd(n.parent,n.offset),i;}},{key:'viewPositionToDom',value:function viewPositionToDom(t){var e=t.parent;if(e.is("text")){var n=this.findCorrespondingDomText(e);if(!n)return null;var i=t.offset;return Do(n)&&(i+=Oo),{parent:n,offset:i};}{var _n39=void 0,_i7=void 0,_o21=void 0;if(0===t.offset){if(!(_n39=this.mapViewToDom(e)))return null;_o21=_n39.childNodes[0];}else{var _e40=t.nodeBefore;if(!(_i7=_e40.is("text")?this.findCorrespondingDomText(_e40):this.mapViewToDom(t.nodeBefore)))return null;_n39=_i7.parentNode,_o21=_i7.nextSibling;}if(Io(_o21)&&Do(_o21))return{parent:_o21,offset:Oo};return{parent:_n39,offset:_i7?Zo(_i7)+1:0};}}},{key:'domToView',value:function domToView(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};if(zo(t,this.blockFiller))return null;var n=this.getParentUIElement(t,this._domToViewMapping);if(n)return n;if(Io(t)){if(Lo(t))return null;{var _e41=this._processDataFromDomText(t);return""===_e41?null:new ci(_e41);}}if(this.isComment(t))return null;{if(this.mapDomToView(t))return this.mapDomToView(t);var _n40=void 0;if(this.isDocumentFragment(t))_n40=new _o(),e.bind&&this.bindDocumentFragments(t,_n40);else{var i=e.keepOriginalCase?t.tagName:t.tagName.toLowerCase();_n40=new mi(i),e.bind&&this.bindElements(t,_n40);var _o22=t.attributes;for(var _t47=_o22.length-1;_t47>=0;_t47--){_n40._setAttribute(_o22[_t47].name,_o22[_t47].value);}}if(e.withChildren||void 0===e.withChildren){var _iteratorNormalCompletion78=true;var _didIteratorError78=false;var _iteratorError78=undefined;try{for(var _iterator78=this.domChildrenToView(t,e)[Symbol.iterator](),_step78;!(_iteratorNormalCompletion78=(_step78=_iterator78.next()).done);_iteratorNormalCompletion78=true){var _i8=_step78.value;_n40._appendChild(_i8);}}catch(err){_didIteratorError78=true;_iteratorError78=err;}finally{try{if(!_iteratorNormalCompletion78&&_iterator78.return){_iterator78.return();}}finally{if(_didIteratorError78){throw _iteratorError78;}}}}return _n40;}}},{key:'domChildrenToView',value:/*#__PURE__*/regeneratorRuntime.mark(function domChildrenToView(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};var n,i,_o23;return regeneratorRuntime.wrap(function domChildrenToView$(_context11){while(1){switch(_context11.prev=_context11.next){case 0:n=0;case 1:if(!(n<t.childNodes.length)){_context11.next=10;break;}i=t.childNodes[n],_o23=this.domToView(i,e);_context11.t0=null!==_o23;if(!_context11.t0){_context11.next=7;break;}_context11.next=7;return _o23;case 7:n++;_context11.next=1;break;case 10:case'end':return _context11.stop();}}},domChildrenToView,this);})},{key:'domSelectionToView',value:function domSelectionToView(t){if(1===t.rangeCount){var _e42=t.getRangeAt(0).startContainer;Io(_e42)&&(_e42=_e42.parentNode);var _n41=this.fakeSelectionToView(_e42);if(_n41)return _n41;}var e=this.isDomSelectionBackward(t),n=[];for(var _e43=0;_e43<t.rangeCount;_e43++){var i=t.getRangeAt(_e43),_o24=this.domRangeToView(i);_o24&&n.push(_o24);}return new Ki(n,{backward:e});}},{key:'domRangeToView',value:function domRangeToView(t){var e=this.domPositionToView(t.startContainer,t.startOffset),n=this.domPositionToView(t.endContainer,t.endOffset);return e&&n?new Gi(e,n):null;}},{key:'domPositionToView',value:function domPositionToView(t,e){if(zo(t,this.blockFiller))return this.domPositionToView(t.parentNode,Zo(t));var n=this.mapDomToView(t);if(n&&n.is("uiElement"))return $i._createBefore(n);if(Io(t)){if(Lo(t))return this.domPositionToView(t.parentNode,Zo(t));var _n42=this.findCorrespondingViewText(t);var i=e;return _n42?(Do(t)&&(i=(i-=Oo)<0?0:i),new $i(_n42,i)):null;}if(0===e){var _e44=this.mapDomToView(t);if(_e44)return new $i(_e44,0);}else{var _n43=t.childNodes[e-1],_i9=Io(_n43)?this.findCorrespondingViewText(_n43):this.mapDomToView(_n43);if(_i9&&_i9.parent)return new $i(_i9.parent,_i9.index+1);}return null;}},{key:'mapDomToView',value:function mapDomToView(t){return this.getParentUIElement(t)||this._domToViewMapping.get(t);}},{key:'findCorrespondingViewText',value:function findCorrespondingViewText(t){if(Lo(t))return null;var e=this.getParentUIElement(t);if(e)return e;var n=t.previousSibling;if(n){if(!this.isElement(n))return null;var _t48=this.mapDomToView(n);if(_t48){return _t48.nextSibling instanceof ci?_t48.nextSibling:null;}}else{var _e45=this.mapDomToView(t.parentNode);if(_e45){var _t49=_e45.getChild(0);return _t49 instanceof ci?_t49:null;}}return null;}},{key:'mapViewToDom',value:function mapViewToDom(t){return this._viewToDomMapping.get(t);}},{key:'findCorrespondingDomText',value:function findCorrespondingDomText(t){var e=t.previousSibling;return e&&this.mapViewToDom(e)?this.mapViewToDom(e).nextSibling:!e&&t.parent&&this.mapViewToDom(t.parent)?this.mapViewToDom(t.parent).childNodes[0]:null;}},{key:'focus',value:function focus(t){var e=this.mapViewToDom(t);if(e&&e.ownerDocument.activeElement!==e){var _Ko$window=Ko.window,_t50=_Ko$window.scrollX,n=_Ko$window.scrollY,i=[];ir(e,function(t){var e=t.scrollLeft,n=t.scrollTop;i.push([e,n]);}),e.focus(),ir(e,function(t){var _i$shift=i.shift(),_i$shift2=_slicedToArray(_i$shift,2),e=_i$shift2[0],n=_i$shift2[1];t.scrollLeft=e,t.scrollTop=n;}),Ko.window.scrollTo(_t50,n);}}},{key:'isElement',value:function isElement(t){return t&&t.nodeType==Node.ELEMENT_NODE;}},{key:'isDocumentFragment',value:function isDocumentFragment(t){return t&&t.nodeType==Node.DOCUMENT_FRAGMENT_NODE;}},{key:'isComment',value:function isComment(t){return t&&t.nodeType==Node.COMMENT_NODE;}},{key:'isDomSelectionBackward',value:function isDomSelectionBackward(t){if(t.isCollapsed)return!1;var e=document.createRange();e.setStart(t.anchorNode,t.anchorOffset),e.setEnd(t.focusNode,t.focusOffset);var n=e.collapsed;return e.detach(),n;}},{key:'getParentUIElement',value:function getParentUIElement(t){var e=Xo(t);for(e.pop();e.length;){var _t51=e.pop(),n=this._domToViewMapping.get(_t51);if(n&&n.is("uiElement"))return n;}return null;}},{key:'isDomSelectionCorrect',value:function isDomSelectionCorrect(t){return this._isDomSelectionPositionCorrect(t.anchorNode,t.anchorOffset)&&this._isDomSelectionPositionCorrect(t.focusNode,t.focusOffset);}},{key:'_isDomSelectionPositionCorrect',value:function _isDomSelectionPositionCorrect(t,e){if(Io(t)&&Do(t)&&e<Oo)return!1;if(this.isElement(t)&&Do(t.childNodes[e]))return!1;var n=this.mapDomToView(t);return!n||!n.is("uiElement");}},{key:'_processDataFromViewText',value:function _processDataFromViewText(t){var _this26=this;var e=t.data;if(t.getAncestors().some(function(t){return _this26.preElements.includes(t.name);}))return e;if(" "==e.charAt(0)){var n=this._getTouchingViewTextNode(t,!1);!(n&&this._nodeEndsWithSpace(n))&&n||(e=" "+e.substr(1));}if(" "==e.charAt(e.length-1)){this._getTouchingViewTextNode(t,!0)||(e=e.substr(0,e.length-1)+" ");}return e.replace(/ {2}/g,"  ");}},{key:'_nodeEndsWithSpace',value:function _nodeEndsWithSpace(t){var _this27=this;if(t.getAncestors().some(function(t){return _this27.preElements.includes(t.name);}))return!1;var e=this._processDataFromViewText(t);return" "==e.charAt(e.length-1);}},{key:'_processDataFromDomText',value:function _processDataFromDomText(t){var e=t.data;if(nr(t,this.preElements))return jo(t);e=e.replace(/[ \n\t\r]{1,}/g," ");var n=this._getTouchingInlineDomNode(t,!1),i=this._getTouchingInlineDomNode(t,!0),o=this._checkShouldLeftTrimDomText(n),r=this._checkShouldRightTrimDomText(t,i);return o&&(e=e.replace(/^ /,"")),r&&(e=e.replace(/ $/,"")),e=(e=jo(new Text(e))).replace(/ \u00A0/g,"  "),o&&(e=e.replace(/^\u00A0/," ")),Io(i)&&" "!=i.data.charAt(0)||(e=e.replace(/\u00A0( *)$/," $1")),e;}},{key:'_checkShouldLeftTrimDomText',value:function _checkShouldLeftTrimDomText(t){return!t||!!tr(t)||/[^\S\u00A0]/.test(t.data.charAt(t.data.length-1));}},{key:'_checkShouldRightTrimDomText',value:function _checkShouldRightTrimDomText(t,e){return!e&&!Do(t);}},{key:'_getTouchingViewTextNode',value:function _getTouchingViewTextNode(t,e){var n=new Yi({startPosition:e?$i._createAfter(t):$i._createBefore(t),direction:e?"forward":"backward"});var _iteratorNormalCompletion79=true;var _didIteratorError79=false;var _iteratorError79=undefined;try{for(var _iterator79=n[Symbol.iterator](),_step79;!(_iteratorNormalCompletion79=(_step79=_iterator79.next()).done);_iteratorNormalCompletion79=true){var _t52=_step79.value;if(_t52.item.is("containerElement"))return null;if(_t52.item.is("br"))return null;if(_t52.item.is("textProxy"))return _t52.item;}}catch(err){_didIteratorError79=true;_iteratorError79=err;}finally{try{if(!_iteratorNormalCompletion79&&_iterator79.return){_iterator79.return();}}finally{if(_didIteratorError79){throw _iteratorError79;}}}return null;}},{key:'_getTouchingInlineDomNode',value:function _getTouchingInlineDomNode(t,e){if(!t.parentNode)return null;var n=e?"nextNode":"previousNode",i=t.ownerDocument,o=Xo(t)[0],r=i.createTreeWalker(o,NodeFilter.SHOW_TEXT|NodeFilter.SHOW_ELEMENT,{acceptNode:function acceptNode(t){return Io(t)?NodeFilter.FILTER_ACCEPT:"BR"==t.tagName?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP;}});r.currentNode=t;var s=r[n]();if(null!==s){var _e46=function(t,e){var n=Xo(t),i=Xo(e);var o=0;for(;n[o]==i[o]&&n[o];){o++;}return 0===o?null:n[o-1];}(t,s);if(_e46&&!nr(t,this.blockElements,_e46)&&!nr(s,this.blockElements,_e46))return s;}return null;}}]);return er;}();function nr(t,e,n){var i=Xo(t);return n&&(i=i.slice(i.indexOf(n)+1)),i.some(function(t){return t.tagName&&e.includes(t.tagName.toLowerCase());});}function ir(t,e){for(;t&&t!=Ko.document;){e(t),t=t.parentNode;}}function or(t){var e=Object.prototype.toString.apply(t);return"[object Window]"==e||"[object global]"==e;}var rr=Ei({},R,{listenTo:function listenTo(t){var _R$listenTo;for(var _len16=arguments.length,e=Array(_len16>1?_len16-1:0),_key16=1;_key16<_len16;_key16++){e[_key16-1]=arguments[_key16];}if(qo(t)||or(t)){var n=this._getProxyEmitter(t)||new sr(t);n.attach.apply(n,_toConsumableArray(e)),t=n;}(_R$listenTo=R.listenTo).call.apply(_R$listenTo,[this,t].concat(_toConsumableArray(e)));},stopListening:function stopListening(t,e,n){if(qo(t)||or(t)){var _e47=this._getProxyEmitter(t);if(!_e47)return;t=_e47;}R.stopListening.call(this,t,e,n),t instanceof sr&&t.detach(e);},_getProxyEmitter:function _getProxyEmitter(t){return function(t,e){return t[N]&&t[N][e]?t[N][e].emitter:null;}(this,ar(t));}});var sr=function sr(t){_classCallCheck(this,sr);D(this,ar(t)),this._domNode=t;};function ar(t){return t["data-ck-expando"]||(t["data-ck-expando"]=I());}Ei(sr.prototype,R,{attach:function attach(t,e){var n=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{};if(this._domListeners&&this._domListeners[t])return;var i=this._createDomListener(t,!!n.useCapture);this._domNode.addEventListener(t,i,!!n.useCapture),this._domListeners||(this._domListeners={}),this._domListeners[t]=i;},detach:function detach(t){var e=void 0;!this._domListeners[t]||(e=this._events[t])&&e.callbacks.length||this._domListeners[t].removeListener();},_createDomListener:function _createDomListener(t,e){var _this28=this;var n=function n(e){_this28.fire(t,e);};return n.removeListener=function(){_this28._domNode.removeEventListener(t,n,e),delete _this28._domListeners[t];},n;}});var cr=function(){function cr(t){_classCallCheck(this,cr);this.view=t,this.document=t.document,this.isEnabled=!1;}_createClass(cr,[{key:'enable',value:function enable(){this.isEnabled=!0;}},{key:'disable',value:function disable(){this.isEnabled=!1;}},{key:'destroy',value:function destroy(){this.disable(),this.stopListening();}}]);return cr;}();F(cr,rr);var lr="__lodash_hash_undefined__";var dr=function dr(t){return this.__data__.set(t,lr),this;};var ur=function ur(t){return this.__data__.has(t);};function hr(t){var e=-1,n=null==t?0:t.length;for(this.__data__=new qt();++e<n;){this.add(t[e]);}}hr.prototype.add=hr.prototype.push=dr,hr.prototype.has=ur;var fr=hr;var mr=function mr(t,e){for(var n=-1,i=null==t?0:t.length;++n<i;){if(e(t[n],n,t))return!0;}return!1;};var pr=function pr(t,e){return t.has(e);},gr=1,br=2;var wr=function wr(t,e,n,i,o,r){var s=n&gr,a=t.length,c=e.length;if(a!=c&&!(s&&c>a))return!1;var l=r.get(t);if(l&&r.get(e))return l==e;var d=-1,u=!0,h=n&br?new fr():void 0;for(r.set(t,e),r.set(e,t);++d<a;){var f=t[d],m=e[d];if(i)var p=s?i(m,f,d,e,t,r):i(f,m,d,t,e,r);if(void 0!==p){if(p)continue;u=!1;break;}if(h){if(!mr(e,function(t,e){if(!pr(h,e)&&(f===t||o(f,t,n,i,r)))return h.push(e);})){u=!1;break;}}else if(f!==m&&!o(f,m,n,i,r)){u=!1;break;}}return r.delete(t),r.delete(e),u;};var _r=function _r(t){var e=-1,n=Array(t.size);return t.forEach(function(t,i){n[++e]=[i,t];}),n;};var kr=function kr(t){var e=-1,n=Array(t.size);return t.forEach(function(t){n[++e]=t;}),n;},vr=1,yr=2,xr="[object Boolean]",Ar="[object Date]",Cr="[object Error]",Tr="[object Map]",Pr="[object Number]",Mr="[object RegExp]",Sr="[object Set]",Ir="[object String]",Er="[object Symbol]",Nr="[object ArrayBuffer]",Or="[object DataView]",Rr=o?o.prototype:void 0,Dr=Rr?Rr.valueOf:void 0;var Lr=function Lr(t,e,n,i,o,r,s){switch(n){case Or:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case Nr:return!(t.byteLength!=e.byteLength||!r(new dn(t),new dn(e)));case xr:case Ar:case Pr:return q(+t,+e);case Cr:return t.name==e.name&&t.message==e.message;case Mr:case Ir:return t==e+"";case Tr:var a=_r;case Sr:var c=i&vr;if(a||(a=kr),t.size!=e.size&&!c)return!1;var l=s.get(t);if(l)return l==e;i|=yr,s.set(t,e);var d=wr(a(t),a(e),i,o,r,s);return s.delete(t),d;case Er:if(Dr)return Dr.call(t)==Dr.call(e);}return!1;},jr=1,Vr=Object.prototype.hasOwnProperty;var zr=function zr(t,e,n,i,o,r){var s=n&jr,a=Ge(t),c=a.length;if(c!=Ge(e).length&&!s)return!1;for(var l=c;l--;){var d=a[l];if(!(s?d in e:Vr.call(e,d)))return!1;}var u=r.get(t);if(u&&r.get(e))return u==e;var h=!0;r.set(t,e),r.set(e,t);for(var f=s;++l<c;){var m=t[d=a[l]],p=e[d];if(i)var g=s?i(p,m,d,e,t,r):i(m,p,d,t,e,r);if(!(void 0===g?m===p||o(m,p,n,i,r):g)){h=!1;break;}f||(f="constructor"==d);}if(h&&!f){var b=t.constructor,w=e.constructor;b!=w&&"constructor"in t&&"constructor"in e&&!("function"==typeof b&&b instanceof b&&"function"==typeof w&&w instanceof w)&&(h=!1);}return r.delete(t),r.delete(e),h;},Br=1,Fr="[object Arguments]",Ur="[object Array]",Hr="[object Object]",qr=Object.prototype.hasOwnProperty;var Wr=function Wr(t,e,n,i,o,r){var s=ce(t),a=ce(e),c=s?Ur:an(t),l=a?Ur:an(e),d=(c=c==Fr?Hr:c)==Hr,u=(l=l==Fr?Hr:l)==Hr,h=c==l;if(h&&Object(le.a)(t)){if(!Object(le.a)(e))return!1;s=!0,d=!1;}if(h&&!d)return r||(r=new Gt()),s||ke(t)?wr(t,e,n,i,o,r):Lr(t,e,c,n,i,o,r);if(!(n&Br)){var f=d&&qr.call(t,"__wrapped__"),m=u&&qr.call(e,"__wrapped__");if(f||m){var p=f?t.value():t,g=m?e.value():e;return r||(r=new Gt()),o(p,g,n,i,r);}}return!!h&&(r||(r=new Gt()),zr(t,e,n,i,o,r));};var Yr=function t(e,n,i,o,r){return e===n||(null==e||null==n||!w(e)&&!w(n)?e!=e&&n!=n:Wr(e,n,i,o,t,r));};var $r=function $r(t,e,n){var i=(n="function"==typeof n?n:void 0)?n(t,e):void 0;return void 0===i?Yr(t,e,void 0,n):!!i;};var Gr=function(_cr){_inherits(Gr,_cr);function Gr(t){var _this29;_classCallCheck(this,Gr);(_this29=_possibleConstructorReturn(this,(Gr.__proto__||Object.getPrototypeOf(Gr)).call(this,t)),_this29),_this29._config={childList:!0,characterData:!0,characterDataOldValue:!0,subtree:!0},_this29.domConverter=t.domConverter,_this29.renderer=t._renderer,_this29._domElements=[],_this29._mutationObserver=new window.MutationObserver(_this29._onMutations.bind(_this29));return _this29;}_createClass(Gr,[{key:'flush',value:function flush(){this._onMutations(this._mutationObserver.takeRecords());}},{key:'observe',value:function observe(t){this._domElements.push(t),this.isEnabled&&this._mutationObserver.observe(t,this._config);}},{key:'enable',value:function enable(){_get(Gr.prototype.__proto__||Object.getPrototypeOf(Gr.prototype),'enable',this).call(this);var _iteratorNormalCompletion80=true;var _didIteratorError80=false;var _iteratorError80=undefined;try{for(var _iterator80=this._domElements[Symbol.iterator](),_step80;!(_iteratorNormalCompletion80=(_step80=_iterator80.next()).done);_iteratorNormalCompletion80=true){var t=_step80.value;this._mutationObserver.observe(t,this._config);}}catch(err){_didIteratorError80=true;_iteratorError80=err;}finally{try{if(!_iteratorNormalCompletion80&&_iterator80.return){_iterator80.return();}}finally{if(_didIteratorError80){throw _iteratorError80;}}}}},{key:'disable',value:function disable(){_get(Gr.prototype.__proto__||Object.getPrototypeOf(Gr.prototype),'disable',this).call(this),this._mutationObserver.disconnect();}},{key:'destroy',value:function destroy(){_get(Gr.prototype.__proto__||Object.getPrototypeOf(Gr.prototype),'destroy',this).call(this),this._mutationObserver.disconnect();}},{key:'_onMutations',value:function _onMutations(t){if(0===t.length)return;var e=this.domConverter,n=new Map(),i=new Set();var _iteratorNormalCompletion81=true;var _didIteratorError81=false;var _iteratorError81=undefined;try{for(var _iterator81=t[Symbol.iterator](),_step81;!(_iteratorNormalCompletion81=(_step81=_iterator81.next()).done);_iteratorNormalCompletion81=true){var _n44=_step81.value;if("childList"===_n44.type){var _t57=e.mapDomToView(_n44.target);if(_t57&&_t57.is("uiElement"))continue;_t57&&!this._isBogusBrMutation(_n44)&&i.add(_t57);}}}catch(err){_didIteratorError81=true;_iteratorError81=err;}finally{try{if(!_iteratorNormalCompletion81&&_iterator81.return){_iterator81.return();}}finally{if(_didIteratorError81){throw _iteratorError81;}}}var _iteratorNormalCompletion82=true;var _didIteratorError82=false;var _iteratorError82=undefined;try{for(var _iterator82=t[Symbol.iterator](),_step82;!(_iteratorNormalCompletion82=(_step82=_iterator82.next()).done);_iteratorNormalCompletion82=true){var _o25=_step82.value;var _t53=e.mapDomToView(_o25.target);if((!_t53||!_t53.is("uiElement"))&&"characterData"===_o25.type){var _t58=e.findCorrespondingViewText(_o25.target);_t58&&!i.has(_t58.parent)?n.set(_t58,{type:"text",oldText:_t58.data,newText:jo(_o25.target),node:_t58}):!_t58&&Do(_o25.target)&&i.add(e.mapDomToView(_o25.target.parentNode));}}}catch(err){_didIteratorError82=true;_iteratorError82=err;}finally{try{if(!_iteratorNormalCompletion82&&_iterator82.return){_iterator82.return();}}finally{if(_didIteratorError82){throw _iteratorError82;}}}var o=[];var _iteratorNormalCompletion83=true;var _didIteratorError83=false;var _iteratorError83=undefined;try{for(var _iterator83=n.values()[Symbol.iterator](),_step83;!(_iteratorNormalCompletion83=(_step83=_iterator83.next()).done);_iteratorNormalCompletion83=true){var _t54=_step83.value;this.renderer.markToSync("text",_t54.node),o.push(_t54);}}catch(err){_didIteratorError83=true;_iteratorError83=err;}finally{try{if(!_iteratorNormalCompletion83&&_iterator83.return){_iterator83.return();}}finally{if(_didIteratorError83){throw _iteratorError83;}}}var _iteratorNormalCompletion84=true;var _didIteratorError84=false;var _iteratorError84=undefined;try{for(var _iterator84=i[Symbol.iterator](),_step84;!(_iteratorNormalCompletion84=(_step84=_iterator84.next()).done);_iteratorNormalCompletion84=true){var _t55=_step84.value;var _n45=e.mapViewToDom(_t55),_i10=Array.from(_t55.getChildren()),_r7=Array.from(e.domChildrenToView(_n45,{withChildren:!1}));$r(_i10,_r7,a)||(this.renderer.markToSync("children",_t55),o.push({type:"children",oldChildren:_i10,newChildren:_r7,node:_t55}));}}catch(err){_didIteratorError84=true;_iteratorError84=err;}finally{try{if(!_iteratorNormalCompletion84&&_iterator84.return){_iterator84.return();}}finally{if(_didIteratorError84){throw _iteratorError84;}}}var r=t[0].target.ownerDocument.getSelection();var s=null;if(r&&r.anchorNode){var _t56=e.domPositionToView(r.anchorNode,r.anchorOffset),_n46=e.domPositionToView(r.focusNode,r.focusOffset);_t56&&_n46&&(s=new Ki(_t56)).setFocus(_n46);}function a(t,e){if(!Array.isArray(t))return t===e||!(!t.is("text")||!e.is("text"))&&t.data===e.data;}this.document.fire("mutations",o,s),this.view.render();}},{key:'_isBogusBrMutation',value:function _isBogusBrMutation(t){var e=null;return null===t.nextSibling&&0===t.removedNodes.length&&1==t.addedNodes.length&&(e=this.domConverter.domToView(t.addedNodes[0],{withChildren:!1})),e&&e.is("element","br");}}]);return Gr;}(cr);var Qr=function(){function Qr(t,e,n){_classCallCheck(this,Qr);this.view=t,this.document=t.document,this.domEvent=e,this.domTarget=e.target,Ei(this,n);}_createClass(Qr,[{key:'preventDefault',value:function preventDefault(){this.domEvent.preventDefault();}},{key:'stopPropagation',value:function stopPropagation(){this.domEvent.stopPropagation();}},{key:'target',get:function get(){return this.view.domConverter.mapDomToView(this.domTarget);}}]);return Qr;}();var Jr=function(_cr2){_inherits(Jr,_cr2);function Jr(t){var _this30;_classCallCheck(this,Jr);(_this30=_possibleConstructorReturn(this,(Jr.__proto__||Object.getPrototypeOf(Jr)).call(this,t)),_this30),_this30.useCapture=!1;return _this30;}_createClass(Jr,[{key:'observe',value:function observe(t){var _this31=this;("string"==typeof this.domEventType?[this.domEventType]:this.domEventType).forEach(function(e){_this31.listenTo(t,e,function(t,e){_this31.isEnabled&&_this31.onDomEvent(e);},{useCapture:_this31.useCapture});});}},{key:'fire',value:function fire(t,e,n){this.isEnabled&&this.document.fire(t,new Qr(this.view,e,n));}}]);return Jr;}(cr);var Kr=function(_Jr){_inherits(Kr,_Jr);function Kr(t){var _this32;_classCallCheck(this,Kr);(_this32=_possibleConstructorReturn(this,(Kr.__proto__||Object.getPrototypeOf(Kr)).call(this,t)),_this32),_this32.domEventType=["keydown","keyup"];return _this32;}_createClass(Kr,[{key:'onDomEvent',value:function onDomEvent(t){this.fire(t.type,t,{keyCode:t.keyCode,altKey:t.altKey,ctrlKey:t.ctrlKey||t.metaKey,shiftKey:t.shiftKey,get keystroke(){return fo(this);}});}}]);return Kr;}(Jr);var Zr=function Zr(){return i.a.Date.now();},Xr="[object Symbol]";var ts=function ts(t){return"symbol"==(typeof t==='undefined'?'undefined':_typeof(t))||w(t)&&p(t)==Xr;},es=NaN,ns=/^\s+|\s+$/g,is=/^[-+]0x[0-9a-f]+$/i,os=/^0b[01]+$/i,rs=/^0o[0-7]+$/i,ss=parseInt;var as=function as(t){if("number"==typeof t)return t;if(ts(t))return es;if(it(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=it(e)?e+"":e;}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(ns,"");var n=os.test(t);return n||rs.test(t)?ss(t.slice(2),n?2:8):is.test(t)?es:+t;},cs="Expected a function",ls=Math.max,ds=Math.min;var us=function us(t,e,n){var i,o,r,s,a,c,l=0,d=!1,u=!1,h=!0;if("function"!=typeof t)throw new TypeError(cs);function f(e){var n=i,r=o;return i=o=void 0,l=e,s=t.apply(r,n);}function m(t){var n=t-c;return void 0===c||n>=e||n<0||u&&t-l>=r;}function p(){var t=Zr();if(m(t))return g(t);a=setTimeout(p,function(t){var n=e-(t-c);return u?ds(n,r-(t-l)):n;}(t));}function g(t){return a=void 0,h&&i?f(t):(i=o=void 0,s);}function b(){var t=Zr(),n=m(t);if(i=arguments,o=this,c=t,n){if(void 0===a)return function(t){return l=t,a=setTimeout(p,e),d?f(t):s;}(c);if(u)return a=setTimeout(p,e),f(c);}return void 0===a&&(a=setTimeout(p,e)),s;}return e=as(e)||0,it(n)&&(d=!!n.leading,r=(u="maxWait"in n)?ls(as(n.maxWait)||0,e):r,h="trailing"in n?!!n.trailing:h),b.cancel=function(){void 0!==a&&clearTimeout(a),l=0,i=c=o=a=void 0;},b.flush=function(){return void 0===a?s:g(Zr());},b;};var hs=function(_cr3){_inherits(hs,_cr3);function hs(t){var _this33;_classCallCheck(this,hs);(_this33=_possibleConstructorReturn(this,(hs.__proto__||Object.getPrototypeOf(hs)).call(this,t)),_this33),_this33._fireSelectionChangeDoneDebounced=us(function(t){return _this33.document.fire("selectionChangeDone",t);},200);return _this33;}_createClass(hs,[{key:'observe',value:function observe(){var _this34=this;var t=this.document;t.on("keydown",function(e,n){t.selection.isFake&&function(t){return t==ho.arrowright||t==ho.arrowleft||t==ho.arrowup||t==ho.arrowdown;}(n.keyCode)&&_this34.isEnabled&&(n.preventDefault(),_this34._handleSelectionMove(n.keyCode));},{priority:"lowest"});}},{key:'destroy',value:function destroy(){_get(hs.prototype.__proto__||Object.getPrototypeOf(hs.prototype),'destroy',this).call(this),this._fireSelectionChangeDoneDebounced.cancel();}},{key:'_handleSelectionMove',value:function _handleSelectionMove(t){var e=this.document.selection,n=new Ki(e.getRanges(),{backward:e.isBackward,fake:!1});t!=ho.arrowleft&&t!=ho.arrowup||n.setTo(n.getFirstPosition()),t!=ho.arrowright&&t!=ho.arrowdown||n.setTo(n.getLastPosition());var i={oldSelection:e,newSelection:n,domSelection:null};this.document.fire("selectionChange",i),this._fireSelectionChangeDoneDebounced(i);}}]);return hs;}(cr);var fs=n(1);var ms=function(_cr4){_inherits(ms,_cr4);function ms(t){var _this35;_classCallCheck(this,ms);(_this35=_possibleConstructorReturn(this,(ms.__proto__||Object.getPrototypeOf(ms)).call(this,t)),_this35),_this35.mutationObserver=t.getObserver(Gr),_this35.selection=_this35.document.selection,_this35.domConverter=t.domConverter,_this35._documents=new WeakSet(),_this35._fireSelectionChangeDoneDebounced=us(function(t){return _this35.document.fire("selectionChangeDone",t);},200),_this35._clearInfiniteLoopInterval=setInterval(function(){return _this35._clearInfiniteLoop();},1e3),_this35._loopbackCounter=0;return _this35;}_createClass(ms,[{key:'observe',value:function observe(t){var _this36=this;var e=t.ownerDocument;this._documents.has(e)||(this.listenTo(e,"selectionchange",function(){_this36._handleSelectionChange(e);}),this._documents.add(e));}},{key:'destroy',value:function destroy(){_get(ms.prototype.__proto__||Object.getPrototypeOf(ms.prototype),'destroy',this).call(this),clearInterval(this._clearInfiniteLoopInterval),this._fireSelectionChangeDoneDebounced.cancel();}},{key:'_handleSelectionChange',value:function _handleSelectionChange(t){if(!this.isEnabled||!this.document.isFocused&&!this.document.isReadOnly)return;this.mutationObserver.flush();var e=t.defaultView.getSelection(),n=this.domConverter.domSelectionToView(e);if(!this.selection.isEqual(n)||!this.domConverter.isDomSelectionCorrect(e))if(++this._loopbackCounter>60)fs.a.warn("selectionchange-infinite-loop: Selection change observer detected an infinite rendering loop.");else if(this.selection.isSimilar(n))this.view.render();else{var _t59={oldSelection:this.selection,newSelection:n,domSelection:e};this.document.fire("selectionChange",_t59),this._fireSelectionChangeDoneDebounced(_t59);}}},{key:'_clearInfiniteLoop',value:function _clearInfiniteLoop(){this._loopbackCounter=0;}}]);return ms;}(cr);var ps=function(_Jr2){_inherits(ps,_Jr2);function ps(t){var _this37;_classCallCheck(this,ps);(_this37=_possibleConstructorReturn(this,(ps.__proto__||Object.getPrototypeOf(ps)).call(this,t)),_this37),_this37.domEventType=["focus","blur"],_this37.useCapture=!0;var e=_this37.document;e.on("focus",function(){e.isFocused=!0,_this37._renderTimeoutId=setTimeout(function(){return t.render();},50);}),e.on("blur",function(n,i){var o=e.selection.editableElement;null!==o&&o!==i.target||(e.isFocused=!1,t.render());});return _this37;}_createClass(ps,[{key:'onDomEvent',value:function onDomEvent(t){this.fire(t.type,t);}},{key:'destroy',value:function destroy(){this._renderTimeoutId&&clearTimeout(this._renderTimeoutId),_get(ps.prototype.__proto__||Object.getPrototypeOf(ps.prototype),'destroy',this).call(this);}}]);return ps;}(Jr);var gs=function(_Jr3){_inherits(gs,_Jr3);function gs(t){var _this38;_classCallCheck(this,gs);(_this38=_possibleConstructorReturn(this,(gs.__proto__||Object.getPrototypeOf(gs)).call(this,t)),_this38),_this38.domEventType=["compositionstart","compositionupdate","compositionend"];var e=_this38.document;e.on("compositionstart",function(){e.isComposing=!0;}),e.on("compositionend",function(){e.isComposing=!1;});return _this38;}_createClass(gs,[{key:'onDomEvent',value:function onDomEvent(t){this.fire(t.type,t);}}]);return gs;}(Jr);function bs(t){return"[object Range]"==Object.prototype.toString.apply(t);}function ws(t){var e=t.ownerDocument.defaultView.getComputedStyle(t);return{top:parseInt(e.borderTopWidth,10),right:parseInt(e.borderRightWidth,10),bottom:parseInt(e.borderBottomWidth,10),left:parseInt(e.borderLeftWidth,10)};}var _s=["top","right","bottom","left","width","height"];var ks=function(){function ks(t){_classCallCheck(this,ks);var e=bs(t);if(Object.defineProperty(this,"_source",{value:t._source||t,writable:!0,enumerable:!1}),tr(t)||e){var n=e?t.startContainer:t;n.ownerDocument&&n.ownerDocument.body.contains(n)||fs.a.warn("rect-source-not-in-dom: The source of this rect does not belong to any rendered DOM tree.",{source:t}),vs(this,e?ks.getDomRangeRects(t)[0]:t.getBoundingClientRect());}else if(or(t)){var _e48=t.innerWidth,_n47=t.innerHeight;vs(this,{top:0,right:_e48,bottom:_n47,left:0,width:_e48,height:_n47});}else vs(this,t);}_createClass(ks,[{key:'clone',value:function clone(){return new ks(this);}},{key:'moveTo',value:function moveTo(t,e){return this.top=e,this.right=t+this.width,this.bottom=e+this.height,this.left=t,this;}},{key:'moveBy',value:function moveBy(t,e){return this.top+=e,this.right+=t,this.left+=t,this.bottom+=e,this;}},{key:'getIntersection',value:function getIntersection(t){var e={top:Math.max(this.top,t.top),right:Math.min(this.right,t.right),bottom:Math.min(this.bottom,t.bottom),left:Math.max(this.left,t.left)};return e.width=e.right-e.left,e.height=e.bottom-e.top,e.width<0||e.height<0?null:new ks(e);}},{key:'getIntersectionArea',value:function getIntersectionArea(t){var e=this.getIntersection(t);return e?e.getArea():0;}},{key:'getArea',value:function getArea(){return this.width*this.height;}},{key:'getVisible',value:function getVisible(){var t=this._source;var e=this.clone();if(!ys(t)){var n=t.parentNode||t.commonAncestorContainer;for(;n&&!ys(n);){var _t60=new ks(n),i=e.getIntersection(_t60);if(!i)return null;i.getArea()<e.getArea()&&(e=i),n=n.parentNode;}}return e;}},{key:'isEqual',value:function isEqual(t){var _iteratorNormalCompletion85=true;var _didIteratorError85=false;var _iteratorError85=undefined;try{for(var _iterator85=_s[Symbol.iterator](),_step85;!(_iteratorNormalCompletion85=(_step85=_iterator85.next()).done);_iteratorNormalCompletion85=true){var _e49=_step85.value;if(this[_e49]!==t[_e49])return!1;}}catch(err){_didIteratorError85=true;_iteratorError85=err;}finally{try{if(!_iteratorNormalCompletion85&&_iterator85.return){_iterator85.return();}}finally{if(_didIteratorError85){throw _iteratorError85;}}}return!0;}},{key:'contains',value:function contains(t){var e=this.getIntersection(t);return!(!e||!e.isEqual(t));}},{key:'excludeScrollbarsAndBorders',value:function excludeScrollbarsAndBorders(){var t=this._source;var e=void 0,n=void 0;if(or(t))e=t.innerWidth-t.document.documentElement.clientWidth,n=t.innerHeight-t.document.documentElement.clientHeight;else{var i=ws(this._source);e=t.offsetWidth-t.clientWidth,n=t.offsetHeight-t.clientHeight,this.moveBy(i.left,i.top);}return this.width-=e,this.right-=e,this.height-=n,this.bottom-=n,this;}}],[{key:'getDomRangeRects',value:function getDomRangeRects(t){var e=[],n=Array.from(t.getClientRects());if(n.length){var _iteratorNormalCompletion86=true;var _didIteratorError86=false;var _iteratorError86=undefined;try{for(var _iterator86=n[Symbol.iterator](),_step86;!(_iteratorNormalCompletion86=(_step86=_iterator86.next()).done);_iteratorNormalCompletion86=true){var _t61=_step86.value;e.push(new ks(_t61));}}catch(err){_didIteratorError86=true;_iteratorError86=err;}finally{try{if(!_iteratorNormalCompletion86&&_iterator86.return){_iterator86.return();}}finally{if(_didIteratorError86){throw _iteratorError86;}}}}else{var _n48=t.startContainer;Io(_n48)&&(_n48=_n48.parentNode);var i=new ks(_n48.getBoundingClientRect());i.right=i.left,i.width=0,e.push(i);}return e;}}]);return ks;}();function vs(t,e){var _iteratorNormalCompletion87=true;var _didIteratorError87=false;var _iteratorError87=undefined;try{for(var _iterator87=_s[Symbol.iterator](),_step87;!(_iteratorNormalCompletion87=(_step87=_iterator87.next()).done);_iteratorNormalCompletion87=true){var n=_step87.value;t[n]=e[n];}}catch(err){_didIteratorError87=true;_iteratorError87=err;}finally{try{if(!_iteratorNormalCompletion87&&_iterator87.return){_iterator87.return();}}finally{if(_didIteratorError87){throw _iteratorError87;}}}}function ys(t){return!!tr(t)&&t===t.ownerDocument.body;}function xs(_ref11){var t=_ref11.target,_ref11$viewportOffset=_ref11.viewportOffset,e=_ref11$viewportOffset===undefined?0:_ref11$viewportOffset;var n=Is(t);var i=n,o=null;for(;i;){var _r8=void 0;Cs(_r8=Es(i==n?t:o),function(){return Ns(t,i);});var _s8=Ns(t,i);if(As(i,_s8,e),i.parent!=i){if(o=i.frameElement,i=i.parent,!o)return;}else i=null;}}function As(t,e,n){var i=e.clone().moveBy(0,n),o=e.clone().moveBy(0,-n),r=new ks(t).excludeScrollbarsAndBorders();if(![o,i].every(function(t){return r.contains(t);})){var _s9=t.scrollX,_a7=t.scrollY;Ps(o,r)?_a7-=r.top-e.top+n:Ts(i,r)&&(_a7+=e.bottom-r.bottom+n),Ms(e,r)?_s9-=r.left-e.left+n:Ss(e,r)&&(_s9+=e.right-r.right+n),t.scrollTo(_s9,_a7);}}function Cs(t,e){var n=Is(t);var i=void 0,o=void 0;for(;t!=n.document.body;){o=e(),(i=new ks(t).excludeScrollbarsAndBorders()).contains(o)||(Ps(o,i)?t.scrollTop-=i.top-o.top:Ts(o,i)&&(t.scrollTop+=o.bottom-i.bottom),Ms(o,i)?t.scrollLeft-=i.left-o.left:Ss(o,i)&&(t.scrollLeft+=o.right-i.right)),t=t.parentNode;}}function Ts(t,e){return t.bottom>e.bottom;}function Ps(t,e){return t.top<e.top;}function Ms(t,e){return t.left<e.left;}function Ss(t,e){return t.right>e.right;}function Is(t){return bs(t)?t.startContainer.ownerDocument.defaultView:t.ownerDocument.defaultView;}function Es(t){if(bs(t)){var _e50=t.commonAncestorContainer;return Io(_e50)&&(_e50=_e50.parentNode),_e50;}return t.parentNode;}function Ns(t,e){var n=Is(t),i=new ks(t);if(n===e)return i;{var _t62=n;for(;_t62!=e;){var _e51=_t62.frameElement,_n49=new ks(_e51).excludeScrollbarsAndBorders();i.moveBy(_n49.left,_n49.top),_t62=_t62.parent;}}return i;}Object.assign({},{scrollViewportToShowTarget:xs,scrollAncestorsToShowTarget:function scrollAncestorsToShowTarget(t){Cs(Es(t),function(){return new ks(t);});}});var Os=function(){function Os(){var _this39=this;_classCallCheck(this,Os);this.document=new to(),this.domConverter=new er(),this._renderer=new Go(this.domConverter,this.document.selection),this._renderer.bind("isFocused").to(this.document),this.domRoots=new Map(),this._observers=new Map(),this._ongoingChange=!1,this._renderingInProgress=!1,this._postFixersInProgress=!1,this._renderingDisabled=!1,this._writer=new ko(this.document),this.addObserver(Gr),this.addObserver(ms),this.addObserver(ps),this.addObserver(Kr),this.addObserver(hs),this.addObserver(gs),function(t){t.document.on("keydown",Bo);}(this),bo(this),this.on("render",function(){_this39._render(),_this39.document.fire("layoutChanged");});}_createClass(Os,[{key:'attachDomRoot',value:function attachDomRoot(t){var _this40=this;var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"main";var n=this.document.getRoot(e);n._name=t.tagName.toLowerCase(),this.domRoots.set(e,t),this.domConverter.bindElements(t,n),this._renderer.markToSync("children",n),this._renderer.domDocuments.add(t.ownerDocument),n.on("change:children",function(t,e){return _this40._renderer.markToSync("children",e);}),n.on("change:attributes",function(t,e){return _this40._renderer.markToSync("attributes",e);}),n.on("change:text",function(t,e){return _this40._renderer.markToSync("text",e);});var _iteratorNormalCompletion88=true;var _didIteratorError88=false;var _iteratorError88=undefined;try{for(var _iterator88=this._observers.values()[Symbol.iterator](),_step88;!(_iteratorNormalCompletion88=(_step88=_iterator88.next()).done);_iteratorNormalCompletion88=true){var _n50=_step88.value;_n50.observe(t,e);}}catch(err){_didIteratorError88=true;_iteratorError88=err;}finally{try{if(!_iteratorNormalCompletion88&&_iterator88.return){_iterator88.return();}}finally{if(_didIteratorError88){throw _iteratorError88;}}}}},{key:'getDomRoot',value:function getDomRoot(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:"main";return this.domRoots.get(t);}},{key:'addObserver',value:function addObserver(t){var e=this._observers.get(t);if(e)return e;e=new t(this),this._observers.set(t,e);var _iteratorNormalCompletion89=true;var _didIteratorError89=false;var _iteratorError89=undefined;try{for(var _iterator89=this.domRoots[Symbol.iterator](),_step89;!(_iteratorNormalCompletion89=(_step89=_iterator89.next()).done);_iteratorNormalCompletion89=true){var _ref12=_step89.value;var _ref13=_slicedToArray(_ref12,2);var _t63=_ref13[0];var n=_ref13[1];e.observe(n,_t63);}}catch(err){_didIteratorError89=true;_iteratorError89=err;}finally{try{if(!_iteratorNormalCompletion89&&_iterator89.return){_iterator89.return();}}finally{if(_didIteratorError89){throw _iteratorError89;}}}return e.enable(),e;}},{key:'getObserver',value:function getObserver(t){return this._observers.get(t);}},{key:'disableObservers',value:function disableObservers(){var _iteratorNormalCompletion90=true;var _didIteratorError90=false;var _iteratorError90=undefined;try{for(var _iterator90=this._observers.values()[Symbol.iterator](),_step90;!(_iteratorNormalCompletion90=(_step90=_iterator90.next()).done);_iteratorNormalCompletion90=true){var t=_step90.value;t.disable();}}catch(err){_didIteratorError90=true;_iteratorError90=err;}finally{try{if(!_iteratorNormalCompletion90&&_iterator90.return){_iterator90.return();}}finally{if(_didIteratorError90){throw _iteratorError90;}}}}},{key:'enableObservers',value:function enableObservers(){var _iteratorNormalCompletion91=true;var _didIteratorError91=false;var _iteratorError91=undefined;try{for(var _iterator91=this._observers.values()[Symbol.iterator](),_step91;!(_iteratorNormalCompletion91=(_step91=_iterator91.next()).done);_iteratorNormalCompletion91=true){var t=_step91.value;t.enable();}}catch(err){_didIteratorError91=true;_iteratorError91=err;}finally{try{if(!_iteratorNormalCompletion91&&_iterator91.return){_iterator91.return();}}finally{if(_didIteratorError91){throw _iteratorError91;}}}}},{key:'scrollToTheSelection',value:function scrollToTheSelection(){var t=this.document.selection.getFirstRange();t&&xs({target:this.domConverter.viewRangeToDom(t),viewportOffset:20});}},{key:'focus',value:function focus(){if(!this.document.isFocused){var t=this.document.selection.editableElement;t?(this.domConverter.focus(t),this.render()):fs.a.warn("view-focus-no-selection: There is no selection in any editable to focus.");}}},{key:'change',value:function change(t){if(this._renderingInProgress||this._postFixersInProgress)throw new P.b("cannot-change-view-tree: Attempting to make changes to the view when it is in an incorrect state: rendering or post-fixers are in progress. This may cause some unexpected behavior and inconsistency between the DOM and the view.");if(this._ongoingChange)return t(this._writer);this._ongoingChange=!0;var e=t(this._writer);return this._ongoingChange=!1,this._renderingDisabled||(this._postFixersInProgress=!0,this.document._callPostFixers(this._writer),this._postFixersInProgress=!1,this.fire("render")),e;}},{key:'render',value:function render(){this.change(function(){});}},{key:'destroy',value:function destroy(){var _iteratorNormalCompletion92=true;var _didIteratorError92=false;var _iteratorError92=undefined;try{for(var _iterator92=this._observers.values()[Symbol.iterator](),_step92;!(_iteratorNormalCompletion92=(_step92=_iterator92.next()).done);_iteratorNormalCompletion92=true){var t=_step92.value;t.destroy();}}catch(err){_didIteratorError92=true;_iteratorError92=err;}finally{try{if(!_iteratorNormalCompletion92&&_iterator92.return){_iterator92.return();}}finally{if(_didIteratorError92){throw _iteratorError92;}}}this.stopListening();}},{key:'createPositionAt',value:function createPositionAt(t,e){return $i._createAt(t,e);}},{key:'createPositionAfter',value:function createPositionAfter(t){return $i._createAfter(t);}},{key:'createPositionBefore',value:function createPositionBefore(t){return $i._createBefore(t);}},{key:'createRange',value:function createRange(t,e){return new Gi(t,e);}},{key:'createRangeOn',value:function createRangeOn(t){return Gi._createOn(t);}},{key:'createRangeIn',value:function createRangeIn(t){return Gi._createIn(t);}},{key:'createSelection',value:function createSelection(t,e,n){return new Ki(t,e,n);}},{key:'_render',value:function _render(){this._renderingInProgress=!0,this.disableObservers(),this._renderer.render(),this.enableObservers(),this._renderingInProgress=!1;}}]);return Os;}();function Rs(t){return C(t)?di(t):new Map(t);}F(Os,Li);var Ds=function(){function Ds(t){_classCallCheck(this,Ds);this.parent=null,this._attrs=Rs(t);}_createClass(Ds,[{key:'getPath',value:function getPath(){var t=[];var e=this;for(;e.parent;){t.unshift(e.startOffset),e=e.parent;}return t;}},{key:'getAncestors',value:function getAncestors(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{includeSelf:!1,parentFirst:!1};var e=[];var n=t.includeSelf?this:this.parent;for(;n;){e[t.parentFirst?"push":"unshift"](n),n=n.parent;}return e;}},{key:'getCommonAncestor',value:function getCommonAncestor(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};var n=this.getAncestors(e),i=t.getAncestors(e);var o=0;for(;n[o]==i[o]&&n[o];){o++;}return 0===o?null:n[o-1];}},{key:'isBefore',value:function isBefore(t){if(this==t)return!1;if(this.root!==t.root)return!1;var e=this.getPath(),n=t.getPath(),i=U(e,n);switch(i){case"prefix":return!0;case"extension":return!1;default:return e[i]<n[i];}}},{key:'isAfter',value:function isAfter(t){return this!=t&&this.root===t.root&&!this.isBefore(t);}},{key:'hasAttribute',value:function hasAttribute(t){return this._attrs.has(t);}},{key:'getAttribute',value:function getAttribute(t){return this._attrs.get(t);}},{key:'getAttributes',value:function getAttributes(){return this._attrs.entries();}},{key:'getAttributeKeys',value:function getAttributeKeys(){return this._attrs.keys();}},{key:'toJSON',value:function toJSON(){var t={};return this._attrs.size&&(t.attributes=Array.from(this._attrs).reduce(function(t,e){return t[e[0]]=e[1],t;},{})),t;}},{key:'_clone',value:function _clone(){return new Ds(this._attrs);}},{key:'_remove',value:function _remove(){this.parent._removeChildren(this.index);}},{key:'_setAttribute',value:function _setAttribute(t,e){this._attrs.set(t,e);}},{key:'_setAttributesTo',value:function _setAttributesTo(t){this._attrs=Rs(t);}},{key:'_removeAttribute',value:function _removeAttribute(t){return this._attrs.delete(t);}},{key:'_clearAttributes',value:function _clearAttributes(){this._attrs.clear();}},{key:'is',value:function is(t){return"node"==t;}},{key:'index',get:function get(){var t=void 0;if(!this.parent)return null;if(null===(t=this.parent.getChildIndex(this)))throw new P.b("model-node-not-found-in-parent: The node's parent does not contain this node.");return t;}},{key:'startOffset',get:function get(){var t=void 0;if(!this.parent)return null;if(null===(t=this.parent.getChildStartOffset(this)))throw new P.b("model-node-not-found-in-parent: The node's parent does not contain this node.");return t;}},{key:'offsetSize',get:function get(){return 1;}},{key:'endOffset',get:function get(){return this.parent?this.startOffset+this.offsetSize:null;}},{key:'nextSibling',get:function get(){var t=this.index;return null!==t&&this.parent.getChild(t+1)||null;}},{key:'previousSibling',get:function get(){var t=this.index;return null!==t&&this.parent.getChild(t-1)||null;}},{key:'root',get:function get(){var t=this;for(;t.parent;){t=t.parent;}return t;}},{key:'document',get:function get(){return this.root==this?null:this.root.document||null;}}]);return Ds;}();var Ls=function(_Ds){_inherits(Ls,_Ds);function Ls(t,e){var _this41;_classCallCheck(this,Ls);(_this41=_possibleConstructorReturn(this,(Ls.__proto__||Object.getPrototypeOf(Ls)).call(this,e)),_this41),_this41._data=t||"";return _this41;}_createClass(Ls,[{key:'is',value:function is(t){return"text"==t||_get(Ls.prototype.__proto__||Object.getPrototypeOf(Ls.prototype),'is',this).call(this,t);}},{key:'toJSON',value:function toJSON(){var t=_get(Ls.prototype.__proto__||Object.getPrototypeOf(Ls.prototype),'toJSON',this).call(this);return t.data=this.data,t;}},{key:'_clone',value:function _clone(){return new Ls(this.data,this.getAttributes());}},{key:'offsetSize',get:function get(){return this.data.length;}},{key:'data',get:function get(){return this._data;}}],[{key:'fromJSON',value:function fromJSON(t){return new Ls(t.data,t.attributes);}}]);return Ls;}(Ds);var js=function(){function js(t,e,n){_classCallCheck(this,js);if(this.textNode=t,e<0||e>t.offsetSize)throw new P.b("model-textproxy-wrong-offsetintext: Given offsetInText value is incorrect.");if(n<0||e+n>t.offsetSize)throw new P.b("model-textproxy-wrong-length: Given length value is incorrect.");this.data=t.data.substring(e,e+n),this.offsetInText=e;}_createClass(js,[{key:'is',value:function is(t){return"textProxy"==t;}},{key:'getPath',value:function getPath(){var t=this.textNode.getPath();return t.length>0&&(t[t.length-1]+=this.offsetInText),t;}},{key:'getAncestors',value:function getAncestors(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{includeSelf:!1,parentFirst:!1};var e=[];var n=t.includeSelf?this:this.parent;for(;n;){e[t.parentFirst?"push":"unshift"](n),n=n.parent;}return e;}},{key:'hasAttribute',value:function hasAttribute(t){return this.textNode.hasAttribute(t);}},{key:'getAttribute',value:function getAttribute(t){return this.textNode.getAttribute(t);}},{key:'getAttributes',value:function getAttributes(){return this.textNode.getAttributes();}},{key:'getAttributeKeys',value:function getAttributeKeys(){return this.textNode.getAttributeKeys();}},{key:'startOffset',get:function get(){return null!==this.textNode.startOffset?this.textNode.startOffset+this.offsetInText:null;}},{key:'offsetSize',get:function get(){return this.data.length;}},{key:'endOffset',get:function get(){return null!==this.startOffset?this.startOffset+this.offsetSize:null;}},{key:'isPartial',get:function get(){return this.offsetSize!==this.textNode.offsetSize;}},{key:'parent',get:function get(){return this.textNode.parent;}},{key:'root',get:function get(){return this.textNode.root;}},{key:'document',get:function get(){return this.textNode.document;}}]);return js;}();var Vs=function(){function Vs(t){_classCallCheck(this,Vs);this._nodes=[],t&&this._insertNodes(0,t);}_createClass(Vs,[{key:Symbol.iterator,value:function value(){return this._nodes[Symbol.iterator]();}},{key:'getNode',value:function getNode(t){return this._nodes[t]||null;}},{key:'getNodeIndex',value:function getNodeIndex(t){var e=this._nodes.indexOf(t);return-1==e?null:e;}},{key:'getNodeStartOffset',value:function getNodeStartOffset(t){var e=this.getNodeIndex(t);return null===e?null:this._nodes.slice(0,e).reduce(function(t,e){return t+e.offsetSize;},0);}},{key:'indexToOffset',value:function indexToOffset(t){if(t==this._nodes.length)return this.maxOffset;var e=this._nodes[t];if(!e)throw new P.b("model-nodelist-index-out-of-bounds: Given index cannot be found in the node list.");return this.getNodeStartOffset(e);}},{key:'offsetToIndex',value:function offsetToIndex(t){var e=0;var _iteratorNormalCompletion93=true;var _didIteratorError93=false;var _iteratorError93=undefined;try{for(var _iterator93=this._nodes[Symbol.iterator](),_step93;!(_iteratorNormalCompletion93=(_step93=_iterator93.next()).done);_iteratorNormalCompletion93=true){var n=_step93.value;if(t>=e&&t<e+n.offsetSize)return this.getNodeIndex(n);e+=n.offsetSize;}}catch(err){_didIteratorError93=true;_iteratorError93=err;}finally{try{if(!_iteratorNormalCompletion93&&_iterator93.return){_iterator93.return();}}finally{if(_didIteratorError93){throw _iteratorError93;}}}if(e!=t)throw new P.b("model-nodelist-offset-out-of-bounds: Given offset cannot be found in the node list.",{offset:t,nodeList:this});return this.length;}},{key:'_insertNodes',value:function _insertNodes(t,e){var _nodes;var _iteratorNormalCompletion94=true;var _didIteratorError94=false;var _iteratorError94=undefined;try{for(var _iterator94=e[Symbol.iterator](),_step94;!(_iteratorNormalCompletion94=(_step94=_iterator94.next()).done);_iteratorNormalCompletion94=true){var _t64=_step94.value;if(!(_t64 instanceof Ds))throw new P.b("model-nodelist-insertNodes-not-node: Trying to insert an object which is not a Node instance.");}}catch(err){_didIteratorError94=true;_iteratorError94=err;}finally{try{if(!_iteratorNormalCompletion94&&_iterator94.return){_iterator94.return();}}finally{if(_didIteratorError94){throw _iteratorError94;}}}(_nodes=this._nodes).splice.apply(_nodes,[t,0].concat(_toConsumableArray(e)));}},{key:'_removeNodes',value:function _removeNodes(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:1;return this._nodes.splice(t,e);}},{key:'toJSON',value:function toJSON(){return this._nodes.map(function(t){return t.toJSON();});}},{key:'length',get:function get(){return this._nodes.length;}},{key:'maxOffset',get:function get(){return this._nodes.reduce(function(t,e){return t+e.offsetSize;},0);}}]);return Vs;}();var zs=function(_Ds2){_inherits(zs,_Ds2);function zs(t,e,n){var _this42;_classCallCheck(this,zs);(_this42=_possibleConstructorReturn(this,(zs.__proto__||Object.getPrototypeOf(zs)).call(this,e)),_this42),_this42.name=t,_this42._children=new Vs(),n&&_this42._insertChild(0,n);return _this42;}_createClass(zs,[{key:'is',value:function is(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:null;return e?"element"==t&&e==this.name:"element"==t||t==this.name||_get(zs.prototype.__proto__||Object.getPrototypeOf(zs.prototype),'is',this).call(this,t);}},{key:'getChild',value:function getChild(t){return this._children.getNode(t);}},{key:'getChildren',value:function getChildren(){return this._children[Symbol.iterator]();}},{key:'getChildIndex',value:function getChildIndex(t){return this._children.getNodeIndex(t);}},{key:'getChildStartOffset',value:function getChildStartOffset(t){return this._children.getNodeStartOffset(t);}},{key:'offsetToIndex',value:function offsetToIndex(t){return this._children.offsetToIndex(t);}},{key:'getNodeByPath',value:function getNodeByPath(t){var e=this;var _iteratorNormalCompletion95=true;var _didIteratorError95=false;var _iteratorError95=undefined;try{for(var _iterator95=t[Symbol.iterator](),_step95;!(_iteratorNormalCompletion95=(_step95=_iterator95.next()).done);_iteratorNormalCompletion95=true){var n=_step95.value;e=e.getChild(e.offsetToIndex(n));}}catch(err){_didIteratorError95=true;_iteratorError95=err;}finally{try{if(!_iteratorNormalCompletion95&&_iterator95.return){_iterator95.return();}}finally{if(_didIteratorError95){throw _iteratorError95;}}}return e;}},{key:'toJSON',value:function toJSON(){var t=_get(zs.prototype.__proto__||Object.getPrototypeOf(zs.prototype),'toJSON',this).call(this);if(t.name=this.name,this._children.length>0){t.children=[];var _iteratorNormalCompletion96=true;var _didIteratorError96=false;var _iteratorError96=undefined;try{for(var _iterator96=this._children[Symbol.iterator](),_step96;!(_iteratorNormalCompletion96=(_step96=_iterator96.next()).done);_iteratorNormalCompletion96=true){var e=_step96.value;t.children.push(e.toJSON());}}catch(err){_didIteratorError96=true;_iteratorError96=err;}finally{try{if(!_iteratorNormalCompletion96&&_iterator96.return){_iterator96.return();}}finally{if(_didIteratorError96){throw _iteratorError96;}}}}return t;}},{key:'_clone',value:function _clone(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:!1;var e=t?Array.from(this._children).map(function(t){return t._clone(!0);}):null;return new zs(this.name,this.getAttributes(),e);}},{key:'_appendChild',value:function _appendChild(t){this._insertChild(this.childCount,t);}},{key:'_insertChild',value:function _insertChild(t,e){var n=function(t){if("string"==typeof t)return[new Ls(t)];ui(t)||(t=[t]);return Array.from(t).map(function(t){return"string"==typeof t?new Ls(t):t instanceof js?new Ls(t.data,t.getAttributes()):t;});}(e);var _iteratorNormalCompletion97=true;var _didIteratorError97=false;var _iteratorError97=undefined;try{for(var _iterator97=n[Symbol.iterator](),_step97;!(_iteratorNormalCompletion97=(_step97=_iterator97.next()).done);_iteratorNormalCompletion97=true){var _t65=_step97.value;null!==_t65.parent&&_t65._remove(),_t65.parent=this;}}catch(err){_didIteratorError97=true;_iteratorError97=err;}finally{try{if(!_iteratorNormalCompletion97&&_iterator97.return){_iterator97.return();}}finally{if(_didIteratorError97){throw _iteratorError97;}}}this._children._insertNodes(t,n);}},{key:'_removeChildren',value:function _removeChildren(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:1;var n=this._children._removeNodes(t,e);var _iteratorNormalCompletion98=true;var _didIteratorError98=false;var _iteratorError98=undefined;try{for(var _iterator98=n[Symbol.iterator](),_step98;!(_iteratorNormalCompletion98=(_step98=_iterator98.next()).done);_iteratorNormalCompletion98=true){var _t66=_step98.value;_t66.parent=null;}}catch(err){_didIteratorError98=true;_iteratorError98=err;}finally{try{if(!_iteratorNormalCompletion98&&_iterator98.return){_iterator98.return();}}finally{if(_didIteratorError98){throw _iteratorError98;}}}return n;}},{key:'childCount',get:function get(){return this._children.length;}},{key:'maxOffset',get:function get(){return this._children.maxOffset;}},{key:'isEmpty',get:function get(){return 0===this.childCount;}}],[{key:'fromJSON',value:function fromJSON(t){var e=null;if(t.children){e=[];var _iteratorNormalCompletion99=true;var _didIteratorError99=false;var _iteratorError99=undefined;try{for(var _iterator99=t.children[Symbol.iterator](),_step99;!(_iteratorNormalCompletion99=(_step99=_iterator99.next()).done);_iteratorNormalCompletion99=true){var n=_step99.value;n.name?e.push(zs.fromJSON(n)):e.push(Ls.fromJSON(n));}}catch(err){_didIteratorError99=true;_iteratorError99=err;}finally{try{if(!_iteratorNormalCompletion99&&_iterator99.return){_iterator99.return();}}finally{if(_didIteratorError99){throw _iteratorError99;}}}}return new zs(t.name,t.attributes,e);}}]);return zs;}(Ds);var Bs=function(){function Bs(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};_classCallCheck(this,Bs);if(!t.boundaries&&!t.startPosition)throw new P.b("model-tree-walker-no-start-position: Neither boundaries nor starting position have been defined.");var e=t.direction||"forward";if("forward"!=e&&"backward"!=e)throw new P.b("model-tree-walker-unknown-direction: Only `backward` and `forward` direction allowed.",{direction:e});this.direction=e,this.boundaries=t.boundaries||null,t.startPosition?this.position=t.startPosition.clone():this.position=Hs._createAt(this.boundaries["backward"==this.direction?"end":"start"]),this.position.stickiness="toNone",this.singleCharacters=!!t.singleCharacters,this.shallow=!!t.shallow,this.ignoreElementEnd=!!t.ignoreElementEnd,this._boundaryStartParent=this.boundaries?this.boundaries.start.parent:null,this._boundaryEndParent=this.boundaries?this.boundaries.end.parent:null,this._visitedParent=this.position.parent;}_createClass(Bs,[{key:Symbol.iterator,value:function value(){return this;}},{key:'skip',value:function skip(t){var e=void 0,n=void 0,i=void 0,o=void 0;do{var _next3;i=this.position,o=this._visitedParent,(_next3=this.next(),e=_next3.done,n=_next3.value,_next3);}while(!e&&t(n));e||(this.position=i,this._visitedParent=o);}},{key:'next',value:function next(){return"forward"==this.direction?this._next():this._previous();}},{key:'_next',value:function _next(){var t=this.position,e=this.position.clone(),n=this._visitedParent;if(null===n.parent&&e.offset===n.maxOffset)return{done:!0};if(n===this._boundaryEndParent&&e.offset==this.boundaries.end.offset)return{done:!0};var i=e.textNode?e.textNode:e.nodeAfter;if(i instanceof zs)return this.shallow?e.offset++:(e.path.push(0),this._visitedParent=i),this.position=e,Fs("elementStart",i,t,e,1);if(i instanceof Ls){var _o26=void 0;if(this.singleCharacters)_o26=1;else{var _t67=i.endOffset;this._boundaryEndParent==n&&this.boundaries.end.offset<_t67&&(_t67=this.boundaries.end.offset),_o26=_t67-e.offset;}var _r9=e.offset-i.startOffset,_s10=new js(i,_r9,_o26);return e.offset+=_o26,this.position=e,Fs("text",_s10,t,e,_o26);}return e.path.pop(),e.offset++,this.position=e,this._visitedParent=n.parent,this.ignoreElementEnd?this._next():Fs("elementEnd",n,t,e);}},{key:'_previous',value:function _previous(){var t=this.position,e=this.position.clone(),n=this._visitedParent;if(null===n.parent&&0===e.offset)return{done:!0};if(n==this._boundaryStartParent&&e.offset==this.boundaries.start.offset)return{done:!0};var i=e.textNode?e.textNode:e.nodeBefore;if(i instanceof zs)return e.offset--,this.shallow?(this.position=e,Fs("elementStart",i,t,e,1)):(e.path.push(i.maxOffset),this.position=e,this._visitedParent=i,this.ignoreElementEnd?this._previous():Fs("elementEnd",i,t,e));if(i instanceof Ls){var _o27=void 0;if(this.singleCharacters)_o27=1;else{var _t68=i.startOffset;this._boundaryStartParent==n&&this.boundaries.start.offset>_t68&&(_t68=this.boundaries.start.offset),_o27=e.offset-_t68;}var _r10=e.offset-i.startOffset,_s11=new js(i,_r10-_o27,_o27);return e.offset-=_o27,this.position=e,Fs("text",_s11,t,e,_o27);}return e.path.pop(),this.position=e,this._visitedParent=n.parent,Fs("elementStart",n,t,e,1);}}]);return Bs;}();function Fs(t,e,n,i,o){return{done:!1,value:{type:t,item:e,previousPosition:n,nextPosition:i,length:o}};}var Us=function Us(t){var e=null==t?0:t.length;return e?t[e-1]:void 0;};var Hs=function(){function Hs(t,e){var n=arguments.length>2&&arguments[2]!==undefined?arguments[2]:"toNone";_classCallCheck(this,Hs);if(!t.is("element")&&!t.is("documentFragment"))throw new P.b("model-position-root-invalid: Position root invalid.");if(!(e instanceof Array)||0===e.length)throw new P.b("model-position-path-incorrect: Position path must be an array with at least one item.",{path:e});e=t.getPath().concat(e),t=t.root,this.root=t,this.path=e,this.stickiness=n;}_createClass(Hs,[{key:'compareWith',value:function compareWith(t){if(this.root!=t.root)return"different";var e=U(this.path,t.path);switch(e){case"same":return"same";case"prefix":return"before";case"extension":return"after";default:return this.path[e]<t.path[e]?"before":"after";}}},{key:'getLastMatchingPosition',value:function getLastMatchingPosition(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};e.startPosition=this;var n=new Bs(e);return n.skip(t),n.position;}},{key:'getParentPath',value:function getParentPath(){return this.path.slice(0,-1);}},{key:'getAncestors',value:function getAncestors(){return this.parent.is("documentFragment")?[this.parent]:this.parent.getAncestors({includeSelf:!0});}},{key:'getCommonPath',value:function getCommonPath(t){if(this.root!=t.root)return[];var e=U(this.path,t.path),n="string"==typeof e?Math.min(this.path.length,t.path.length):e;return this.path.slice(0,n);}},{key:'getCommonAncestor',value:function getCommonAncestor(t){var e=this.getAncestors(),n=t.getAncestors();var i=0;for(;e[i]==n[i]&&e[i];){i++;}return 0===i?null:e[i-1];}},{key:'getShiftedBy',value:function getShiftedBy(t){var e=this.clone(),n=e.offset+t;return e.offset=n<0?0:n,e;}},{key:'isAfter',value:function isAfter(t){return"after"==this.compareWith(t);}},{key:'isBefore',value:function isBefore(t){return"before"==this.compareWith(t);}},{key:'isEqual',value:function isEqual(t){return"same"==this.compareWith(t);}},{key:'isTouching',value:function isTouching(t){var e=null,n=null;switch(this.compareWith(t)){case"same":return!0;case"before":e=Hs._createAt(this),n=Hs._createAt(t);break;case"after":e=Hs._createAt(t),n=Hs._createAt(this);break;default:return!1;}var i=e.parent;for(;e.path.length+n.path.length;){if(e.isEqual(n))return!0;if(e.path.length>n.path.length){if(e.offset!==i.maxOffset)return!1;e.path=e.path.slice(0,-1),i=i.parent,e.offset++;}else{if(0!==n.offset)return!1;n.path=n.path.slice(0,-1);}}}},{key:'hasSameParentAs',value:function hasSameParentAs(t){if(this.root!==t.root)return!1;return"same"==U(this.getParentPath(),t.getParentPath());}},{key:'getTransformedByOperation',value:function getTransformedByOperation(t){var e=void 0;switch(t.type){case"insert":e=this._getTransformedByInsertOperation(t);break;case"move":case"remove":case"reinsert":e=this._getTransformedByMoveOperation(t);break;case"split":e=this._getTransformedBySplitOperation(t);break;case"merge":e=this._getTransformedByMergeOperation(t);break;default:e=Hs._createAt(this);}return e;}},{key:'_getTransformedByInsertOperation',value:function _getTransformedByInsertOperation(t){return this._getTransformedByInsertion(t.position,t.howMany);}},{key:'_getTransformedByMoveOperation',value:function _getTransformedByMoveOperation(t){return this._getTransformedByMove(t.sourcePosition,t.targetPosition,t.howMany);}},{key:'_getTransformedBySplitOperation',value:function _getTransformedBySplitOperation(t){var e=t.movedRange;return e.containsPosition(this)||e.start.isEqual(this)&&"toNext"==this.stickiness?this._getCombined(t.splitPosition,t.moveTargetPosition):t.graveyardPosition?this._getTransformedByMove(t.graveyardPosition,t.insertionPosition,1):this._getTransformedByInsertion(t.insertionPosition,1);}},{key:'_getTransformedByMergeOperation',value:function _getTransformedByMergeOperation(t){var e=t.movedRange;var n=void 0;return e.containsPosition(this)||e.start.isEqual(this)?(n=this._getCombined(t.sourcePosition,t.targetPosition),t.sourcePosition.isBefore(t.targetPosition)&&(n=n._getTransformedByDeletion(t.deletionPosition,1))):n=this.isEqual(t.deletionPosition)?Hs._createAt(t.deletionPosition):this._getTransformedByMove(t.deletionPosition,t.graveyardPosition,1),n;}},{key:'_getTransformedByDeletion',value:function _getTransformedByDeletion(t,e){var n=Hs._createAt(this);if(this.root!=t.root)return n;if("same"==U(t.getParentPath(),this.getParentPath())){if(t.offset<this.offset){if(t.offset+e>this.offset)return null;n.offset-=e;}}else if("prefix"==U(t.getParentPath(),this.getParentPath())){var i=t.path.length-1;if(t.offset<=this.path[i]){if(t.offset+e>this.path[i])return null;n.path[i]-=e;}}return n;}},{key:'_getTransformedByInsertion',value:function _getTransformedByInsertion(t,e){var n=Hs._createAt(this);if(this.root!=t.root)return n;if("same"==U(t.getParentPath(),this.getParentPath()))(t.offset<this.offset||t.offset==this.offset&&"toPrevious"!=this.stickiness)&&(n.offset+=e);else if("prefix"==U(t.getParentPath(),this.getParentPath())){var i=t.path.length-1;t.offset<=this.path[i]&&(n.path[i]+=e);}return n;}},{key:'_getTransformedByMove',value:function _getTransformedByMove(t,e,n){if(e=e._getTransformedByDeletion(t,n),t.isEqual(e))return Hs._createAt(this);var i=this._getTransformedByDeletion(t,n);return null===i||t.isEqual(this)&&"toNext"==this.stickiness||t.getShiftedBy(n).isEqual(this)&&"toPrevious"==this.stickiness?this._getCombined(t,e):i._getTransformedByInsertion(e,n);}},{key:'_getCombined',value:function _getCombined(t,e){var n=t.path.length-1,i=Hs._createAt(e);return i.stickiness=this.stickiness,i.offset=i.offset+this.path[n]-t.offset,i.path=i.path.concat(this.path.slice(n+1)),i;}},{key:'toJSON',value:function toJSON(){return{root:this.root.toJSON(),path:Array.from(this.path),stickiness:this.stickiness};}},{key:'clone',value:function clone(){return new this.constructor(this.root,this.path,this.stickiness);}},{key:'offset',get:function get(){return Us(this.path);},set:function set(t){this.path[this.path.length-1]=t;}},{key:'parent',get:function get(){var t=this.root;for(var e=0;e<this.path.length-1;e++){t=t.getChild(t.offsetToIndex(this.path[e]));}return t;}},{key:'index',get:function get(){return this.parent.offsetToIndex(this.offset);}},{key:'textNode',get:function get(){var t=this.parent.getChild(this.index);return t instanceof Ls&&t.startOffset<this.offset?t:null;}},{key:'nodeAfter',get:function get(){return null===this.textNode?this.parent.getChild(this.index):null;}},{key:'nodeBefore',get:function get(){return null===this.textNode?this.parent.getChild(this.index-1):null;}},{key:'isAtStart',get:function get(){return 0===this.offset;}},{key:'isAtEnd',get:function get(){return this.offset==this.parent.maxOffset;}}],[{key:'_createAt',value:function _createAt(t,e){if(t instanceof Hs)return new Hs(t.root,t.path,t.stickiness);{var n=t;if("end"==e)e=n.maxOffset;else{if("before"==e)return this._createBefore(n);if("after"==e)return this._createAfter(n);if(0!==e&&!e)throw new P.b("model-createPositionAt-offset-required: Model#createPositionAt() requires the offset when the first parameter is a model item.");}if(!n.is("element")&&!n.is("documentFragment"))throw new P.b("model-position-parent-incorrect: Position parent have to be a element or document fragment.");var i=n.getPath();return i.push(e),new this(n.root,i);}}},{key:'_createAfter',value:function _createAfter(t){if(!t.parent)throw new P.b("model-position-after-root: You cannot make a position after root.",{root:t});return this._createAt(t.parent,t.endOffset);}},{key:'_createBefore',value:function _createBefore(t){if(!t.parent)throw new P.b("model-position-before-root: You cannot make a position before root.",{root:t});return this._createAt(t.parent,t.startOffset);}},{key:'fromJSON',value:function fromJSON(t,e){if("$graveyard"===t.root){var _n51=new Hs(e.graveyard,t.path);return _n51.stickiness=t.stickiness,_n51;}if(!e.getRoot(t.root))throw new P.b("model-position-fromjson-no-root: Cannot create position for document. Root with specified name does not exist.",{rootName:t.root});var n=new Hs(e.getRoot(t.root),t.path);return n.stickiness=t.stickiness,n;}}]);return Hs;}();var qs=function(){function qs(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:null;_classCallCheck(this,qs);this.start=Hs._createAt(t),this.end=e?Hs._createAt(e):Hs._createAt(t),this.start.stickiness=this.isCollapsed?"toNone":"toNext",this.end.stickiness=this.isCollapsed?"toNone":"toPrevious";}_createClass(qs,[{key:Symbol.iterator,value:/*#__PURE__*/regeneratorRuntime.mark(function value(){return regeneratorRuntime.wrap(function value$(_context12){while(1){switch(_context12.prev=_context12.next){case 0:return _context12.delegateYield(new Bs({boundaries:this,ignoreElementEnd:!0}),'t0',1);case 1:case'end':return _context12.stop();}}},value,this);})},{key:'containsPosition',value:function containsPosition(t){return t.isAfter(this.start)&&t.isBefore(this.end);}},{key:'containsRange',value:function containsRange(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:!1;t.isCollapsed&&(e=!1);var n=this.containsPosition(t.start)||e&&this.start.isEqual(t.start),i=this.containsPosition(t.end)||e&&this.end.isEqual(t.end);return n&&i;}},{key:'containsItem',value:function containsItem(t){var e=Hs._createBefore(t);return this.containsPosition(e)||this.start.isEqual(e);}},{key:'isEqual',value:function isEqual(t){return this.start.isEqual(t.start)&&this.end.isEqual(t.end);}},{key:'isIntersecting',value:function isIntersecting(t){return this.start.isBefore(t.end)&&this.end.isAfter(t.start);}},{key:'getDifference',value:function getDifference(t){var e=[];return this.isIntersecting(t)?(this.containsPosition(t.start)&&e.push(new qs(this.start,t.start)),this.containsPosition(t.end)&&e.push(new qs(t.end,this.end))):e.push(new qs(this.start,this.end)),e;}},{key:'getIntersection',value:function getIntersection(t){if(this.isIntersecting(t)){var e=this.start,n=this.end;return this.containsPosition(t.start)&&(e=t.start),this.containsPosition(t.end)&&(n=t.end),new qs(e,n);}return null;}},{key:'getMinimalFlatRanges',value:function getMinimalFlatRanges(){var t=[],e=this.start.getCommonPath(this.end).length,n=Hs._createAt(this.start);var i=n.parent;for(;n.path.length>e+1;){var _e52=i.maxOffset-n.offset;0!==_e52&&t.push(new qs(n,n.getShiftedBy(_e52))),n.path=n.path.slice(0,-1),n.offset++,i=i.parent;}for(;n.path.length<=this.end.path.length;){var _e53=this.end.path[n.path.length-1],_i11=_e53-n.offset;0!==_i11&&t.push(new qs(n,n.getShiftedBy(_i11))),n.offset=_e53,n.path.push(0);}return t;}},{key:'getWalker',value:function getWalker(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};return t.boundaries=this,new Bs(t);}},{key:'getItems',value:/*#__PURE__*/regeneratorRuntime.mark(function getItems(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};var e,_iteratorNormalCompletion100,_didIteratorError100,_iteratorError100,_iterator100,_step100,_t69;return regeneratorRuntime.wrap(function getItems$(_context13){while(1){switch(_context13.prev=_context13.next){case 0:t.boundaries=this,t.ignoreElementEnd=!0;e=new Bs(t);_iteratorNormalCompletion100=true;_didIteratorError100=false;_iteratorError100=undefined;_context13.prev=5;_iterator100=e[Symbol.iterator]();case 7:if(_iteratorNormalCompletion100=(_step100=_iterator100.next()).done){_context13.next=14;break;}_t69=_step100.value;_context13.next=11;return _t69.item;case 11:_iteratorNormalCompletion100=true;_context13.next=7;break;case 14:_context13.next=20;break;case 16:_context13.prev=16;_context13.t0=_context13['catch'](5);_didIteratorError100=true;_iteratorError100=_context13.t0;case 20:_context13.prev=20;_context13.prev=21;if(!_iteratorNormalCompletion100&&_iterator100.return){_iterator100.return();}case 23:_context13.prev=23;if(!_didIteratorError100){_context13.next=26;break;}throw _iteratorError100;case 26:return _context13.finish(23);case 27:return _context13.finish(20);case 28:case'end':return _context13.stop();}}},getItems,this,[[5,16,20,28],[21,,23,27]]);})},{key:'getPositions',value:/*#__PURE__*/regeneratorRuntime.mark(function getPositions(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};var e,_iteratorNormalCompletion101,_didIteratorError101,_iteratorError101,_iterator101,_step101,_t70;return regeneratorRuntime.wrap(function getPositions$(_context14){while(1){switch(_context14.prev=_context14.next){case 0:t.boundaries=this;e=new Bs(t);_context14.next=4;return e.position;case 4:_iteratorNormalCompletion101=true;_didIteratorError101=false;_iteratorError101=undefined;_context14.prev=7;_iterator101=e[Symbol.iterator]();case 9:if(_iteratorNormalCompletion101=(_step101=_iterator101.next()).done){_context14.next=16;break;}_t70=_step101.value;_context14.next=13;return _t70.nextPosition;case 13:_iteratorNormalCompletion101=true;_context14.next=9;break;case 16:_context14.next=22;break;case 18:_context14.prev=18;_context14.t0=_context14['catch'](7);_didIteratorError101=true;_iteratorError101=_context14.t0;case 22:_context14.prev=22;_context14.prev=23;if(!_iteratorNormalCompletion101&&_iterator101.return){_iterator101.return();}case 25:_context14.prev=25;if(!_didIteratorError101){_context14.next=28;break;}throw _iteratorError101;case 28:return _context14.finish(25);case 29:return _context14.finish(22);case 30:case'end':return _context14.stop();}}},getPositions,this,[[7,18,22,30],[23,,25,29]]);})},{key:'getTransformedByOperation',value:function getTransformedByOperation(t){switch(t.type){case"insert":return this._getTransformedByInsertOperation(t);case"move":case"remove":case"reinsert":return this._getTransformedByMoveOperation(t);case"split":return[this._getTransformedBySplitOperation(t)];case"merge":return[this._getTransformedByMergeOperation(t)];}return[new qs(this.start,this.end)];}},{key:'getTransformedByOperations',value:function getTransformedByOperations(t){var e=[new qs(this.start,this.end)];var _iteratorNormalCompletion102=true;var _didIteratorError102=false;var _iteratorError102=undefined;try{for(var _iterator102=t[Symbol.iterator](),_step102;!(_iteratorNormalCompletion102=(_step102=_iterator102.next()).done);_iteratorNormalCompletion102=true){var n=_step102.value;for(var _t73=0;_t73<e.length;_t73++){var _i12=e[_t73].getTransformedByOperation(n);e.splice.apply(e,[_t73,1].concat(_toConsumableArray(_i12))),_t73+=_i12.length-1;}}}catch(err){_didIteratorError102=true;_iteratorError102=err;}finally{try{if(!_iteratorNormalCompletion102&&_iterator102.return){_iterator102.return();}}finally{if(_didIteratorError102){throw _iteratorError102;}}}for(var _t71=0;_t71<e.length;_t71++){var _n52=e[_t71];for(var i=_t71+1;i<e.length;i++){var _t72=e[i];(_n52.containsRange(_t72)||_t72.containsRange(_n52)||_n52.isEqual(_t72))&&e.splice(i,1);}}return e;}},{key:'getCommonAncestor',value:function getCommonAncestor(){return this.start.getCommonAncestor(this.end);}},{key:'toJSON',value:function toJSON(){return{start:this.start.toJSON(),end:this.end.toJSON()};}},{key:'clone',value:function clone(){return new this.constructor(this.start,this.end);}},{key:'_getTransformedByInsertOperation',value:function _getTransformedByInsertOperation(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:!1;return this._getTransformedByInsertion(t.position,t.howMany,e);}},{key:'_getTransformedByMoveOperation',value:function _getTransformedByMoveOperation(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:!1;var n=t.sourcePosition,i=t.howMany,o=t.targetPosition;return this._getTransformedByMove(n,o,i,e);}},{key:'_getTransformedBySplitOperation',value:function _getTransformedBySplitOperation(t){var e=this.start._getTransformedBySplitOperation(t);var n=this.end._getTransformedBySplitOperation(t);return this.end.isEqual(t.insertionPosition)&&(n=this.end.getShiftedBy(1)),e.root!=n.root&&(n=this.end.getShiftedBy(-1)),new qs(e,n);}},{key:'_getTransformedByMergeOperation',value:function _getTransformedByMergeOperation(t){var e=this.start._getTransformedByMergeOperation(t),n=this.end._getTransformedByMergeOperation(t);return e.root!=n.root&&(n=this.end.getShiftedBy(-1)),e.isAfter(n)?(t.sourcePosition.isBefore(t.targetPosition)?(e=Hs._createAt(n)).offset=0:(t.deletionPosition.isEqual(e)||(n=t.deletionPosition),e=t.targetPosition),new qs(e,n)):new qs(e,n);}},{key:'_getTransformedByInsertion',value:function _getTransformedByInsertion(t,e){var n=arguments.length>2&&arguments[2]!==undefined?arguments[2]:!1;if(n&&this.containsPosition(t))return[new qs(this.start,t),new qs(t.getShiftedBy(e),this.end._getTransformedByInsertion(t,e))];{var _n53=new qs(this.start,this.end);return _n53.start=_n53.start._getTransformedByInsertion(t,e),_n53.end=_n53.end._getTransformedByInsertion(t,e),[_n53];}}},{key:'_getTransformedByMove',value:function _getTransformedByMove(t,e,n){var i=arguments.length>3&&arguments[3]!==undefined?arguments[3]:!1;if(this.isCollapsed){var _i13=this.start._getTransformedByMove(t,e,n);return[new qs(_i13)];}var o=qs._createFromPositionAndShift(t,n),r=e._getTransformedByDeletion(t,n);if(this.containsPosition(e)&&!i&&(o.containsPosition(this.start)||o.containsPosition(this.end))){var _i14=this.start._getTransformedByMove(t,e,n),_o28=this.end._getTransformedByMove(t,e,n);return[new qs(_i14,_o28)];}var s=void 0;var a=this.getDifference(o);var c=null;var l=this.getIntersection(o);if(1==a.length?c=new qs(a[0].start._getTransformedByDeletion(t,n),a[0].end._getTransformedByDeletion(t,n)):2==a.length&&(c=new qs(this.start,this.end._getTransformedByDeletion(t,n))),s=c?c._getTransformedByInsertion(r,n,null!==l||i):[],l){var _t74=new qs(l.start._getCombined(o.start,r),l.end._getCombined(o.start,r));2==s.length?s.splice(1,0,_t74):s.push(_t74);}return s;}},{key:'_getTransformedByDeletion',value:function _getTransformedByDeletion(t,e){var n=this.start._getTransformedByDeletion(t,e),i=this.end._getTransformedByDeletion(t,e);return null==n&&null==i?null:(null==n&&(n=t),null==i&&(i=t),new qs(n,i));}},{key:'isCollapsed',get:function get(){return this.start.isEqual(this.end);}},{key:'isFlat',get:function get(){return"same"==U(this.start.getParentPath(),this.end.getParentPath());}},{key:'root',get:function get(){return this.start.root;}}],[{key:'_createFromPositionAndShift',value:function _createFromPositionAndShift(t,e){var n=t,i=t.getShiftedBy(e);return e>0?new this(n,i):new this(i,n);}},{key:'_createIn',value:function _createIn(t){return new this(Hs._createAt(t,0),Hs._createAt(t,t.maxOffset));}},{key:'_createOn',value:function _createOn(t){return this._createFromPositionAndShift(Hs._createBefore(t),t.offsetSize);}},{key:'_createFromRanges',value:function _createFromRanges(t){if(0===t.length)throw new P.b("range-create-from-ranges-empty-array: At least one range has to be passed.");if(1==t.length)return t[0].clone();var e=t[0];t.sort(function(t,e){return t.start.isAfter(e.start)?1:-1;});var n=t.indexOf(e),i=new this(e.start,e.end);if(n>0)for(var _e54=n-1;t[_e54].end.isEqual(i.start);_e54++){i.start=Hs._createAt(t[_e54].start);}for(var _e55=n+1;_e55<t.length&&t[_e55].start.isEqual(i.end);_e55++){i.end=Hs._createAt(t[_e55].end);}return i;}},{key:'fromJSON',value:function fromJSON(t,e){return new this(Hs.fromJSON(t.start,e),Hs.fromJSON(t.end,e));}}]);return qs;}();var Ws=function(){function Ws(){var _this43=this;_classCallCheck(this,Ws);this._modelToViewMapping=new WeakMap(),this._viewToModelMapping=new WeakMap(),this._viewToModelLengthCallbacks=new Map(),this._markerNameToElements=new Map(),this.on("modelToViewPosition",function(t,e){if(e.viewPosition)return;var n=_this43._modelToViewMapping.get(e.modelPosition.parent);e.viewPosition=_this43._findPositionIn(n,e.modelPosition.offset);},{priority:"low"}),this.on("viewToModelPosition",function(t,e){if(e.modelPosition)return;var n=e.viewPosition.parent,i=_this43._viewToModelMapping.get(n);for(;!i;){n=n.parent,i=_this43._viewToModelMapping.get(n);}var o=_this43._toModelOffset(e.viewPosition.parent,e.viewPosition.offset,n);e.modelPosition=Hs._createAt(i,o);},{priority:"low"});}_createClass(Ws,[{key:'bindElements',value:function bindElements(t,e){this._modelToViewMapping.set(t,e),this._viewToModelMapping.set(e,t);}},{key:'unbindViewElement',value:function unbindViewElement(t){var e=this.toModelElement(t);this._viewToModelMapping.delete(t),this._modelToViewMapping.get(e)==t&&this._modelToViewMapping.delete(e);}},{key:'unbindModelElement',value:function unbindModelElement(t){var e=this.toViewElement(t);this._modelToViewMapping.delete(t),this._viewToModelMapping.get(e)==t&&this._viewToModelMapping.delete(e);}},{key:'bindElementToMarker',value:function bindElementToMarker(t,e){var n=this._markerNameToElements.get(e)||new Set();n.add(t),this._markerNameToElements.set(e,n);}},{key:'unbindElementsFromMarkerName',value:function unbindElementsFromMarkerName(t){this._markerNameToElements.delete(t);}},{key:'clearBindings',value:function clearBindings(){this._modelToViewMapping=new WeakMap(),this._viewToModelMapping=new WeakMap(),this._markerNameToElements=new Map();}},{key:'toModelElement',value:function toModelElement(t){return this._viewToModelMapping.get(t);}},{key:'toViewElement',value:function toViewElement(t){return this._modelToViewMapping.get(t);}},{key:'toModelRange',value:function toModelRange(t){return new qs(this.toModelPosition(t.start),this.toModelPosition(t.end));}},{key:'toViewRange',value:function toViewRange(t){return new Gi(this.toViewPosition(t.start),this.toViewPosition(t.end));}},{key:'toModelPosition',value:function toModelPosition(t){var e={viewPosition:t,mapper:this};return this.fire("viewToModelPosition",e),e.modelPosition;}},{key:'toViewPosition',value:function toViewPosition(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{isPhantom:!1};var n={modelPosition:t,mapper:this,isPhantom:e.isPhantom};return this.fire("modelToViewPosition",n),n.viewPosition;}},{key:'markerNameToElements',value:function markerNameToElements(t){var e=this._markerNameToElements.get(t);if(!e)return null;var n=new Set();var _iteratorNormalCompletion103=true;var _didIteratorError103=false;var _iteratorError103=undefined;try{for(var _iterator103=e[Symbol.iterator](),_step103;!(_iteratorNormalCompletion103=(_step103=_iterator103.next()).done);_iteratorNormalCompletion103=true){var _t75=_step103.value;if(_t75.is("attributeElement")){var _iteratorNormalCompletion104=true;var _didIteratorError104=false;var _iteratorError104=undefined;try{for(var _iterator104=_t75.getElementsWithSameId()[Symbol.iterator](),_step104;!(_iteratorNormalCompletion104=(_step104=_iterator104.next()).done);_iteratorNormalCompletion104=true){var _e56=_step104.value;n.add(_e56);}}catch(err){_didIteratorError104=true;_iteratorError104=err;}finally{try{if(!_iteratorNormalCompletion104&&_iterator104.return){_iterator104.return();}}finally{if(_didIteratorError104){throw _iteratorError104;}}}}else n.add(_t75);}}catch(err){_didIteratorError103=true;_iteratorError103=err;}finally{try{if(!_iteratorNormalCompletion103&&_iterator103.return){_iterator103.return();}}finally{if(_didIteratorError103){throw _iteratorError103;}}}return n;}},{key:'registerViewToModelLength',value:function registerViewToModelLength(t,e){this._viewToModelLengthCallbacks.set(t,e);}},{key:'_toModelOffset',value:function _toModelOffset(t,e,n){if(n!=t){return this._toModelOffset(t.parent,t.index,n)+this._toModelOffset(t,e,t);}if(t.is("text"))return e;var i=0;for(var _n54=0;_n54<e;_n54++){i+=this.getModelLength(t.getChild(_n54));}return i;}},{key:'getModelLength',value:function getModelLength(t){if(this._viewToModelLengthCallbacks.get(t.name)){return this._viewToModelLengthCallbacks.get(t.name)(t);}if(this._viewToModelMapping.has(t))return 1;if(t.is("text"))return t.data.length;if(t.is("uiElement"))return 0;{var e=0;var _iteratorNormalCompletion105=true;var _didIteratorError105=false;var _iteratorError105=undefined;try{for(var _iterator105=t.getChildren()[Symbol.iterator](),_step105;!(_iteratorNormalCompletion105=(_step105=_iterator105.next()).done);_iteratorNormalCompletion105=true){var n=_step105.value;e+=this.getModelLength(n);}}catch(err){_didIteratorError105=true;_iteratorError105=err;}finally{try{if(!_iteratorNormalCompletion105&&_iterator105.return){_iterator105.return();}}finally{if(_didIteratorError105){throw _iteratorError105;}}}return e;}}},{key:'_findPositionIn',value:function _findPositionIn(t,e){var n=void 0,i=0,o=0,r=0;if(t.is("text"))return new $i(t,e);for(;o<e;){n=t.getChild(r),o+=i=this.getModelLength(n),r++;}return o==e?this._moveViewPositionToTextNode(new $i(t,r)):this._findPositionIn(n,e-(o-i));}},{key:'_moveViewPositionToTextNode',value:function _moveViewPositionToTextNode(t){var e=t.nodeBefore,n=t.nodeAfter;return e instanceof ci?new $i(e,e.data.length):n instanceof ci?new $i(n,0):t;}}]);return Ws;}();F(Ws,R);var Ys=function(){function Ys(){_classCallCheck(this,Ys);this._consumable=new Map(),this._textProxyRegistry=new Map();}_createClass(Ys,[{key:'add',value:function add(t,e){e=$s(e),t instanceof js&&(t=this._getSymbolForTextProxy(t)),this._consumable.has(t)||this._consumable.set(t,new Map()),this._consumable.get(t).set(e,!0);}},{key:'consume',value:function consume(t,e){return e=$s(e),t instanceof js&&(t=this._getSymbolForTextProxy(t)),!!this.test(t,e)&&(this._consumable.get(t).set(e,!1),!0);}},{key:'test',value:function test(t,e){e=$s(e),t instanceof js&&(t=this._getSymbolForTextProxy(t));var n=this._consumable.get(t);if(void 0===n)return null;var i=n.get(e);return void 0===i?null:i;}},{key:'revert',value:function revert(t,e){e=$s(e),t instanceof js&&(t=this._getSymbolForTextProxy(t));var n=this.test(t,e);return!1===n?(this._consumable.get(t).set(e,!0),!0):!0!==n&&null;}},{key:'_getSymbolForTextProxy',value:function _getSymbolForTextProxy(t){var e=null;var n=this._textProxyRegistry.get(t.startOffset);if(n){var i=n.get(t.endOffset);i&&(e=i.get(t.parent));}return e||(e=this._addSymbolForTextProxy(t.startOffset,t.endOffset,t.parent)),e;}},{key:'_addSymbolForTextProxy',value:function _addSymbolForTextProxy(t,e,n){var i=Symbol("textProxySymbol");var o=void 0,r=void 0;return(o=this._textProxyRegistry.get(t))||(o=new Map(),this._textProxyRegistry.set(t,o)),(r=o.get(e))||(r=new Map(),o.set(e,r)),r.set(n,i),i;}}]);return Ys;}();function $s(t){var e=t.split(":");return e.length>1?e[0]+":"+e[1]:e[0];}var Gs=function(){function Gs(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};_classCallCheck(this,Gs);this.conversionApi=Ei({dispatcher:this},t);}_createClass(Gs,[{key:'convertChanges',value:function convertChanges(t,e){var _iteratorNormalCompletion106=true;var _didIteratorError106=false;var _iteratorError106=undefined;try{for(var _iterator106=t.getMarkersToRemove()[Symbol.iterator](),_step106;!(_iteratorNormalCompletion106=(_step106=_iterator106.next()).done);_iteratorNormalCompletion106=true){var n=_step106.value;this.convertMarkerRemove(n.name,n.range,e);}}catch(err){_didIteratorError106=true;_iteratorError106=err;}finally{try{if(!_iteratorNormalCompletion106&&_iterator106.return){_iterator106.return();}}finally{if(_didIteratorError106){throw _iteratorError106;}}}var _iteratorNormalCompletion107=true;var _didIteratorError107=false;var _iteratorError107=undefined;try{for(var _iterator107=t.getChanges()[Symbol.iterator](),_step107;!(_iteratorNormalCompletion107=(_step107=_iterator107.next()).done);_iteratorNormalCompletion107=true){var _n55=_step107.value;"insert"==_n55.type?this.convertInsert(qs._createFromPositionAndShift(_n55.position,_n55.length),e):"remove"==_n55.type?this.convertRemove(_n55.position,_n55.length,_n55.name,e):this.convertAttribute(_n55.range,_n55.attributeKey,_n55.attributeOldValue,_n55.attributeNewValue,e);}}catch(err){_didIteratorError107=true;_iteratorError107=err;}finally{try{if(!_iteratorNormalCompletion107&&_iterator107.return){_iterator107.return();}}finally{if(_didIteratorError107){throw _iteratorError107;}}}var _iteratorNormalCompletion108=true;var _didIteratorError108=false;var _iteratorError108=undefined;try{for(var _iterator108=t.getMarkersToAdd()[Symbol.iterator](),_step108;!(_iteratorNormalCompletion108=(_step108=_iterator108.next()).done);_iteratorNormalCompletion108=true){var _n56=_step108.value;this.convertMarkerAdd(_n56.name,_n56.range,e);}}catch(err){_didIteratorError108=true;_iteratorError108=err;}finally{try{if(!_iteratorNormalCompletion108&&_iterator108.return){_iterator108.return();}}finally{if(_didIteratorError108){throw _iteratorError108;}}}}},{key:'convertInsert',value:function convertInsert(t,e){this.conversionApi.writer=e,this.conversionApi.consumable=this._createInsertConsumable(t);var _iteratorNormalCompletion109=true;var _didIteratorError109=false;var _iteratorError109=undefined;try{for(var _iterator109=t[Symbol.iterator](),_step109;!(_iteratorNormalCompletion109=(_step109=_iterator109.next()).done);_iteratorNormalCompletion109=true){var _e57=_step109.value;var _t76=_e57.item,n={item:_t76,range:qs._createFromPositionAndShift(_e57.previousPosition,_e57.length)};this._testAndFire("insert",n);var _iteratorNormalCompletion110=true;var _didIteratorError110=false;var _iteratorError110=undefined;try{for(var _iterator110=_t76.getAttributeKeys()[Symbol.iterator](),_step110;!(_iteratorNormalCompletion110=(_step110=_iterator110.next()).done);_iteratorNormalCompletion110=true){var _e58=_step110.value;n.attributeKey=_e58,n.attributeOldValue=null,n.attributeNewValue=_t76.getAttribute(_e58),this._testAndFire('attribute:'+_e58,n);}}catch(err){_didIteratorError110=true;_iteratorError110=err;}finally{try{if(!_iteratorNormalCompletion110&&_iterator110.return){_iterator110.return();}}finally{if(_didIteratorError110){throw _iteratorError110;}}}}}catch(err){_didIteratorError109=true;_iteratorError109=err;}finally{try{if(!_iteratorNormalCompletion109&&_iterator109.return){_iterator109.return();}}finally{if(_didIteratorError109){throw _iteratorError109;}}}this._clearConversionApi();}},{key:'convertRemove',value:function convertRemove(t,e,n,i){this.conversionApi.writer=i,this.fire("remove:"+n,{position:t,length:e},this.conversionApi),this._clearConversionApi();}},{key:'convertAttribute',value:function convertAttribute(t,e,n,i,o){this.conversionApi.writer=o,this.conversionApi.consumable=this._createConsumableForRange(t,'attribute:'+e);var _iteratorNormalCompletion111=true;var _didIteratorError111=false;var _iteratorError111=undefined;try{for(var _iterator111=t[Symbol.iterator](),_step111;!(_iteratorNormalCompletion111=(_step111=_iterator111.next()).done);_iteratorNormalCompletion111=true){var _o29=_step111.value;var _t77={item:_o29.item,range:qs._createFromPositionAndShift(_o29.previousPosition,_o29.length),attributeKey:e,attributeOldValue:n,attributeNewValue:i};this._testAndFire('attribute:'+e,_t77);}}catch(err){_didIteratorError111=true;_iteratorError111=err;}finally{try{if(!_iteratorNormalCompletion111&&_iterator111.return){_iterator111.return();}}finally{if(_didIteratorError111){throw _iteratorError111;}}}this._clearConversionApi();}},{key:'convertSelection',value:function convertSelection(t,e,n){var i=Array.from(e.getMarkersAtPosition(t.getFirstPosition()));if(this.conversionApi.writer=n,this.conversionApi.consumable=this._createSelectionConsumable(t,i),this.fire("selection",{selection:t},this.conversionApi),t.isCollapsed){var _iteratorNormalCompletion112=true;var _didIteratorError112=false;var _iteratorError112=undefined;try{for(var _iterator112=i[Symbol.iterator](),_step112;!(_iteratorNormalCompletion112=(_step112=_iterator112.next()).done);_iteratorNormalCompletion112=true){var _e59=_step112.value;var _n57=_e59.getRange();if(!Qs(t.getFirstPosition(),_e59,this.conversionApi.mapper))continue;var _i15={item:t,markerName:_e59.name,markerRange:_n57};this.conversionApi.consumable.test(t,"addMarker:"+_e59.name)&&this.fire("addMarker:"+_e59.name,_i15,this.conversionApi);}}catch(err){_didIteratorError112=true;_iteratorError112=err;}finally{try{if(!_iteratorNormalCompletion112&&_iterator112.return){_iterator112.return();}}finally{if(_didIteratorError112){throw _iteratorError112;}}}var _iteratorNormalCompletion113=true;var _didIteratorError113=false;var _iteratorError113=undefined;try{for(var _iterator113=t.getAttributeKeys()[Symbol.iterator](),_step113;!(_iteratorNormalCompletion113=(_step113=_iterator113.next()).done);_iteratorNormalCompletion113=true){var _e60=_step113.value;var _n58={item:t,range:t.getFirstRange(),attributeKey:_e60,attributeOldValue:null,attributeNewValue:t.getAttribute(_e60)};this.conversionApi.consumable.test(t,"attribute:"+_n58.attributeKey)&&this.fire("attribute:"+_n58.attributeKey,_n58,this.conversionApi);}}catch(err){_didIteratorError113=true;_iteratorError113=err;}finally{try{if(!_iteratorNormalCompletion113&&_iterator113.return){_iterator113.return();}}finally{if(_didIteratorError113){throw _iteratorError113;}}}this._clearConversionApi();}}},{key:'convertMarkerAdd',value:function convertMarkerAdd(t,e,n){if(!e.root.document||"$graveyard"==e.root.rootName)return;this.conversionApi.writer=n;var i="addMarker:"+t;if(e.isCollapsed){var _n59=new Ys();return _n59.add(e,i),this.conversionApi.consumable=_n59,void this.fire(i,{markerName:t,markerRange:e},this.conversionApi);}this.conversionApi.consumable=this._createConsumableForRange(e,i);var _iteratorNormalCompletion114=true;var _didIteratorError114=false;var _iteratorError114=undefined;try{for(var _iterator114=e.getItems()[Symbol.iterator](),_step114;!(_iteratorNormalCompletion114=(_step114=_iterator114.next()).done);_iteratorNormalCompletion114=true){var _n60=_step114.value;if(!this.conversionApi.consumable.test(_n60,i))continue;var _o30={item:_n60,range:qs._createOn(_n60),markerName:t,markerRange:e};this.fire(i,_o30,this.conversionApi);}}catch(err){_didIteratorError114=true;_iteratorError114=err;}finally{try{if(!_iteratorNormalCompletion114&&_iterator114.return){_iterator114.return();}}finally{if(_didIteratorError114){throw _iteratorError114;}}}this._clearConversionApi();}},{key:'convertMarkerRemove',value:function convertMarkerRemove(t,e,n){e.root.document&&"$graveyard"!=e.root.rootName&&(this.conversionApi.writer=n,this.fire("removeMarker:"+t,{markerName:t,markerRange:e},this.conversionApi),this._clearConversionApi());}},{key:'_createInsertConsumable',value:function _createInsertConsumable(t){var e=new Ys();var _iteratorNormalCompletion115=true;var _didIteratorError115=false;var _iteratorError115=undefined;try{for(var _iterator115=t[Symbol.iterator](),_step115;!(_iteratorNormalCompletion115=(_step115=_iterator115.next()).done);_iteratorNormalCompletion115=true){var n=_step115.value;var _t78=n.item;e.add(_t78,"insert");var _iteratorNormalCompletion116=true;var _didIteratorError116=false;var _iteratorError116=undefined;try{for(var _iterator116=_t78.getAttributeKeys()[Symbol.iterator](),_step116;!(_iteratorNormalCompletion116=(_step116=_iterator116.next()).done);_iteratorNormalCompletion116=true){var _n61=_step116.value;e.add(_t78,"attribute:"+_n61);}}catch(err){_didIteratorError116=true;_iteratorError116=err;}finally{try{if(!_iteratorNormalCompletion116&&_iterator116.return){_iterator116.return();}}finally{if(_didIteratorError116){throw _iteratorError116;}}}}}catch(err){_didIteratorError115=true;_iteratorError115=err;}finally{try{if(!_iteratorNormalCompletion115&&_iterator115.return){_iterator115.return();}}finally{if(_didIteratorError115){throw _iteratorError115;}}}return e;}},{key:'_createConsumableForRange',value:function _createConsumableForRange(t,e){var n=new Ys();var _iteratorNormalCompletion117=true;var _didIteratorError117=false;var _iteratorError117=undefined;try{for(var _iterator117=t.getItems()[Symbol.iterator](),_step117;!(_iteratorNormalCompletion117=(_step117=_iterator117.next()).done);_iteratorNormalCompletion117=true){var i=_step117.value;n.add(i,e);}}catch(err){_didIteratorError117=true;_iteratorError117=err;}finally{try{if(!_iteratorNormalCompletion117&&_iterator117.return){_iterator117.return();}}finally{if(_didIteratorError117){throw _iteratorError117;}}}return n;}},{key:'_createSelectionConsumable',value:function _createSelectionConsumable(t,e){var n=new Ys();n.add(t,"selection");var _iteratorNormalCompletion118=true;var _didIteratorError118=false;var _iteratorError118=undefined;try{for(var _iterator118=e[Symbol.iterator](),_step118;!(_iteratorNormalCompletion118=(_step118=_iterator118.next()).done);_iteratorNormalCompletion118=true){var i=_step118.value;n.add(t,"addMarker:"+i.name);}}catch(err){_didIteratorError118=true;_iteratorError118=err;}finally{try{if(!_iteratorNormalCompletion118&&_iterator118.return){_iterator118.return();}}finally{if(_didIteratorError118){throw _iteratorError118;}}}var _iteratorNormalCompletion119=true;var _didIteratorError119=false;var _iteratorError119=undefined;try{for(var _iterator119=t.getAttributeKeys()[Symbol.iterator](),_step119;!(_iteratorNormalCompletion119=(_step119=_iterator119.next()).done);_iteratorNormalCompletion119=true){var _e61=_step119.value;n.add(t,"attribute:"+_e61);}}catch(err){_didIteratorError119=true;_iteratorError119=err;}finally{try{if(!_iteratorNormalCompletion119&&_iterator119.return){_iterator119.return();}}finally{if(_didIteratorError119){throw _iteratorError119;}}}return n;}},{key:'_testAndFire',value:function _testAndFire(t,e){if(!this.conversionApi.consumable.test(e.item,t))return;var n=e.item.name||"$text";this.fire(t+":"+n,e,this.conversionApi);}},{key:'_clearConversionApi',value:function _clearConversionApi(){delete this.conversionApi.writer,delete this.conversionApi.consumable;}}]);return Gs;}();function Qs(t,e,n){var i=e.getRange(),o=Array.from(t.getAncestors());return o.shift(),o.reverse(),!o.some(function(t){if(i.containsItem(t)){return!!n.toViewElement(t).getCustomProperty("addHighlight");}});}F(Gs,R);var Js=function(){function Js(t,e,n){_classCallCheck(this,Js);this._lastRangeBackward=!1,this._ranges=[],this._attrs=new Map(),t&&this.setTo(t,e,n);}_createClass(Js,[{key:'isEqual',value:function isEqual(t){if(this.rangeCount!=t.rangeCount)return!1;if(0===this.rangeCount)return!0;if(!this.anchor.isEqual(t.anchor)||!this.focus.isEqual(t.focus))return!1;var _iteratorNormalCompletion120=true;var _didIteratorError120=false;var _iteratorError120=undefined;try{for(var _iterator120=this._ranges[Symbol.iterator](),_step120;!(_iteratorNormalCompletion120=(_step120=_iterator120.next()).done);_iteratorNormalCompletion120=true){var e=_step120.value;var n=!1;var _iteratorNormalCompletion121=true;var _didIteratorError121=false;var _iteratorError121=undefined;try{for(var _iterator121=t._ranges[Symbol.iterator](),_step121;!(_iteratorNormalCompletion121=(_step121=_iterator121.next()).done);_iteratorNormalCompletion121=true){var i=_step121.value;if(e.isEqual(i)){n=!0;break;}}}catch(err){_didIteratorError121=true;_iteratorError121=err;}finally{try{if(!_iteratorNormalCompletion121&&_iterator121.return){_iterator121.return();}}finally{if(_didIteratorError121){throw _iteratorError121;}}}if(!n)return!1;}}catch(err){_didIteratorError120=true;_iteratorError120=err;}finally{try{if(!_iteratorNormalCompletion120&&_iterator120.return){_iterator120.return();}}finally{if(_didIteratorError120){throw _iteratorError120;}}}return!0;}},{key:'getRanges',value:/*#__PURE__*/regeneratorRuntime.mark(function getRanges(){var _iteratorNormalCompletion122,_didIteratorError122,_iteratorError122,_iterator122,_step122,t;return regeneratorRuntime.wrap(function getRanges$(_context15){while(1){switch(_context15.prev=_context15.next){case 0:_iteratorNormalCompletion122=true;_didIteratorError122=false;_iteratorError122=undefined;_context15.prev=3;_iterator122=this._ranges[Symbol.iterator]();case 5:if(_iteratorNormalCompletion122=(_step122=_iterator122.next()).done){_context15.next=12;break;}t=_step122.value;_context15.next=9;return new qs(t.start,t.end);case 9:_iteratorNormalCompletion122=true;_context15.next=5;break;case 12:_context15.next=18;break;case 14:_context15.prev=14;_context15.t0=_context15['catch'](3);_didIteratorError122=true;_iteratorError122=_context15.t0;case 18:_context15.prev=18;_context15.prev=19;if(!_iteratorNormalCompletion122&&_iterator122.return){_iterator122.return();}case 21:_context15.prev=21;if(!_didIteratorError122){_context15.next=24;break;}throw _iteratorError122;case 24:return _context15.finish(21);case 25:return _context15.finish(18);case 26:case'end':return _context15.stop();}}},getRanges,this,[[3,14,18,26],[19,,21,25]]);})},{key:'getFirstRange',value:function getFirstRange(){var t=null;var _iteratorNormalCompletion123=true;var _didIteratorError123=false;var _iteratorError123=undefined;try{for(var _iterator123=this._ranges[Symbol.iterator](),_step123;!(_iteratorNormalCompletion123=(_step123=_iterator123.next()).done);_iteratorNormalCompletion123=true){var e=_step123.value;t&&!e.start.isBefore(t.start)||(t=e);}}catch(err){_didIteratorError123=true;_iteratorError123=err;}finally{try{if(!_iteratorNormalCompletion123&&_iterator123.return){_iterator123.return();}}finally{if(_didIteratorError123){throw _iteratorError123;}}}return t?new qs(t.start,t.end):null;}},{key:'getLastRange',value:function getLastRange(){var t=null;var _iteratorNormalCompletion124=true;var _didIteratorError124=false;var _iteratorError124=undefined;try{for(var _iterator124=this._ranges[Symbol.iterator](),_step124;!(_iteratorNormalCompletion124=(_step124=_iterator124.next()).done);_iteratorNormalCompletion124=true){var e=_step124.value;t&&!e.end.isAfter(t.end)||(t=e);}}catch(err){_didIteratorError124=true;_iteratorError124=err;}finally{try{if(!_iteratorNormalCompletion124&&_iterator124.return){_iterator124.return();}}finally{if(_didIteratorError124){throw _iteratorError124;}}}return t?new qs(t.start,t.end):null;}},{key:'getFirstPosition',value:function getFirstPosition(){var t=this.getFirstRange();return t?t.start.clone():null;}},{key:'getLastPosition',value:function getLastPosition(){var t=this.getLastRange();return t?t.end.clone():null;}},{key:'setTo',value:function setTo(t,e,n){if(null===t)this._setRanges([]);else if(t instanceof Js)this._setRanges(t.getRanges(),t.isBackward);else if(t&&"function"==typeof t.getRanges)this._setRanges(t.getRanges(),t.isBackward);else if(t instanceof qs)this._setRanges([t],!!e&&!!e.backward);else if(t instanceof Hs)this._setRanges([new qs(t)]);else if(t instanceof Ds){var i=!!n&&!!n.backward;var _o31=void 0;if("in"==e)_o31=qs._createIn(t);else if("on"==e)_o31=qs._createOn(t);else{if(void 0===e)throw new P.b("model-selection-setTo-required-second-parameter: selection.setTo requires the second parameter when the first parameter is a node.");_o31=new qs(Hs._createAt(t,e));}this._setRanges([_o31],i);}else{if(!ui(t))throw new P.b("model-selection-setTo-not-selectable: Cannot set selection to given place.");this._setRanges(t,e&&!!e.backward);}}},{key:'_setRanges',value:function _setRanges(t){var _this44=this;var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:!1;var n=(t=Array.from(t)).some(function(t){if(!(t instanceof qs))throw new P.b("model-selection-set-ranges-not-range: Selection range set to an object that is not an instance of model.Range.");return _this44._ranges.every(function(e){return!e.isEqual(t);});});if(t.length!==this._ranges.length||n){this._removeAllRanges();var _iteratorNormalCompletion125=true;var _didIteratorError125=false;var _iteratorError125=undefined;try{for(var _iterator125=t[Symbol.iterator](),_step125;!(_iteratorNormalCompletion125=(_step125=_iterator125.next()).done);_iteratorNormalCompletion125=true){var _e62=_step125.value;this._pushRange(_e62);}}catch(err){_didIteratorError125=true;_iteratorError125=err;}finally{try{if(!_iteratorNormalCompletion125&&_iterator125.return){_iterator125.return();}}finally{if(_didIteratorError125){throw _iteratorError125;}}}this._lastRangeBackward=!!e,this.fire("change:range",{directChange:!0});}}},{key:'setFocus',value:function setFocus(t,e){if(null===this.anchor)throw new P.b("model-selection-setFocus-no-ranges: Cannot set selection focus if there are no ranges in selection.");var n=Hs._createAt(t,e);if("same"==n.compareWith(this.focus))return;var i=this.anchor;this._ranges.length&&this._popRange(),"before"==n.compareWith(i)?(this._pushRange(new qs(n,i)),this._lastRangeBackward=!0):(this._pushRange(new qs(i,n)),this._lastRangeBackward=!1),this.fire("change:range",{directChange:!0});}},{key:'getAttribute',value:function getAttribute(t){return this._attrs.get(t);}},{key:'getAttributes',value:function getAttributes(){return this._attrs.entries();}},{key:'getAttributeKeys',value:function getAttributeKeys(){return this._attrs.keys();}},{key:'hasAttribute',value:function hasAttribute(t){return this._attrs.has(t);}},{key:'removeAttribute',value:function removeAttribute(t){this.hasAttribute(t)&&(this._attrs.delete(t),this.fire("change:attribute",{attributeKeys:[t],directChange:!0}));}},{key:'setAttribute',value:function setAttribute(t,e){this.getAttribute(t)!==e&&(this._attrs.set(t,e),this.fire("change:attribute",{attributeKeys:[t],directChange:!0}));}},{key:'getSelectedElement',value:function getSelectedElement(){if(1!==this.rangeCount)return null;var t=this.getFirstRange(),e=t.start.nodeAfter,n=t.end.nodeBefore;return e instanceof zs&&e==n?e:null;}},{key:'getSelectedBlocks',value:/*#__PURE__*/regeneratorRuntime.mark(function getSelectedBlocks(){var t,_iteratorNormalCompletion126,_didIteratorError126,_iteratorError126,_iterator126,_step126,e,n,_iteratorNormalCompletion127,_didIteratorError127,_iteratorError127,_iterator127,_step127,_n62,i;return regeneratorRuntime.wrap(function getSelectedBlocks$(_context16){while(1){switch(_context16.prev=_context16.next){case 0:t=new WeakSet();_iteratorNormalCompletion126=true;_didIteratorError126=false;_iteratorError126=undefined;_context16.prev=4;_iterator126=this.getRanges()[Symbol.iterator]();case 6:if(_iteratorNormalCompletion126=(_step126=_iterator126.next()).done){_context16.next=49;break;}e=_step126.value;n=Zs(e.start,t);_context16.t0=n;if(!_context16.t0){_context16.next=13;break;}_context16.next=13;return n;case 13:_iteratorNormalCompletion127=true;_didIteratorError127=false;_iteratorError127=undefined;_context16.prev=16;_iterator127=e.getWalker()[Symbol.iterator]();case 18:if(_iteratorNormalCompletion127=(_step127=_iterator127.next()).done){_context16.next=27;break;}_n62=_step127.value;_context16.t1="elementEnd"==_n62.type&&Ks(_n62.item,t);if(!_context16.t1){_context16.next=24;break;}_context16.next=24;return _n62.item;case 24:_iteratorNormalCompletion127=true;_context16.next=18;break;case 27:_context16.next=33;break;case 29:_context16.prev=29;_context16.t2=_context16['catch'](16);_didIteratorError127=true;_iteratorError127=_context16.t2;case 33:_context16.prev=33;_context16.prev=34;if(!_iteratorNormalCompletion127&&_iterator127.return){_iterator127.return();}case 36:_context16.prev=36;if(!_didIteratorError127){_context16.next=39;break;}throw _iteratorError127;case 39:return _context16.finish(36);case 40:return _context16.finish(33);case 41:i=Zs(e.end,t);_context16.t3=i&&!e.end.isTouching(Hs._createAt(i,0));if(!_context16.t3){_context16.next=46;break;}_context16.next=46;return i;case 46:_iteratorNormalCompletion126=true;_context16.next=6;break;case 49:_context16.next=55;break;case 51:_context16.prev=51;_context16.t4=_context16['catch'](4);_didIteratorError126=true;_iteratorError126=_context16.t4;case 55:_context16.prev=55;_context16.prev=56;if(!_iteratorNormalCompletion126&&_iterator126.return){_iterator126.return();}case 58:_context16.prev=58;if(!_didIteratorError126){_context16.next=61;break;}throw _iteratorError126;case 61:return _context16.finish(58);case 62:return _context16.finish(55);case 63:case'end':return _context16.stop();}}},getSelectedBlocks,this,[[4,51,55,63],[16,29,33,41],[34,,36,40],[56,,58,62]]);})},{key:'containsEntireContent',value:function containsEntireContent(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:this.anchor.root;var e=Hs._createAt(t,0),n=Hs._createAt(t,"end");return e.isTouching(this.getFirstPosition())&&n.isTouching(this.getLastPosition());}},{key:'_pushRange',value:function _pushRange(t){this._checkRange(t),this._ranges.push(new qs(t.start,t.end));}},{key:'_checkRange',value:function _checkRange(t){for(var e=0;e<this._ranges.length;e++){if(t.isIntersecting(this._ranges[e]))throw new P.b("model-selection-range-intersects: Trying to add a range that intersects with another range in the selection.",{addedRange:t,intersectingRange:this._ranges[e]});}}},{key:'_removeAllRanges',value:function _removeAllRanges(){for(;this._ranges.length>0;){this._popRange();}}},{key:'_popRange',value:function _popRange(){this._ranges.pop();}},{key:'anchor',get:function get(){if(this._ranges.length>0){var t=this._ranges[this._ranges.length-1];return this._lastRangeBackward?t.end:t.start;}return null;}},{key:'focus',get:function get(){if(this._ranges.length>0){var t=this._ranges[this._ranges.length-1];return this._lastRangeBackward?t.start:t.end;}return null;}},{key:'isCollapsed',get:function get(){return 1===this._ranges.length&&this._ranges[0].isCollapsed;}},{key:'rangeCount',get:function get(){return this._ranges.length;}},{key:'isBackward',get:function get(){return!this.isCollapsed&&this._lastRangeBackward;}}]);return Js;}();function Ks(t,e){return!e.has(t)&&(e.add(t),t.document.model.schema.isBlock(t)&&t.parent);}function Zs(t,e){var n=t.parent.getAncestors({parentFirst:!0,includeSelf:!0}),i=n.find(function(t){return Ks(t,e);});return n.forEach(function(t){return e.add(t);}),i;}F(Js,R);var Xs=function(_qs){_inherits(Xs,_qs);function Xs(t,e){var _this45;_classCallCheck(this,Xs);(_this45=_possibleConstructorReturn(this,(Xs.__proto__||Object.getPrototypeOf(Xs)).call(this,t,e)),_this45),function(){var _this46=this;this.listenTo(this.root.document.model,"applyOperation",function(t,e){var n=e[0];n.isDocumentOperation&&function(t){var e=this.getTransformedByOperation(t),n=qs._createFromRanges(e),i=!n.isEqual(this),o=function(t,e){switch(e.type){case"insert":return t.containsPosition(e.position);case"move":case"remove":case"reinsert":case"merge":return t.containsPosition(e.sourcePosition)||t.start.isEqual(e.sourcePosition)||t.containsPosition(e.targetPosition);case"split":return t.containsPosition(e.splitPosition)||t.containsPosition(e.insertionPosition);}return!1;}(this,t);var r=null;if(i){"$graveyard"==n.root.rootName&&(r="remove"==t.type?t.sourcePosition:t.deletionPosition);var _e63=this.toRange();this.start=n.start,this.end=n.end,this.fire("change:range",_e63,{deletionPosition:r});}else o&&this.fire("change:content",this.toRange(),{deletionPosition:r});}.call(_this46,n);},{priority:"low"});}.call(_this45);return _this45;}_createClass(Xs,[{key:'detach',value:function detach(){this.stopListening();}},{key:'toRange',value:function toRange(){return new qs(this.start,this.end);}}],[{key:'fromRange',value:function fromRange(t){return new Xs(t.start,t.end);}}]);return Xs;}(qs);F(Xs,R);var ta="selection:";var ea=function(){function ea(t){_classCallCheck(this,ea);this._selection=new na(t),this._selection.delegate("change:range").to(this),this._selection.delegate("change:attribute").to(this);}_createClass(ea,[{key:'getRanges',value:function getRanges(){return this._selection.getRanges();}},{key:'getFirstPosition',value:function getFirstPosition(){return this._selection.getFirstPosition();}},{key:'getLastPosition',value:function getLastPosition(){return this._selection.getLastPosition();}},{key:'getFirstRange',value:function getFirstRange(){return this._selection.getFirstRange();}},{key:'getLastRange',value:function getLastRange(){return this._selection.getLastRange();}},{key:'getSelectedBlocks',value:function getSelectedBlocks(){return this._selection.getSelectedBlocks();}},{key:'getSelectedElement',value:function getSelectedElement(){return this._selection.getSelectedElement();}},{key:'containsEntireContent',value:function containsEntireContent(t){return this._selection.containsEntireContent(t);}},{key:'destroy',value:function destroy(){this._selection.destroy();}},{key:'getAttributeKeys',value:function getAttributeKeys(){return this._selection.getAttributeKeys();}},{key:'getAttributes',value:function getAttributes(){return this._selection.getAttributes();}},{key:'getAttribute',value:function getAttribute(t){return this._selection.getAttribute(t);}},{key:'hasAttribute',value:function hasAttribute(t){return this._selection.hasAttribute(t);}},{key:'_setFocus',value:function _setFocus(t,e){this._selection.setFocus(t,e);}},{key:'_setTo',value:function _setTo(t,e,n){this._selection.setTo(t,e,n);}},{key:'_setAttribute',value:function _setAttribute(t,e){this._selection.setAttribute(t,e);}},{key:'_removeAttribute',value:function _removeAttribute(t){this._selection.removeAttribute(t);}},{key:'_getStoredAttributes',value:function _getStoredAttributes(){return this._selection._getStoredAttributes();}},{key:'_overrideGravity',value:function _overrideGravity(){return this._selection.overrideGravity();}},{key:'_restoreGravity',value:function _restoreGravity(t){this._selection.restoreGravity(t);}},{key:'isCollapsed',get:function get(){return this._selection.isCollapsed;}},{key:'anchor',get:function get(){return this._selection.anchor;}},{key:'focus',get:function get(){return this._selection.focus;}},{key:'rangeCount',get:function get(){return this._selection.rangeCount;}},{key:'hasOwnRange',get:function get(){return this._selection.hasOwnRange;}},{key:'isBackward',get:function get(){return this._selection.isBackward;}},{key:'isGravityOverridden',get:function get(){return this._selection.isGravityOverridden;}},{key:'_ranges',get:function get(){return this._selection._ranges;}}],[{key:'_getStoreAttributeKey',value:function _getStoreAttributeKey(t){return ta+t;}},{key:'_isStoreAttributeKey',value:function _isStoreAttributeKey(t){return t.startsWith(ta);}}]);return ea;}();F(ea,R);var na=function(_Js){_inherits(na,_Js);function na(t){var _this47;_classCallCheck(this,na);(_this47=_possibleConstructorReturn(this,(na.__proto__||Object.getPrototypeOf(na)).call(this)),_this47),_this47._model=t.model,_this47._document=t,_this47._attributePriority=new Map(),_this47._fixGraveyardRangesData=[],_this47._hasChangedRange=!1,_this47._overriddenGravityRegister=new Set(),_this47.on("change:range",function(){var _iteratorNormalCompletion128=true;var _didIteratorError128=false;var _iteratorError128=undefined;try{for(var _iterator128=_this47.getRanges()[Symbol.iterator](),_step128;!(_iteratorNormalCompletion128=(_step128=_iterator128.next()).done);_iteratorNormalCompletion128=true){var _t79=_step128.value;if(!_this47._document._validateSelectionRange(_t79))throw new P.b("document-selection-wrong-position: Range from document selection starts or ends at incorrect position.",{range:_t79});}}catch(err){_didIteratorError128=true;_iteratorError128=err;}finally{try{if(!_iteratorNormalCompletion128&&_iterator128.return){_iterator128.return();}}finally{if(_didIteratorError128){throw _iteratorError128;}}}}),_this47.listenTo(_this47._document,"change",function(t,e){_this47._updateAttributes(!1),function(t,e){var n=t.document.differ;var _loop2=function _loop2(i){if("insert"!=i.type)return'continue';var n=i.position.parent,o=i.length===n.maxOffset;o&&t.enqueueChange(e,function(t){var e=Array.from(n.getAttributeKeys()).filter(function(t){return t.startsWith(ta);});var _iteratorNormalCompletion130=true;var _didIteratorError130=false;var _iteratorError130=undefined;try{for(var _iterator130=e[Symbol.iterator](),_step130;!(_iteratorNormalCompletion130=(_step130=_iterator130.next()).done);_iteratorNormalCompletion130=true){var _i16=_step130.value;t.removeAttribute(_i16,n);}}catch(err){_didIteratorError130=true;_iteratorError130=err;}finally{try{if(!_iteratorNormalCompletion130&&_iterator130.return){_iterator130.return();}}finally{if(_didIteratorError130){throw _iteratorError130;}}}});};var _iteratorNormalCompletion129=true;var _didIteratorError129=false;var _iteratorError129=undefined;try{for(var _iterator129=n.getChanges()[Symbol.iterator](),_step129;!(_iteratorNormalCompletion129=(_step129=_iterator129.next()).done);_iteratorNormalCompletion129=true){var i=_step129.value;var _ret2=_loop2(i);if(_ret2==='continue')continue;}}catch(err){_didIteratorError129=true;_iteratorError129=err;}finally{try{if(!_iteratorNormalCompletion129&&_iterator129.return){_iterator129.return();}}finally{if(_didIteratorError129){throw _iteratorError129;}}}}(_this47._model,e);}),_this47.listenTo(_this47._model,"applyOperation",function(){for(;_this47._fixGraveyardRangesData.length;){var _this47$_fixGraveyard=_this47._fixGraveyardRangesData.shift(),_t80=_this47$_fixGraveyard.liveRange,e=_this47$_fixGraveyard.sourcePosition;_this47._fixGraveyardSelection(_t80,e);}_this47._hasChangedRange&&(_this47._hasChangedRange=!1,_this47.fire("change:range",{directChange:!1}));},{priority:"lowest"});return _this47;}_createClass(na,[{key:'destroy',value:function destroy(){for(var t=0;t<this._ranges.length;t++){this._ranges[t].detach();}this.stopListening();}},{key:'getRanges',value:/*#__PURE__*/regeneratorRuntime.mark(function getRanges(){return regeneratorRuntime.wrap(function getRanges$(_context17){while(1){switch(_context17.prev=_context17.next){case 0:if(!this._ranges.length){_context17.next=4;break;}return _context17.delegateYield(_get(na.prototype.__proto__||Object.getPrototypeOf(na.prototype),'getRanges',this).call(this),'t0',2);case 2:_context17.next=6;break;case 4:_context17.next=6;return this._document._getDefaultRange();case 6:case'end':return _context17.stop();}}},getRanges,this);})},{key:'getFirstRange',value:function getFirstRange(){return _get(na.prototype.__proto__||Object.getPrototypeOf(na.prototype),'getFirstRange',this).call(this)||this._document._getDefaultRange();}},{key:'getLastRange',value:function getLastRange(){return _get(na.prototype.__proto__||Object.getPrototypeOf(na.prototype),'getLastRange',this).call(this)||this._document._getDefaultRange();}},{key:'setTo',value:function setTo(t,e,n){_get(na.prototype.__proto__||Object.getPrototypeOf(na.prototype),'setTo',this).call(this,t,e,n),this._refreshAttributes();}},{key:'setFocus',value:function setFocus(t,e){_get(na.prototype.__proto__||Object.getPrototypeOf(na.prototype),'setFocus',this).call(this,t,e),this._refreshAttributes();}},{key:'setAttribute',value:function setAttribute(t,e){if(this._setAttribute(t,e)){var _e64=[t];this.fire("change:attribute",{attributeKeys:_e64,directChange:!0});}}},{key:'removeAttribute',value:function removeAttribute(t){if(this._removeAttribute(t)){var e=[t];this.fire("change:attribute",{attributeKeys:e,directChange:!0});}}},{key:'overrideGravity',value:function overrideGravity(){var t=I();return this._overriddenGravityRegister.add(t),1===this._overriddenGravityRegister.size&&this._refreshAttributes(),t;}},{key:'restoreGravity',value:function restoreGravity(t){if(!this._overriddenGravityRegister.has(t))throw new P.b("document-selection-gravity-wrong-restore: Attempting to restore the selection gravity for an unknown UID.",{uid:t});this._overriddenGravityRegister.delete(t),this.isGravityOverridden||this._refreshAttributes();}},{key:'_refreshAttributes',value:function _refreshAttributes(){this._updateAttributes(!0);}},{key:'_popRange',value:function _popRange(){this._ranges.pop().detach();}},{key:'_pushRange',value:function _pushRange(t){var e=this._prepareRange(t);e&&this._ranges.push(e);}},{key:'_prepareRange',value:function _prepareRange(t){var _this48=this;if(this._checkRange(t),t.root==this._document.graveyard)return void fs.a.warn("model-selection-range-in-graveyard: Trying to add a Range that is in the graveyard root. Range rejected.");var e=Xs.fromRange(t);return e.on("change:range",function(t,n,i){_this48._hasChangedRange=!0,e.root==_this48._document.graveyard&&_this48._fixGraveyardRangesData.push({liveRange:e,sourcePosition:i.deletionPosition});}),e;}},{key:'_updateAttributes',value:function _updateAttributes(t){var e=Rs(this._getSurroundingAttributes()),n=Rs(this.getAttributes());if(t)this._attributePriority=new Map(),this._attrs=new Map();else{var _iteratorNormalCompletion131=true;var _didIteratorError131=false;var _iteratorError131=undefined;try{for(var _iterator131=this._attributePriority[Symbol.iterator](),_step131;!(_iteratorNormalCompletion131=(_step131=_iterator131.next()).done);_iteratorNormalCompletion131=true){var _ref14=_step131.value;var _ref15=_slicedToArray(_ref14,2);var _t81=_ref15[0];var _e65=_ref15[1];"low"==_e65&&(this._attrs.delete(_t81),this._attributePriority.delete(_t81));}}catch(err){_didIteratorError131=true;_iteratorError131=err;}finally{try{if(!_iteratorNormalCompletion131&&_iterator131.return){_iterator131.return();}}finally{if(_didIteratorError131){throw _iteratorError131;}}}}this._setAttributesTo(e);var i=[];var _iteratorNormalCompletion132=true;var _didIteratorError132=false;var _iteratorError132=undefined;try{for(var _iterator132=this.getAttributes()[Symbol.iterator](),_step132;!(_iteratorNormalCompletion132=(_step132=_iterator132.next()).done);_iteratorNormalCompletion132=true){var _ref16=_step132.value;var _ref17=_slicedToArray(_ref16,2);var _t82=_ref17[0];var _e66=_ref17[1];n.has(_t82)&&n.get(_t82)===_e66||i.push(_t82);}}catch(err){_didIteratorError132=true;_iteratorError132=err;}finally{try{if(!_iteratorNormalCompletion132&&_iterator132.return){_iterator132.return();}}finally{if(_didIteratorError132){throw _iteratorError132;}}}var _iteratorNormalCompletion133=true;var _didIteratorError133=false;var _iteratorError133=undefined;try{for(var _iterator133=n[Symbol.iterator](),_step133;!(_iteratorNormalCompletion133=(_step133=_iterator133.next()).done);_iteratorNormalCompletion133=true){var _ref18=_step133.value;var _ref19=_slicedToArray(_ref18,1);var _t83=_ref19[0];this.hasAttribute(_t83)||i.push(_t83);}}catch(err){_didIteratorError133=true;_iteratorError133=err;}finally{try{if(!_iteratorNormalCompletion133&&_iterator133.return){_iterator133.return();}}finally{if(_didIteratorError133){throw _iteratorError133;}}}i.length>0&&this.fire("change:attribute",{attributeKeys:i,directChange:!1});}},{key:'_setAttribute',value:function _setAttribute(t,e){var n=arguments.length>2&&arguments[2]!==undefined?arguments[2]:!0;var i=n?"normal":"low";return("low"!=i||"normal"!=this._attributePriority.get(t))&&_get(na.prototype.__proto__||Object.getPrototypeOf(na.prototype),'getAttribute',this).call(this,t)!==e&&(this._attrs.set(t,e),this._attributePriority.set(t,i),!0);}},{key:'_removeAttribute',value:function _removeAttribute(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:!0;var n=e?"normal":"low";return("low"!=n||"normal"!=this._attributePriority.get(t))&&(this._attributePriority.set(t,n),!!_get(na.prototype.__proto__||Object.getPrototypeOf(na.prototype),'hasAttribute',this).call(this,t)&&(this._attrs.delete(t),!0));}},{key:'_setAttributesTo',value:function _setAttributesTo(t){var e=new Set();var _iteratorNormalCompletion134=true;var _didIteratorError134=false;var _iteratorError134=undefined;try{for(var _iterator134=this.getAttributes()[Symbol.iterator](),_step134;!(_iteratorNormalCompletion134=(_step134=_iterator134.next()).done);_iteratorNormalCompletion134=true){var _ref20=_step134.value;var _ref21=_slicedToArray(_ref20,2);var _e67=_ref21[0];var n=_ref21[1];t.get(_e67)!==n&&this._removeAttribute(_e67,!1);}}catch(err){_didIteratorError134=true;_iteratorError134=err;}finally{try{if(!_iteratorNormalCompletion134&&_iterator134.return){_iterator134.return();}}finally{if(_didIteratorError134){throw _iteratorError134;}}}var _iteratorNormalCompletion135=true;var _didIteratorError135=false;var _iteratorError135=undefined;try{for(var _iterator135=t[Symbol.iterator](),_step135;!(_iteratorNormalCompletion135=(_step135=_iterator135.next()).done);_iteratorNormalCompletion135=true){var _ref22=_step135.value;var _ref23=_slicedToArray(_ref22,2);var _n63=_ref23[0];var i=_ref23[1];this._setAttribute(_n63,i,!1)&&e.add(_n63);}}catch(err){_didIteratorError135=true;_iteratorError135=err;}finally{try{if(!_iteratorNormalCompletion135&&_iterator135.return){_iterator135.return();}}finally{if(_didIteratorError135){throw _iteratorError135;}}}return e;}},{key:'_getStoredAttributes',value:/*#__PURE__*/regeneratorRuntime.mark(function _getStoredAttributes(){var t,_iteratorNormalCompletion136,_didIteratorError136,_iteratorError136,_iterator136,_step136,e;return regeneratorRuntime.wrap(function _getStoredAttributes$(_context18){while(1){switch(_context18.prev=_context18.next){case 0:t=this.getFirstPosition().parent;if(!(this.isCollapsed&&t.isEmpty)){_context18.next=29;break;}_iteratorNormalCompletion136=true;_didIteratorError136=false;_iteratorError136=undefined;_context18.prev=5;_iterator136=t.getAttributeKeys()[Symbol.iterator]();case 7:if(_iteratorNormalCompletion136=(_step136=_iterator136.next()).done){_context18.next=15;break;}e=_step136.value;if(!e.startsWith(ta)){_context18.next=12;break;}_context18.next=12;return[e.substr(ta.length),t.getAttribute(e)];case 12:_iteratorNormalCompletion136=true;_context18.next=7;break;case 15:_context18.next=21;break;case 17:_context18.prev=17;_context18.t0=_context18['catch'](5);_didIteratorError136=true;_iteratorError136=_context18.t0;case 21:_context18.prev=21;_context18.prev=22;if(!_iteratorNormalCompletion136&&_iterator136.return){_iterator136.return();}case 24:_context18.prev=24;if(!_didIteratorError136){_context18.next=27;break;}throw _iteratorError136;case 27:return _context18.finish(24);case 28:return _context18.finish(21);case 29:case'end':return _context18.stop();}}},_getStoredAttributes,this,[[5,17,21,29],[22,,24,28]]);})},{key:'_getSurroundingAttributes',value:function _getSurroundingAttributes(){var t=this.getFirstPosition(),e=this._model.schema;var n=null;if(this.isCollapsed){var _e68=t.textNode?t.textNode:t.nodeBefore,i=t.textNode?t.textNode:t.nodeAfter;if(this.isGravityOverridden||(n=ia(_e68)),n||(n=ia(i)),!this.isGravityOverridden&&!n){var _t84=_e68;for(;_t84&&!n;){n=ia(_t84=_t84.previousSibling);}}if(!n){var _t85=i;for(;_t85&&!n;){n=ia(_t85=_t85.nextSibling);}}n||(n=this._getStoredAttributes());}else{var _t86=this.getFirstRange();var _iteratorNormalCompletion137=true;var _didIteratorError137=false;var _iteratorError137=undefined;try{for(var _iterator137=_t86[Symbol.iterator](),_step137;!(_iteratorNormalCompletion137=(_step137=_iterator137.next()).done);_iteratorNormalCompletion137=true){var _i17=_step137.value;if(_i17.item.is("element")&&e.isObject(_i17.item))break;"text"==_i17.type&&null===n&&(n=_i17.item.getAttributes());}}catch(err){_didIteratorError137=true;_iteratorError137=err;}finally{try{if(!_iteratorNormalCompletion137&&_iterator137.return){_iterator137.return();}}finally{if(_didIteratorError137){throw _iteratorError137;}}}}return n;}},{key:'_fixGraveyardSelection',value:function _fixGraveyardSelection(t,e){var n=e.clone(),i=this._model.schema.getNearestSelectionRange(n),o=this._ranges.indexOf(t);if(this._ranges.splice(o,1),t.detach(),i){var _t87=this._prepareRange(i);this._ranges.splice(o,0,_t87);}}},{key:'isCollapsed',get:function get(){return 0===this._ranges.length?this._document._getDefaultRange().isCollapsed:_get(na.prototype.__proto__||Object.getPrototypeOf(na.prototype),'isCollapsed',this);}},{key:'anchor',get:function get(){return _get(na.prototype.__proto__||Object.getPrototypeOf(na.prototype),'anchor',this)||this._document._getDefaultRange().start;}},{key:'focus',get:function get(){return _get(na.prototype.__proto__||Object.getPrototypeOf(na.prototype),'focus',this)||this._document._getDefaultRange().end;}},{key:'rangeCount',get:function get(){return this._ranges.length?this._ranges.length:1;}},{key:'hasOwnRange',get:function get(){return this._ranges.length>0;}},{key:'isGravityOverridden',get:function get(){return!!this._overriddenGravityRegister.size;}}]);return na;}(Js);function ia(t){return t instanceof js||t instanceof Ls?t.getAttributes():null;}var oa=1,ra=4;var sa=function sa(t){return oi(t,oa|ra);};function aa(t){return(t=sa(t)).view=da(t.view,"container"),function(e){e.on("insert:"+t.model,function(t){return function(e,n,i){var o=t(n.item,i.writer);if(!o)return;if(!i.consumable.consume(n.item,"insert"))return;var r=i.mapper.toViewPosition(n.range.start);i.mapper.bindElements(n.item,o),i.writer.insert(r,o);};}(t.view),{priority:t.converterPriority||"normal"});};}function ca(t){var e="attribute:"+((t=sa(t)).model.key?t.model.key:t.model);if(t.model.name&&(e+=":"+t.model.name),t.model.values){var _iteratorNormalCompletion138=true;var _didIteratorError138=false;var _iteratorError138=undefined;try{for(var _iterator138=t.model.values[Symbol.iterator](),_step138;!(_iteratorNormalCompletion138=(_step138=_iterator138.next()).done);_iteratorNormalCompletion138=true){var _e69=_step138.value;t.view[_e69]=da(t.view[_e69],"attribute");}}catch(err){_didIteratorError138=true;_iteratorError138=err;}finally{try{if(!_iteratorNormalCompletion138&&_iterator138.return){_iterator138.return();}}finally{if(_didIteratorError138){throw _iteratorError138;}}}}else t.view=da(t.view,"attribute");var n=ua(t);return function(i){i.on(e,function(t){return function(e,n,i){var o=t(n.attributeOldValue,i.writer),r=t(n.attributeNewValue,i.writer);if(!o&&!r)return;if(!i.consumable.consume(n.item,e.name))return;var s=i.writer,a=s.document.selection;if(n.item instanceof Js||n.item instanceof ea)s.wrap(a.getFirstRange(),r);else{var _t88=i.mapper.toViewRange(n.range);null!==n.attributeOldValue&&o&&(_t88=s.unwrap(_t88,o)),null!==n.attributeNewValue&&r&&s.wrap(_t88,r);}};}(n),{priority:t.converterPriority||"normal"});};}function la(t){var e="attribute:"+((t=sa(t)).model.key?t.model.key:t.model);if(t.model.name&&(e+=":"+t.model.name),t.model.values){var _iteratorNormalCompletion139=true;var _didIteratorError139=false;var _iteratorError139=undefined;try{for(var _iterator139=t.model.values[Symbol.iterator](),_step139;!(_iteratorNormalCompletion139=(_step139=_iterator139.next()).done);_iteratorNormalCompletion139=true){var _e70=_step139.value;t.view[_e70]=ha(t.view[_e70]);}}catch(err){_didIteratorError139=true;_iteratorError139=err;}finally{try{if(!_iteratorNormalCompletion139&&_iterator139.return){_iterator139.return();}}finally{if(_didIteratorError139){throw _iteratorError139;}}}}else t.view=ha(t.view);var n=ua(t);return function(i){i.on(e,function(t){return t=t||function(t,e){return{value:t,key:e.attributeKey};},function(e,n,i){var o=t(n.attributeOldValue,n),r=t(n.attributeNewValue,n);if(!o&&!r)return;if(!i.consumable.consume(n.item,e.name))return;var s=i.mapper.toViewElement(n.item),a=i.writer;if(s){if(null!==n.attributeOldValue&&o)if("class"==o.key){var _t89=Array.isArray(o.value)?o.value:[o.value];var _iteratorNormalCompletion140=true;var _didIteratorError140=false;var _iteratorError140=undefined;try{for(var _iterator140=_t89[Symbol.iterator](),_step140;!(_iteratorNormalCompletion140=(_step140=_iterator140.next()).done);_iteratorNormalCompletion140=true){var _e71=_step140.value;a.removeClass(_e71,s);}}catch(err){_didIteratorError140=true;_iteratorError140=err;}finally{try{if(!_iteratorNormalCompletion140&&_iterator140.return){_iterator140.return();}}finally{if(_didIteratorError140){throw _iteratorError140;}}}}else if("style"==o.key){var _t90=Object.keys(o.value);var _iteratorNormalCompletion141=true;var _didIteratorError141=false;var _iteratorError141=undefined;try{for(var _iterator141=_t90[Symbol.iterator](),_step141;!(_iteratorNormalCompletion141=(_step141=_iterator141.next()).done);_iteratorNormalCompletion141=true){var _e72=_step141.value;a.removeStyle(_e72,s);}}catch(err){_didIteratorError141=true;_iteratorError141=err;}finally{try{if(!_iteratorNormalCompletion141&&_iterator141.return){_iterator141.return();}}finally{if(_didIteratorError141){throw _iteratorError141;}}}}else a.removeAttribute(o.key,s);if(null!==n.attributeNewValue&&r)if("class"==r.key){var _t91=Array.isArray(r.value)?r.value:[r.value];var _iteratorNormalCompletion142=true;var _didIteratorError142=false;var _iteratorError142=undefined;try{for(var _iterator142=_t91[Symbol.iterator](),_step142;!(_iteratorNormalCompletion142=(_step142=_iterator142.next()).done);_iteratorNormalCompletion142=true){var _e73=_step142.value;a.addClass(_e73,s);}}catch(err){_didIteratorError142=true;_iteratorError142=err;}finally{try{if(!_iteratorNormalCompletion142&&_iterator142.return){_iterator142.return();}}finally{if(_didIteratorError142){throw _iteratorError142;}}}}else if("style"==r.key){var _t92=Object.keys(r.value);var _iteratorNormalCompletion143=true;var _didIteratorError143=false;var _iteratorError143=undefined;try{for(var _iterator143=_t92[Symbol.iterator](),_step143;!(_iteratorNormalCompletion143=(_step143=_iterator143.next()).done);_iteratorNormalCompletion143=true){var _e74=_step143.value;a.setStyle(_e74,r.value[_e74],s);}}catch(err){_didIteratorError143=true;_iteratorError143=err;}finally{try{if(!_iteratorNormalCompletion143&&_iterator143.return){_iterator143.return();}}finally{if(_didIteratorError143){throw _iteratorError143;}}}}else a.setAttribute(r.key,r.value,s);}else fs.a.warn("conversion-attribute-to-attribute-on-text: Trying to convert text node's attribute with attribute-to-attribute converter.");};}(n),{priority:t.converterPriority||"normal"});};}function da(t,e){return"function"==typeof t?t:function(n,i){return function(t,e,n){"string"==typeof t&&(t={name:t});var i=void 0;var o=Object.assign({},t.attributes);if("container"==n)i=e.createContainerElement(t.name,o);else if("attribute"==n){var _n64={priority:t.priority||no.DEFAULT_PRIORITY};i=e.createAttributeElement(t.name,o,_n64);}else i=e.createUIElement(t.name,o);if(t.styles){var _n65=Object.keys(t.styles);var _iteratorNormalCompletion144=true;var _didIteratorError144=false;var _iteratorError144=undefined;try{for(var _iterator144=_n65[Symbol.iterator](),_step144;!(_iteratorNormalCompletion144=(_step144=_iterator144.next()).done);_iteratorNormalCompletion144=true){var _o32=_step144.value;e.setStyle(_o32,t.styles[_o32],i);}}catch(err){_didIteratorError144=true;_iteratorError144=err;}finally{try{if(!_iteratorNormalCompletion144&&_iterator144.return){_iterator144.return();}}finally{if(_didIteratorError144){throw _iteratorError144;}}}}if(t.classes){var _n66=t.classes;if("string"==typeof _n66)e.addClass(_n66,i);else{var _iteratorNormalCompletion145=true;var _didIteratorError145=false;var _iteratorError145=undefined;try{for(var _iterator145=_n66[Symbol.iterator](),_step145;!(_iteratorNormalCompletion145=(_step145=_iterator145.next()).done);_iteratorNormalCompletion145=true){var _t93=_step145.value;e.addClass(_t93,i);}}catch(err){_didIteratorError145=true;_iteratorError145=err;}finally{try{if(!_iteratorNormalCompletion145&&_iterator145.return){_iterator145.return();}}finally{if(_didIteratorError145){throw _iteratorError145;}}}}}return i;}(t,i,e);};}function ua(t){return t.model.values?function(e,n){var i=t.view[e];return i?i(e,n):null;}:t.view;}function ha(t){return"string"==typeof t?function(e){return{key:t,value:e};}:"object"==(typeof t==='undefined'?'undefined':_typeof(t))?t.value?function(){return t;}:function(e){return{key:t.key,value:e};}:t;}var fa=function(){function fa(t){var _this49=this;_classCallCheck(this,fa);this.model=t,this.view=new Os(),this.mapper=new Ws(),this.downcastDispatcher=new Gs({mapper:this.mapper});var e=this.model.document,n=e.selection,i=this.model.markers;this.listenTo(this.model,"_beforeChanges",function(){_this49.view._renderingDisabled=!0;},{priority:"highest"}),this.listenTo(this.model,"_afterChanges",function(){_this49.view._renderingDisabled=!1,_this49.view.render();},{priority:"lowest"}),this.listenTo(e,"change",function(){_this49.view.change(function(t){_this49.downcastDispatcher.convertChanges(e.differ,t),_this49.downcastDispatcher.convertSelection(n,i,t);});},{priority:"low"}),this.listenTo(this.view.document,"selectionChange",function(t,e){return function(n,i){var o=i.newSelection,r=new Js(),s=[];var _iteratorNormalCompletion146=true;var _didIteratorError146=false;var _iteratorError146=undefined;try{for(var _iterator146=o.getRanges()[Symbol.iterator](),_step146;!(_iteratorNormalCompletion146=(_step146=_iterator146.next()).done);_iteratorNormalCompletion146=true){var _t94=_step146.value;s.push(e.toModelRange(_t94));}}catch(err){_didIteratorError146=true;_iteratorError146=err;}finally{try{if(!_iteratorNormalCompletion146&&_iterator146.return){_iterator146.return();}}finally{if(_didIteratorError146){throw _iteratorError146;}}}r.setTo(s,{backward:o.isBackward}),r.isEqual(t.document.selection)||t.change(function(t){t.setSelection(r);});};}(this.model,this.mapper)),this.downcastDispatcher.on("insert:$text",function(t,e,n){if(!n.consumable.consume(e.item,"insert"))return;var i=n.writer,o=n.mapper.toViewPosition(e.range.start),r=i.createText(e.item.data);i.insert(o,r);},{priority:"lowest"}),this.downcastDispatcher.on("remove",function(t,e,n){var i=n.mapper.toViewPosition(e.position),o=e.position.getShiftedBy(e.length),r=n.mapper.toViewPosition(o,{isPhantom:!0}),s=n.writer.createRange(i,r),a=n.writer.remove(s.getTrimmed());var _iteratorNormalCompletion147=true;var _didIteratorError147=false;var _iteratorError147=undefined;try{for(var _iterator147=n.writer.createRangeIn(a).getItems()[Symbol.iterator](),_step147;!(_iteratorNormalCompletion147=(_step147=_iterator147.next()).done);_iteratorNormalCompletion147=true){var _t95=_step147.value;n.mapper.unbindViewElement(_t95);}}catch(err){_didIteratorError147=true;_iteratorError147=err;}finally{try{if(!_iteratorNormalCompletion147&&_iterator147.return){_iterator147.return();}}finally{if(_didIteratorError147){throw _iteratorError147;}}}},{priority:"low"}),this.downcastDispatcher.on("selection",function(t,e,n){var i=n.writer,o=i.document.selection;var _iteratorNormalCompletion148=true;var _didIteratorError148=false;var _iteratorError148=undefined;try{for(var _iterator148=o.getRanges()[Symbol.iterator](),_step148;!(_iteratorNormalCompletion148=(_step148=_iterator148.next()).done);_iteratorNormalCompletion148=true){var _t96=_step148.value;_t96.isCollapsed&&_t96.end.parent.document&&n.writer.mergeAttributes(_t96.start);}}catch(err){_didIteratorError148=true;_iteratorError148=err;}finally{try{if(!_iteratorNormalCompletion148&&_iterator148.return){_iterator148.return();}}finally{if(_didIteratorError148){throw _iteratorError148;}}}i.setSelection(null);},{priority:"low"}),this.downcastDispatcher.on("selection",function(t,e,n){var i=e.selection;if(i.isCollapsed)return;if(!n.consumable.consume(i,"selection"))return;var o=[];var _iteratorNormalCompletion149=true;var _didIteratorError149=false;var _iteratorError149=undefined;try{for(var _iterator149=i.getRanges()[Symbol.iterator](),_step149;!(_iteratorNormalCompletion149=(_step149=_iterator149.next()).done);_iteratorNormalCompletion149=true){var _t97=_step149.value;var _e75=n.mapper.toViewRange(_t97);o.push(_e75);}}catch(err){_didIteratorError149=true;_iteratorError149=err;}finally{try{if(!_iteratorNormalCompletion149&&_iterator149.return){_iterator149.return();}}finally{if(_didIteratorError149){throw _iteratorError149;}}}n.writer.setSelection(o,{backward:i.isBackward});},{priority:"low"}),this.downcastDispatcher.on("selection",function(t,e,n){var i=e.selection;if(!i.isCollapsed)return;if(!n.consumable.consume(i,"selection"))return;var o=n.writer,r=i.getFirstPosition(),s=n.mapper.toViewPosition(r),a=o.breakAttributes(s);o.setSelection(a);},{priority:"low"}),this.view.document.roots.bindTo(this.model.document.roots).using(function(t){if("$graveyard"==t.rootName)return null;var e=new Wi(t.name);return e.rootName=t.rootName,e._document=_this49.view.document,_this49.mapper.bindElements(t,e),e;});}_createClass(fa,[{key:'destroy',value:function destroy(){this.view.destroy(),this.stopListening();}}]);return fa;}();F(fa,Li);var ma=function(){function ma(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:[];_classCallCheck(this,ma);this._editor=t,this._availablePlugins=new Map(),this._plugins=new Map();var _iteratorNormalCompletion150=true;var _didIteratorError150=false;var _iteratorError150=undefined;try{for(var _iterator150=e[Symbol.iterator](),_step150;!(_iteratorNormalCompletion150=(_step150=_iterator150.next()).done);_iteratorNormalCompletion150=true){var _t98=_step150.value;this._availablePlugins.set(_t98,_t98),_t98.pluginName&&this._availablePlugins.set(_t98.pluginName,_t98);}}catch(err){_didIteratorError150=true;_iteratorError150=err;}finally{try{if(!_iteratorNormalCompletion150&&_iterator150.return){_iterator150.return();}}finally{if(_didIteratorError150){throw _iteratorError150;}}}}_createClass(ma,[{key:Symbol.iterator,value:/*#__PURE__*/regeneratorRuntime.mark(function value(){var _iteratorNormalCompletion151,_didIteratorError151,_iteratorError151,_iterator151,_step151,t;return regeneratorRuntime.wrap(function value$(_context19){while(1){switch(_context19.prev=_context19.next){case 0:_iteratorNormalCompletion151=true;_didIteratorError151=false;_iteratorError151=undefined;_context19.prev=3;_iterator151=this._plugins[Symbol.iterator]();case 5:if(_iteratorNormalCompletion151=(_step151=_iterator151.next()).done){_context19.next=14;break;}t=_step151.value;_context19.t0="function"==typeof t[0];if(!_context19.t0){_context19.next=11;break;}_context19.next=11;return t;case 11:_iteratorNormalCompletion151=true;_context19.next=5;break;case 14:_context19.next=20;break;case 16:_context19.prev=16;_context19.t1=_context19['catch'](3);_didIteratorError151=true;_iteratorError151=_context19.t1;case 20:_context19.prev=20;_context19.prev=21;if(!_iteratorNormalCompletion151&&_iterator151.return){_iterator151.return();}case 23:_context19.prev=23;if(!_didIteratorError151){_context19.next=26;break;}throw _iteratorError151;case 26:return _context19.finish(23);case 27:return _context19.finish(20);case 28:case'end':return _context19.stop();}}},value,this,[[3,16,20,28],[21,,23,27]]);})},{key:'get',value:function get(t){return this._plugins.get(t);}},{key:'load',value:function load(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:[];var n=this,i=this._editor,o=new Set(),r=[],s=u(t),a=u(e),c=function(t){var e=[];var _iteratorNormalCompletion152=true;var _didIteratorError152=false;var _iteratorError152=undefined;try{for(var _iterator152=t[Symbol.iterator](),_step152;!(_iteratorNormalCompletion152=(_step152=_iterator152.next()).done);_iteratorNormalCompletion152=true){var _n67=_step152.value;d(_n67)||e.push(_n67);}}catch(err){_didIteratorError152=true;_iteratorError152=err;}finally{try{if(!_iteratorNormalCompletion152&&_iterator152.return){_iterator152.return();}}finally{if(_didIteratorError152){throw _iteratorError152;}}}return e.length?e:null;}(t);if(c){var _t99="plugincollection-plugin-not-found: Some plugins are not available and could not be loaded.";return fs.a.error(_t99,{plugins:c}),Promise.reject(new P.b(_t99,{plugins:c}));}return Promise.all(s.map(l)).then(function(){return r;});function l(t){if(!a.includes(t)&&!n.get(t)&&!o.has(t))return function(t){return new Promise(function(s){o.add(t),t.requires&&t.requires.forEach(function(n){var i=d(n);if(e.includes(i))throw new P.b("plugincollection-required: Cannot load a plugin because one of its dependencies is listed inthe `removePlugins` option.",{plugin:i,requiredBy:t});l(i);});var a=new t(i);n._add(t,a),r.push(a),s();});}(t).catch(function(e){throw fs.a.error("plugincollection-load: It was not possible to load the plugin.",{plugin:t}),e;});}function d(t){return"function"==typeof t?t:n._availablePlugins.get(t);}function u(t){return t.map(function(t){return d(t);}).filter(function(t){return!!t;});}}},{key:'destroy',value:function destroy(){var t=Array.from(this).map(function(_ref24){var _ref25=_slicedToArray(_ref24,2),t=_ref25[1];return t;}).filter(function(t){return"function"==typeof t.destroy;}).map(function(t){return t.destroy();});return Promise.all(t);}},{key:'_add',value:function _add(t,e){this._plugins.set(t,e);var n=t.pluginName;n&&(this._plugins.has(n)?fs.a.warn("plugincollection-plugin-name-conflict: Two plugins with the same name were loaded.",{pluginName:n,plugin1:this._plugins.get(n).constructor,plugin2:t}):this._plugins.set(n,e));}}]);return ma;}();var pa=function(){function pa(){_classCallCheck(this,pa);this._commands=new Map();}_createClass(pa,[{key:'add',value:function add(t,e){this._commands.set(t,e);}},{key:'get',value:function get(t){return this._commands.get(t);}},{key:'execute',value:function execute(t){var n=this.get(t);if(!n)throw new P.b("commandcollection-command-not-found: Command does not exist.",{commandName:t});for(var _len17=arguments.length,e=Array(_len17>1?_len17-1:0),_key17=1;_key17<_len17;_key17++){e[_key17-1]=arguments[_key17];}n.execute.apply(n,e);}},{key:'names',value:/*#__PURE__*/regeneratorRuntime.mark(function names(){return regeneratorRuntime.wrap(function names$(_context20){while(1){switch(_context20.prev=_context20.next){case 0:return _context20.delegateYield(this._commands.keys(),'t0',1);case 1:case'end':return _context20.stop();}}},names,this);})},{key:'commands',value:/*#__PURE__*/regeneratorRuntime.mark(function commands(){return regeneratorRuntime.wrap(function commands$(_context21){while(1){switch(_context21.prev=_context21.next){case 0:return _context21.delegateYield(this._commands.values(),'t0',1);case 1:case'end':return _context21.stop();}}},commands,this);})},{key:Symbol.iterator,value:function value(){return this._commands[Symbol.iterator]();}},{key:'destroy',value:function destroy(){var _iteratorNormalCompletion153=true;var _didIteratorError153=false;var _iteratorError153=undefined;try{for(var _iterator153=this.commands()[Symbol.iterator](),_step153;!(_iteratorNormalCompletion153=(_step153=_iterator153.next()).done);_iteratorNormalCompletion153=true){var t=_step153.value;t.destroy();}}catch(err){_didIteratorError153=true;_iteratorError153=err;}finally{try{if(!_iteratorNormalCompletion153&&_iterator153.return){_iterator153.return();}}finally{if(_didIteratorError153){throw _iteratorError153;}}}}}]);return pa;}();function ga(t,e){var n=Object.keys(window.CKEDITOR_TRANSLATIONS).length;return 1===n&&(t=Object.keys(window.CKEDITOR_TRANSLATIONS)[0]),0!==n&&function(t,e){return t in window.CKEDITOR_TRANSLATIONS&&e in window.CKEDITOR_TRANSLATIONS[t];}(t,e)?window.CKEDITOR_TRANSLATIONS[t][e].replace(/ \[context: [^\]]+\]$/,""):e.replace(/ \[context: [^\]]+\]$/,"");}window.CKEDITOR_TRANSLATIONS||(window.CKEDITOR_TRANSLATIONS={});var ba=function(){function ba(t){var _this50=this;_classCallCheck(this,ba);this.language=t||"en",this.t=function(){return _this50._t.apply(_this50,arguments);};}_createClass(ba,[{key:'_t',value:function _t(t,e){var n=ga(this.language,t);return e&&(n=n.replace(/%(\d+)/g,function(t,n){return n<e.length?e[n]:t;})),n;}}]);return ba;}();var wa=function(){function wa(){_classCallCheck(this,wa);this._consumables=new Map();}_createClass(wa,[{key:'add',value:function add(t,e){var n=void 0;t.is("text")||t.is("documentFragment")?this._consumables.set(t,!0):(this._consumables.has(t)?n=this._consumables.get(t):(n=new _a(),this._consumables.set(t,n)),n.add(e));}},{key:'test',value:function test(t,e){var n=this._consumables.get(t);return void 0===n?null:t.is("text")||t.is("documentFragment")?n:n.test(e);}},{key:'consume',value:function consume(t,e){return!!this.test(t,e)&&(t.is("text")||t.is("documentFragment")?this._consumables.set(t,!1):this._consumables.get(t).consume(e),!0);}},{key:'revert',value:function revert(t,e){var n=this._consumables.get(t);void 0!==n&&(t.is("text")||t.is("documentFragment")?this._consumables.set(t,!0):n.revert(e));}}],[{key:'consumablesFromElement',value:function consumablesFromElement(t){var e={name:!0,attributes:[],classes:[],styles:[]},n=t.getAttributeKeys();var _iteratorNormalCompletion154=true;var _didIteratorError154=false;var _iteratorError154=undefined;try{for(var _iterator154=n[Symbol.iterator](),_step154;!(_iteratorNormalCompletion154=(_step154=_iterator154.next()).done);_iteratorNormalCompletion154=true){var _t100=_step154.value;"style"!=_t100&&"class"!=_t100&&e.attributes.push(_t100);}}catch(err){_didIteratorError154=true;_iteratorError154=err;}finally{try{if(!_iteratorNormalCompletion154&&_iterator154.return){_iterator154.return();}}finally{if(_didIteratorError154){throw _iteratorError154;}}}var i=t.getClassNames();var _iteratorNormalCompletion155=true;var _didIteratorError155=false;var _iteratorError155=undefined;try{for(var _iterator155=i[Symbol.iterator](),_step155;!(_iteratorNormalCompletion155=(_step155=_iterator155.next()).done);_iteratorNormalCompletion155=true){var _t101=_step155.value;e.classes.push(_t101);}}catch(err){_didIteratorError155=true;_iteratorError155=err;}finally{try{if(!_iteratorNormalCompletion155&&_iterator155.return){_iterator155.return();}}finally{if(_didIteratorError155){throw _iteratorError155;}}}var o=t.getStyleNames();var _iteratorNormalCompletion156=true;var _didIteratorError156=false;var _iteratorError156=undefined;try{for(var _iterator156=o[Symbol.iterator](),_step156;!(_iteratorNormalCompletion156=(_step156=_iterator156.next()).done);_iteratorNormalCompletion156=true){var _t102=_step156.value;e.styles.push(_t102);}}catch(err){_didIteratorError156=true;_iteratorError156=err;}finally{try{if(!_iteratorNormalCompletion156&&_iterator156.return){_iterator156.return();}}finally{if(_didIteratorError156){throw _iteratorError156;}}}return e;}},{key:'createFrom',value:function createFrom(t,e){if(e||(e=new wa()),t.is("text"))return e.add(t),e;t.is("element")&&e.add(t,wa.consumablesFromElement(t)),t.is("documentFragment")&&e.add(t);var _iteratorNormalCompletion157=true;var _didIteratorError157=false;var _iteratorError157=undefined;try{for(var _iterator157=t.getChildren()[Symbol.iterator](),_step157;!(_iteratorNormalCompletion157=(_step157=_iterator157.next()).done);_iteratorNormalCompletion157=true){var n=_step157.value;e=wa.createFrom(n,e);}}catch(err){_didIteratorError157=true;_iteratorError157=err;}finally{try{if(!_iteratorNormalCompletion157&&_iterator157.return){_iterator157.return();}}finally{if(_didIteratorError157){throw _iteratorError157;}}}return e;}}]);return wa;}();var _a=function(){function _a(){_classCallCheck(this,_a);this._canConsumeName=null,this._consumables={attributes:new Map(),styles:new Map(),classes:new Map()};}_createClass(_a,[{key:'add',value:function add(t){t.name&&(this._canConsumeName=!0);for(var e in this._consumables){e in t&&this._add(e,t[e]);}}},{key:'test',value:function test(t){if(t.name&&!this._canConsumeName)return this._canConsumeName;for(var e in this._consumables){if(e in t){var n=this._test(e,t[e]);if(!0!==n)return n;}}return!0;}},{key:'consume',value:function consume(t){t.name&&(this._canConsumeName=!1);for(var e in this._consumables){e in t&&this._consume(e,t[e]);}}},{key:'revert',value:function revert(t){t.name&&(this._canConsumeName=!0);for(var e in this._consumables){e in t&&this._revert(e,t[e]);}}},{key:'_add',value:function _add(t,e){var n=ce(e)?e:[e],i=this._consumables[t];var _iteratorNormalCompletion158=true;var _didIteratorError158=false;var _iteratorError158=undefined;try{for(var _iterator158=n[Symbol.iterator](),_step158;!(_iteratorNormalCompletion158=(_step158=_iterator158.next()).done);_iteratorNormalCompletion158=true){var _e76=_step158.value;if("attributes"===t&&("class"===_e76||"style"===_e76))throw new P.b("viewconsumable-invalid-attribute: Classes and styles should be handled separately.");i.set(_e76,!0);}}catch(err){_didIteratorError158=true;_iteratorError158=err;}finally{try{if(!_iteratorNormalCompletion158&&_iterator158.return){_iterator158.return();}}finally{if(_didIteratorError158){throw _iteratorError158;}}}}},{key:'_test',value:function _test(t,e){var n=ce(e)?e:[e],i=this._consumables[t];var _iteratorNormalCompletion159=true;var _didIteratorError159=false;var _iteratorError159=undefined;try{for(var _iterator159=n[Symbol.iterator](),_step159;!(_iteratorNormalCompletion159=(_step159=_iterator159.next()).done);_iteratorNormalCompletion159=true){var _e77=_step159.value;if("attributes"!==t||"class"!==_e77&&"style"!==_e77){var _t103=i.get(_e77);if(void 0===_t103)return null;if(!_t103)return!1;}else{var _t104="class"==_e77?"classes":"styles",_n68=this._test(_t104,[].concat(_toConsumableArray(this._consumables[_t104].keys())));if(!0!==_n68)return _n68;}}}catch(err){_didIteratorError159=true;_iteratorError159=err;}finally{try{if(!_iteratorNormalCompletion159&&_iterator159.return){_iterator159.return();}}finally{if(_didIteratorError159){throw _iteratorError159;}}}return!0;}},{key:'_consume',value:function _consume(t,e){var n=ce(e)?e:[e],i=this._consumables[t];var _iteratorNormalCompletion160=true;var _didIteratorError160=false;var _iteratorError160=undefined;try{for(var _iterator160=n[Symbol.iterator](),_step160;!(_iteratorNormalCompletion160=(_step160=_iterator160.next()).done);_iteratorNormalCompletion160=true){var _e78=_step160.value;if("attributes"!==t||"class"!==_e78&&"style"!==_e78)i.set(_e78,!1);else{var _t105="class"==_e78?"classes":"styles";this._consume(_t105,[].concat(_toConsumableArray(this._consumables[_t105].keys())));}}}catch(err){_didIteratorError160=true;_iteratorError160=err;}finally{try{if(!_iteratorNormalCompletion160&&_iterator160.return){_iterator160.return();}}finally{if(_didIteratorError160){throw _iteratorError160;}}}}},{key:'_revert',value:function _revert(t,e){var n=ce(e)?e:[e],i=this._consumables[t];var _iteratorNormalCompletion161=true;var _didIteratorError161=false;var _iteratorError161=undefined;try{for(var _iterator161=n[Symbol.iterator](),_step161;!(_iteratorNormalCompletion161=(_step161=_iterator161.next()).done);_iteratorNormalCompletion161=true){var _e79=_step161.value;if("attributes"!==t||"class"!==_e79&&"style"!==_e79){!1===i.get(_e79)&&i.set(_e79,!0);}else{var _t106="class"==_e79?"classes":"styles";this._revert(_t106,[].concat(_toConsumableArray(this._consumables[_t106].keys())));}}}catch(err){_didIteratorError161=true;_iteratorError161=err;}finally{try{if(!_iteratorNormalCompletion161&&_iterator161.return){_iterator161.return();}}finally{if(_didIteratorError161){throw _iteratorError161;}}}}}]);return _a;}();var ka=function(){function ka(){var _this51=this;_classCallCheck(this,ka);this._sourceDefinitions={},this.decorate("checkChild"),this.decorate("checkAttribute"),this.on("checkAttribute",function(t,e){e[0]=new va(e[0]);},{priority:"highest"}),this.on("checkChild",function(t,e){e[0]=new va(e[0]),e[1]=_this51.getDefinition(e[1]);},{priority:"highest"});}_createClass(ka,[{key:'register',value:function register(t,e){if(this._sourceDefinitions[t])throw new P.b("schema-cannot-register-item-twice: A single item cannot be registered twice in the schema.",{itemName:t});this._sourceDefinitions[t]=[Object.assign({},e)],this._clearCache();}},{key:'extend',value:function extend(t,e){if(!this._sourceDefinitions[t])throw new P.b("schema-cannot-extend-missing-item: Cannot extend an item which was not registered yet.",{itemName:t});this._sourceDefinitions[t].push(Object.assign({},e)),this._clearCache();}},{key:'getDefinitions',value:function getDefinitions(){return this._compiledDefinitions||this._compile(),this._compiledDefinitions;}},{key:'getDefinition',value:function getDefinition(t){var e=void 0;return e="string"==typeof t?t:t.is&&(t.is("text")||t.is("textProxy"))?"$text":t.name,this.getDefinitions()[e];}},{key:'isRegistered',value:function isRegistered(t){return!!this.getDefinition(t);}},{key:'isBlock',value:function isBlock(t){var e=this.getDefinition(t);return!(!e||!e.isBlock);}},{key:'isLimit',value:function isLimit(t){var e=this.getDefinition(t);return!!e&&!(!e.isLimit&&!e.isObject);}},{key:'isObject',value:function isObject(t){var e=this.getDefinition(t);return!(!e||!e.isObject);}},{key:'checkChild',value:function checkChild(t,e){return!!e&&this._checkContextMatch(e,t);}},{key:'checkAttribute',value:function checkAttribute(t,e){var n=this.getDefinition(t.last);return!!n&&n.allowAttributes.includes(e);}},{key:'checkMerge',value:function checkMerge(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:null;if(t instanceof Hs){var _e80=t.nodeBefore,n=t.nodeAfter;if(!(_e80 instanceof zs))throw new P.b("schema-check-merge-no-element-before: The node before the merge position must be an element.");if(!(n instanceof zs))throw new P.b("schema-check-merge-no-element-after: The node after the merge position must be an element.");return this.checkMerge(_e80,n);}var _iteratorNormalCompletion162=true;var _didIteratorError162=false;var _iteratorError162=undefined;try{for(var _iterator162=e.getChildren()[Symbol.iterator](),_step162;!(_iteratorNormalCompletion162=(_step162=_iterator162.next()).done);_iteratorNormalCompletion162=true){var _n69=_step162.value;if(!this.checkChild(t,_n69))return!1;}}catch(err){_didIteratorError162=true;_iteratorError162=err;}finally{try{if(!_iteratorNormalCompletion162&&_iterator162.return){_iterator162.return();}}finally{if(_didIteratorError162){throw _iteratorError162;}}}return!0;}},{key:'addChildCheck',value:function addChildCheck(t){this.on("checkChild",function(e,_ref26){var _ref27=_slicedToArray(_ref26,2),n=_ref27[0],i=_ref27[1];if(!i)return;var o=t(n,i);"boolean"==typeof o&&(e.stop(),e.return=o);},{priority:"high"});}},{key:'addAttributeCheck',value:function addAttributeCheck(t){this.on("checkAttribute",function(e,_ref28){var _ref29=_slicedToArray(_ref28,2),n=_ref29[0],i=_ref29[1];var o=t(n,i);"boolean"==typeof o&&(e.stop(),e.return=o);},{priority:"high"});}},{key:'getLimitElement',value:function getLimitElement(t){var e=void 0;if(t instanceof Hs)e=t.parent;else{e=(t instanceof qs?[t]:Array.from(t.getRanges())).reduce(function(t,e){var n=e.getCommonAncestor();return t?t.getCommonAncestor(n,{includeSelf:!0}):n;},null);}for(;!this.isLimit(e)&&e.parent;){e=e.parent;}return e;}},{key:'checkAttributeInSelection',value:function checkAttributeInSelection(t,e){if(t.isCollapsed){var n=[].concat(_toConsumableArray(t.getFirstPosition().getAncestors()),[new Ls("",t.getAttributes())]);return this.checkAttribute(n,e);}{var _n70=t.getRanges();var _iteratorNormalCompletion163=true;var _didIteratorError163=false;var _iteratorError163=undefined;try{for(var _iterator163=_n70[Symbol.iterator](),_step163;!(_iteratorNormalCompletion163=(_step163=_iterator163.next()).done);_iteratorNormalCompletion163=true){var _t107=_step163.value;var _iteratorNormalCompletion164=true;var _didIteratorError164=false;var _iteratorError164=undefined;try{for(var _iterator164=_t107[Symbol.iterator](),_step164;!(_iteratorNormalCompletion164=(_step164=_iterator164.next()).done);_iteratorNormalCompletion164=true){var _n71=_step164.value;if(this.checkAttribute(_n71.item,e))return!0;}}catch(err){_didIteratorError164=true;_iteratorError164=err;}finally{try{if(!_iteratorNormalCompletion164&&_iterator164.return){_iterator164.return();}}finally{if(_didIteratorError164){throw _iteratorError164;}}}}}catch(err){_didIteratorError163=true;_iteratorError163=err;}finally{try{if(!_iteratorNormalCompletion163&&_iterator163.return){_iterator163.return();}}finally{if(_didIteratorError163){throw _iteratorError163;}}}}return!1;}},{key:'getValidRanges',value:/*#__PURE__*/regeneratorRuntime.mark(function getValidRanges(t,e){var _iteratorNormalCompletion166,_didIteratorError166,_iteratorError166,_iterator166,_step166,n;return regeneratorRuntime.wrap(function getValidRanges$(_context23){while(1){switch(_context23.prev=_context23.next){case 0:t=/*#__PURE__*/regeneratorRuntime.mark(function _callee(t){var _iteratorNormalCompletion165,_didIteratorError165,_iteratorError165,_iterator165,_step165,_e81;return regeneratorRuntime.wrap(function _callee$(_context22){while(1){switch(_context22.prev=_context22.next){case 0:_iteratorNormalCompletion165=true;_didIteratorError165=false;_iteratorError165=undefined;_context22.prev=3;_iterator165=t[Symbol.iterator]();case 5:if(_iteratorNormalCompletion165=(_step165=_iterator165.next()).done){_context22.next=11;break;}_e81=_step165.value;return _context22.delegateYield(_e81.getMinimalFlatRanges(),'t0',8);case 8:_iteratorNormalCompletion165=true;_context22.next=5;break;case 11:_context22.next=17;break;case 13:_context22.prev=13;_context22.t1=_context22['catch'](3);_didIteratorError165=true;_iteratorError165=_context22.t1;case 17:_context22.prev=17;_context22.prev=18;if(!_iteratorNormalCompletion165&&_iterator165.return){_iterator165.return();}case 20:_context22.prev=20;if(!_didIteratorError165){_context22.next=23;break;}throw _iteratorError165;case 23:return _context22.finish(20);case 24:return _context22.finish(17);case 25:case'end':return _context22.stop();}}},_callee,this,[[3,13,17,25],[18,,20,24]]);})(t);_iteratorNormalCompletion166=true;_didIteratorError166=false;_iteratorError166=undefined;_context23.prev=4;_iterator166=t[Symbol.iterator]();case 6:if(_iteratorNormalCompletion166=(_step166=_iterator166.next()).done){_context23.next=12;break;}n=_step166.value;return _context23.delegateYield(this._getValidRangesForRange(n,e),'t0',9);case 9:_iteratorNormalCompletion166=true;_context23.next=6;break;case 12:_context23.next=18;break;case 14:_context23.prev=14;_context23.t1=_context23['catch'](4);_didIteratorError166=true;_iteratorError166=_context23.t1;case 18:_context23.prev=18;_context23.prev=19;if(!_iteratorNormalCompletion166&&_iterator166.return){_iterator166.return();}case 21:_context23.prev=21;if(!_didIteratorError166){_context23.next=24;break;}throw _iteratorError166;case 24:return _context23.finish(21);case 25:return _context23.finish(18);case 26:case'end':return _context23.stop();}}},getValidRanges,this,[[4,14,18,26],[19,,21,25]]);})},{key:'_getValidRangesForRange',value:/*#__PURE__*/regeneratorRuntime.mark(function _getValidRangesForRange(t,e){var n,i,_iteratorNormalCompletion167,_didIteratorError167,_iteratorError167,_iterator167,_step167,_o33;return regeneratorRuntime.wrap(function _getValidRangesForRange$(_context24){while(1){switch(_context24.prev=_context24.next){case 0:n=t.start,i=t.start;_iteratorNormalCompletion167=true;_didIteratorError167=false;_iteratorError167=undefined;_context24.prev=4;_iterator167=t.getItems({shallow:!0})[Symbol.iterator]();case 6:if(_iteratorNormalCompletion167=(_step167=_iterator167.next()).done){_context24.next=22;break;}_o33=_step167.value;_context24.t0=_o33.is("element");if(!_context24.t0){_context24.next=11;break;}return _context24.delegateYield(this._getValidRangesForRange(qs._createIn(_o33),e),'t1',11);case 11:_context24.t2=this.checkAttribute(_o33,e);if(_context24.t2){_context24.next=18;break;}_context24.t3=n.isEqual(i);if(_context24.t3){_context24.next=17;break;}_context24.next=17;return new qs(n,i);case 17:n=Hs._createAfter(_o33);case 18:i=Hs._createAfter(_o33);case 19:_iteratorNormalCompletion167=true;_context24.next=6;break;case 22:_context24.next=28;break;case 24:_context24.prev=24;_context24.t4=_context24['catch'](4);_didIteratorError167=true;_iteratorError167=_context24.t4;case 28:_context24.prev=28;_context24.prev=29;if(!_iteratorNormalCompletion167&&_iterator167.return){_iterator167.return();}case 31:_context24.prev=31;if(!_didIteratorError167){_context24.next=34;break;}throw _iteratorError167;case 34:return _context24.finish(31);case 35:return _context24.finish(28);case 36:_context24.t5=n.isEqual(i);if(_context24.t5){_context24.next=40;break;}_context24.next=40;return new qs(n,i);case 40:case'end':return _context24.stop();}}},_getValidRangesForRange,this,[[4,24,28,36],[29,,31,35]]);})},{key:'getNearestSelectionRange',value:function getNearestSelectionRange(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"both";if(this.checkChild(t,"$text"))return new qs(t);var n=void 0,i=void 0;"both"!=e&&"backward"!=e||(n=new Bs({startPosition:t,direction:"backward"})),"both"!=e&&"forward"!=e||(i=new Bs({startPosition:t}));var _iteratorNormalCompletion168=true;var _didIteratorError168=false;var _iteratorError168=undefined;try{for(var _iterator168=/*#__PURE__*/regeneratorRuntime.mark(function _callee2(t,e){var n,_e83,_t109;return regeneratorRuntime.wrap(function _callee2$(_context25){while(1){switch(_context25.prev=_context25.next){case 0:n=!1;case 1:if(n){_context25.next=18;break;}if(!(n=!0,t)){_context25.next=9;break;}_e83=t.next();_context25.t0=_e83.done;if(_context25.t0){_context25.next=9;break;}n=!1;_context25.next=9;return{walker:t,value:_e83.value};case 9:if(!e){_context25.next=16;break;}_t109=e.next();_context25.t1=_t109.done;if(_context25.t1){_context25.next=16;break;}n=!1;_context25.next=16;return{walker:e,value:_t109.value};case 16:_context25.next=1;break;case 18:case'end':return _context25.stop();}}},_callee2,this);})(n,i)[Symbol.iterator](),_step168;!(_iteratorNormalCompletion168=(_step168=_iterator168.next()).done);_iteratorNormalCompletion168=true){var _t108=_step168.value;var _e82=_t108.walker==n?"elementEnd":"elementStart",_i18=_t108.value;if(_i18.type==_e82&&this.isObject(_i18.item))return qs._createOn(_i18.item);if(this.checkChild(_i18.nextPosition,"$text"))return new qs(_i18.nextPosition);}}catch(err){_didIteratorError168=true;_iteratorError168=err;}finally{try{if(!_iteratorNormalCompletion168&&_iterator168.return){_iterator168.return();}}finally{if(_didIteratorError168){throw _iteratorError168;}}}return null;}},{key:'findAllowedParent',value:function findAllowedParent(t,e){var n=e.parent;for(;n;){if(this.checkChild(n,t))return n;if(this.isLimit(n))return null;n=n.parent;}return null;}},{key:'removeDisallowedAttributes',value:function removeDisallowedAttributes(t,e){var _iteratorNormalCompletion169=true;var _didIteratorError169=false;var _iteratorError169=undefined;try{for(var _iterator169=t[Symbol.iterator](),_step169;!(_iteratorNormalCompletion169=(_step169=_iterator169.next()).done);_iteratorNormalCompletion169=true){var n=_step169.value;var _iteratorNormalCompletion170=true;var _didIteratorError170=false;var _iteratorError170=undefined;try{for(var _iterator170=n.getAttributeKeys()[Symbol.iterator](),_step170;!(_iteratorNormalCompletion170=(_step170=_iterator170.next()).done);_iteratorNormalCompletion170=true){var _t110=_step170.value;this.checkAttribute(n,_t110)||e.removeAttribute(_t110,n);}}catch(err){_didIteratorError170=true;_iteratorError170=err;}finally{try{if(!_iteratorNormalCompletion170&&_iterator170.return){_iterator170.return();}}finally{if(_didIteratorError170){throw _iteratorError170;}}}n.is("element")&&this.removeDisallowedAttributes(n.getChildren(),e);}}catch(err){_didIteratorError169=true;_iteratorError169=err;}finally{try{if(!_iteratorNormalCompletion169&&_iterator169.return){_iterator169.return();}}finally{if(_didIteratorError169){throw _iteratorError169;}}}}},{key:'createContext',value:function createContext(t){return new va(t);}},{key:'_clearCache',value:function _clearCache(){this._compiledDefinitions=null;}},{key:'_compile',value:function _compile(){var t={},e=this._sourceDefinitions,n=Object.keys(e);var _iteratorNormalCompletion171=true;var _didIteratorError171=false;var _iteratorError171=undefined;try{for(var _iterator171=n[Symbol.iterator](),_step171;!(_iteratorNormalCompletion171=(_step171=_iterator171.next()).done);_iteratorNormalCompletion171=true){var i=_step171.value;t[i]=ya(e[i],i);}}catch(err){_didIteratorError171=true;_iteratorError171=err;}finally{try{if(!_iteratorNormalCompletion171&&_iterator171.return){_iterator171.return();}}finally{if(_didIteratorError171){throw _iteratorError171;}}}var _iteratorNormalCompletion172=true;var _didIteratorError172=false;var _iteratorError172=undefined;try{for(var _iterator172=n[Symbol.iterator](),_step172;!(_iteratorNormalCompletion172=(_step172=_iterator172.next()).done);_iteratorNormalCompletion172=true){var _e84=_step172.value;xa(t,_e84);}}catch(err){_didIteratorError172=true;_iteratorError172=err;}finally{try{if(!_iteratorNormalCompletion172&&_iterator172.return){_iterator172.return();}}finally{if(_didIteratorError172){throw _iteratorError172;}}}var _iteratorNormalCompletion173=true;var _didIteratorError173=false;var _iteratorError173=undefined;try{for(var _iterator173=n[Symbol.iterator](),_step173;!(_iteratorNormalCompletion173=(_step173=_iterator173.next()).done);_iteratorNormalCompletion173=true){var _e85=_step173.value;Aa(t,_e85);}}catch(err){_didIteratorError173=true;_iteratorError173=err;}finally{try{if(!_iteratorNormalCompletion173&&_iterator173.return){_iterator173.return();}}finally{if(_didIteratorError173){throw _iteratorError173;}}}var _iteratorNormalCompletion174=true;var _didIteratorError174=false;var _iteratorError174=undefined;try{for(var _iterator174=n[Symbol.iterator](),_step174;!(_iteratorNormalCompletion174=(_step174=_iterator174.next()).done);_iteratorNormalCompletion174=true){var _e86=_step174.value;Ca(t,_e86),Ta(t,_e86);}}catch(err){_didIteratorError174=true;_iteratorError174=err;}finally{try{if(!_iteratorNormalCompletion174&&_iterator174.return){_iterator174.return();}}finally{if(_didIteratorError174){throw _iteratorError174;}}}var _iteratorNormalCompletion175=true;var _didIteratorError175=false;var _iteratorError175=undefined;try{for(var _iterator175=n[Symbol.iterator](),_step175;!(_iteratorNormalCompletion175=(_step175=_iterator175.next()).done);_iteratorNormalCompletion175=true){var _e87=_step175.value;Pa(t,_e87),Ma(t,_e87);}}catch(err){_didIteratorError175=true;_iteratorError175=err;}finally{try{if(!_iteratorNormalCompletion175&&_iterator175.return){_iterator175.return();}}finally{if(_didIteratorError175){throw _iteratorError175;}}}this._compiledDefinitions=t;}},{key:'_checkContextMatch',value:function _checkContextMatch(t,e){var n=arguments.length>2&&arguments[2]!==undefined?arguments[2]:e.length-1;var i=e.getItem(n);if(t.allowIn.includes(i.name)){if(0==n)return!0;{var _t111=this.getDefinition(i);return this._checkContextMatch(_t111,e,n-1);}}return!1;}}]);return ka;}();F(ka,Li);var va=function(){function va(t){_classCallCheck(this,va);if(t instanceof va)return t;"string"==typeof t?t=[t]:Array.isArray(t)||(t=t.getAncestors({includeSelf:!0})),t[0]&&"string"!=typeof t[0]&&t[0].is("documentFragment")&&t.shift(),this._items=t.map(Ea);}_createClass(va,[{key:Symbol.iterator,value:function value(){return this._items[Symbol.iterator]();}},{key:'push',value:function push(t){var e=new va([t]);return e._items=[].concat(_toConsumableArray(this._items),_toConsumableArray(e._items)),e;}},{key:'getItem',value:function getItem(t){return this._items[t];}},{key:'getNames',value:/*#__PURE__*/regeneratorRuntime.mark(function getNames(){return regeneratorRuntime.wrap(function getNames$(_context26){while(1){switch(_context26.prev=_context26.next){case 0:return _context26.delegateYield(this._items.map(function(t){return t.name;}),'t0',1);case 1:case'end':return _context26.stop();}}},getNames,this);})},{key:'endsWith',value:function endsWith(t){return Array.from(this.getNames()).join(" ").endsWith(t);}},{key:'length',get:function get(){return this._items.length;}},{key:'last',get:function get(){return this._items[this._items.length-1];}}]);return va;}();function ya(t,e){var n={name:e,allowIn:[],allowContentOf:[],allowWhere:[],allowAttributes:[],allowAttributesOf:[],inheritTypesFrom:[]};return function(t,e){var _iteratorNormalCompletion176=true;var _didIteratorError176=false;var _iteratorError176=undefined;try{for(var _iterator176=t[Symbol.iterator](),_step176;!(_iteratorNormalCompletion176=(_step176=_iterator176.next()).done);_iteratorNormalCompletion176=true){var _n72=_step176.value;var _t112=Object.keys(_n72).filter(function(t){return t.startsWith("is");});var _iteratorNormalCompletion177=true;var _didIteratorError177=false;var _iteratorError177=undefined;try{for(var _iterator177=_t112[Symbol.iterator](),_step177;!(_iteratorNormalCompletion177=(_step177=_iterator177.next()).done);_iteratorNormalCompletion177=true){var i=_step177.value;e[i]=_n72[i];}}catch(err){_didIteratorError177=true;_iteratorError177=err;}finally{try{if(!_iteratorNormalCompletion177&&_iterator177.return){_iterator177.return();}}finally{if(_didIteratorError177){throw _iteratorError177;}}}}}catch(err){_didIteratorError176=true;_iteratorError176=err;}finally{try{if(!_iteratorNormalCompletion176&&_iterator176.return){_iterator176.return();}}finally{if(_didIteratorError176){throw _iteratorError176;}}}}(t,n),Sa(t,n,"allowIn"),Sa(t,n,"allowContentOf"),Sa(t,n,"allowWhere"),Sa(t,n,"allowAttributes"),Sa(t,n,"allowAttributesOf"),Sa(t,n,"inheritTypesFrom"),function(t,e){var _iteratorNormalCompletion178=true;var _didIteratorError178=false;var _iteratorError178=undefined;try{for(var _iterator178=t[Symbol.iterator](),_step178;!(_iteratorNormalCompletion178=(_step178=_iterator178.next()).done);_iteratorNormalCompletion178=true){var _n73=_step178.value;var _t113=_n73.inheritAllFrom;_t113&&(e.allowContentOf.push(_t113),e.allowWhere.push(_t113),e.allowAttributesOf.push(_t113),e.inheritTypesFrom.push(_t113));}}catch(err){_didIteratorError178=true;_iteratorError178=err;}finally{try{if(!_iteratorNormalCompletion178&&_iterator178.return){_iterator178.return();}}finally{if(_didIteratorError178){throw _iteratorError178;}}}}(t,n),n;}function xa(t,e){var _iteratorNormalCompletion179=true;var _didIteratorError179=false;var _iteratorError179=undefined;try{for(var _iterator179=t[e].allowContentOf[Symbol.iterator](),_step179;!(_iteratorNormalCompletion179=(_step179=_iterator179.next()).done);_iteratorNormalCompletion179=true){var n=_step179.value;if(t[n]){Ia(t,n).forEach(function(t){t.allowIn.push(e);});}}}catch(err){_didIteratorError179=true;_iteratorError179=err;}finally{try{if(!_iteratorNormalCompletion179&&_iterator179.return){_iterator179.return();}}finally{if(_didIteratorError179){throw _iteratorError179;}}}delete t[e].allowContentOf;}function Aa(t,e){var _iteratorNormalCompletion180=true;var _didIteratorError180=false;var _iteratorError180=undefined;try{for(var _iterator180=t[e].allowWhere[Symbol.iterator](),_step180;!(_iteratorNormalCompletion180=(_step180=_iterator180.next()).done);_iteratorNormalCompletion180=true){var n=_step180.value;var i=t[n];if(i){var _t$e$allowIn;var _n74=i.allowIn;(_t$e$allowIn=t[e].allowIn).push.apply(_t$e$allowIn,_toConsumableArray(_n74));}}}catch(err){_didIteratorError180=true;_iteratorError180=err;}finally{try{if(!_iteratorNormalCompletion180&&_iterator180.return){_iterator180.return();}}finally{if(_didIteratorError180){throw _iteratorError180;}}}delete t[e].allowWhere;}function Ca(t,e){var _iteratorNormalCompletion181=true;var _didIteratorError181=false;var _iteratorError181=undefined;try{for(var _iterator181=t[e].allowAttributesOf[Symbol.iterator](),_step181;!(_iteratorNormalCompletion181=(_step181=_iterator181.next()).done);_iteratorNormalCompletion181=true){var n=_step181.value;var i=t[n];if(i){var _t$e$allowAttributes;var _n75=i.allowAttributes;(_t$e$allowAttributes=t[e].allowAttributes).push.apply(_t$e$allowAttributes,_toConsumableArray(_n75));}}}catch(err){_didIteratorError181=true;_iteratorError181=err;}finally{try{if(!_iteratorNormalCompletion181&&_iterator181.return){_iterator181.return();}}finally{if(_didIteratorError181){throw _iteratorError181;}}}delete t[e].allowAttributesOf;}function Ta(t,e){var n=t[e];var _iteratorNormalCompletion182=true;var _didIteratorError182=false;var _iteratorError182=undefined;try{for(var _iterator182=n.inheritTypesFrom[Symbol.iterator](),_step182;!(_iteratorNormalCompletion182=(_step182=_iterator182.next()).done);_iteratorNormalCompletion182=true){var _e88=_step182.value;var i=t[_e88];if(i){var _t114=Object.keys(i).filter(function(t){return t.startsWith("is");});var _iteratorNormalCompletion183=true;var _didIteratorError183=false;var _iteratorError183=undefined;try{for(var _iterator183=_t114[Symbol.iterator](),_step183;!(_iteratorNormalCompletion183=(_step183=_iterator183.next()).done);_iteratorNormalCompletion183=true){var _e89=_step183.value;_e89 in n||(n[_e89]=i[_e89]);}}catch(err){_didIteratorError183=true;_iteratorError183=err;}finally{try{if(!_iteratorNormalCompletion183&&_iterator183.return){_iterator183.return();}}finally{if(_didIteratorError183){throw _iteratorError183;}}}}}}catch(err){_didIteratorError182=true;_iteratorError182=err;}finally{try{if(!_iteratorNormalCompletion182&&_iterator182.return){_iterator182.return();}}finally{if(_didIteratorError182){throw _iteratorError182;}}}delete n.inheritTypesFrom;}function Pa(t,e){var n=t[e],i=n.allowIn.filter(function(e){return t[e];});n.allowIn=Array.from(new Set(i));}function Ma(t,e){var n=t[e];n.allowAttributes=Array.from(new Set(n.allowAttributes));}function Sa(t,e,n){var _iteratorNormalCompletion184=true;var _didIteratorError184=false;var _iteratorError184=undefined;try{for(var _iterator184=t[Symbol.iterator](),_step184;!(_iteratorNormalCompletion184=(_step184=_iterator184.next()).done);_iteratorNormalCompletion184=true){var _e$n;var i=_step184.value;"string"==typeof i[n]?e[n].push(i[n]):Array.isArray(i[n])&&(_e$n=e[n]).push.apply(_e$n,_toConsumableArray(i[n]));}}catch(err){_didIteratorError184=true;_iteratorError184=err;}finally{try{if(!_iteratorNormalCompletion184&&_iterator184.return){_iterator184.return();}}finally{if(_didIteratorError184){throw _iteratorError184;}}}}function Ia(t,e){var n=t[e];return function(t){return Object.keys(t).map(function(e){return t[e];});}(t).filter(function(t){return t.allowIn.includes(n.name);});}function Ea(t){return"string"==typeof t?{name:t,getAttributeKeys:/*#__PURE__*/regeneratorRuntime.mark(function getAttributeKeys(){return regeneratorRuntime.wrap(function getAttributeKeys$(_context27){while(1){switch(_context27.prev=_context27.next){case 0:case'end':return _context27.stop();}}},getAttributeKeys,this);}),getAttribute:function getAttribute(){}}:{name:t.is("element")?t.name:"$text",getAttributeKeys:/*#__PURE__*/regeneratorRuntime.mark(function getAttributeKeys(){return regeneratorRuntime.wrap(function getAttributeKeys$(_context28){while(1){switch(_context28.prev=_context28.next){case 0:return _context28.delegateYield(t.getAttributeKeys(),'t0',1);case 1:case'end':return _context28.stop();}}},getAttributeKeys,this);}),getAttribute:function getAttribute(e){return t.getAttribute(e);}};}var Na=function(){function Na(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};_classCallCheck(this,Na);this._removeIfEmpty=new Set(),this._modelCursor=null,this.conversionApi=Object.assign({},t),this.conversionApi.convertItem=this._convertItem.bind(this),this.conversionApi.convertChildren=this._convertChildren.bind(this),this.conversionApi.splitToAllowedParent=this._splitToAllowedParent.bind(this);}_createClass(Na,[{key:'convert',value:function convert(t,e){var n=arguments.length>2&&arguments[2]!==undefined?arguments[2]:["$root"];this.fire("viewCleanup",t),this._modelCursor=function(t,e){var n=void 0;var _iteratorNormalCompletion185=true;var _didIteratorError185=false;var _iteratorError185=undefined;try{for(var _iterator185=new va(t)[Symbol.iterator](),_step185;!(_iteratorNormalCompletion185=(_step185=_iterator185.next()).done);_iteratorNormalCompletion185=true){var _i19=_step185.value;var _t115={};var _iteratorNormalCompletion186=true;var _didIteratorError186=false;var _iteratorError186=undefined;try{for(var _iterator186=_i19.getAttributeKeys()[Symbol.iterator](),_step186;!(_iteratorNormalCompletion186=(_step186=_iterator186.next()).done);_iteratorNormalCompletion186=true){var _e90=_step186.value;_t115[_e90]=_i19.getAttribute(_e90);}}catch(err){_didIteratorError186=true;_iteratorError186=err;}finally{try{if(!_iteratorNormalCompletion186&&_iterator186.return){_iterator186.return();}}finally{if(_didIteratorError186){throw _iteratorError186;}}}var _o34=e.createElement(_i19.name,_t115);n&&e.append(_o34,n),n=Hs._createAt(_o34,0);}}catch(err){_didIteratorError185=true;_iteratorError185=err;}finally{try{if(!_iteratorNormalCompletion185&&_iterator185.return){_iterator185.return();}}finally{if(_didIteratorError185){throw _iteratorError185;}}}return n;}(n,e),this.conversionApi.writer=e,this.conversionApi.consumable=wa.createFrom(t),this.conversionApi.store={};var _convertItem2=this._convertItem(t,this._modelCursor),i=_convertItem2.modelRange,o=e.createDocumentFragment();if(i){this._removeEmptyElements();var _iteratorNormalCompletion187=true;var _didIteratorError187=false;var _iteratorError187=undefined;try{for(var _iterator187=Array.from(this._modelCursor.parent.getChildren())[Symbol.iterator](),_step187;!(_iteratorNormalCompletion187=(_step187=_iterator187.next()).done);_iteratorNormalCompletion187=true){var _t116=_step187.value;e.append(_t116,o);}}catch(err){_didIteratorError187=true;_iteratorError187=err;}finally{try{if(!_iteratorNormalCompletion187&&_iterator187.return){_iterator187.return();}}finally{if(_didIteratorError187){throw _iteratorError187;}}}o.markers=function(t,e){var n=new Set(),i=new Map(),o=qs._createIn(t).getItems();var _iteratorNormalCompletion188=true;var _didIteratorError188=false;var _iteratorError188=undefined;try{for(var _iterator188=o[Symbol.iterator](),_step188;!(_iteratorNormalCompletion188=(_step188=_iterator188.next()).done);_iteratorNormalCompletion188=true){var _t117=_step188.value;"$marker"==_t117.name&&n.add(_t117);}}catch(err){_didIteratorError188=true;_iteratorError188=err;}finally{try{if(!_iteratorNormalCompletion188&&_iterator188.return){_iterator188.return();}}finally{if(_didIteratorError188){throw _iteratorError188;}}}var _iteratorNormalCompletion189=true;var _didIteratorError189=false;var _iteratorError189=undefined;try{for(var _iterator189=n[Symbol.iterator](),_step189;!(_iteratorNormalCompletion189=(_step189=_iterator189.next()).done);_iteratorNormalCompletion189=true){var _t118=_step189.value;var _n76=_t118.getAttribute("data-name"),_o35=e.createPositionBefore(_t118);i.has(_n76)?i.get(_n76).end=_o35.clone():i.set(_n76,new qs(_o35.clone())),e.remove(_t118);}}catch(err){_didIteratorError189=true;_iteratorError189=err;}finally{try{if(!_iteratorNormalCompletion189&&_iterator189.return){_iterator189.return();}}finally{if(_didIteratorError189){throw _iteratorError189;}}}return i;}(o,e);}return this._modelCursor=null,this._removeIfEmpty.clear(),this.conversionApi.writer=null,this.conversionApi.store=null,o;}},{key:'_convertItem',value:function _convertItem(t,e){var n=Object.assign({viewItem:t,modelCursor:e,modelRange:null});if(t.is("element")?this.fire("element:"+t.name,n,this.conversionApi):t.is("text")?this.fire("text",n,this.conversionApi):this.fire("documentFragment",n,this.conversionApi),n.modelRange&&!(n.modelRange instanceof qs))throw new P.b("view-conversion-dispatcher-incorrect-result: Incorrect conversion result was dropped.");return{modelRange:n.modelRange,modelCursor:n.modelCursor};}},{key:'_convertChildren',value:function _convertChildren(t,e){var n=new qs(e);var i=e;var _iteratorNormalCompletion190=true;var _didIteratorError190=false;var _iteratorError190=undefined;try{for(var _iterator190=Array.from(t.getChildren())[Symbol.iterator](),_step190;!(_iteratorNormalCompletion190=(_step190=_iterator190.next()).done);_iteratorNormalCompletion190=true){var _e91=_step190.value;var _t119=this._convertItem(_e91,i);_t119.modelRange instanceof qs&&(n.end=_t119.modelRange.end,i=_t119.modelCursor);}}catch(err){_didIteratorError190=true;_iteratorError190=err;}finally{try{if(!_iteratorNormalCompletion190&&_iterator190.return){_iterator190.return();}}finally{if(_didIteratorError190){throw _iteratorError190;}}}return{modelRange:n,modelCursor:i};}},{key:'_splitToAllowedParent',value:function _splitToAllowedParent(t,e){var n=this.conversionApi.schema.findAllowedParent(t,e);if(!n)return null;if(n===e.parent)return{position:e};if(this._modelCursor.parent.getAncestors().includes(n))return null;var i=this.conversionApi.writer.split(e,n);var _iteratorNormalCompletion191=true;var _didIteratorError191=false;var _iteratorError191=undefined;try{for(var _iterator191=i.range.getPositions()[Symbol.iterator](),_step191;!(_iteratorNormalCompletion191=(_step191=_iterator191.next()).done);_iteratorNormalCompletion191=true){var _t120=_step191.value;_t120.isEqual(i.position)||this._removeIfEmpty.add(_t120.parent);}}catch(err){_didIteratorError191=true;_iteratorError191=err;}finally{try{if(!_iteratorNormalCompletion191&&_iterator191.return){_iterator191.return();}}finally{if(_didIteratorError191){throw _iteratorError191;}}}return{position:i.position,cursorParent:i.range.end.parent};}},{key:'_removeEmptyElements',value:function _removeEmptyElements(){var t=!1;var _iteratorNormalCompletion192=true;var _didIteratorError192=false;var _iteratorError192=undefined;try{for(var _iterator192=this._removeIfEmpty[Symbol.iterator](),_step192;!(_iteratorNormalCompletion192=(_step192=_iterator192.next()).done);_iteratorNormalCompletion192=true){var e=_step192.value;e.isEmpty&&(this.conversionApi.writer.remove(e),this._removeIfEmpty.delete(e),t=!0);}}catch(err){_didIteratorError192=true;_iteratorError192=err;}finally{try{if(!_iteratorNormalCompletion192&&_iterator192.return){_iterator192.return();}}finally{if(_didIteratorError192){throw _iteratorError192;}}}t&&this._removeEmptyElements();}}]);return Na;}();function Oa(t){var e=function(t){var e=new hi(t.view);return function(n,i,o){var r=e.match(i.viewItem);if(!r)return;r.match.name=!0;var s=function(t,e,n){return t instanceof Function?t(e,n):n.createElement(t);}(t.model,i.viewItem,o.writer);if(!s)return;if(!o.consumable.test(i.viewItem,r.match))return;var a=o.splitToAllowedParent(s,i.modelCursor);if(!a)return;o.writer.insert(s,a.position);var c=o.convertChildren(i.viewItem,o.writer.createPositionAt(s,0));o.consumable.consume(i.viewItem,r.match),i.modelRange=new qs(o.writer.createPositionBefore(s),o.writer.createPositionAfter(c.modelCursor.parent)),a.cursorParent?i.modelCursor=o.writer.createPositionAt(a.cursorParent,0):i.modelCursor=i.modelRange.end;};}(t=sa(t)),n=La(t),i=n?"element:"+n:"element";return function(n){n.on(i,e,{priority:t.converterPriority||"normal"});};}function Ra(t){ja(t=sa(t));var e=Va(t,!1),n=La(t),i=n?"element:"+n:"element";return function(n){n.on(i,e,{priority:t.converterPriority||"normal"});};}function Da(t){var e=null;("string"==typeof(t=sa(t)).view||t.view.key)&&(e=function(t){"string"==typeof t.view&&(t.view={key:t.view});var e=t.view.key;var n=void 0;if("class"==e||"style"==e){var i="class"==e?"classes":"styles";n=_defineProperty({},i,t.view.value);}else{var _i20=void 0===t.view.value?/[\s\S]*/:t.view.value;n={attributes:_defineProperty({},e,_i20)};}t.view.name&&(n.name=t.view.name);return t.view=n,e;}(t)),ja(t,e);var n=Va(t,!0);return function(e){e.on("element",n,{priority:t.converterPriority||"low"});};}function La(t){return"string"==typeof t.view?t.view:"object"==_typeof(t.view)&&"string"==typeof t.view.name?t.view.name:null;}function ja(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:null;var n=null===e||function(t){return t.getAttribute(e);},i="object"!=_typeof(t.model)?t.model:t.model.key,o="object"!=_typeof(t.model)||void 0===t.model.value?n:t.model.value;t.model={key:i,value:o};}function Va(t,e){var n=new hi(t.view);return function(i,o,r){var s=n.match(o.viewItem);if(!s)return;var a=t.model.key,c="function"==typeof t.model.value?t.model.value(o.viewItem):t.model.value;null!==c&&(!function(t){if("object"==_typeof(t.view)&&!La(t))return!1;return!t.view.classes&&!t.view.attributes&&!t.view.styles;}(t)?delete s.match.name:s.match.name=!0,r.consumable.test(o.viewItem,s.match)&&(o.modelRange||(o=Object.assign(o,r.convertChildren(o.viewItem,o.modelCursor))),function(t,e,n,i){var o=!1;var _iteratorNormalCompletion193=true;var _didIteratorError193=false;var _iteratorError193=undefined;try{for(var _iterator193=Array.from(t.getItems({shallow:n}))[Symbol.iterator](),_step193;!(_iteratorNormalCompletion193=(_step193=_iterator193.next()).done);_iteratorNormalCompletion193=true){var _r11=_step193.value;i.schema.checkAttribute(_r11,e.key)&&(i.writer.setAttribute(e.key,e.value,_r11),o=!0);}}catch(err){_didIteratorError193=true;_iteratorError193=err;}finally{try{if(!_iteratorNormalCompletion193&&_iterator193.return){_iterator193.return();}}finally{if(_didIteratorError193){throw _iteratorError193;}}}return o;}(o.modelRange,{key:a,value:c},e,r)&&r.consumable.consume(o.viewItem,s.match)));};}F(Na,R);var za=function(){function za(t,e){_classCallCheck(this,za);this.model=t,this.processor=e,this.mapper=new Ws(),this.downcastDispatcher=new Gs({mapper:this.mapper}),this.downcastDispatcher.on("insert:$text",function(t,e,n){if(!n.consumable.consume(e.item,"insert"))return;var i=n.writer,o=n.mapper.toViewPosition(e.range.start),r=i.createText(e.item.data);i.insert(o,r);},{priority:"lowest"}),this.upcastDispatcher=new Na({schema:t.schema}),this.upcastDispatcher.on("text",function(t,e,n){if(n.schema.checkChild(e.modelCursor,"$text")&&n.consumable.consume(e.viewItem)){var _t121=n.writer.createText(e.viewItem.data);n.writer.insert(_t121,e.modelCursor),e.modelRange=qs._createFromPositionAndShift(e.modelCursor,_t121.offsetSize),e.modelCursor=e.modelRange.end;}},{priority:"lowest"}),this.upcastDispatcher.on("element",function(t,e,n){if(!e.modelRange&&n.consumable.consume(e.viewItem,{name:!0})){var _n$convertChildren=n.convertChildren(e.viewItem,e.modelCursor),_t122=_n$convertChildren.modelRange,i=_n$convertChildren.modelCursor;e.modelRange=_t122,e.modelCursor=i;}},{priority:"lowest"}),this.upcastDispatcher.on("documentFragment",function(t,e,n){if(!e.modelRange&&n.consumable.consume(e.viewItem,{name:!0})){var _n$convertChildren2=n.convertChildren(e.viewItem,e.modelCursor),_t123=_n$convertChildren2.modelRange,i=_n$convertChildren2.modelCursor;e.modelRange=_t123,e.modelCursor=i;}},{priority:"lowest"}),this.decorate("init");}_createClass(za,[{key:'get',value:function get(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:"main";return this.stringify(this.model.document.getRoot(t));}},{key:'stringify',value:function stringify(t){var e=this.toView(t);return this.processor.toData(e);}},{key:'toView',value:function toView(t){this.mapper.clearBindings();var e=qs._createIn(t),n=new _o(),i=new ko(new to());if(this.mapper.bindElements(t,n),this.downcastDispatcher.convertInsert(e,i),!t.is("documentFragment")){var _e92=function(t){var e=[],n=t.root.document;if(!n)return[];var i=qs._createIn(t);var _iteratorNormalCompletion194=true;var _didIteratorError194=false;var _iteratorError194=undefined;try{for(var _iterator194=n.model.markers[Symbol.iterator](),_step194;!(_iteratorNormalCompletion194=(_step194=_iterator194.next()).done);_iteratorNormalCompletion194=true){var _t124=_step194.value;var _n78=i.getIntersection(_t124.getRange());_n78&&e.push([_t124.name,_n78]);}}catch(err){_didIteratorError194=true;_iteratorError194=err;}finally{try{if(!_iteratorNormalCompletion194&&_iterator194.return){_iterator194.return();}}finally{if(_didIteratorError194){throw _iteratorError194;}}}return e;}(t);var _iteratorNormalCompletion195=true;var _didIteratorError195=false;var _iteratorError195=undefined;try{for(var _iterator195=_e92[Symbol.iterator](),_step195;!(_iteratorNormalCompletion195=(_step195=_iterator195.next()).done);_iteratorNormalCompletion195=true){var _ref30=_step195.value;var _ref31=_slicedToArray(_ref30,2);var _t125=_ref31[0];var _n79=_ref31[1];this.downcastDispatcher.convertMarkerAdd(_t125,_n79,i);}}catch(err){_didIteratorError195=true;_iteratorError195=err;}finally{try{if(!_iteratorNormalCompletion195&&_iterator195.return){_iterator195.return();}}finally{if(_didIteratorError195){throw _iteratorError195;}}}}return n;}},{key:'init',value:function init(t){var _this52=this;var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"main";if(this.model.document.version)throw new P.b("datacontroller-init-document-not-empty: Trying to set initial data to not empty document.");var n=this.model.document.getRoot(e);return this.model.enqueueChange("transparent",function(e){e.insert(_this52.parse(t,n),n,0);}),Promise.resolve();}},{key:'set',value:function set(t){var _this53=this;var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"main";var n=this.model.document.getRoot(e);this.model.enqueueChange("transparent",function(e){e.setSelection(null),e.removeSelectionAttribute(_this53.model.document.selection.getAttributeKeys()),e.remove(e.createRangeIn(n)),e.insert(_this53.parse(t,n),n,0);});}},{key:'parse',value:function parse(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"$root";var n=this.processor.toView(t);return this.toModel(n,e);}},{key:'toModel',value:function toModel(t){var _this54=this;var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"$root";return this.model.change(function(n){return _this54.upcastDispatcher.convert(t,n,e);});}},{key:'destroy',value:function destroy(){}}]);return za;}();F(za,Li);var Ba=function(){function Ba(){_classCallCheck(this,Ba);this._dispatchersGroups=new Map();}_createClass(Ba,[{key:'register',value:function register(t,e){if(this._dispatchersGroups.has(t))throw new P.b("conversion-register-group-exists: Trying to register a group name that was already registered.");this._dispatchersGroups.set(t,e);}},{key:'for',value:function _for(t){var e=this._getDispatchers(t);return{add:function add(t){return function(t,e){var _iteratorNormalCompletion196=true;var _didIteratorError196=false;var _iteratorError196=undefined;try{for(var _iterator196=t[Symbol.iterator](),_step196;!(_iteratorNormalCompletion196=(_step196=_iterator196.next()).done);_iteratorNormalCompletion196=true){var n=_step196.value;e(n);}}catch(err){_didIteratorError196=true;_iteratorError196=err;}finally{try{if(!_iteratorNormalCompletion196&&_iterator196.return){_iterator196.return();}}finally{if(_didIteratorError196){throw _iteratorError196;}}}}(e,t),this;}};}},{key:'elementToElement',value:function elementToElement(t){this.for("downcast").add(aa(t));var _iteratorNormalCompletion197=true;var _didIteratorError197=false;var _iteratorError197=undefined;try{for(var _iterator197=Fa(t)[Symbol.iterator](),_step197;!(_iteratorNormalCompletion197=(_step197=_iterator197.next()).done);_iteratorNormalCompletion197=true){var _ref32=_step197.value;var e=_ref32.model;var n=_ref32.view;this.for("upcast").add(Oa({model:e,view:n,converterPriority:t.converterPriority}));}}catch(err){_didIteratorError197=true;_iteratorError197=err;}finally{try{if(!_iteratorNormalCompletion197&&_iterator197.return){_iterator197.return();}}finally{if(_didIteratorError197){throw _iteratorError197;}}}}},{key:'attributeToElement',value:function attributeToElement(t){this.for("downcast").add(ca(t));var _iteratorNormalCompletion198=true;var _didIteratorError198=false;var _iteratorError198=undefined;try{for(var _iterator198=Fa(t)[Symbol.iterator](),_step198;!(_iteratorNormalCompletion198=(_step198=_iterator198.next()).done);_iteratorNormalCompletion198=true){var _ref33=_step198.value;var e=_ref33.model;var n=_ref33.view;this.for("upcast").add(Ra({view:n,model:e,priority:t.priority}));}}catch(err){_didIteratorError198=true;_iteratorError198=err;}finally{try{if(!_iteratorNormalCompletion198&&_iterator198.return){_iterator198.return();}}finally{if(_didIteratorError198){throw _iteratorError198;}}}}},{key:'attributeToAttribute',value:function attributeToAttribute(t){this.for("downcast").add(la(t));var _iteratorNormalCompletion199=true;var _didIteratorError199=false;var _iteratorError199=undefined;try{for(var _iterator199=Fa(t)[Symbol.iterator](),_step199;!(_iteratorNormalCompletion199=(_step199=_iterator199.next()).done);_iteratorNormalCompletion199=true){var _ref34=_step199.value;var e=_ref34.model;var n=_ref34.view;this.for("upcast").add(Da({view:n,model:e}));}}catch(err){_didIteratorError199=true;_iteratorError199=err;}finally{try{if(!_iteratorNormalCompletion199&&_iterator199.return){_iterator199.return();}}finally{if(_didIteratorError199){throw _iteratorError199;}}}}},{key:'_getDispatchers',value:function _getDispatchers(t){var e=this._dispatchersGroups.get(t);if(!e)throw new P.b("conversion-for-unknown-group: Trying to add a converter to an unknown dispatchers group.");return e;}}]);return Ba;}();function Fa(t){var _iteratorNormalCompletion200,_didIteratorError200,_iteratorError200,_iterator200,_step200,e;return regeneratorRuntime.wrap(function Fa$(_context29){while(1){switch(_context29.prev=_context29.next){case 0:if(!t.model.values){_context29.next=28;break;}_iteratorNormalCompletion200=true;_didIteratorError200=false;_iteratorError200=undefined;_context29.prev=4;_iterator200=t.model.values[Symbol.iterator]();case 6:if(_iteratorNormalCompletion200=(_step200=_iterator200.next()).done){_context29.next=12;break;}e=_step200.value;return _context29.delegateYield(Ua({key:t.model.key,value:e},t.view[e],t.upcastAlso?t.upcastAlso[e]:void 0),'t0',9);case 9:_iteratorNormalCompletion200=true;_context29.next=6;break;case 12:_context29.next=18;break;case 14:_context29.prev=14;_context29.t1=_context29['catch'](4);_didIteratorError200=true;_iteratorError200=_context29.t1;case 18:_context29.prev=18;_context29.prev=19;if(!_iteratorNormalCompletion200&&_iterator200.return){_iterator200.return();}case 21:_context29.prev=21;if(!_didIteratorError200){_context29.next=24;break;}throw _iteratorError200;case 24:return _context29.finish(21);case 25:return _context29.finish(18);case 26:_context29.next=29;break;case 28:return _context29.delegateYield(Ua(t.model,t.view,t.upcastAlso),'t2',29);case 29:case'end':return _context29.stop();}}},_marked,this,[[4,14,18,26],[19,,21,25]]);}function Ua(t,e,n){var _iteratorNormalCompletion201,_didIteratorError201,_iteratorError201,_iterator201,_step201,_e93;return regeneratorRuntime.wrap(function Ua$(_context30){while(1){switch(_context30.prev=_context30.next){case 0:_context30.next=2;return{model:t,view:e};case 2:if(!n){_context30.next=30;break;}n=Array.isArray(n)?n:[n];_iteratorNormalCompletion201=true;_didIteratorError201=false;_iteratorError201=undefined;_context30.prev=7;_iterator201=n[Symbol.iterator]();case 9:if(_iteratorNormalCompletion201=(_step201=_iterator201.next()).done){_context30.next=16;break;}_e93=_step201.value;_context30.next=13;return{model:t,view:_e93};case 13:_iteratorNormalCompletion201=true;_context30.next=9;break;case 16:_context30.next=22;break;case 18:_context30.prev=18;_context30.t0=_context30['catch'](7);_didIteratorError201=true;_iteratorError201=_context30.t0;case 22:_context30.prev=22;_context30.prev=23;if(!_iteratorNormalCompletion201&&_iterator201.return){_iterator201.return();}case 25:_context30.prev=25;if(!_didIteratorError201){_context30.next=28;break;}throw _iteratorError201;case 28:return _context30.finish(25);case 29:return _context30.finish(22);case 30:case'end':return _context30.stop();}}},_marked2,this,[[7,18,22,30],[23,,25,29]]);}var Ha=function(){function Ha(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:"default";_classCallCheck(this,Ha);this.operations=[],this.type=t;}_createClass(Ha,[{key:'addOperation',value:function addOperation(t){return t.batch=this,this.operations.push(t),t;}},{key:'baseVersion',get:function get(){var _iteratorNormalCompletion202=true;var _didIteratorError202=false;var _iteratorError202=undefined;try{for(var _iterator202=this.operations[Symbol.iterator](),_step202;!(_iteratorNormalCompletion202=(_step202=_iterator202.next()).done);_iteratorNormalCompletion202=true){var t=_step202.value;if(null!==t.baseVersion)return t.baseVersion;}}catch(err){_didIteratorError202=true;_iteratorError202=err;}finally{try{if(!_iteratorNormalCompletion202&&_iterator202.return){_iterator202.return();}}finally{if(_didIteratorError202){throw _iteratorError202;}}}return null;}}]);return Ha;}();var qa=function(){function qa(t){_classCallCheck(this,qa);this.baseVersion=t,this.isDocumentOperation=null!==this.baseVersion,this.batch=null;}_createClass(qa,[{key:'_validate',value:function _validate(){}},{key:'toJSON',value:function toJSON(){var t=Object.assign({},this);return t.__className=this.constructor.className,delete t.batch,delete t.isDocumentOperation,t;}}],[{key:'fromJSON',value:function fromJSON(t){return new this(t.baseVersion);}},{key:'className',get:function get(){return"Operation";}}]);return qa;}();var Wa=function(){function Wa(t){_classCallCheck(this,Wa);this.markers=new Map(),this._children=new Vs(),t&&this._insertChild(0,t);}_createClass(Wa,[{key:Symbol.iterator,value:function value(){return this.getChildren();}},{key:'is',value:function is(t){return"documentFragment"==t;}},{key:'getChild',value:function getChild(t){return this._children.getNode(t);}},{key:'getChildren',value:function getChildren(){return this._children[Symbol.iterator]();}},{key:'getChildIndex',value:function getChildIndex(t){return this._children.getNodeIndex(t);}},{key:'getChildStartOffset',value:function getChildStartOffset(t){return this._children.getNodeStartOffset(t);}},{key:'getPath',value:function getPath(){return[];}},{key:'getNodeByPath',value:function getNodeByPath(t){var e=this;var _iteratorNormalCompletion203=true;var _didIteratorError203=false;var _iteratorError203=undefined;try{for(var _iterator203=t[Symbol.iterator](),_step203;!(_iteratorNormalCompletion203=(_step203=_iterator203.next()).done);_iteratorNormalCompletion203=true){var n=_step203.value;e=e.getChild(e.offsetToIndex(n));}}catch(err){_didIteratorError203=true;_iteratorError203=err;}finally{try{if(!_iteratorNormalCompletion203&&_iterator203.return){_iterator203.return();}}finally{if(_didIteratorError203){throw _iteratorError203;}}}return e;}},{key:'offsetToIndex',value:function offsetToIndex(t){return this._children.offsetToIndex(t);}},{key:'toJSON',value:function toJSON(){var t=[];var _iteratorNormalCompletion204=true;var _didIteratorError204=false;var _iteratorError204=undefined;try{for(var _iterator204=this._children[Symbol.iterator](),_step204;!(_iteratorNormalCompletion204=(_step204=_iterator204.next()).done);_iteratorNormalCompletion204=true){var e=_step204.value;t.push(e.toJSON());}}catch(err){_didIteratorError204=true;_iteratorError204=err;}finally{try{if(!_iteratorNormalCompletion204&&_iterator204.return){_iterator204.return();}}finally{if(_didIteratorError204){throw _iteratorError204;}}}return t;}},{key:'_appendChild',value:function _appendChild(t){this._insertChild(this.childCount,t);}},{key:'_insertChild',value:function _insertChild(t,e){var n=function(t){if("string"==typeof t)return[new Ls(t)];ui(t)||(t=[t]);return Array.from(t).map(function(t){return"string"==typeof t?new Ls(t):t instanceof js?new Ls(t.data,t.getAttributes()):t;});}(e);var _iteratorNormalCompletion205=true;var _didIteratorError205=false;var _iteratorError205=undefined;try{for(var _iterator205=n[Symbol.iterator](),_step205;!(_iteratorNormalCompletion205=(_step205=_iterator205.next()).done);_iteratorNormalCompletion205=true){var _t126=_step205.value;null!==_t126.parent&&_t126._remove(),_t126.parent=this;}}catch(err){_didIteratorError205=true;_iteratorError205=err;}finally{try{if(!_iteratorNormalCompletion205&&_iterator205.return){_iterator205.return();}}finally{if(_didIteratorError205){throw _iteratorError205;}}}this._children._insertNodes(t,n);}},{key:'_removeChildren',value:function _removeChildren(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:1;var n=this._children._removeNodes(t,e);var _iteratorNormalCompletion206=true;var _didIteratorError206=false;var _iteratorError206=undefined;try{for(var _iterator206=n[Symbol.iterator](),_step206;!(_iteratorNormalCompletion206=(_step206=_iterator206.next()).done);_iteratorNormalCompletion206=true){var _t127=_step206.value;_t127.parent=null;}}catch(err){_didIteratorError206=true;_iteratorError206=err;}finally{try{if(!_iteratorNormalCompletion206&&_iterator206.return){_iterator206.return();}}finally{if(_didIteratorError206){throw _iteratorError206;}}}return n;}},{key:'childCount',get:function get(){return this._children.length;}},{key:'maxOffset',get:function get(){return this._children.maxOffset;}},{key:'isEmpty',get:function get(){return 0===this.childCount;}},{key:'root',get:function get(){return this;}},{key:'parent',get:function get(){return null;}}],[{key:'fromJSON',value:function fromJSON(t){var e=[];var _iteratorNormalCompletion207=true;var _didIteratorError207=false;var _iteratorError207=undefined;try{for(var _iterator207=t[Symbol.iterator](),_step207;!(_iteratorNormalCompletion207=(_step207=_iterator207.next()).done);_iteratorNormalCompletion207=true){var n=_step207.value;n.name?e.push(zs.fromJSON(n)):e.push(Ls.fromJSON(n));}}catch(err){_didIteratorError207=true;_iteratorError207=err;}finally{try{if(!_iteratorNormalCompletion207&&_iterator207.return){_iterator207.return();}}finally{if(_didIteratorError207){throw _iteratorError207;}}}return new Wa(e);}}]);return Wa;}();function Ya(t,e){var n=(e=Qa(e)).reduce(function(t,e){return t+e.offsetSize;},0),i=t.parent;Ka(t);var o=t.index;return i._insertChild(o,e),Ja(i,o+e.length),Ja(i,o),new qs(t,t.getShiftedBy(n));}function $a(t){if(!t.isFlat)throw new P.b("operation-utils-remove-range-not-flat: Trying to remove a range which starts and ends in different element.");var e=t.start.parent;Ka(t.start),Ka(t.end);var n=e._removeChildren(t.start.index,t.end.index-t.start.index);return Ja(e,t.start.index),n;}function Ga(t,e){if(!t.isFlat)throw new P.b("operation-utils-move-range-not-flat: Trying to move a range which starts and ends in different element.");var n=$a(t);return Ya(e=e._getTransformedByDeletion(t.start,t.end.offset-t.start.offset),n);}function Qa(t){var e=[];t instanceof Array||(t=[t]);for(var n=0;n<t.length;n++){if("string"==typeof t[n])e.push(new Ls(t[n]));else if(t[n]instanceof js)e.push(new Ls(t[n].data,t[n].getAttributes()));else if(t[n]instanceof Wa||t[n]instanceof Vs){var _iteratorNormalCompletion208=true;var _didIteratorError208=false;var _iteratorError208=undefined;try{for(var _iterator208=t[n][Symbol.iterator](),_step208;!(_iteratorNormalCompletion208=(_step208=_iterator208.next()).done);_iteratorNormalCompletion208=true){var i=_step208.value;e.push(i);}}catch(err){_didIteratorError208=true;_iteratorError208=err;}finally{try{if(!_iteratorNormalCompletion208&&_iterator208.return){_iterator208.return();}}finally{if(_didIteratorError208){throw _iteratorError208;}}}}else t[n]instanceof Ds&&e.push(t[n]);}for(var _t128=1;_t128<e.length;_t128++){var _n80=e[_t128],_i21=e[_t128-1];_n80 instanceof Ls&&_i21 instanceof Ls&&Za(_n80,_i21)&&(e.splice(_t128-1,2,new Ls(_i21.data+_n80.data,_i21.getAttributes())),_t128--);}return e;}function Ja(t,e){var n=t.getChild(e-1),i=t.getChild(e);if(n&&i&&n.is("text")&&i.is("text")&&Za(n,i)){var _o36=new Ls(n.data+i.data,n.getAttributes());t._removeChildren(e-1,2),t._insertChild(e-1,_o36);}}function Ka(t){var e=t.textNode,n=t.parent;if(e){var i=t.offset-e.startOffset,_o37=e.index;n._removeChildren(_o37,1);var _r12=new Ls(e.data.substr(0,i),e.getAttributes()),_s12=new Ls(e.data.substr(i),e.getAttributes());n._insertChild(_o37,[_r12,_s12]);}}function Za(t,e){var n=t.getAttributes(),i=e.getAttributes();var _iteratorNormalCompletion209=true;var _didIteratorError209=false;var _iteratorError209=undefined;try{for(var _iterator209=n[Symbol.iterator](),_step209;!(_iteratorNormalCompletion209=(_step209=_iterator209.next()).done);_iteratorNormalCompletion209=true){var _t129=_step209.value;if(_t129[1]!==e.getAttribute(_t129[0]))return!1;i.next();}}catch(err){_didIteratorError209=true;_iteratorError209=err;}finally{try{if(!_iteratorNormalCompletion209&&_iterator209.return){_iterator209.return();}}finally{if(_didIteratorError209){throw _iteratorError209;}}}return i.next().done;}var Xa=function Xa(t,e){return Yr(t,e);};var tc=function(_qa){_inherits(tc,_qa);function tc(t,e,n,i,o){var _this55;_classCallCheck(this,tc);(_this55=_possibleConstructorReturn(this,(tc.__proto__||Object.getPrototypeOf(tc)).call(this,o)),_this55),_this55.range=t.clone(),_this55.key=e,_this55.oldValue=void 0===n?null:n,_this55.newValue=void 0===i?null:i;return _this55;}_createClass(tc,[{key:'clone',value:function clone(){return new tc(this.range,this.key,this.oldValue,this.newValue,this.baseVersion);}},{key:'getReversed',value:function getReversed(){return new tc(this.range,this.key,this.newValue,this.oldValue,this.baseVersion+1);}},{key:'toJSON',value:function toJSON(){var t=_get(tc.prototype.__proto__||Object.getPrototypeOf(tc.prototype),'toJSON',this).call(this);return t.range=this.range.toJSON(),t;}},{key:'_validate',value:function _validate(){if(!this.range.isFlat)throw new P.b("attribute-operation-range-not-flat: The range to change is not flat.");var _iteratorNormalCompletion210=true;var _didIteratorError210=false;var _iteratorError210=undefined;try{for(var _iterator210=this.range.getItems({shallow:!0})[Symbol.iterator](),_step210;!(_iteratorNormalCompletion210=(_step210=_iterator210.next()).done);_iteratorNormalCompletion210=true){var t=_step210.value;if(null!==this.oldValue&&!Xa(t.getAttribute(this.key),this.oldValue))throw new P.b("attribute-operation-wrong-old-value: Changed node has different attribute value than operation's old attribute value.",{item:t,key:this.key,value:this.oldValue});if(null===this.oldValue&&null!==this.newValue&&t.hasAttribute(this.key))throw new P.b("attribute-operation-attribute-exists: The attribute with given key already exists.",{node:t,key:this.key});}}catch(err){_didIteratorError210=true;_iteratorError210=err;}finally{try{if(!_iteratorNormalCompletion210&&_iterator210.return){_iterator210.return();}}finally{if(_didIteratorError210){throw _iteratorError210;}}}}},{key:'_execute',value:function _execute(){Xa(this.oldValue,this.newValue)||function(t,e,n){Ka(t.start),Ka(t.end);var _iteratorNormalCompletion211=true;var _didIteratorError211=false;var _iteratorError211=undefined;try{for(var _iterator211=t.getItems({shallow:!0})[Symbol.iterator](),_step211;!(_iteratorNormalCompletion211=(_step211=_iterator211.next()).done);_iteratorNormalCompletion211=true){var i=_step211.value;var _t130=i.is("textProxy")?i.textNode:i;null!==n?_t130._setAttribute(e,n):_t130._removeAttribute(e),Ja(_t130.parent,_t130.index);}}catch(err){_didIteratorError211=true;_iteratorError211=err;}finally{try{if(!_iteratorNormalCompletion211&&_iterator211.return){_iterator211.return();}}finally{if(_didIteratorError211){throw _iteratorError211;}}}Ja(t.end.parent,t.end.index);}(this.range,this.key,this.newValue);}},{key:'type',get:function get(){return null===this.oldValue?"addAttribute":null===this.newValue?"removeAttribute":"changeAttribute";}}],[{key:'fromJSON',value:function fromJSON(t,e){return new tc(qs.fromJSON(t.range,e),t.key,t.oldValue,t.newValue,t.baseVersion);}},{key:'className',get:function get(){return"AttributeOperation";}}]);return tc;}(qa);var ec=function(_qa2){_inherits(ec,_qa2);function ec(t,e){var _this56;_classCallCheck(this,ec);(_this56=_possibleConstructorReturn(this,(ec.__proto__||Object.getPrototypeOf(ec)).call(this,null)),_this56),_this56.sourcePosition=t.clone(),_this56.howMany=e;return _this56;}_createClass(ec,[{key:'toJSON',value:function toJSON(){var t=_get(ec.prototype.__proto__||Object.getPrototypeOf(ec.prototype),'toJSON',this).call(this);return t.sourcePosition=this.sourcePosition.toJSON(),t;}},{key:'_validate',value:function _validate(){if(this.sourcePosition.root.document)throw new P.b("detach-operation-on-document-node: Cannot detach document node.");}},{key:'_execute',value:function _execute(){$a(qs._createFromPositionAndShift(this.sourcePosition,this.howMany));}},{key:'type',get:function get(){return"detach";}}],[{key:'className',get:function get(){return"DetachOperation";}}]);return ec;}(qa);var nc=function(_qa3){_inherits(nc,_qa3);function nc(t,e,n,i){var _this57;_classCallCheck(this,nc);(_this57=_possibleConstructorReturn(this,(nc.__proto__||Object.getPrototypeOf(nc)).call(this,i)),_this57),_this57.sourcePosition=t.clone(),_this57.sourcePosition.stickiness="toNext",_this57.howMany=e,_this57.targetPosition=n.clone(),_this57.targetPosition.stickiness="toNone";return _this57;}_createClass(nc,[{key:'clone',value:function clone(){return new this.constructor(this.sourcePosition,this.howMany,this.targetPosition,this.baseVersion);}},{key:'getMovedRangeStart',value:function getMovedRangeStart(){return this.targetPosition._getTransformedByDeletion(this.sourcePosition,this.howMany);}},{key:'getReversed',value:function getReversed(){var t=this.sourcePosition._getTransformedByInsertion(this.targetPosition,this.howMany);return new this.constructor(this.getMovedRangeStart(),this.howMany,t,this.baseVersion+1);}},{key:'_validate',value:function _validate(){var t=this.sourcePosition.parent,e=this.targetPosition.parent,n=this.sourcePosition.offset,i=this.targetPosition.offset;if(!t||!e)throw new P.b("move-operation-position-invalid: Source position or target position is invalid.");if(n+this.howMany>t.maxOffset)throw new P.b("move-operation-nodes-do-not-exist: The nodes which should be moved do not exist.");if(t===e&&n<i&&i<n+this.howMany)throw new P.b("move-operation-range-into-itself: Trying to move a range of nodes to the inside of that range.");if(this.sourcePosition.root==this.targetPosition.root&&"prefix"==U(this.sourcePosition.getParentPath(),this.targetPosition.getParentPath())){var _t131=this.sourcePosition.path.length-1;if(this.targetPosition.path[_t131]>=n&&this.targetPosition.path[_t131]<n+this.howMany)throw new P.b("move-operation-node-into-itself: Trying to move a range of nodes into one of nodes from that range.");}}},{key:'_execute',value:function _execute(){Ga(qs._createFromPositionAndShift(this.sourcePosition,this.howMany),this.targetPosition);}},{key:'toJSON',value:function toJSON(){var t=_get(nc.prototype.__proto__||Object.getPrototypeOf(nc.prototype),'toJSON',this).call(this);return t.sourcePosition=this.sourcePosition.toJSON(),t.targetPosition=this.targetPosition.toJSON(),t;}},{key:'type',get:function get(){return"$graveyard"==this.targetPosition.root.rootName?"remove":"$graveyard"==this.sourcePosition.root.rootName?"reinsert":"move";}}],[{key:'fromJSON',value:function fromJSON(t,e){var n=Hs.fromJSON(t.sourcePosition,e),i=Hs.fromJSON(t.targetPosition,e);return new this(n,t.howMany,i,t.baseVersion);}},{key:'className',get:function get(){return"MoveOperation";}}]);return nc;}(qa);var ic=function(_qa4){_inherits(ic,_qa4);function ic(t,e,n){var _this58;_classCallCheck(this,ic);(_this58=_possibleConstructorReturn(this,(ic.__proto__||Object.getPrototypeOf(ic)).call(this,n)),_this58),_this58.position=t.clone(),_this58.position.stickiness="toNone",_this58.nodes=new Vs(Qa(e)),_this58.shouldReceiveAttributes=!1;return _this58;}_createClass(ic,[{key:'clone',value:function clone(){var t=new Vs([].concat(_toConsumableArray(this.nodes)).map(function(t){return t._clone(!0);})),e=new ic(this.position,t,this.baseVersion);return e.shouldReceiveAttributes=this.shouldReceiveAttributes,e;}},{key:'getReversed',value:function getReversed(){var t=this.position.root.document.graveyard,e=new Hs(t,[0]);return new nc(this.position,this.nodes.maxOffset,e,this.baseVersion+1);}},{key:'_validate',value:function _validate(){var t=this.position.parent;if(!t||t.maxOffset<this.position.offset)throw new P.b("insert-operation-position-invalid: Insertion position is invalid.");}},{key:'_execute',value:function _execute(){var t=this.nodes;this.nodes=new Vs([].concat(_toConsumableArray(t)).map(function(t){return t._clone(!0);})),Ya(this.position,t);}},{key:'toJSON',value:function toJSON(){var t=_get(ic.prototype.__proto__||Object.getPrototypeOf(ic.prototype),'toJSON',this).call(this);return t.position=this.position.toJSON(),t.nodes=this.nodes.toJSON(),t;}},{key:'type',get:function get(){return"insert";}},{key:'howMany',get:function get(){return this.nodes.maxOffset;}}],[{key:'fromJSON',value:function fromJSON(t,e){var n=[];var _iteratorNormalCompletion212=true;var _didIteratorError212=false;var _iteratorError212=undefined;try{for(var _iterator212=t.nodes[Symbol.iterator](),_step212;!(_iteratorNormalCompletion212=(_step212=_iterator212.next()).done);_iteratorNormalCompletion212=true){var _e94=_step212.value;_e94.name?n.push(zs.fromJSON(_e94)):n.push(Ls.fromJSON(_e94));}}catch(err){_didIteratorError212=true;_iteratorError212=err;}finally{try{if(!_iteratorNormalCompletion212&&_iterator212.return){_iterator212.return();}}finally{if(_didIteratorError212){throw _iteratorError212;}}}var i=new ic(Hs.fromJSON(t.position,e),n,t.baseVersion);return i.shouldReceiveAttributes=t.shouldReceiveAttributes,i;}},{key:'className',get:function get(){return"InsertOperation";}}]);return ic;}(qa);var oc=function(_qa5){_inherits(oc,_qa5);function oc(t,e,n,i,o,r){var _this59;_classCallCheck(this,oc);(_this59=_possibleConstructorReturn(this,(oc.__proto__||Object.getPrototypeOf(oc)).call(this,r)),_this59),_this59.name=t,_this59.oldRange=e?e.clone():null,_this59.newRange=n?n.clone():null,_this59.affectsData=o,_this59._markers=i;return _this59;}_createClass(oc,[{key:'clone',value:function clone(){return new oc(this.name,this.oldRange,this.newRange,this._markers,this.affectsData,this.baseVersion);}},{key:'getReversed',value:function getReversed(){return new oc(this.name,this.newRange,this.oldRange,this._markers,this.affectsData,this.baseVersion+1);}},{key:'_execute',value:function _execute(){var t=this.newRange?"_set":"_remove";this._markers[t](this.name,this.newRange,!0,this.affectsData);}},{key:'toJSON',value:function toJSON(){var t=_get(oc.prototype.__proto__||Object.getPrototypeOf(oc.prototype),'toJSON',this).call(this);return this.oldRange&&(t.oldRange=this.oldRange.toJSON()),this.newRange&&(t.newRange=this.newRange.toJSON()),delete t._markers,t;}},{key:'type',get:function get(){return"marker";}}],[{key:'fromJSON',value:function fromJSON(t,e){return new oc(t.name,t.oldRange?qs.fromJSON(t.oldRange,e):null,t.newRange?qs.fromJSON(t.newRange,e):null,e.model.markers,t.affectsData,t.baseVersion);}},{key:'className',get:function get(){return"MarkerOperation";}}]);return oc;}(qa);var rc=function(_qa6){_inherits(rc,_qa6);function rc(t,e,n,i){var _this60;_classCallCheck(this,rc);(_this60=_possibleConstructorReturn(this,(rc.__proto__||Object.getPrototypeOf(rc)).call(this,i)),_this60),_this60.position=t,_this60.position.stickiness="toNext",_this60.oldName=e,_this60.newName=n;return _this60;}_createClass(rc,[{key:'clone',value:function clone(){return new rc(this.position.clone(),this.oldName,this.newName,this.baseVersion);}},{key:'getReversed',value:function getReversed(){return new rc(this.position.clone(),this.newName,this.oldName,this.baseVersion+1);}},{key:'_validate',value:function _validate(){var t=this.position.nodeAfter;if(!(t instanceof zs))throw new P.b("rename-operation-wrong-position: Given position is invalid or node after it is not an instance of Element.");if(t.name!==this.oldName)throw new P.b("rename-operation-wrong-name: Element to change has different name than operation's old name.");}},{key:'_execute',value:function _execute(){this.position.nodeAfter.name=this.newName;}},{key:'toJSON',value:function toJSON(){var t=_get(rc.prototype.__proto__||Object.getPrototypeOf(rc.prototype),'toJSON',this).call(this);return t.position=this.position.toJSON(),t;}},{key:'type',get:function get(){return"rename";}}],[{key:'fromJSON',value:function fromJSON(t,e){return new rc(Hs.fromJSON(t.position,e),t.oldName,t.newName,t.baseVersion);}},{key:'className',get:function get(){return"RenameOperation";}}]);return rc;}(qa);var sc=function(_qa7){_inherits(sc,_qa7);function sc(t,e,n,i,o){var _this61;_classCallCheck(this,sc);(_this61=_possibleConstructorReturn(this,(sc.__proto__||Object.getPrototypeOf(sc)).call(this,o)),_this61),_this61.root=t,_this61.key=e,_this61.oldValue=n,_this61.newValue=i;return _this61;}_createClass(sc,[{key:'clone',value:function clone(){return new sc(this.root,this.key,this.oldValue,this.newValue,this.baseVersion);}},{key:'getReversed',value:function getReversed(){return new sc(this.root,this.key,this.newValue,this.oldValue,this.baseVersion+1);}},{key:'_validate',value:function _validate(){if(this.root!=this.root.root||this.root.is("documentFragment"))throw new P.b("rootattribute-operation-not-a-root: The element to change is not a root element.",{root:this.root,key:this.key});if(null!==this.oldValue&&this.root.getAttribute(this.key)!==this.oldValue)throw new P.b("rootattribute-operation-wrong-old-value: Changed node has different attribute value than operation's old attribute value.",{root:this.root,key:this.key});if(null===this.oldValue&&null!==this.newValue&&this.root.hasAttribute(this.key))throw new P.b("rootattribute-operation-attribute-exists: The attribute with given key already exists.",{root:this.root,key:this.key});}},{key:'_execute',value:function _execute(){null!==this.newValue?this.root._setAttribute(this.key,this.newValue):this.root._removeAttribute(this.key);}},{key:'toJSON',value:function toJSON(){var t=_get(sc.prototype.__proto__||Object.getPrototypeOf(sc.prototype),'toJSON',this).call(this);return t.root=this.root.toJSON(),t;}},{key:'type',get:function get(){return null===this.oldValue?"addRootAttribute":null===this.newValue?"removeRootAttribute":"changeRootAttribute";}}],[{key:'fromJSON',value:function fromJSON(t,e){if(!e.getRoot(t.root))throw new P.b("rootattribute-operation-fromjson-no-root: Cannot create RootAttributeOperation. Root with specified name does not exist.",{rootName:t.root});return new sc(e.getRoot(t.root),t.key,t.oldValue,t.newValue,t.baseVersion);}},{key:'className',get:function get(){return"RootAttributeOperation";}}]);return sc;}(qa);var ac=function(_qa8){_inherits(ac,_qa8);function ac(t,e,n,i,o){var _this62;_classCallCheck(this,ac);(_this62=_possibleConstructorReturn(this,(ac.__proto__||Object.getPrototypeOf(ac)).call(this,o)),_this62),_this62.sourcePosition=t.clone(),_this62.sourcePosition.stickiness="toPrevious",_this62.howMany=e,_this62.targetPosition=n.clone(),_this62.targetPosition.stickiness="toNext",_this62.graveyardPosition=i.clone();return _this62;}_createClass(ac,[{key:'clone',value:function clone(){return new this.constructor(this.sourcePosition,this.howMany,this.targetPosition,this.graveyardPosition,this.baseVersion);}},{key:'getReversed',value:function getReversed(){var t=this.targetPosition._getTransformedByMergeOperation(this),e=this.sourcePosition.path.slice(0,-1),n=new Hs(this.sourcePosition.root,e)._getTransformedByMergeOperation(this),i=new cc(t,this.howMany,this.graveyardPosition,this.baseVersion+1);return i.insertionPosition=n,i;}},{key:'_validate',value:function _validate(){var t=this.sourcePosition.parent,e=this.targetPosition.parent;if(!(t&&t.is("element")&&t.parent))throw new P.b("merge-operation-source-position-invalid: Merge source position is invalid.");if(!(e&&e.is("element")&&e.parent))throw new P.b("merge-operation-target-position-invalid: Merge target position is invalid.");if(this.howMany!=t.maxOffset)throw new P.b("merge-operation-how-many-invalid: Merge operation specifies wrong number of nodes to move.");}},{key:'_execute',value:function _execute(){var t=this.sourcePosition.parent;Ga(qs._createIn(t),this.targetPosition),Ga(qs._createOn(t),this.graveyardPosition);}},{key:'toJSON',value:function toJSON(){var t=_get(ac.prototype.__proto__||Object.getPrototypeOf(ac.prototype),'toJSON',this).call(this);return t.sourcePosition=t.sourcePosition.toJSON(),t.targetPosition=t.targetPosition.toJSON(),t.graveyardPosition=t.graveyardPosition.toJSON(),t;}},{key:'type',get:function get(){return"merge";}},{key:'deletionPosition',get:function get(){return new Hs(this.sourcePosition.root,this.sourcePosition.path.slice(0,-1));}},{key:'movedRange',get:function get(){var t=this.sourcePosition.getShiftedBy(Number.POSITIVE_INFINITY);return new qs(this.sourcePosition,t);}}],[{key:'fromJSON',value:function fromJSON(t,e){var n=Hs.fromJSON(t.sourcePosition,e),i=Hs.fromJSON(t.targetPosition,e),o=Hs.fromJSON(t.graveyardPosition,e);return new this(n,t.howMany,i,o,t.baseVersion);}},{key:'className',get:function get(){return"MergeOperation";}}]);return ac;}(qa);var cc=function(_qa9){_inherits(cc,_qa9);function cc(t,e,n,i){var _this63;_classCallCheck(this,cc);(_this63=_possibleConstructorReturn(this,(cc.__proto__||Object.getPrototypeOf(cc)).call(this,i)),_this63),_this63.splitPosition=t.clone(),_this63.splitPosition.stickiness="toNext",_this63.howMany=e,_this63.insertionPosition=cc.getInsertionPosition(t),_this63.insertionPosition.stickiness="toNone",_this63.graveyardPosition=n?n.clone():null,_this63.graveyardPosition&&(_this63.graveyardPosition.stickiness="toNext");return _this63;}_createClass(cc,[{key:'clone',value:function clone(){var t=new this.constructor(this.splitPosition,this.howMany,this.graveyardPosition,this.baseVersion);return t.insertionPosition=this.insertionPosition,t;}},{key:'getReversed',value:function getReversed(){var t=this.splitPosition.root.document.graveyard,e=new Hs(t,[0]);return new ac(this.moveTargetPosition,this.howMany,this.splitPosition,e,this.baseVersion+1);}},{key:'_validate',value:function _validate(){var t=this.splitPosition.parent,e=this.splitPosition.offset;if(!t||t.maxOffset<e)throw new P.b("split-operation-position-invalid: Split position is invalid.");if(!t.parent)throw new P.b("split-operation-split-in-root: Cannot split root element.");if(this.howMany!=t.maxOffset-this.splitPosition.offset)throw new P.b("split-operation-how-many-invalid: Split operation specifies wrong number of nodes to move.");if(this.graveyardPosition&&!this.graveyardPosition.nodeAfter)throw new P.b("split-operation-graveyard-position-invalid: Graveyard position invalid.");}},{key:'_execute',value:function _execute(){var t=this.splitPosition.parent;if(this.graveyardPosition)Ga(qs._createFromPositionAndShift(this.graveyardPosition,1),this.insertionPosition);else{var e=t._clone();Ya(this.insertionPosition,e);}Ga(new qs(Hs._createAt(t,this.splitPosition.offset),Hs._createAt(t,t.maxOffset)),this.moveTargetPosition);}},{key:'toJSON',value:function toJSON(){var t=_get(cc.prototype.__proto__||Object.getPrototypeOf(cc.prototype),'toJSON',this).call(this);return t.splitPosition=this.splitPosition.toJSON(),t.insertionPosition=this.insertionPosition.toJSON(),this.graveyardPosition&&(t.graveyardPosition=this.graveyardPosition.toJSON()),t;}},{key:'type',get:function get(){return"split";}},{key:'moveTargetPosition',get:function get(){var t=this.insertionPosition.path.slice();return t.push(0),new Hs(this.insertionPosition.root,t);}},{key:'movedRange',get:function get(){var t=this.splitPosition.getShiftedBy(Number.POSITIVE_INFINITY);return new qs(this.splitPosition,t);}}],[{key:'getInsertionPosition',value:function getInsertionPosition(t){var e=t.path.slice(0,-1);return e[e.length-1]++,new Hs(t.root,e);}},{key:'fromJSON',value:function fromJSON(t,e){var n=Hs.fromJSON(t.splitPosition,e),i=Hs.fromJSON(t.insertionPosition,e),o=t.graveyardPosition?Hs.fromJSON(t.graveyardPosition,e):null,r=new this(n,t.howMany,o,t.baseVersion);return r.insertionPosition=i,r;}},{key:'className',get:function get(){return"SplitOperation";}}]);return cc;}(qa);var lc=function(_zs){_inherits(lc,_zs);function lc(t,e){var _this64;var n=arguments.length>2&&arguments[2]!==undefined?arguments[2]:"main";_classCallCheck(this,lc);(_this64=_possibleConstructorReturn(this,(lc.__proto__||Object.getPrototypeOf(lc)).call(this,e)),_this64),_this64._doc=t,_this64.rootName=n;return _this64;}_createClass(lc,[{key:'is',value:function is(t,e){return e?"rootElement"==t&&e==this.name||_get(lc.prototype.__proto__||Object.getPrototypeOf(lc.prototype),'is',this).call(this,t,e):"rootElement"==t||_get(lc.prototype.__proto__||Object.getPrototypeOf(lc.prototype),'is',this).call(this,t);}},{key:'toJSON',value:function toJSON(){return this.rootName;}},{key:'document',get:function get(){return this._doc;}}]);return lc;}(zs);var dc=function(){function dc(t,e){_classCallCheck(this,dc);this.model=t,this.batch=e;}_createClass(dc,[{key:'createText',value:function createText(t,e){return new Ls(t,e);}},{key:'createElement',value:function createElement(t,e){return new zs(t,e);}},{key:'createDocumentFragment',value:function createDocumentFragment(){return new Wa();}},{key:'insert',value:function insert(t,e){var n=arguments.length>2&&arguments[2]!==undefined?arguments[2]:0;this._assertWriterUsedCorrectly();var i=Hs._createAt(e,n);if(t.parent){if(pc(t.root,i.root))return void this.move(qs._createOn(t),i);if(t.root.document)throw new Error("model-writer-insert-forbidden-move: Cannot move a node from a document to a different tree.");this.remove(t);}var o=i.root.document?i.root.document.version:null,r=new ic(i,t,o);if(t instanceof Ls&&(r.shouldReceiveAttributes=!0),this.batch.addOperation(r),this.model.applyOperation(r),t instanceof Wa){var _iteratorNormalCompletion213=true;var _didIteratorError213=false;var _iteratorError213=undefined;try{for(var _iterator213=t.markers[Symbol.iterator](),_step213;!(_iteratorNormalCompletion213=(_step213=_iterator213.next()).done);_iteratorNormalCompletion213=true){var _ref35=_step213.value;var _ref36=_slicedToArray(_ref35,2);var _e95=_ref36[0];var _n81=_ref36[1];var _t132=Hs._createAt(_n81.root,0),_o38=new qs(_n81.start._getCombined(_t132,i),_n81.end._getCombined(_t132,i));this.addMarker(_e95,{range:_o38,usingOperation:!0,affectsData:!0});}}catch(err){_didIteratorError213=true;_iteratorError213=err;}finally{try{if(!_iteratorNormalCompletion213&&_iterator213.return){_iterator213.return();}}finally{if(_didIteratorError213){throw _iteratorError213;}}}}}},{key:'insertText',value:function insertText(t,e,n,i){e instanceof Wa||e instanceof zs||e instanceof Hs?this.insert(this.createText(t),e,n):this.insert(this.createText(t,e),n,i);}},{key:'insertElement',value:function insertElement(t,e,n,i){e instanceof Wa||e instanceof zs||e instanceof Hs?this.insert(this.createElement(t),e,n):this.insert(this.createElement(t,e),n,i);}},{key:'append',value:function append(t,e){this.insert(t,e,"end");}},{key:'appendText',value:function appendText(t,e,n){e instanceof Wa||e instanceof zs?this.insert(this.createText(t),e,"end"):this.insert(this.createText(t,e),n,"end");}},{key:'appendElement',value:function appendElement(t,e,n){e instanceof Wa||e instanceof zs?this.insert(this.createElement(t),e,"end"):this.insert(this.createElement(t,e),n,"end");}},{key:'setAttribute',value:function setAttribute(t,e,n){if(this._assertWriterUsedCorrectly(),n instanceof qs){var i=n.getMinimalFlatRanges();var _iteratorNormalCompletion214=true;var _didIteratorError214=false;var _iteratorError214=undefined;try{for(var _iterator214=i[Symbol.iterator](),_step214;!(_iteratorNormalCompletion214=(_step214=_iterator214.next()).done);_iteratorNormalCompletion214=true){var _n82=_step214.value;uc(this,t,e,_n82);}}catch(err){_didIteratorError214=true;_iteratorError214=err;}finally{try{if(!_iteratorNormalCompletion214&&_iterator214.return){_iterator214.return();}}finally{if(_didIteratorError214){throw _iteratorError214;}}}}else hc(this,t,e,n);}},{key:'setAttributes',value:function setAttributes(t,e){var _iteratorNormalCompletion215=true;var _didIteratorError215=false;var _iteratorError215=undefined;try{for(var _iterator215=Rs(t)[Symbol.iterator](),_step215;!(_iteratorNormalCompletion215=(_step215=_iterator215.next()).done);_iteratorNormalCompletion215=true){var _ref37=_step215.value;var _ref38=_slicedToArray(_ref37,2);var n=_ref38[0];var i=_ref38[1];this.setAttribute(n,i,e);}}catch(err){_didIteratorError215=true;_iteratorError215=err;}finally{try{if(!_iteratorNormalCompletion215&&_iterator215.return){_iterator215.return();}}finally{if(_didIteratorError215){throw _iteratorError215;}}}}},{key:'removeAttribute',value:function removeAttribute(t,e){if(this._assertWriterUsedCorrectly(),e instanceof qs){var n=e.getMinimalFlatRanges();var _iteratorNormalCompletion216=true;var _didIteratorError216=false;var _iteratorError216=undefined;try{for(var _iterator216=n[Symbol.iterator](),_step216;!(_iteratorNormalCompletion216=(_step216=_iterator216.next()).done);_iteratorNormalCompletion216=true){var _e96=_step216.value;uc(this,t,null,_e96);}}catch(err){_didIteratorError216=true;_iteratorError216=err;}finally{try{if(!_iteratorNormalCompletion216&&_iterator216.return){_iterator216.return();}}finally{if(_didIteratorError216){throw _iteratorError216;}}}}else hc(this,t,null,e);}},{key:'clearAttributes',value:function clearAttributes(t){var _this65=this;this._assertWriterUsedCorrectly();var e=function e(t){var _iteratorNormalCompletion217=true;var _didIteratorError217=false;var _iteratorError217=undefined;try{for(var _iterator217=t.getAttributeKeys()[Symbol.iterator](),_step217;!(_iteratorNormalCompletion217=(_step217=_iterator217.next()).done);_iteratorNormalCompletion217=true){var _e97=_step217.value;_this65.removeAttribute(_e97,t);}}catch(err){_didIteratorError217=true;_iteratorError217=err;}finally{try{if(!_iteratorNormalCompletion217&&_iterator217.return){_iterator217.return();}}finally{if(_didIteratorError217){throw _iteratorError217;}}}};if(t instanceof qs){var _iteratorNormalCompletion218=true;var _didIteratorError218=false;var _iteratorError218=undefined;try{for(var _iterator218=t.getItems()[Symbol.iterator](),_step218;!(_iteratorNormalCompletion218=(_step218=_iterator218.next()).done);_iteratorNormalCompletion218=true){var n=_step218.value;e(n);}}catch(err){_didIteratorError218=true;_iteratorError218=err;}finally{try{if(!_iteratorNormalCompletion218&&_iterator218.return){_iterator218.return();}}finally{if(_didIteratorError218){throw _iteratorError218;}}}}else e(t);}},{key:'move',value:function move(t,e,n){if(this._assertWriterUsedCorrectly(),!(t instanceof qs))throw new P.b("writer-move-invalid-range: Invalid range to move.");if(!t.isFlat)throw new P.b("writer-move-range-not-flat: Range to move is not flat.");var i=Hs._createAt(e,n);if(!pc(t.root,i.root))throw new P.b("writer-move-different-document: Range is going to be moved between different documents.");var o=t.root.document?t.root.document.version:null,r=new nc(t.start,t.end.offset-t.start.offset,i,o);this.batch.addOperation(r),this.model.applyOperation(r);}},{key:'remove',value:function remove(t){if(this._assertWriterUsedCorrectly(),t instanceof qs){var e=t.getMinimalFlatRanges().reverse();var _iteratorNormalCompletion219=true;var _didIteratorError219=false;var _iteratorError219=undefined;try{for(var _iterator219=e[Symbol.iterator](),_step219;!(_iteratorNormalCompletion219=(_step219=_iterator219.next()).done);_iteratorNormalCompletion219=true){var _t133=_step219.value;mc(_t133.start,_t133.end.offset-_t133.start.offset,this.batch,this.model);}}catch(err){_didIteratorError219=true;_iteratorError219=err;}finally{try{if(!_iteratorNormalCompletion219&&_iterator219.return){_iterator219.return();}}finally{if(_didIteratorError219){throw _iteratorError219;}}}}else{var _e98=t.is("text")?t.offsetSize:1;mc(Hs._createBefore(t),_e98,this.batch,this.model);}}},{key:'merge',value:function merge(t){this._assertWriterUsedCorrectly();var e=t.nodeBefore,n=t.nodeAfter;if(!(e instanceof zs))throw new P.b("writer-merge-no-element-before: Node before merge position must be an element.");if(!(n instanceof zs))throw new P.b("writer-merge-no-element-after: Node after merge position must be an element.");t.root.document?this._merge(t):this._mergeDetached(t);}},{key:'createPositionFromPath',value:function createPositionFromPath(t,e,n){return this.model.createPositionFromPath(t,e,n);}},{key:'createPositionAt',value:function createPositionAt(t,e){return this.model.createPositionAt(t,e);}},{key:'createPositionAfter',value:function createPositionAfter(t){return this.model.createPositionAfter(t);}},{key:'createPositionBefore',value:function createPositionBefore(t){return this.model.createPositionBefore(t);}},{key:'createRange',value:function createRange(t,e){return this.model.createRange(t,e);}},{key:'createRangeIn',value:function createRangeIn(t){return this.model.createRangeIn(t);}},{key:'createRangeOn',value:function createRangeOn(t){return this.model.createRangeOn(t);}},{key:'createSelection',value:function createSelection(t,e,n){return this.model.createSelection(t,e,n);}},{key:'_mergeDetached',value:function _mergeDetached(t){var e=t.nodeBefore,n=t.nodeAfter;this.move(qs._createIn(n),Hs._createAt(e,"end")),this.remove(n);}},{key:'_merge',value:function _merge(t){var e=Hs._createAt(t.nodeBefore,"end"),n=Hs._createAt(t.nodeAfter,0),i=t.root.document.graveyard,o=new Hs(i,[0]),r=t.root.document.version,s=new ac(n,t.nodeAfter.maxOffset,e,o,r);this.batch.addOperation(s),this.model.applyOperation(s);}},{key:'rename',value:function rename(t,e){if(this._assertWriterUsedCorrectly(),!(t instanceof zs))throw new P.b("writer-rename-not-element-instance: Trying to rename an object which is not an instance of Element.");var n=t.root.document?t.root.document.version:null,i=new rc(Hs._createBefore(t),t.name,e,n);this.batch.addOperation(i),this.model.applyOperation(i);}},{key:'split',value:function split(t,e){this._assertWriterUsedCorrectly();var n=void 0,i=void 0,o=t.parent;if(!o.parent)throw new P.b("writer-split-element-no-parent: Element with no parent can not be split.");if(e||(e=o.parent),!t.parent.getAncestors({includeSelf:!0}).includes(e))throw new P.b("writer-split-invalid-limit-element: Limit element is not a position ancestor.");do{var _e99=o.root.document?o.root.document.version:null,_r13=o.maxOffset-t.offset,_s13=new cc(t,_r13,null,_e99);this.batch.addOperation(_s13),this.model.applyOperation(_s13),n||i||(n=o,i=t.parent.nextSibling),o=(t=this.createPositionAfter(t.parent)).parent;}while(o!==e);return{position:t,range:new qs(Hs._createAt(n,"end"),Hs._createAt(i,0))};}},{key:'wrap',value:function wrap(t,e){if(this._assertWriterUsedCorrectly(),!t.isFlat)throw new P.b("writer-wrap-range-not-flat: Range to wrap is not flat.");var n=e instanceof zs?e:new zs(e);if(n.childCount>0)throw new P.b("writer-wrap-element-not-empty: Element to wrap with is not empty.");if(null!==n.parent)throw new P.b("writer-wrap-element-attached: Element to wrap with is already attached to tree model.");var i=t.root.document?t.root.document.version:null,o=new ic(t.start,n,i);this.batch.addOperation(o),this.model.applyOperation(o);var r=new nc(t.start.getShiftedBy(1),t.end.offset-t.start.offset,Hs._createAt(n,0),null===i?null:i+1);this.batch.addOperation(r),this.model.applyOperation(r);}},{key:'unwrap',value:function unwrap(t){if(this._assertWriterUsedCorrectly(),null===t.parent)throw new P.b("writer-unwrap-element-no-parent: Trying to unwrap an element which has no parent.");this.move(qs._createIn(t),this.createPositionAfter(t)),this.remove(t);}},{key:'addMarker',value:function addMarker(t,e){if(this._assertWriterUsedCorrectly(),!e||"boolean"!=typeof e.usingOperation)throw new P.b("writer-addMarker-no-usingOperations: The options.usingOperations parameter is required when adding a new marker.");var n=e.usingOperation,i=e.range,o=void 0!==e.affectsData&&e.affectsData;if(this.model.markers.has(t))throw new P.b("writer-addMarker-marker-exists: Marker with provided name already exists.");if(!i)throw new P.b("writer-addMarker-no-range: Range parameter is required when adding a new marker.");return n?(fc(this,t,null,i,o),this.model.markers.get(t)):this.model.markers._set(t,i,n,o);}},{key:'updateMarker',value:function updateMarker(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};this._assertWriterUsedCorrectly();var n="string"==typeof t?t:t.name,i=this.model.markers.get(n);if(!i)throw new P.b("writer-updateMarker-marker-not-exists: Marker with provided name does not exists.");var o="boolean"==typeof e.usingOperation,r="boolean"==typeof e.affectsData,s=r?e.affectsData:i.affectsData;if(!o&&!e.range&&!r)throw new P.b("writer-updateMarker-wrong-options: One of the options is required - provide range, usingOperations or affectsData.");var a=i.getRange(),c=e.range?e.range:a;o&&e.usingOperation!==i.managedUsingOperations?e.usingOperation?fc(this,n,null,c,s):(fc(this,n,a,null,s),this.model.markers._set(n,c,void 0,s)):i.managedUsingOperations?fc(this,n,a,c,s):this.model.markers._set(n,c,void 0,s);}},{key:'removeMarker',value:function removeMarker(t){this._assertWriterUsedCorrectly();var e="string"==typeof t?t:t.name;if(!this.model.markers.has(e))throw new P.b("writer-removeMarker-no-marker: Trying to remove marker which does not exist.");var n=this.model.markers.get(e);n.managedUsingOperations?fc(this,e,n.getRange(),null,n.affectsData):this.model.markers._remove(e);}},{key:'setSelection',value:function setSelection(t,e,n){this._assertWriterUsedCorrectly(),this.model.document.selection._setTo(t,e,n);}},{key:'setSelectionFocus',value:function setSelectionFocus(t,e){this._assertWriterUsedCorrectly(),this.model.document.selection._setFocus(t,e);}},{key:'setSelectionAttribute',value:function setSelectionAttribute(t,e){if(this._assertWriterUsedCorrectly(),"string"==typeof t)this._setSelectionAttribute(t,e);else{var _iteratorNormalCompletion220=true;var _didIteratorError220=false;var _iteratorError220=undefined;try{for(var _iterator220=Rs(t)[Symbol.iterator](),_step220;!(_iteratorNormalCompletion220=(_step220=_iterator220.next()).done);_iteratorNormalCompletion220=true){var _ref39=_step220.value;var _ref40=_slicedToArray(_ref39,2);var _e100=_ref40[0];var n=_ref40[1];this._setSelectionAttribute(_e100,n);}}catch(err){_didIteratorError220=true;_iteratorError220=err;}finally{try{if(!_iteratorNormalCompletion220&&_iterator220.return){_iterator220.return();}}finally{if(_didIteratorError220){throw _iteratorError220;}}}}}},{key:'removeSelectionAttribute',value:function removeSelectionAttribute(t){if(this._assertWriterUsedCorrectly(),"string"==typeof t)this._removeSelectionAttribute(t);else{var _iteratorNormalCompletion221=true;var _didIteratorError221=false;var _iteratorError221=undefined;try{for(var _iterator221=t[Symbol.iterator](),_step221;!(_iteratorNormalCompletion221=(_step221=_iterator221.next()).done);_iteratorNormalCompletion221=true){var e=_step221.value;this._removeSelectionAttribute(e);}}catch(err){_didIteratorError221=true;_iteratorError221=err;}finally{try{if(!_iteratorNormalCompletion221&&_iterator221.return){_iterator221.return();}}finally{if(_didIteratorError221){throw _iteratorError221;}}}}}},{key:'overrideSelectionGravity',value:function overrideSelectionGravity(){return this.model.document.selection._overrideGravity();}},{key:'restoreSelectionGravity',value:function restoreSelectionGravity(t){this.model.document.selection._restoreGravity(t);}},{key:'_setSelectionAttribute',value:function _setSelectionAttribute(t,e){var n=this.model.document.selection;if(n.isCollapsed&&n.anchor.parent.isEmpty){var i=ea._getStoreAttributeKey(t);this.setAttribute(i,e,n.anchor.parent);}n._setAttribute(t,e);}},{key:'_removeSelectionAttribute',value:function _removeSelectionAttribute(t){var e=this.model.document.selection;if(e.isCollapsed&&e.anchor.parent.isEmpty){var n=ea._getStoreAttributeKey(t);this.removeAttribute(n,e.anchor.parent);}e._removeAttribute(t);}},{key:'_assertWriterUsedCorrectly',value:function _assertWriterUsedCorrectly(){if(this.model._currentWriter!==this)throw new P.b("writer-incorrect-use: Trying to use a writer outside the change() block.");}}]);return dc;}();function uc(t,e,n,i){var o=t.model,r=o.document;var s=void 0,a=void 0,c=void 0,l=i.start;var _iteratorNormalCompletion222=true;var _didIteratorError222=false;var _iteratorError222=undefined;try{for(var _iterator222=i.getWalker({shallow:!0})[Symbol.iterator](),_step222;!(_iteratorNormalCompletion222=(_step222=_iterator222.next()).done);_iteratorNormalCompletion222=true){var _t134=_step222.value;c=_t134.item.getAttribute(e),s&&a!=c&&(a!=n&&d(),l=s),s=_t134.nextPosition,a=c;}}catch(err){_didIteratorError222=true;_iteratorError222=err;}finally{try{if(!_iteratorNormalCompletion222&&_iterator222.return){_iterator222.return();}}finally{if(_didIteratorError222){throw _iteratorError222;}}}function d(){var i=new qs(l,s),c=i.root.document?r.version:null,d=new tc(i,e,a,n,c);t.batch.addOperation(d),o.applyOperation(d);}s instanceof Hs&&s!=l&&a!=n&&d();}function hc(t,e,n,i){var o=t.model,r=o.document,s=i.getAttribute(e);var a=void 0,c=void 0;if(s!=n){if(i.root===i){var _t135=i.document?r.version:null;c=new sc(i,e,s,n,_t135);}else{var _o39=(a=new qs(Hs._createBefore(i),t.createPositionAfter(i))).root.document?r.version:null;c=new tc(a,e,s,n,_o39);}t.batch.addOperation(c),o.applyOperation(c);}}function fc(t,e,n,i,o){var r=t.model,s=r.document,a=new oc(e,n,i,r.markers,o,s.version);t.batch.addOperation(a),r.applyOperation(a);}function mc(t,e,n,i){var o=void 0;if(t.root.document){var _n83=i.document,_r14=new Hs(_n83.graveyard,[0]);o=new nc(t,e,_r14,_n83.version);}else o=new ec(t,e);n.addOperation(o),i.applyOperation(o);}function pc(t,e){return t===e||t instanceof lc&&e instanceof lc;}var gc=function(){function gc(t){_classCallCheck(this,gc);this._markerCollection=t,this._changesInElement=new Map(),this._elementSnapshots=new Map(),this._changedMarkers=new Map(),this._changeCount=0,this._cachedChanges=null,this._cachedChangesWithGraveyard=null;}_createClass(gc,[{key:'bufferOperation',value:function bufferOperation(t){switch(t.type){case"insert":if(this._isInInsertedElement(t.position.parent))return;this._markInsert(t.position.parent,t.position.offset,t.nodes.maxOffset);break;case"addAttribute":case"removeAttribute":case"changeAttribute":var _iteratorNormalCompletion223=true;var _didIteratorError223=false;var _iteratorError223=undefined;try{for(var _iterator223=t.range.getItems()[Symbol.iterator](),_step223;!(_iteratorNormalCompletion223=(_step223=_iterator223.next()).done);_iteratorNormalCompletion223=true){var e=_step223.value;this._isInInsertedElement(e.parent)||this._markAttribute(e);}}catch(err){_didIteratorError223=true;_iteratorError223=err;}finally{try{if(!_iteratorNormalCompletion223&&_iterator223.return){_iterator223.return();}}finally{if(_didIteratorError223){throw _iteratorError223;}}}break;case"remove":case"move":case"reinsert":{var _e101=this._isInInsertedElement(t.sourcePosition.parent),n=this._isInInsertedElement(t.targetPosition.parent);_e101||this._markRemove(t.sourcePosition.parent,t.sourcePosition.offset,t.howMany),n||this._markInsert(t.targetPosition.parent,t.getMovedRangeStart().offset,t.howMany);break;}case"rename":{if(this._isInInsertedElement(t.position.parent))return;this._markRemove(t.position.parent,t.position.offset,1),this._markInsert(t.position.parent,t.position.offset,1);var _e102=qs._createFromPositionAndShift(t.position,1);var _iteratorNormalCompletion224=true;var _didIteratorError224=false;var _iteratorError224=undefined;try{for(var _iterator224=this._markerCollection.getMarkersIntersectingRange(_e102)[Symbol.iterator](),_step224;!(_iteratorNormalCompletion224=(_step224=_iterator224.next()).done);_iteratorNormalCompletion224=true){var _t136=_step224.value;var _e103=_t136.getRange();this.bufferMarkerChange(_t136.name,_e103,_e103,_t136.affectsData);}}catch(err){_didIteratorError224=true;_iteratorError224=err;}finally{try{if(!_iteratorNormalCompletion224&&_iterator224.return){_iterator224.return();}}finally{if(_didIteratorError224){throw _iteratorError224;}}}break;}case"split":{var _e104=t.splitPosition.parent;this._isInInsertedElement(_e104)||this._markRemove(_e104,t.splitPosition.offset,t.howMany),this._isInInsertedElement(t.insertionPosition.parent)||this._markInsert(t.insertionPosition.parent,t.insertionPosition.offset,1),t.graveyardPosition&&this._markRemove(t.graveyardPosition.parent,t.graveyardPosition.offset,1);break;}case"merge":{var _e105=t.sourcePosition.parent;this._isInInsertedElement(_e105.parent)||this._markRemove(_e105.parent,_e105.startOffset,1);var _n84=t.graveyardPosition.parent;this._markInsert(_n84,t.graveyardPosition.offset,1);var i=t.targetPosition.parent;this._isInInsertedElement(i)||this._markInsert(i,t.targetPosition.offset,_e105.maxOffset);break;}}this._cachedChanges=null;}},{key:'bufferMarkerChange',value:function bufferMarkerChange(t,e,n,i){var o=this._changedMarkers.get(t);o?(o.newRange=n,o.affectsData=i,null==o.oldRange&&null==o.newRange&&this._changedMarkers.delete(t)):this._changedMarkers.set(t,{oldRange:e,newRange:n,affectsData:i});}},{key:'getMarkersToRemove',value:function getMarkersToRemove(){var t=[];var _iteratorNormalCompletion225=true;var _didIteratorError225=false;var _iteratorError225=undefined;try{for(var _iterator225=this._changedMarkers[Symbol.iterator](),_step225;!(_iteratorNormalCompletion225=(_step225=_iterator225.next()).done);_iteratorNormalCompletion225=true){var _ref41=_step225.value;var _ref42=_slicedToArray(_ref41,2);var e=_ref42[0];var n=_ref42[1];null!=n.oldRange&&t.push({name:e,range:n.oldRange});}}catch(err){_didIteratorError225=true;_iteratorError225=err;}finally{try{if(!_iteratorNormalCompletion225&&_iterator225.return){_iterator225.return();}}finally{if(_didIteratorError225){throw _iteratorError225;}}}return t;}},{key:'getMarkersToAdd',value:function getMarkersToAdd(){var t=[];var _iteratorNormalCompletion226=true;var _didIteratorError226=false;var _iteratorError226=undefined;try{for(var _iterator226=this._changedMarkers[Symbol.iterator](),_step226;!(_iteratorNormalCompletion226=(_step226=_iterator226.next()).done);_iteratorNormalCompletion226=true){var _ref43=_step226.value;var _ref44=_slicedToArray(_ref43,2);var e=_ref44[0];var n=_ref44[1];null!=n.newRange&&t.push({name:e,range:n.newRange});}}catch(err){_didIteratorError226=true;_iteratorError226=err;}finally{try{if(!_iteratorNormalCompletion226&&_iterator226.return){_iterator226.return();}}finally{if(_didIteratorError226){throw _iteratorError226;}}}return t;}},{key:'hasDataChanges',value:function hasDataChanges(){var _iteratorNormalCompletion227=true;var _didIteratorError227=false;var _iteratorError227=undefined;try{for(var _iterator227=this._changedMarkers[Symbol.iterator](),_step227;!(_iteratorNormalCompletion227=(_step227=_iterator227.next()).done);_iteratorNormalCompletion227=true){var _ref45=_step227.value;var _ref46=_slicedToArray(_ref45,2);var t=_ref46[1];if(t.affectsData)return!0;}}catch(err){_didIteratorError227=true;_iteratorError227=err;}finally{try{if(!_iteratorNormalCompletion227&&_iterator227.return){_iterator227.return();}}finally{if(_didIteratorError227){throw _iteratorError227;}}}return this._changesInElement.size>0;}},{key:'getChanges',value:function getChanges(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{includeChangesInGraveyard:!1};if(this._cachedChanges)return t.includeChangesInGraveyard?this._cachedChangesWithGraveyard.slice():this._cachedChanges.slice();var e=[];var _iteratorNormalCompletion228=true;var _didIteratorError228=false;var _iteratorError228=undefined;try{for(var _iterator228=this._changesInElement.keys()[Symbol.iterator](),_step228;!(_iteratorNormalCompletion228=(_step228=_iterator228.next()).done);_iteratorNormalCompletion228=true){var _t137=_step228.value;var n=this._changesInElement.get(_t137).sort(function(t,e){return t.offset===e.offset?t.type!=e.type?"remove"==t.type?-1:1:0:t.offset<e.offset?-1:1;}),i=this._elementSnapshots.get(_t137),_o40=bc(_t137.getChildren()),_r15=wc(i.length,n);var _s14=0,_a8=0;var _iteratorNormalCompletion230=true;var _didIteratorError230=false;var _iteratorError230=undefined;try{for(var _iterator230=_r15[Symbol.iterator](),_step230;!(_iteratorNormalCompletion230=(_step230=_iterator230.next()).done);_iteratorNormalCompletion230=true){var _n85=_step230.value;if("i"===_n85)e.push(this._getInsertDiff(_t137,_s14,_o40[_s14].name)),_s14++;else if("r"===_n85)e.push(this._getRemoveDiff(_t137,_s14,i[_a8].name)),_a8++;else if("a"===_n85){var _n86=_o40[_s14].attributes,_r17=i[_a8].attributes;var _c3=void 0;if("$text"==_o40[_s14].name)_c3=new qs(Hs._createAt(_t137,_s14),Hs._createAt(_t137,_s14+1));else{var _e106=_t137.offsetToIndex(_s14);_c3=new qs(Hs._createAt(_t137,_s14),Hs._createAt(_t137.getChild(_e106),0));}e.push.apply(e,_toConsumableArray(this._getAttributesDiff(_c3,_r17,_n86))),_s14++,_a8++;}else _s14++,_a8++;}}catch(err){_didIteratorError230=true;_iteratorError230=err;}finally{try{if(!_iteratorNormalCompletion230&&_iterator230.return){_iterator230.return();}}finally{if(_didIteratorError230){throw _iteratorError230;}}}}}catch(err){_didIteratorError228=true;_iteratorError228=err;}finally{try{if(!_iteratorNormalCompletion228&&_iterator228.return){_iterator228.return();}}finally{if(_didIteratorError228){throw _iteratorError228;}}}e.sort(function(t,e){return t.position.root!=e.position.root?t.position.root.rootName<e.position.root.rootName?-1:1:t.position.isEqual(e.position)?t.changeCount-e.changeCount:t.position.isBefore(e.position)?-1:1;});for(var _t138=1;_t138<e.length;_t138++){var n=e[_t138-1],i=e[_t138],_o41="remove"==n.type&&"remove"==i.type&&"$text"==n.name&&"$text"==i.name&&n.position.isEqual(i.position),_r16="insert"==n.type&&"insert"==i.type&&"$text"==n.name&&"$text"==i.name&&n.position.parent==i.position.parent&&n.position.offset+n.length==i.position.offset,_s15="attribute"==n.type&&"attribute"==i.type&&n.position.parent==i.position.parent&&n.range.isFlat&&i.range.isFlat&&n.position.offset+n.length==i.position.offset&&n.attributeKey==i.attributeKey&&n.attributeOldValue==i.attributeOldValue&&n.attributeNewValue==i.attributeNewValue;(_o41||_r16||_s15)&&(e[_t138-1].length++,_s15&&(e[_t138-1].range.end=e[_t138-1].range.end.getShiftedBy(1)),e.splice(_t138,1),_t138--);}var _iteratorNormalCompletion229=true;var _didIteratorError229=false;var _iteratorError229=undefined;try{for(var _iterator229=e[Symbol.iterator](),_step229;!(_iteratorNormalCompletion229=(_step229=_iterator229.next()).done);_iteratorNormalCompletion229=true){var _t139=_step229.value;delete _t139.changeCount,"attribute"==_t139.type&&(delete _t139.position,delete _t139.length);}}catch(err){_didIteratorError229=true;_iteratorError229=err;}finally{try{if(!_iteratorNormalCompletion229&&_iterator229.return){_iterator229.return();}}finally{if(_didIteratorError229){throw _iteratorError229;}}}return this._changeCount=0,this._cachedChangesWithGraveyard=e.slice(),this._cachedChanges=e.slice().filter(_c),t.includeChangesInGraveyard?this._cachedChangesWithGraveyard:this._cachedChanges;}},{key:'reset',value:function reset(){this._changesInElement.clear(),this._elementSnapshots.clear(),this._changedMarkers.clear(),this._cachedChanges=null;}},{key:'_markInsert',value:function _markInsert(t,e,n){var i={type:"insert",offset:e,howMany:n,count:this._changeCount++};this._markChange(t,i);}},{key:'_markRemove',value:function _markRemove(t,e,n){var i={type:"remove",offset:e,howMany:n,count:this._changeCount++};this._markChange(t,i),this._removeAllNestedChanges(t,e,n);}},{key:'_markAttribute',value:function _markAttribute(t){var e={type:"attribute",offset:t.startOffset,howMany:t.offsetSize,count:this._changeCount++};this._markChange(t.parent,e);}},{key:'_markChange',value:function _markChange(t,e){this._makeSnapshot(t);var n=this._getChangesForElement(t);this._handleChange(e,n),n.push(e);for(var _t140=0;_t140<n.length;_t140++){n[_t140].howMany<1&&(n.splice(_t140,1),_t140--);}}},{key:'_getChangesForElement',value:function _getChangesForElement(t){var e=void 0;return this._changesInElement.has(t)?e=this._changesInElement.get(t):(e=[],this._changesInElement.set(t,e)),e;}},{key:'_makeSnapshot',value:function _makeSnapshot(t){this._elementSnapshots.has(t)||this._elementSnapshots.set(t,bc(t.getChildren()));}},{key:'_handleChange',value:function _handleChange(t,e){t.nodesToHandle=t.howMany;var _iteratorNormalCompletion231=true;var _didIteratorError231=false;var _iteratorError231=undefined;try{for(var _iterator231=e[Symbol.iterator](),_step231;!(_iteratorNormalCompletion231=(_step231=_iterator231.next()).done);_iteratorNormalCompletion231=true){var n=_step231.value;var i=t.offset+t.howMany,_o42=n.offset+n.howMany;if("insert"==t.type&&("insert"==n.type&&(t.offset<=n.offset?n.offset+=t.howMany:t.offset<_o42&&(n.howMany+=t.nodesToHandle,t.nodesToHandle=0)),"remove"==n.type&&t.offset<n.offset&&(n.offset+=t.howMany),"attribute"==n.type))if(t.offset<=n.offset)n.offset+=t.howMany;else if(t.offset<_o42){var _o43=n.howMany;n.howMany=t.offset-n.offset,e.unshift({type:"attribute",offset:i,howMany:_o43-n.howMany,count:this._changeCount++});}if("remove"==t.type){if("insert"==n.type)if(i<=n.offset)n.offset-=t.howMany;else if(i<=_o42){if(t.offset<n.offset){var _e107=i-n.offset;n.offset=t.offset,n.howMany-=_e107,t.nodesToHandle-=_e107;}else n.howMany-=t.nodesToHandle,t.nodesToHandle=0;}else if(t.offset<=n.offset)t.nodesToHandle-=n.howMany,n.howMany=0;else if(t.offset<_o42){var _e108=_o42-t.offset;n.howMany-=_e108,t.nodesToHandle-=_e108;}if("remove"==n.type&&(i<=n.offset?n.offset-=t.howMany:t.offset<n.offset&&(t.nodesToHandle+=n.howMany,n.howMany=0)),"attribute"==n.type)if(i<=n.offset)n.offset-=t.howMany;else if(t.offset<n.offset){var _e109=i-n.offset;n.offset=t.offset,n.howMany-=_e109;}else if(t.offset<_o42)if(i<=_o42){var _i22=n.howMany;n.howMany=t.offset-n.offset;var _o44=_i22-n.howMany-t.nodesToHandle;e.unshift({type:"attribute",offset:t.offset,howMany:_o44,count:this._changeCount++});}else n.howMany-=_o42-t.offset;}if("attribute"==t.type){if("insert"==n.type)if(t.offset<n.offset&&i>n.offset){if(i>_o42){var _t141={type:"attribute",offset:_o42,howMany:i-_o42,count:this._changeCount++};this._handleChange(_t141,e),e.push(_t141);}t.nodesToHandle=n.offset-t.offset,t.howMany=t.nodesToHandle;}else t.offset>=n.offset&&t.offset<_o42&&(i>_o42?(t.nodesToHandle=i-_o42,t.offset=_o42):t.nodesToHandle=0);"attribute"==n.type&&(t.offset>=n.offset&&i<=_o42?(t.nodesToHandle=0,t.howMany=0,t.offset=0):t.offset<=n.offset&&i>=_o42&&(n.howMany=0));}}}catch(err){_didIteratorError231=true;_iteratorError231=err;}finally{try{if(!_iteratorNormalCompletion231&&_iterator231.return){_iterator231.return();}}finally{if(_didIteratorError231){throw _iteratorError231;}}}t.howMany=t.nodesToHandle,delete t.nodesToHandle;}},{key:'_getInsertDiff',value:function _getInsertDiff(t,e,n){return{type:"insert",position:Hs._createAt(t,e),name:n,length:1,changeCount:this._changeCount++};}},{key:'_getRemoveDiff',value:function _getRemoveDiff(t,e,n){return{type:"remove",position:Hs._createAt(t,e),name:n,length:1,changeCount:this._changeCount++};}},{key:'_getAttributesDiff',value:function _getAttributesDiff(t,e,n){var i=[];n=new Map(n);var _iteratorNormalCompletion232=true;var _didIteratorError232=false;var _iteratorError232=undefined;try{for(var _iterator232=e[Symbol.iterator](),_step232;!(_iteratorNormalCompletion232=(_step232=_iterator232.next()).done);_iteratorNormalCompletion232=true){var _ref47=_step232.value;var _ref48=_slicedToArray(_ref47,2);var _o45=_ref48[0];var _r18=_ref48[1];var _e110=n.has(_o45)?n.get(_o45):null;_e110!==_r18&&i.push({type:"attribute",position:t.start,range:t.clone(),length:1,attributeKey:_o45,attributeOldValue:_r18,attributeNewValue:_e110,changeCount:this._changeCount++}),n.delete(_o45);}}catch(err){_didIteratorError232=true;_iteratorError232=err;}finally{try{if(!_iteratorNormalCompletion232&&_iterator232.return){_iterator232.return();}}finally{if(_didIteratorError232){throw _iteratorError232;}}}var _iteratorNormalCompletion233=true;var _didIteratorError233=false;var _iteratorError233=undefined;try{for(var _iterator233=n[Symbol.iterator](),_step233;!(_iteratorNormalCompletion233=(_step233=_iterator233.next()).done);_iteratorNormalCompletion233=true){var _ref49=_step233.value;var _ref50=_slicedToArray(_ref49,2);var _e111=_ref50[0];var _o46=_ref50[1];i.push({type:"attribute",position:t.start,range:t.clone(),length:1,attributeKey:_e111,attributeOldValue:null,attributeNewValue:_o46,changeCount:this._changeCount++});}}catch(err){_didIteratorError233=true;_iteratorError233=err;}finally{try{if(!_iteratorNormalCompletion233&&_iterator233.return){_iterator233.return();}}finally{if(_didIteratorError233){throw _iteratorError233;}}}return i;}},{key:'_isInInsertedElement',value:function _isInInsertedElement(t){var e=t.parent;if(!e)return!1;var n=this._changesInElement.get(e),i=t.startOffset;if(n){var _iteratorNormalCompletion234=true;var _didIteratorError234=false;var _iteratorError234=undefined;try{for(var _iterator234=n[Symbol.iterator](),_step234;!(_iteratorNormalCompletion234=(_step234=_iterator234.next()).done);_iteratorNormalCompletion234=true){var _t142=_step234.value;if("insert"==_t142.type&&i>=_t142.offset&&i<_t142.offset+_t142.howMany)return!0;}}catch(err){_didIteratorError234=true;_iteratorError234=err;}finally{try{if(!_iteratorNormalCompletion234&&_iterator234.return){_iterator234.return();}}finally{if(_didIteratorError234){throw _iteratorError234;}}}}return this._isInInsertedElement(e);}},{key:'_removeAllNestedChanges',value:function _removeAllNestedChanges(t,e,n){var i=new qs(Hs._createAt(t,e),Hs._createAt(t,e+n));var _iteratorNormalCompletion235=true;var _didIteratorError235=false;var _iteratorError235=undefined;try{for(var _iterator235=i.getItems({shallow:!0})[Symbol.iterator](),_step235;!(_iteratorNormalCompletion235=(_step235=_iterator235.next()).done);_iteratorNormalCompletion235=true){var _t143=_step235.value;_t143.is("element")&&(this._elementSnapshots.delete(_t143),this._changesInElement.delete(_t143),this._removeAllNestedChanges(_t143,0,_t143.maxOffset));}}catch(err){_didIteratorError235=true;_iteratorError235=err;}finally{try{if(!_iteratorNormalCompletion235&&_iterator235.return){_iterator235.return();}}finally{if(_didIteratorError235){throw _iteratorError235;}}}}},{key:'isEmpty',get:function get(){return 0==this._changesInElement.size&&0==this._changedMarkers.size;}}]);return gc;}();function bc(t){var e=[];var _iteratorNormalCompletion236=true;var _didIteratorError236=false;var _iteratorError236=undefined;try{for(var _iterator236=t[Symbol.iterator](),_step236;!(_iteratorNormalCompletion236=(_step236=_iterator236.next()).done);_iteratorNormalCompletion236=true){var n=_step236.value;if(n.is("text"))for(var _t144=0;_t144<n.data.length;_t144++){e.push({name:"$text",attributes:new Map(n.getAttributes())});}else e.push({name:n.name,attributes:new Map(n.getAttributes())});}}catch(err){_didIteratorError236=true;_iteratorError236=err;}finally{try{if(!_iteratorNormalCompletion236&&_iterator236.return){_iterator236.return();}}finally{if(_didIteratorError236){throw _iteratorError236;}}}return e;}function wc(t,e){var n=[];var i=0,o=0;var _iteratorNormalCompletion237=true;var _didIteratorError237=false;var _iteratorError237=undefined;try{for(var _iterator237=e[Symbol.iterator](),_step237;!(_iteratorNormalCompletion237=(_step237=_iterator237.next()).done);_iteratorNormalCompletion237=true){var _t145=_step237.value;_t145.offset>i&&(n.push.apply(n,_toConsumableArray("e".repeat(_t145.offset-i).split(""))),o+=_t145.offset-i),"insert"==_t145.type?(n.push.apply(n,_toConsumableArray("i".repeat(_t145.howMany).split(""))),i=_t145.offset+_t145.howMany):"remove"==_t145.type?(n.push.apply(n,_toConsumableArray("r".repeat(_t145.howMany).split(""))),i=_t145.offset,o+=_t145.howMany):(n.push.apply(n,_toConsumableArray("a".repeat(_t145.howMany).split(""))),i=_t145.offset+_t145.howMany,o+=_t145.howMany);}}catch(err){_didIteratorError237=true;_iteratorError237=err;}finally{try{if(!_iteratorNormalCompletion237&&_iterator237.return){_iterator237.return();}}finally{if(_didIteratorError237){throw _iteratorError237;}}}return o<t&&n.push.apply(n,_toConsumableArray("e".repeat(t-o).split(""))),n;}function _c(t){var e=t.position&&"$graveyard"==t.position.root.rootName,n=t.range&&"$graveyard"==t.range.root.rootName;return!e&&!n;}var kc=function(){function kc(){_classCallCheck(this,kc);this._operations=[],this._undoPairs=new Map(),this._undoneOperations=new Set();}_createClass(kc,[{key:'addOperation',value:function addOperation(t){this._operations.includes(t)||this._operations.push(t);}},{key:'getOperations',value:function getOperations(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:0;var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:Number.POSITIVE_INFINITY;return t<0?[]:this._operations.slice(t,e);}},{key:'getOperation',value:function getOperation(t){return this._operations[t];}},{key:'setOperationAsUndone',value:function setOperationAsUndone(t,e){this._undoPairs.set(e,t),this._undoneOperations.add(t);}},{key:'isUndoingOperation',value:function isUndoingOperation(t){return this._undoPairs.has(t);}},{key:'isUndoneOperation',value:function isUndoneOperation(t){return this._undoneOperations.has(t);}},{key:'getUndoneOperation',value:function getUndoneOperation(t){return this._undoPairs.get(t);}}]);return kc;}();function vc(t,e){return function(t){return!!t&&1==t.length&&/[\ud800-\udbff]/.test(t);}(t.charAt(e-1))&&function(t){return!!t&&1==t.length&&/[\udc00-\udfff]/.test(t);}(t.charAt(e));}function yc(t,e){return function(t){return!!t&&1==t.length&&/[\u0300-\u036f\u1ab0-\u1aff\u1dc0-\u1dff\u20d0-\u20ff\ufe20-\ufe2f]/.test(t);}(t.charAt(e));}var xc="$graveyard";var Ac=function(){function Ac(t){var _this66=this;_classCallCheck(this,Ac);this.model=t,this.version=0,this.history=new kc(this),this.selection=new ea(this),this.roots=new Xi({idProperty:"rootName"}),this.differ=new gc(t.markers),this._postFixers=new Set(),this.createRoot("$root",xc),this.listenTo(t,"applyOperation",function(t,e){var n=e[0];if(n.isDocumentOperation&&n.baseVersion!==_this66.version)throw new P.b("model-document-applyOperation-wrong-version: Only operations with matching versions can be applied.",{operation:n});},{priority:"highest"}),this.listenTo(t,"applyOperation",function(t,e){var n=e[0];n.isDocumentOperation&&_this66.differ.bufferOperation(n);},{priority:"high"}),this.listenTo(t,"applyOperation",function(t,e){var n=e[0];n.isDocumentOperation&&(_this66.version++,_this66.history.addOperation(n));},{priority:"low"});var e=!1;this.listenTo(this.selection,"change",function(){e=!0;}),this.listenTo(t,"_change",function(t,n){_this66.differ.isEmpty&&!e||(_this66._callPostFixers(n),_this66.differ.hasDataChanges()?_this66.fire("change:data",n.batch):_this66.fire("change",n.batch),_this66.differ.reset(),e=!1);}),this.listenTo(t.markers,"update",function(t,e,n,i){_this66.differ.bufferMarkerChange(e.name,n,i,e.affectsData),null===n&&e.on("change",function(t,n){_this66.differ.bufferMarkerChange(e.name,n,e.getRange(),e.affectsData);});});}_createClass(Ac,[{key:'createRoot',value:function createRoot(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:"$root";var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"main";if(this.roots.get(e))throw new P.b("model-document-createRoot-name-exists: Root with specified name already exists.",{name:e});var n=new lc(this,t,e);return this.roots.add(n),n;}},{key:'destroy',value:function destroy(){this.selection.destroy(),this.stopListening();}},{key:'getRoot',value:function getRoot(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:"main";return this.roots.get(t);}},{key:'getRootNames',value:function getRootNames(){return Array.from(this.roots,function(t){return t.rootName;}).filter(function(t){return t!=xc;});}},{key:'registerPostFixer',value:function registerPostFixer(t){this._postFixers.add(t);}},{key:'toJSON',value:function toJSON(){var t=si(this);return t.selection="[engine.model.DocumentSelection]",t.model="[engine.model.Model]",t;}},{key:'_getDefaultRoot',value:function _getDefaultRoot(){var _iteratorNormalCompletion238=true;var _didIteratorError238=false;var _iteratorError238=undefined;try{for(var _iterator238=this.roots[Symbol.iterator](),_step238;!(_iteratorNormalCompletion238=(_step238=_iterator238.next()).done);_iteratorNormalCompletion238=true){var t=_step238.value;if(t!==this.graveyard)return t;}}catch(err){_didIteratorError238=true;_iteratorError238=err;}finally{try{if(!_iteratorNormalCompletion238&&_iterator238.return){_iterator238.return();}}finally{if(_didIteratorError238){throw _iteratorError238;}}}return this.graveyard;}},{key:'_getDefaultRange',value:function _getDefaultRange(){var t=this._getDefaultRoot(),e=this.model,n=e.schema,i=e.createPositionFromPath(t,[0]);return n.getNearestSelectionRange(i)||e.createRange(i);}},{key:'_validateSelectionRange',value:function _validateSelectionRange(t){return Cc(t.start)&&Cc(t.end);}},{key:'_callPostFixers',value:function _callPostFixers(t){var e=!1;do{var _iteratorNormalCompletion239=true;var _didIteratorError239=false;var _iteratorError239=undefined;try{for(var _iterator239=this._postFixers[Symbol.iterator](),_step239;!(_iteratorNormalCompletion239=(_step239=_iterator239.next()).done);_iteratorNormalCompletion239=true){var n=_step239.value;if(e=n(t))break;}}catch(err){_didIteratorError239=true;_iteratorError239=err;}finally{try{if(!_iteratorNormalCompletion239&&_iterator239.return){_iterator239.return();}}finally{if(_didIteratorError239){throw _iteratorError239;}}}}while(e);}},{key:'graveyard',get:function get(){return this.getRoot(xc);}}]);return Ac;}();function Cc(t){var e=t.textNode;if(e){var n=e.data,i=t.offset-e.startOffset;return!vc(n,i)&&!yc(n,i);}return!0;}F(Ac,R);var Tc=function(){function Tc(){_classCallCheck(this,Tc);this._markers=new Map();}_createClass(Tc,[{key:Symbol.iterator,value:function value(){return this._markers.values();}},{key:'has',value:function has(t){return this._markers.has(t);}},{key:'get',value:function get(t){return this._markers.get(t)||null;}},{key:'_set',value:function _set(t,e){var n=arguments.length>2&&arguments[2]!==undefined?arguments[2]:!1;var i=arguments.length>3&&arguments[3]!==undefined?arguments[3]:!1;var o=t instanceof Pc?t.name:t,r=this._markers.get(o);if(r){var _t146=r.getRange();var _s16=!1;return _t146.isEqual(e)||(r._attachLiveRange(Xs.fromRange(e)),_s16=!0),n!=r.managedUsingOperations&&(r._managedUsingOperations=n,_s16=!0),"boolean"==typeof i&&i!=r.affectsData&&(r._affectsData=i,_s16=!0),_s16&&this.fire("update:"+o,r,_t146,e),r;}var s=Xs.fromRange(e),a=new Pc(o,s,n,i);return this._markers.set(o,a),this.fire("update:"+o,a,null,e),a;}},{key:'_remove',value:function _remove(t){var e=t instanceof Pc?t.name:t,n=this._markers.get(e);return!!n&&(this._markers.delete(e),this.fire("update:"+e,n,n.getRange(),null),this._destroyMarker(n),!0);}},{key:'getMarkersAtPosition',value:/*#__PURE__*/regeneratorRuntime.mark(function getMarkersAtPosition(t){var _iteratorNormalCompletion240,_didIteratorError240,_iteratorError240,_iterator240,_step240,e;return regeneratorRuntime.wrap(function getMarkersAtPosition$(_context31){while(1){switch(_context31.prev=_context31.next){case 0:_iteratorNormalCompletion240=true;_didIteratorError240=false;_iteratorError240=undefined;_context31.prev=3;_iterator240=this[Symbol.iterator]();case 5:if(_iteratorNormalCompletion240=(_step240=_iterator240.next()).done){_context31.next=14;break;}e=_step240.value;_context31.t0=e.getRange().containsPosition(t);if(!_context31.t0){_context31.next=11;break;}_context31.next=11;return e;case 11:_iteratorNormalCompletion240=true;_context31.next=5;break;case 14:_context31.next=20;break;case 16:_context31.prev=16;_context31.t1=_context31['catch'](3);_didIteratorError240=true;_iteratorError240=_context31.t1;case 20:_context31.prev=20;_context31.prev=21;if(!_iteratorNormalCompletion240&&_iterator240.return){_iterator240.return();}case 23:_context31.prev=23;if(!_didIteratorError240){_context31.next=26;break;}throw _iteratorError240;case 26:return _context31.finish(23);case 27:return _context31.finish(20);case 28:case'end':return _context31.stop();}}},getMarkersAtPosition,this,[[3,16,20,28],[21,,23,27]]);})},{key:'getMarkersIntersectingRange',value:/*#__PURE__*/regeneratorRuntime.mark(function getMarkersIntersectingRange(t){var _iteratorNormalCompletion241,_didIteratorError241,_iteratorError241,_iterator241,_step241,e;return regeneratorRuntime.wrap(function getMarkersIntersectingRange$(_context32){while(1){switch(_context32.prev=_context32.next){case 0:_iteratorNormalCompletion241=true;_didIteratorError241=false;_iteratorError241=undefined;_context32.prev=3;_iterator241=this[Symbol.iterator]();case 5:if(_iteratorNormalCompletion241=(_step241=_iterator241.next()).done){_context32.next=14;break;}e=_step241.value;_context32.t0=null!==e.getRange().getIntersection(t);if(!_context32.t0){_context32.next=11;break;}_context32.next=11;return e;case 11:_iteratorNormalCompletion241=true;_context32.next=5;break;case 14:_context32.next=20;break;case 16:_context32.prev=16;_context32.t1=_context32['catch'](3);_didIteratorError241=true;_iteratorError241=_context32.t1;case 20:_context32.prev=20;_context32.prev=21;if(!_iteratorNormalCompletion241&&_iterator241.return){_iterator241.return();}case 23:_context32.prev=23;if(!_didIteratorError241){_context32.next=26;break;}throw _iteratorError241;case 26:return _context32.finish(23);case 27:return _context32.finish(20);case 28:case'end':return _context32.stop();}}},getMarkersIntersectingRange,this,[[3,16,20,28],[21,,23,27]]);})},{key:'destroy',value:function destroy(){var _iteratorNormalCompletion242=true;var _didIteratorError242=false;var _iteratorError242=undefined;try{for(var _iterator242=this._markers.values()[Symbol.iterator](),_step242;!(_iteratorNormalCompletion242=(_step242=_iterator242.next()).done);_iteratorNormalCompletion242=true){var t=_step242.value;this._destroyMarker(t);}}catch(err){_didIteratorError242=true;_iteratorError242=err;}finally{try{if(!_iteratorNormalCompletion242&&_iterator242.return){_iterator242.return();}}finally{if(_didIteratorError242){throw _iteratorError242;}}}this._markers=null,this.stopListening();}},{key:'getMarkersGroup',value:/*#__PURE__*/regeneratorRuntime.mark(function getMarkersGroup(t){var _iteratorNormalCompletion243,_didIteratorError243,_iteratorError243,_iterator243,_step243,e;return regeneratorRuntime.wrap(function getMarkersGroup$(_context33){while(1){switch(_context33.prev=_context33.next){case 0:_iteratorNormalCompletion243=true;_didIteratorError243=false;_iteratorError243=undefined;_context33.prev=3;_iterator243=this._markers.values()[Symbol.iterator]();case 5:if(_iteratorNormalCompletion243=(_step243=_iterator243.next()).done){_context33.next=14;break;}e=_step243.value;_context33.t0=e.name.startsWith(t+":");if(!_context33.t0){_context33.next=11;break;}_context33.next=11;return e;case 11:_iteratorNormalCompletion243=true;_context33.next=5;break;case 14:_context33.next=20;break;case 16:_context33.prev=16;_context33.t1=_context33['catch'](3);_didIteratorError243=true;_iteratorError243=_context33.t1;case 20:_context33.prev=20;_context33.prev=21;if(!_iteratorNormalCompletion243&&_iterator243.return){_iterator243.return();}case 23:_context33.prev=23;if(!_didIteratorError243){_context33.next=26;break;}throw _iteratorError243;case 26:return _context33.finish(23);case 27:return _context33.finish(20);case 28:case'end':return _context33.stop();}}},getMarkersGroup,this,[[3,16,20,28],[21,,23,27]]);})},{key:'_destroyMarker',value:function _destroyMarker(t){t.stopListening(),t._detachLiveRange();}}]);return Tc;}();F(Tc,R);var Pc=function(){function Pc(t,e,n,i){_classCallCheck(this,Pc);this.name=t,this._liveRange=this._attachLiveRange(e),this._managedUsingOperations=n,this._affectsData=i;}_createClass(Pc,[{key:'getStart',value:function getStart(){if(!this._liveRange)throw new P.b("marker-destroyed: Cannot use a destroyed marker instance.");return this._liveRange.start.clone();}},{key:'getEnd',value:function getEnd(){if(!this._liveRange)throw new P.b("marker-destroyed: Cannot use a destroyed marker instance.");return this._liveRange.end.clone();}},{key:'getRange',value:function getRange(){if(!this._liveRange)throw new P.b("marker-destroyed: Cannot use a destroyed marker instance.");return this._liveRange.toRange();}},{key:'_attachLiveRange',value:function _attachLiveRange(t){return this._liveRange&&this._detachLiveRange(),t.delegate("change:range").to(this),t.delegate("change:content").to(this),this._liveRange=t,t;}},{key:'_detachLiveRange',value:function _detachLiveRange(){this._liveRange.stopDelegating("change:range",this),this._liveRange.stopDelegating("change:content",this),this._liveRange.detach(),this._liveRange=null;}},{key:'managedUsingOperations',get:function get(){if(!this._liveRange)throw new P.b("marker-destroyed: Cannot use a destroyed marker instance.");return this._managedUsingOperations;}},{key:'affectsData',get:function get(){if(!this._liveRange)throw new P.b("marker-destroyed: Cannot use a destroyed marker instance.");return this._affectsData;}}]);return Pc;}();F(Pc,R);var Mc=function(_Hs){_inherits(Mc,_Hs);function Mc(t,e){var _this67;var n=arguments.length>2&&arguments[2]!==undefined?arguments[2]:"toNone";_classCallCheck(this,Mc);if((_this67=_possibleConstructorReturn(this,(Mc.__proto__||Object.getPrototypeOf(Mc)).call(this,t,e,n)),_this67),!_this67.root.is("rootElement"))throw new P.b("model-liveposition-root-not-rootelement: LivePosition's root has to be an instance of RootElement.");(function(){var _this68=this;this.listenTo(this.root.document.model,"applyOperation",function(t,e){var n=e[0];n.isDocumentOperation&&function(t){var e=this.getTransformedByOperation(t);if(!this.isEqual(e)){var _t147=this.toPosition();this.path=e.path,this.root=e.root,this.fire("change",_t147);}}.call(_this68,n);},{priority:"low"});}).call(_this67);return _possibleConstructorReturn(_this67);}_createClass(Mc,[{key:'detach',value:function detach(){this.stopListening();}},{key:'toPosition',value:function toPosition(){return new Hs(this.root,this.path.slice(),this.stickiness);}}],[{key:'fromPosition',value:function fromPosition(t,e){return new this(t.root,t.path.slice(),e||t.stickiness);}}]);return Mc;}(Hs);F(Mc,R);var Sc=function(){function Sc(t,e,n){_classCallCheck(this,Sc);this.model=t,this.writer=e,this.position=n,this.canMergeWith=new Set([this.position.parent]),this.schema=t.schema,this._filterAttributesOf=[];}_createClass(Sc,[{key:'handleNodes',value:function handleNodes(t,e){t=Array.from(t);for(var n=0;n<t.length;n++){var i=t[n];this._handleNode(i,{isFirst:0===n&&e.isFirst,isLast:n===t.length-1&&e.isLast});}this.schema.removeDisallowedAttributes(this._filterAttributesOf,this.writer),this._filterAttributesOf=[];}},{key:'getSelectionRange',value:function getSelectionRange(){return this.nodeToSelect?qs._createOn(this.nodeToSelect):this.model.schema.getNearestSelectionRange(this.position);}},{key:'_handleNode',value:function _handleNode(t,e){if(this.schema.isObject(t))return void this._handleObject(t,e);this._checkAndSplitToAllowedPosition(t,e)?(this._insert(t),this._mergeSiblingsOf(t,e)):this._handleDisallowedNode(t,e);}},{key:'_handleObject',value:function _handleObject(t,e){this._checkAndSplitToAllowedPosition(t)?this._insert(t):this._tryAutoparagraphing(t,e);}},{key:'_handleDisallowedNode',value:function _handleDisallowedNode(t,e){t.is("element")?this.handleNodes(t.getChildren(),e):this._tryAutoparagraphing(t,e);}},{key:'_insert',value:function _insert(t){if(!this.schema.checkChild(this.position,t))return void fs.a.error("insertcontent-wrong-position: The node cannot be inserted on the given position.",{node:t,position:this.position});var e=Mc.fromPosition(this.position,"toNext");this.writer.insert(t,this.position),this.position=e.toPosition(),e.detach(),this.schema.isObject(t)&&!this.schema.checkChild(this.position,"$text")?this.nodeToSelect=t:this.nodeToSelect=null,this._filterAttributesOf.push(t);}},{key:'_mergeSiblingsOf',value:function _mergeSiblingsOf(t,e){if(!(t instanceof zs))return;var n=this._canMergeLeft(t,e),i=this._canMergeRight(t,e),o=Mc._createBefore(t);o.stickiness="toNext";var r=Mc._createAfter(t);if(r.stickiness="toNext",n){var _t148=Mc.fromPosition(this.position);_t148.stickiness="toNext",this.writer.merge(o),this.position=_t148.toPosition(),_t148.detach();}if(i){this.position.isEqual(r)||fs.a.error("insertcontent-wrong-position-on-merge: The insertion position should equal the merge position"),this.position=Hs._createAt(r.nodeBefore,"end");var _t149=new Mc(this.position.root,this.position.path,"toPrevious");this.writer.merge(r),this.position=_t149.toPosition(),_t149.detach();}(n||i)&&this._filterAttributesOf.push(this.position.parent),o.detach(),r.detach();}},{key:'_canMergeLeft',value:function _canMergeLeft(t,e){var n=t.previousSibling;return e.isFirst&&n instanceof zs&&this.canMergeWith.has(n)&&this.model.schema.checkMerge(n,t);}},{key:'_canMergeRight',value:function _canMergeRight(t,e){var n=t.nextSibling;return e.isLast&&n instanceof zs&&this.canMergeWith.has(n)&&this.model.schema.checkMerge(t,n);}},{key:'_tryAutoparagraphing',value:function _tryAutoparagraphing(t,e){var n=this.writer.createElement("paragraph");this._getAllowedIn(n,this.position.parent)&&this.schema.checkChild(n,t)&&(n._appendChild(t),this._handleNode(n,e));}},{key:'_checkAndSplitToAllowedPosition',value:function _checkAndSplitToAllowedPosition(t){var e=this._getAllowedIn(t,this.position.parent);if(!e)return!1;for(;e!=this.position.parent;){if(this.schema.isLimit(this.position.parent))return!1;if(this.position.isAtStart){var _t150=this.position.parent;this.position=this.writer.createPositionBefore(_t150),_t150.isEmpty&&this.writer.remove(_t150);}else if(this.position.isAtEnd)this.position=this.writer.createPositionAfter(this.position.parent);else{var _t151=this.writer.createPositionAfter(this.position.parent);this.writer.split(this.position),this.position=_t151,this.canMergeWith.add(this.position.nodeAfter);}}return!0;}},{key:'_getAllowedIn',value:function _getAllowedIn(t,e){return this.schema.checkChild(e,t)?e:e.parent?this._getAllowedIn(t,e.parent):null;}}]);return Sc;}();function Ic(t,e){var n=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{};if(e.isCollapsed)return;var i=t.schema;t.change(function(t){if(!n.doNotResetEntireContent&&function(t,e){var n=t.getLimitElement(e);if(!e.containsEntireContent(n))return!1;var i=e.getFirstRange();if(i.start.parent==i.end.parent)return!1;return t.checkChild(n,"paragraph");}(i,e))return void function(t,e){var n=t.model.schema.getLimitElement(e);t.remove(t.createRangeIn(n)),Ec(t,t.createPositionAt(n,0),e);}(t,e);var o=e.getFirstRange(),r=o.start,s=Mc.fromPosition(o.end,"toNext");o.start.isTouching(o.end)||t.remove(o),n.leaveUnmerged||(!function t(e,n,i){var o=n.parent;var r=i.parent;if(o==r)return;if(e.model.schema.isLimit(o)||e.model.schema.isLimit(r))return;if(!function(t,e,n){var i=new qs(t,e);var _iteratorNormalCompletion244=true;var _didIteratorError244=false;var _iteratorError244=undefined;try{for(var _iterator244=i.getWalker()[Symbol.iterator](),_step244;!(_iteratorNormalCompletion244=(_step244=_iterator244.next()).done);_iteratorNormalCompletion244=true){var _t152=_step244.value;if(n.isLimit(_t152.item))return!1;}}catch(err){_didIteratorError244=true;_iteratorError244=err;}finally{try{if(!_iteratorNormalCompletion244&&_iterator244.return){_iterator244.return();}}finally{if(_didIteratorError244){throw _iteratorError244;}}}return!0;}(n,i,e.model.schema))return;n=e.createPositionAfter(o);i=e.createPositionBefore(r);i.isEqual(n)||e.insert(r,n);e.merge(n);for(;i.parent.isEmpty;){var _t153=i.parent;i=e.createPositionBefore(_t153),e.remove(_t153);}t(e,n,i);}(t,r,s),i.removeDisallowedAttributes(r.parent.getChildren(),t)),e instanceof ea?t.setSelection(r):e.setTo(r),function(t,e){var n=t.checkChild(e,"$text"),i=t.checkChild(e,"paragraph");return!n&&i;}(i,r)&&Ec(t,r,e),s.detach();});}function Ec(t,e,n){var i=t.createElement("paragraph");t.insert(i,e),n instanceof ea?t.setSelection(i,0):n.setTo(i,0);}var Nc=' ,.?!:;"-()';function Oc(t,e){var n=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{};var i=t.schema,o="backward"!=n.direction,r=n.unit?n.unit:"character",s=e.focus,a=new Bs({boundaries:function(t,e){var n=t.root,i=Hs._createAt(n,e?"end":0);return e?new qs(t,i):new qs(i,t);}(s,o),singleCharacters:!0,direction:o?"forward":"backward"}),c={walker:a,schema:i,isForward:o,unit:r};var l=void 0;var _loop3=function _loop3(){if(l.done)return{v:void 0};var n=Rc(c,l.value);if(n)return{v:void(e instanceof ea?t.change(function(t){t.setSelectionFocus(n);}):e.setFocus(n))};};for(;l=a.next();){var _ret3=_loop3();if((typeof _ret3==='undefined'?'undefined':_typeof(_ret3))==="object")return _ret3.v;}}function Rc(t,e){if("text"==e.type)return"word"===t.unit?function(t,e){var n=t.position.textNode;if(n){var i=t.position.offset-n.startOffset;for(;!Dc(n.data,i,e)&&!Lc(n,i,e);){t.next();var _o47=e?t.position.nodeAfter:t.position.nodeBefore;if(_o47&&_o47.is("text")){var _i23=_o47.data.charAt(e?0:_o47.data.length-1);Nc.includes(_i23)||(t.next(),n=t.position.textNode);}i=t.position.offset-n.startOffset;}}return t.position;}(t.walker,t.isForward):function(t,e){var n=t.position.textNode;if(n){var i=n.data;var _o48=t.position.offset-n.startOffset;for(;vc(i,_o48)||"character"==e&&yc(i,_o48);){t.next(),_o48=t.position.offset-n.startOffset;}}return t.position;}(t.walker,t.unit,t.isForward);if(e.type==(t.isForward?"elementStart":"elementEnd")){if(t.schema.isObject(e.item))return Hs._createAt(e.item,t.isForward?"after":"before");if(t.schema.checkChild(e.nextPosition,"$text"))return e.nextPosition;}else{if(t.schema.isLimit(e.item))return void t.walker.skip(function(){return!0;});if(t.schema.checkChild(e.nextPosition,"$text"))return e.nextPosition;}}function Dc(t,e,n){var i=e+(n?0:-1);return Nc.includes(t.charAt(i));}function Lc(t,e,n){return e===(n?t.endOffset:0);}function jc(t,e){var n=[];Array.from(t.getItems({direction:"backward"})).map(function(t){return e.createRangeOn(t);}).filter(function(e){return(e.start.isAfter(t.start)||e.start.isEqual(t.start))&&(e.end.isBefore(t.end)||e.end.isEqual(t.end));}).forEach(function(t){n.push(t.start.parent),e.remove(t);}),n.forEach(function(t){var n=t;for(;n.parent&&n.isEmpty;){var _t154=e.createRangeOn(n);n=n.parent,e.remove(_t154);}});}function Vc(t){t.document.registerPostFixer(function(e){return function(t,e){var n=e.document.selection,i=e.schema,o=[];var r=!1;var _iteratorNormalCompletion245=true;var _didIteratorError245=false;var _iteratorError245=undefined;try{for(var _iterator245=n.getRanges()[Symbol.iterator](),_step245;!(_iteratorNormalCompletion245=(_step245=_iterator245.next()).done);_iteratorNormalCompletion245=true){var _t155=_step245.value;var _e112=zc(_t155,i);_e112?(o.push(_e112),r=!0):o.push(_t155);}}catch(err){_didIteratorError245=true;_iteratorError245=err;}finally{try{if(!_iteratorNormalCompletion245&&_iterator245.return){_iterator245.return();}}finally{if(_didIteratorError245){throw _iteratorError245;}}}if(r){var _e113=o;if(o.length>1){var _t156=o[0].start,_n87=o[o.length-1].end;_e113=[new qs(_t156,_n87)];}t.setSelection(_e113,{backward:n.isBackward});}}(e,t);});}function zc(t,e){return t.isCollapsed?function(t,e){var n=t.start,i=e.getNearestSelectionRange(n);if(!i)return null;var o=i.start;if(n.isEqual(o))return null;if(o.nodeAfter&&e.isLimit(o.nodeAfter))return new qs(o,Hs._createAfter(o.nodeAfter));return new qs(o);}(t,e):function(t,e){var n=t.start,i=t.end,o=e.checkChild(n,"$text"),r=e.checkChild(i,"$text"),s=e.getLimitElement(n),a=e.getLimitElement(i);if(s===a){if(o&&r)return null;if(function(t,e,n){var i=t.nodeAfter&&!n.isLimit(t.nodeAfter)||n.checkChild(t,"$text"),o=e.nodeBefore&&!n.isLimit(e.nodeBefore)||n.checkChild(e,"$text");return i&&o;}(n,i,e)){var _t157=e.getNearestSelectionRange(n,"forward"),_o49=e.getNearestSelectionRange(i,"backward");return new qs(_t157?_t157.start:n,_o49?_o49.start:i);}}var c=s&&!s.is("rootElement"),l=a&&!a.is("rootElement");if(c||l){var _t158=Hs._createAt(s,0),_o50=Hs._createAt(a,0),_r19=c?Bc(_t158,e,"start"):n,_d2=l?Bc(_o50,e,"end"):i;return new qs(_r19,_d2);}return null;}(t,e);}function Bc(t,e,n){var i=t.parent,o=i;for(;e.isLimit(o)&&o.parent;){i=o,o=o.parent;}return"start"===n?Hs._createBefore(i):Hs._createAfter(i);}var Fc=function(){function Fc(){var _this69=this;_classCallCheck(this,Fc);this.markers=new Tc(),this.document=new Ac(this),this.schema=new ka(),this._pendingChanges=[],this._currentWriter=null,["insertContent","deleteContent","modifySelection","getSelectedContent","applyOperation"].forEach(function(t){return _this69.decorate(t);}),this.on("applyOperation",function(t,e){e[0]._validate();},{priority:"highest"}),this.schema.register("$root",{isLimit:!0}),this.schema.register("$block",{allowIn:"$root",isBlock:!0}),this.schema.register("$text",{allowIn:"$block"}),this.schema.register("$clipboardHolder",{allowContentOf:"$root",isLimit:!0}),this.schema.extend("$text",{allowIn:"$clipboardHolder"}),this.schema.register("$marker",{allowIn:["$root","$block"]}),Vc(this);}_createClass(Fc,[{key:'change',value:function change(t){return 0===this._pendingChanges.length?(this._pendingChanges.push({batch:new Ha(),callback:t}),this._runPendingChanges()[0]):t(this._currentWriter);}},{key:'enqueueChange',value:function enqueueChange(t,e){"string"==typeof t?t=new Ha(t):"function"==typeof t&&(e=t,t=new Ha()),this._pendingChanges.push({batch:t,callback:e}),1==this._pendingChanges.length&&this._runPendingChanges();}},{key:'applyOperation',value:function applyOperation(t){t._execute();}},{key:'insertContent',value:function insertContent(t,e,n){!function(t,e,n,i){t.change(function(o){var r=void 0;(r=n?n instanceof Js||n instanceof ea?n:o.createSelection(n,i):t.document.selection).isCollapsed||t.deleteContent(r);var s=new Sc(t,o,r.anchor);var a=void 0;a=e.is("documentFragment")?e.getChildren():[e],s.handleNodes(a,{isFirst:!0,isLast:!0});var c=s.getSelectionRange();c?r instanceof ea?o.setSelection(c):r.setTo(c):fs.a.warn("insertcontent-no-range: Cannot determine a proper selection range after insertion.");});}(this,t,e,n);}},{key:'deleteContent',value:function deleteContent(t,e){Ic(this,t,e);}},{key:'modifySelection',value:function modifySelection(t,e){Oc(this,t,e);}},{key:'getSelectedContent',value:function getSelectedContent(t){return function(t,e){return t.change(function(t){var n=t.createDocumentFragment(),i=e.getFirstRange();if(!i||i.isCollapsed)return n;var o=i.start.root,r=i.start.getCommonPath(i.end),s=o.getNodeByPath(r);var a=void 0;var c=(a=i.start.parent==i.end.parent?i:t.createRange(t.createPositionAt(s,i.start.path[r.length]),t.createPositionAt(s,i.end.path[r.length]+1))).end.offset-a.start.offset;var _iteratorNormalCompletion246=true;var _didIteratorError246=false;var _iteratorError246=undefined;try{for(var _iterator246=a.getItems({shallow:!0})[Symbol.iterator](),_step246;!(_iteratorNormalCompletion246=(_step246=_iterator246.next()).done);_iteratorNormalCompletion246=true){var _e114=_step246.value;_e114.is("textProxy")?t.appendText(_e114.data,_e114.getAttributes(),n):t.append(_e114._clone(!0),n);}}catch(err){_didIteratorError246=true;_iteratorError246=err;}finally{try{if(!_iteratorNormalCompletion246&&_iterator246.return){_iterator246.return();}}finally{if(_didIteratorError246){throw _iteratorError246;}}}if(a!=i){var _e115=i._getTransformedByMove(a.start,t.createPositionAt(n,0),c)[0],_o51=t.createRange(t.createPositionAt(n,0),_e115.start);jc(t.createRange(_e115.end,t.createPositionAt(n,"end")),t),jc(_o51,t);}return n;});}(this,t);}},{key:'hasContent',value:function hasContent(t){if(t instanceof zs&&(t=qs._createIn(t)),t.isCollapsed)return!1;var _iteratorNormalCompletion247=true;var _didIteratorError247=false;var _iteratorError247=undefined;try{for(var _iterator247=t.getItems()[Symbol.iterator](),_step247;!(_iteratorNormalCompletion247=(_step247=_iterator247.next()).done);_iteratorNormalCompletion247=true){var e=_step247.value;if(e.is("textProxy")||this.schema.isObject(e))return!0;}}catch(err){_didIteratorError247=true;_iteratorError247=err;}finally{try{if(!_iteratorNormalCompletion247&&_iterator247.return){_iterator247.return();}}finally{if(_didIteratorError247){throw _iteratorError247;}}}return!1;}},{key:'createPositionFromPath',value:function createPositionFromPath(t,e,n){return new Hs(t,e,n);}},{key:'createPositionAt',value:function createPositionAt(t,e){return Hs._createAt(t,e);}},{key:'createPositionAfter',value:function createPositionAfter(t){return Hs._createAfter(t);}},{key:'createPositionBefore',value:function createPositionBefore(t){return Hs._createBefore(t);}},{key:'createRange',value:function createRange(t,e){return new qs(t,e);}},{key:'createRangeIn',value:function createRangeIn(t){return qs._createIn(t);}},{key:'createRangeOn',value:function createRangeOn(t){return qs._createOn(t);}},{key:'createSelection',value:function createSelection(t,e,n){return new Js(t,e,n);}},{key:'createBatch',value:function createBatch(){return new Ha();}},{key:'destroy',value:function destroy(){this.document.destroy(),this.stopListening();}},{key:'_runPendingChanges',value:function _runPendingChanges(){var t=[];for(this.fire("_beforeChanges");this._pendingChanges.length;){var e=this._pendingChanges[0].batch;this._currentWriter=new dc(this,e);var n=this._pendingChanges[0].callback(this._currentWriter);t.push(n),this.fire("_change",this._currentWriter),this._pendingChanges.shift(),this._currentWriter=null;}return this.fire("_afterChanges"),t;}}]);return Fc;}();F(Fc,Li);var Uc=function(){function Uc(){_classCallCheck(this,Uc);this._listener=Object.create(rr);}_createClass(Uc,[{key:'listenTo',value:function listenTo(t){var _this70=this;this._listener.listenTo(t,"keydown",function(t,e){_this70._listener.fire("_keydown:"+fo(e),e);});}},{key:'set',value:function set(t,e){var n=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{};var i=mo(t),o=n.priority;this._listener.listenTo(this._listener,"_keydown:"+i,function(t,n){e(n,function(){n.preventDefault(),n.stopPropagation(),t.stop();}),t.return=!0;},{priority:o});}},{key:'press',value:function press(t){return!!this._listener.fire("_keydown:"+fo(t),t);}},{key:'destroy',value:function destroy(){this._listener.stopListening();}}]);return Uc;}();var Hc=function(_Uc){_inherits(Hc,_Uc);function Hc(t){var _this71;_classCallCheck(this,Hc);(_this71=_possibleConstructorReturn(this,(Hc.__proto__||Object.getPrototypeOf(Hc)).call(this)),_this71),_this71.editor=t;return _this71;}_createClass(Hc,[{key:'set',value:function set(t,e){var _this72=this;var n=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{};if("string"==typeof e){var _t159=e;e=function e(_e116,n){_this72.editor.execute(_t159),n();};}_get(Hc.prototype.__proto__||Object.getPrototypeOf(Hc.prototype),'set',this).call(this,t,e,n);}}]);return Hc;}(Uc);n(42);var qc=function(){function qc(t){var _this73=this;_classCallCheck(this,qc);var e=this.constructor.builtinPlugins;this.config=new T(t,this.constructor.defaultConfig),this.config.define("plugins",e),this.plugins=new ma(this,e),this.commands=new pa(),this.locale=new ba(this.config.get("language")),this.t=this.locale.t,this.set("state","initializing"),this.once("ready",function(){return _this73.state="ready";},{priority:"high"}),this.once("destroy",function(){return _this73.state="destroyed";},{priority:"high"}),this.set("isReadOnly",!1),this.model=new Fc(),this.data=new za(this.model),this.editing=new fa(this.model),this.editing.view.document.bind("isReadOnly").to(this),this.conversion=new Ba(),this.conversion.register("downcast",[this.editing.downcastDispatcher,this.data.downcastDispatcher]),this.conversion.register("editingDowncast",[this.editing.downcastDispatcher]),this.conversion.register("dataDowncast",[this.data.downcastDispatcher]),this.conversion.register("upcast",[this.data.upcastDispatcher]),this.keystrokes=new Hc(this),this.keystrokes.listenTo(this.editing.view.document);}_createClass(qc,[{key:'initPlugins',value:function initPlugins(){var _this74=this;var t=this,e=this.config;return function(){var n=e.get("plugins")||[],i=e.get("removePlugins")||[],o=e.get("extraPlugins")||[];return t.plugins.load(n.concat(o),i);}().then(function(t){return n(t,"init").then(function(){return n(t,"afterInit");});}).then(function(){return _this74.fire("pluginsReady");});function n(t,e){return t.reduce(function(t,n){return n[e]?t.then(n[e].bind(n)):t;},Promise.resolve());}}},{key:'destroy',value:function destroy(){var _this75=this;var t=Promise.resolve();return"initializing"==this.state&&(t=new Promise(function(t){return _this75.once("ready",t);})),t.then(function(){_this75.fire("destroy"),_this75.stopListening(),_this75.commands.destroy();}).then(function(){return _this75.plugins.destroy();}).then(function(){_this75.model.destroy(),_this75.data.destroy(),_this75.editing.destroy(),_this75.keystrokes.destroy();});}},{key:'execute',value:function execute(){var _commands;(_commands=this.commands).execute.apply(_commands,arguments);}}],[{key:'create',value:function create(t){var _this76=this;return new Promise(function(e){var n=new _this76(t);e(n.initPlugins().then(function(){n.fire("dataReady"),n.fire("ready");}).then(function(){return n;}));});}}]);return qc;}();F(qc,Li);var Wc={setData:function setData(t){this.data.set(t);},getData:function getData(){return this.data.get();}};var Yc={updateSourceElement:function updateSourceElement(){if(!this.sourceElement)throw new P.b("editor-missing-sourceelement: Cannot update the source element of a detached editor.");!function(t,e){t instanceof HTMLTextAreaElement&&(t.value=e),t.innerHTML=e;}(this.sourceElement,this.data.get());}};var $c=function(){function $c(){_classCallCheck(this,$c);}_createClass($c,[{key:'getHtml',value:function getHtml(t){var e=document.implementation.createHTMLDocument("").createElement("div");return e.appendChild(t),e.innerHTML;}}]);return $c;}();var Gc=function(){function Gc(){_classCallCheck(this,Gc);this._domParser=new DOMParser(),this._domConverter=new er({blockFiller:No}),this._htmlWriter=new $c();}_createClass(Gc,[{key:'toData',value:function toData(t){var e=this._domConverter.viewToDom(t,document);return this._htmlWriter.getHtml(e);}},{key:'toView',value:function toView(t){var e=this._toDom(t);return this._domConverter.domToView(e);}},{key:'_toDom',value:function _toDom(t){var e=this._domParser.parseFromString(t,"text/html"),n=e.createDocumentFragment(),i=e.body.childNodes;for(;i.length>0;){n.appendChild(i[0]);}return n;}}]);return Gc;}();var Qc=function(){function Qc(t){_classCallCheck(this,Qc);this.editor=t,this._components=new Map();}_createClass(Qc,[{key:'names',value:/*#__PURE__*/regeneratorRuntime.mark(function names(){var _iteratorNormalCompletion248,_didIteratorError248,_iteratorError248,_iterator248,_step248,t;return regeneratorRuntime.wrap(function names$(_context34){while(1){switch(_context34.prev=_context34.next){case 0:_iteratorNormalCompletion248=true;_didIteratorError248=false;_iteratorError248=undefined;_context34.prev=3;_iterator248=this._components.values()[Symbol.iterator]();case 5:if(_iteratorNormalCompletion248=(_step248=_iterator248.next()).done){_context34.next=12;break;}t=_step248.value;_context34.next=9;return t.originalName;case 9:_iteratorNormalCompletion248=true;_context34.next=5;break;case 12:_context34.next=18;break;case 14:_context34.prev=14;_context34.t0=_context34['catch'](3);_didIteratorError248=true;_iteratorError248=_context34.t0;case 18:_context34.prev=18;_context34.prev=19;if(!_iteratorNormalCompletion248&&_iterator248.return){_iterator248.return();}case 21:_context34.prev=21;if(!_didIteratorError248){_context34.next=24;break;}throw _iteratorError248;case 24:return _context34.finish(21);case 25:return _context34.finish(18);case 26:case'end':return _context34.stop();}}},names,this,[[3,14,18,26],[19,,21,25]]);})},{key:'add',value:function add(t,e){if(this.has(t))throw new P.b("componentfactory-item-exists: The item already exists in the component factory.",{name:t});this._components.set(Jc(t),{callback:e,originalName:t});}},{key:'create',value:function create(t){if(!this.has(t))throw new P.b("componentfactory-item-missing: The required component is not registered in the factory.",{name:t});return this._components.get(Jc(t)).callback(this.editor.locale);}},{key:'has',value:function has(t){return this._components.has(Jc(t));}}]);return Qc;}();function Jc(t){return String(t).toLowerCase();}var Kc=function(){function Kc(){_classCallCheck(this,Kc);this.set("isFocused",!1),this.focusedElement=null,this._elements=new Set(),this._nextEventLoopTimeout=null;}_createClass(Kc,[{key:'add',value:function add(t){var _this77=this;if(this._elements.has(t))throw new P.b("focusTracker-add-element-already-exist");this.listenTo(t,"focus",function(){return _this77._focus(t);},{useCapture:!0}),this.listenTo(t,"blur",function(){return _this77._blur();},{useCapture:!0}),this._elements.add(t);}},{key:'remove',value:function remove(t){t===this.focusedElement&&this._blur(t),this._elements.has(t)&&(this.stopListening(t),this._elements.delete(t));}},{key:'_focus',value:function _focus(t){clearTimeout(this._nextEventLoopTimeout),this.focusedElement=t,this.isFocused=!0;}},{key:'_blur',value:function _blur(){var _this78=this;clearTimeout(this._nextEventLoopTimeout),this._nextEventLoopTimeout=setTimeout(function(){_this78.focusedElement=null,_this78.isFocused=!1;},0);}}]);return Kc;}();F(Kc,rr),F(Kc,Li);var Zc=function(){function Zc(t,e){var _this79=this;_classCallCheck(this,Zc);this.editor=t,this.view=e,this.componentFactory=new Qc(t),this.focusTracker=new Kc(),this.listenTo(t.editing.view.document,"layoutChanged",function(){return _this79.update();});}_createClass(Zc,[{key:'update',value:function update(){this.fire("update");}},{key:'destroy',value:function destroy(){this.stopListening(),this.view.destroy();}}]);return Zc;}();F(Zc,R);var Xc=function(_Zc){_inherits(Xc,_Zc);function Xc(t,e){var _this80;_classCallCheck(this,Xc);(_this80=_possibleConstructorReturn(this,(Xc.__proto__||Object.getPrototypeOf(Xc)).call(this,t,e)),_this80),_this80._toolbarConfig=function(t){return Array.isArray(t)?{items:t}:t?Object.assign({items:[]},t):{items:[]};}(t.config.get("toolbar"));return _this80;}_createClass(Xc,[{key:'init',value:function init(){var t=this.editor,e=this.view;e.render(),e.stickyPanel.bind("isActive").to(this.focusTracker,"isFocused"),e.stickyPanel.limiterElement=e.element,this._toolbarConfig.viewportTopOffset&&(e.stickyPanel.viewportTopOffset=this._toolbarConfig.viewportTopOffset);var n=t.editing.view.document.getRoot();e.editable.bind("isReadOnly").to(n),e.editable.bind("isFocused").to(t.editing.view.document),e.editable.name=n.rootName,this.focusTracker.add(this.view.editableElement),this.view.toolbar.fillFromConfig(this._toolbarConfig.items,this.componentFactory),function(_ref51){var t=_ref51.origin,e=_ref51.originKeystrokeHandler,n=_ref51.originFocusTracker,i=_ref51.toolbar,o=_ref51.beforeFocus,r=_ref51.afterBlur;n.add(i.element),e.set("Alt+F10",function(t,e){n.isFocused&&!i.focusTracker.isFocused&&(o&&o(),i.focus(),e());}),i.keystrokes.set("Esc",function(e,n){i.focusTracker.isFocused&&(t.focus(),r&&r(),n());});}({origin:t.editing.view,originFocusTracker:this.focusTracker,originKeystrokeHandler:t.keystrokes,toolbar:this.view.toolbar});}}]);return Xc;}(Zc);var tl=function(_Xi){_inherits(tl,_Xi);function tl(t){var _this81;_classCallCheck(this,tl);(_this81=_possibleConstructorReturn(this,(tl.__proto__||Object.getPrototypeOf(tl)).call(this,{idProperty:"viewUid"})),_this81),_this81.on("add",function(t,e,n){e.isRendered||e.render(),e.element&&_this81._parentElement&&_this81._parentElement.insertBefore(e.element,_this81._parentElement.children[n]);}),_this81.on("remove",function(t,e){e.element&&_this81._parentElement&&e.element.remove();}),_this81.locale=t,_this81._parentElement=null;return _this81;}_createClass(tl,[{key:'destroy',value:function destroy(){this.map(function(t){return t.destroy();});}},{key:'setParent',value:function setParent(t){this._parentElement=t;}},{key:'delegate',value:function delegate(){var _this82=this;for(var _len18=arguments.length,t=Array(_len18),_key18=0;_key18<_len18;_key18++){t[_key18]=arguments[_key18];}if(!t.length||!function(t){return t.every(function(t){return"string"==typeof t;});}(t))throw new P.b("ui-viewcollection-delegate-wrong-events: All event names must be strings.");return{to:function to(e){var _iteratorNormalCompletion249=true;var _didIteratorError249=false;var _iteratorError249=undefined;try{for(var _iterator249=_this82[Symbol.iterator](),_step249;!(_iteratorNormalCompletion249=(_step249=_iterator249.next()).done);_iteratorNormalCompletion249=true){var n=_step249.value;var _iteratorNormalCompletion252=true;var _didIteratorError252=false;var _iteratorError252=undefined;try{for(var _iterator252=t[Symbol.iterator](),_step252;!(_iteratorNormalCompletion252=(_step252=_iterator252.next()).done);_iteratorNormalCompletion252=true){var i=_step252.value;n.delegate(i).to(e);}}catch(err){_didIteratorError252=true;_iteratorError252=err;}finally{try{if(!_iteratorNormalCompletion252&&_iterator252.return){_iterator252.return();}}finally{if(_didIteratorError252){throw _iteratorError252;}}}}}catch(err){_didIteratorError249=true;_iteratorError249=err;}finally{try{if(!_iteratorNormalCompletion249&&_iterator249.return){_iterator249.return();}}finally{if(_didIteratorError249){throw _iteratorError249;}}}_this82.on("add",function(n,i){var _iteratorNormalCompletion250=true;var _didIteratorError250=false;var _iteratorError250=undefined;try{for(var _iterator250=t[Symbol.iterator](),_step250;!(_iteratorNormalCompletion250=(_step250=_iterator250.next()).done);_iteratorNormalCompletion250=true){var _n88=_step250.value;i.delegate(_n88).to(e);}}catch(err){_didIteratorError250=true;_iteratorError250=err;}finally{try{if(!_iteratorNormalCompletion250&&_iterator250.return){_iterator250.return();}}finally{if(_didIteratorError250){throw _iteratorError250;}}}}),_this82.on("remove",function(n,i){var _iteratorNormalCompletion251=true;var _didIteratorError251=false;var _iteratorError251=undefined;try{for(var _iterator251=t[Symbol.iterator](),_step251;!(_iteratorNormalCompletion251=(_step251=_iterator251.next()).done);_iteratorNormalCompletion251=true){var _n89=_step251.value;i.stopDelegating(_n89,e);}}catch(err){_didIteratorError251=true;_iteratorError251=err;}finally{try{if(!_iteratorNormalCompletion251&&_iterator251.return){_iterator251.return();}}finally{if(_didIteratorError251){throw _iteratorError251;}}}});}};}}]);return tl;}(Xi);F(Xi,Li);var el=1,nl=4;var il=function il(t,e){return oi(t,el|nl,e="function"==typeof e?e:void 0);};var ol="http://www.w3.org/1999/xhtml";var rl=function(){function rl(t){_classCallCheck(this,rl);Object.assign(this,ml(fl(t))),this._isRendered=!1,this._revertData=null;}_createClass(rl,[{key:'render',value:function render(){var t=this._renderNode({intoFragment:!0});return this._isRendered=!0,t;}},{key:'apply',value:function apply(t){return this._revertData={children:[],bindings:[],attributes:{}},this._renderNode({node:t,isApplying:!0,revertData:this._revertData}),t;}},{key:'revert',value:function revert(t){if(!this._revertData)throw new P.b("ui-template-revert-not-applied: Attempting to revert a template which has not been applied yet.");this._revertTemplateFromNode(t,this._revertData);}},{key:'getViews',value:/*#__PURE__*/regeneratorRuntime.mark(function getViews(){return regeneratorRuntime.wrap(function getViews$(_context36){while(1){switch(_context36.prev=_context36.next){case 0:return _context36.delegateYield(/*#__PURE__*/regeneratorRuntime.mark(function t(e){var _iteratorNormalCompletion253,_didIteratorError253,_iteratorError253,_iterator253,_step253,n;return regeneratorRuntime.wrap(function t$(_context35){while(1){switch(_context35.prev=_context35.next){case 0:if(!e.children){_context35.next=33;break;}_iteratorNormalCompletion253=true;_didIteratorError253=false;_iteratorError253=undefined;_context35.prev=4;_iterator253=e.children[Symbol.iterator]();case 6:if(_iteratorNormalCompletion253=(_step253=_iterator253.next()).done){_context35.next=19;break;}n=_step253.value;if(!_l(n)){_context35.next=13;break;}_context35.next=11;return n;case 11:_context35.next=16;break;case 13:_context35.t0=kl(n);if(!_context35.t0){_context35.next=16;break;}return _context35.delegateYield(t(n),'t1',16);case 16:_iteratorNormalCompletion253=true;_context35.next=6;break;case 19:_context35.next=25;break;case 21:_context35.prev=21;_context35.t2=_context35['catch'](4);_didIteratorError253=true;_iteratorError253=_context35.t2;case 25:_context35.prev=25;_context35.prev=26;if(!_iteratorNormalCompletion253&&_iterator253.return){_iterator253.return();}case 28:_context35.prev=28;if(!_didIteratorError253){_context35.next=31;break;}throw _iteratorError253;case 31:return _context35.finish(28);case 32:return _context35.finish(25);case 33:case'end':return _context35.stop();}}},t,this,[[4,21,25,33],[26,,28,32]]);})(this),'t0',1);case 1:case'end':return _context36.stop();}}},getViews,this);})},{key:'_renderNode',value:function _renderNode(t){var e=void 0;if(e=t.node?this.tag&&this.text:this.tag?this.text:!this.text)throw new P.b('ui-template-wrong-syntax: Node definition must have either "tag" or "text" when rendering a new Node.');return this.text?this._renderText(t):this._renderElement(t);}},{key:'_renderElement',value:function _renderElement(t){var e=t.node;return e||(e=t.node=document.createElementNS(this.ns||ol,this.tag)),this._renderAttributes(t),this._renderElementChildren(t),this._setUpListeners(t),e;}},{key:'_renderText',value:function _renderText(t){var e=t.node;return e?t.revertData.text=e.textContent:e=t.node=document.createTextNode(""),ll(this.text)?this._bindToObservable({schema:this.text,updater:function(t){return{set:function set(e){t.textContent=e;},remove:function remove(){t.textContent="";}};}(e),data:t}):e.textContent=this.text.join(""),e;}},{key:'_renderAttributes',value:function _renderAttributes(t){var e=void 0,n=void 0,i=void 0,o=void 0;if(!this.attributes)return;var r=t.node,s=t.revertData;for(e in this.attributes){if(i=r.getAttribute(e),n=this.attributes[e],s&&(s.attributes[e]=i),o=it(n[0])&&n[0].ns?n[0].ns:null,ll(n)){var _a9=o?n[0].value:n;s&&yl(e)&&_a9.unshift(i),this._bindToObservable({schema:_a9,updater:ul(r,e,o),data:t});}else"style"==e&&"string"!=typeof n[0]?this._renderStyleAttribute(n[0],t):(s&&i&&yl(e)&&n.unshift(i),wl(n=n.map(function(t){return t&&t.value||t;}).reduce(function(t,e){return t.concat(e);},[]).reduce(gl,""))||r.setAttributeNS(o,e,n));}}},{key:'_renderStyleAttribute',value:function _renderStyleAttribute(t,e){var n=e.node;for(var i in t){var _o52=t[i];ll(_o52)?this._bindToObservable({schema:[_o52],updater:hl(n,i),data:e}):n.style[i]=_o52;}}},{key:'_renderElementChildren',value:function _renderElementChildren(t){var e=t.node,n=t.intoFragment?document.createDocumentFragment():e,i=t.isApplying;var o=0;var _iteratorNormalCompletion254=true;var _didIteratorError254=false;var _iteratorError254=undefined;try{for(var _iterator254=this.children[Symbol.iterator](),_step254;!(_iteratorNormalCompletion254=(_step254=_iterator254.next()).done);_iteratorNormalCompletion254=true){var _r20=_step254.value;if(vl(_r20)){if(!i){_r20.setParent(e);var _iteratorNormalCompletion255=true;var _didIteratorError255=false;var _iteratorError255=undefined;try{for(var _iterator255=_r20[Symbol.iterator](),_step255;!(_iteratorNormalCompletion255=(_step255=_iterator255.next()).done);_iteratorNormalCompletion255=true){var _t160=_step255.value;n.appendChild(_t160.element);}}catch(err){_didIteratorError255=true;_iteratorError255=err;}finally{try{if(!_iteratorNormalCompletion255&&_iterator255.return){_iterator255.return();}}finally{if(_didIteratorError255){throw _iteratorError255;}}}}}else if(_l(_r20))i||(_r20.isRendered||_r20.render(),n.appendChild(_r20.element));else if(qo(_r20))n.appendChild(_r20);else if(i){var _e117={children:[],bindings:[],attributes:{}};t.revertData.children.push(_e117),_r20._renderNode({node:n.childNodes[o++],isApplying:!0,revertData:_e117});}else n.appendChild(_r20.render());}}catch(err){_didIteratorError254=true;_iteratorError254=err;}finally{try{if(!_iteratorNormalCompletion254&&_iterator254.return){_iterator254.return();}}finally{if(_didIteratorError254){throw _iteratorError254;}}}t.intoFragment&&e.appendChild(n);}},{key:'_setUpListeners',value:function _setUpListeners(t){if(this.eventListeners){var _loop4=function(e){var n=this.eventListeners[e].map(n=>{const[i,o]=e.split("@");return n.activateDomEventListener(i,o,t);});t.revertData&&t.revertData.bindings.push(n);};for(const e in this.eventListeners){_loop4(e);}}}},{key:'_bindToObservable',value:function _bindToObservable(_ref52){var t=_ref52.schema,e=_ref52.updater,n=_ref52.data;var i=n.revertData;dl(t,e,n);var o=t.filter(function(t){return!wl(t);}).filter(function(t){return t.observable;}).map(function(i){return i.activateAttributeListener(t,e,n);});i&&i.bindings.push(o);}},{key:'_revertTemplateFromNode',value:function _revertTemplateFromNode(t,e){var _iteratorNormalCompletion256=true;var _didIteratorError256=false;var _iteratorError256=undefined;try{for(var _iterator256=e.bindings[Symbol.iterator](),_step256;!(_iteratorNormalCompletion256=(_step256=_iterator256.next()).done);_iteratorNormalCompletion256=true){var _t161=_step256.value;var _iteratorNormalCompletion257=true;var _didIteratorError257=false;var _iteratorError257=undefined;try{for(var _iterator257=_t161[Symbol.iterator](),_step257;!(_iteratorNormalCompletion257=(_step257=_iterator257.next()).done);_iteratorNormalCompletion257=true){var _e118=_step257.value;_e118();}}catch(err){_didIteratorError257=true;_iteratorError257=err;}finally{try{if(!_iteratorNormalCompletion257&&_iterator257.return){_iterator257.return();}}finally{if(_didIteratorError257){throw _iteratorError257;}}}}}catch(err){_didIteratorError256=true;_iteratorError256=err;}finally{try{if(!_iteratorNormalCompletion256&&_iterator256.return){_iterator256.return();}}finally{if(_didIteratorError256){throw _iteratorError256;}}}if(e.text)t.textContent=e.text;else{for(var n in e.attributes){var i=e.attributes[n];null===i?t.removeAttribute(n):t.setAttribute(n,i);}for(var _n90=0;_n90<e.children.length;++_n90){this._revertTemplateFromNode(t.childNodes[_n90],e.children[_n90]);}}}}],[{key:'bind',value:function bind(t,e){return{to:function to(n,i){return new al({eventNameOrFunction:n,attribute:n,observable:t,emitter:e,callback:i});},if:function _if(n,i,o){return new cl({observable:t,emitter:e,attribute:n,valueIfTrue:i,callback:o});}};}},{key:'extend',value:function extend(t,e){t._isRendered&&fs.a.warn("template-extend-render: Attempting to extend a template which has already been rendered."),function t(e,n){var _e$text;n.attributes&&(e.attributes||(e.attributes={}),bl(e.attributes,n.attributes));n.eventListeners&&(e.eventListeners||(e.eventListeners={}),bl(e.eventListeners,n.eventListeners));n.text&&(_e$text=e.text).push.apply(_e$text,_toConsumableArray(n.text));if(n.children&&n.children.length){if(e.children.length!=n.children.length)throw new P.b("ui-template-extend-children-mismatch: The number of children in extended definition does not match.");var i=0;var _iteratorNormalCompletion258=true;var _didIteratorError258=false;var _iteratorError258=undefined;try{for(var _iterator258=n.children[Symbol.iterator](),_step258;!(_iteratorNormalCompletion258=(_step258=_iterator258.next()).done);_iteratorNormalCompletion258=true){var _o53=_step258.value;t(e.children[i++],_o53);}}catch(err){_didIteratorError258=true;_iteratorError258=err;}finally{try{if(!_iteratorNormalCompletion258&&_iterator258.return){_iterator258.return();}}finally{if(_didIteratorError258){throw _iteratorError258;}}}}}(t,ml(fl(e)));}}]);return rl;}();F(rl,R);var sl=function(){function sl(t){_classCallCheck(this,sl);Object.assign(this,t);}_createClass(sl,[{key:'getValue',value:function getValue(t){var e=this.observable[this.attribute];return this.callback?this.callback(e,t):e;}},{key:'activateAttributeListener',value:function activateAttributeListener(t,e,n){var _this83=this;var i=function i(){return dl(t,e,n);};return this.emitter.listenTo(this.observable,"change:"+this.attribute,i),function(){_this83.emitter.stopListening(_this83.observable,"change:"+_this83.attribute,i);};}}]);return sl;}();var al=function(_sl){_inherits(al,_sl);function al(){_classCallCheck(this,al);return _possibleConstructorReturn(this,(al.__proto__||Object.getPrototypeOf(al)).apply(this,arguments));}_createClass(al,[{key:'activateDomEventListener',value:function activateDomEventListener(t,e,n){var _this85=this;var i=function i(t,n){e&&!n.target.matches(e)||("function"==typeof _this85.eventNameOrFunction?_this85.eventNameOrFunction(n):_this85.observable.fire(_this85.eventNameOrFunction,n));};return this.emitter.listenTo(n.node,t,i),function(){_this85.emitter.stopListening(n.node,t,i);};}}]);return al;}(sl);var cl=function(_sl2){_inherits(cl,_sl2);function cl(){_classCallCheck(this,cl);return _possibleConstructorReturn(this,(cl.__proto__||Object.getPrototypeOf(cl)).apply(this,arguments));}_createClass(cl,[{key:'getValue',value:function getValue(t){return!wl(_get(cl.prototype.__proto__||Object.getPrototypeOf(cl.prototype),'getValue',this).call(this,t))&&(this.valueIfTrue||!0);}}]);return cl;}(sl);function ll(t){return!!t&&(t.value&&(t=t.value),Array.isArray(t)?t.some(ll):t instanceof sl);}function dl(t,e,_ref53){var n=_ref53.node;var i=function(t,e){return t.map(function(t){return t instanceof sl?t.getValue(e):t;});}(t,n);wl(i=1==t.length&&t[0]instanceof cl?i[0]:i.reduce(gl,""))?e.remove():e.set(i);}function ul(t,e,n){return{set:function set(i){t.setAttributeNS(n,e,i);},remove:function remove(){t.removeAttributeNS(n,e);}};}function hl(t,e){return{set:function set(n){t.style[e]=n;},remove:function remove(){t.style[e]=null;}};}function fl(t){return il(t,function(t){if(t&&(t instanceof sl||kl(t)||_l(t)||vl(t)))return t;});}function ml(t){if("string"==typeof t?t=function(t){return{text:[t]};}(t):t.text&&function(t){Array.isArray(t.text)||(t.text=[t.text]);}(t),t.on&&(t.eventListeners=function(t){for(var e in t){pl(t,e);}return t;}(t.on),delete t.on),!t.text){t.attributes&&function(t){for(var _e119 in t){t[_e119].value&&(t[_e119].value=[].concat(t[_e119].value)),pl(t,_e119);}}(t.attributes);var e=[];if(t.children)if(vl(t.children))e.push(t.children);else{var _iteratorNormalCompletion259=true;var _didIteratorError259=false;var _iteratorError259=undefined;try{for(var _iterator259=t.children[Symbol.iterator](),_step259;!(_iteratorNormalCompletion259=(_step259=_iterator259.next()).done);_iteratorNormalCompletion259=true){var n=_step259.value;kl(n)||_l(n)||qo(n)?e.push(n):e.push(new rl(n));}}catch(err){_didIteratorError259=true;_iteratorError259=err;}finally{try{if(!_iteratorNormalCompletion259&&_iterator259.return){_iterator259.return();}}finally{if(_didIteratorError259){throw _iteratorError259;}}}}t.children=e;}return t;}function pl(t,e){Array.isArray(t[e])||(t[e]=[t[e]]);}function gl(t,e){return wl(e)?t:wl(t)?e:t+' '+e;}function bl(t,e){for(var n in e){var _t$n;t[n]?(_t$n=t[n]).push.apply(_t$n,_toConsumableArray(e[n])):t[n]=e[n];}}function wl(t){return!t&&0!==t;}function _l(t){return t instanceof xl;}function kl(t){return t instanceof rl;}function vl(t){return t instanceof tl;}function yl(t){return"class"==t||"style"==t;}n(43);var xl=function(){function xl(t){_classCallCheck(this,xl);this.element=null,this.isRendered=!1,this.locale=t,this.t=t&&t.t,this._viewCollections=new Xi(),this._unboundChildren=this.createCollection(),this._viewCollections.on("add",function(e,n){n.locale=t;}),this.decorate("render");}_createClass(xl,[{key:'createCollection',value:function createCollection(){var t=new tl();return this._viewCollections.add(t),t;}},{key:'registerChild',value:function registerChild(t){ui(t)||(t=[t]);var _iteratorNormalCompletion260=true;var _didIteratorError260=false;var _iteratorError260=undefined;try{for(var _iterator260=t[Symbol.iterator](),_step260;!(_iteratorNormalCompletion260=(_step260=_iterator260.next()).done);_iteratorNormalCompletion260=true){var e=_step260.value;this._unboundChildren.add(e);}}catch(err){_didIteratorError260=true;_iteratorError260=err;}finally{try{if(!_iteratorNormalCompletion260&&_iterator260.return){_iterator260.return();}}finally{if(_didIteratorError260){throw _iteratorError260;}}}}},{key:'deregisterChild',value:function deregisterChild(t){ui(t)||(t=[t]);var _iteratorNormalCompletion261=true;var _didIteratorError261=false;var _iteratorError261=undefined;try{for(var _iterator261=t[Symbol.iterator](),_step261;!(_iteratorNormalCompletion261=(_step261=_iterator261.next()).done);_iteratorNormalCompletion261=true){var e=_step261.value;this._unboundChildren.remove(e);}}catch(err){_didIteratorError261=true;_iteratorError261=err;}finally{try{if(!_iteratorNormalCompletion261&&_iterator261.return){_iterator261.return();}}finally{if(_didIteratorError261){throw _iteratorError261;}}}}},{key:'setTemplate',value:function setTemplate(t){this.template=new rl(t);}},{key:'extendTemplate',value:function extendTemplate(t){rl.extend(this.template,t);}},{key:'render',value:function render(){if(this.isRendered)throw new P.b("ui-view-render-already-rendered: This View has already been rendered.");this.template&&(this.element=this.template.render(),this.registerChild(this.template.getViews())),this.isRendered=!0;}},{key:'destroy',value:function destroy(){this.stopListening(),this._viewCollections.map(function(t){return t.destroy();});}},{key:'bindTemplate',get:function get(){return this._bindTemplate?this._bindTemplate:this._bindTemplate=rl.bind(this,this);}}]);return xl;}();F(xl,rr),F(xl,Li);n(46);var Al=function(_xl){_inherits(Al,_xl);function Al(t){var _this87;_classCallCheck(this,Al);(_this87=_possibleConstructorReturn(this,(Al.__proto__||Object.getPrototypeOf(Al)).call(this,t)),_this87),_this87.body=_this87.createCollection();return _this87;}_createClass(Al,[{key:'render',value:function render(){_get(Al.prototype.__proto__||Object.getPrototypeOf(Al.prototype),'render',this).call(this),this._renderBodyCollection();}},{key:'destroy',value:function destroy(){return this._bodyCollectionContainer.remove(),_get(Al.prototype.__proto__||Object.getPrototypeOf(Al.prototype),'destroy',this).call(this);}},{key:'_renderBodyCollection',value:function _renderBodyCollection(){var t=this._bodyCollectionContainer=new rl({tag:"div",attributes:{class:["ck","ck-reset_all","ck-body","ck-rounded-corners"]},children:this.body}).render();document.body.appendChild(t);}}]);return Al;}(xl);n(48);var Cl=function(_xl2){_inherits(Cl,_xl2);function Cl(t){var _this88;_classCallCheck(this,Cl);(_this88=_possibleConstructorReturn(this,(Cl.__proto__||Object.getPrototypeOf(Cl)).call(this,t)),_this88),_this88.set("text"),_this88.set("for");var e=_this88.bindTemplate;_this88.setTemplate({tag:"label",attributes:{class:["ck","ck-label"],for:e.to("for")},children:[{text:e.to("text")}]});return _this88;}return Cl;}(xl);var Tl=function(_Al){_inherits(Tl,_Al);function Tl(t){_classCallCheck(this,Tl);var _this89=_possibleConstructorReturn(this,(Tl.__proto__||Object.getPrototypeOf(Tl)).call(this,t));var e=I();_this89.top=_this89.createCollection(),_this89.main=_this89.createCollection(),_this89._voiceLabelView=_this89._createVoiceLabel(e),_this89.setTemplate({tag:"div",attributes:{class:["ck","ck-reset","ck-editor","ck-rounded-corners"],role:"application",dir:"ltr",lang:t.language,"aria-labelledby":'ck-editor__aria-label_'+e},children:[_this89._voiceLabelView,{tag:"div",attributes:{class:["ck","ck-editor__top","ck-reset_all"],role:"presentation"},children:_this89.top},{tag:"div",attributes:{class:["ck","ck-editor__main"],role:"presentation"},children:_this89.main}]});return _this89;}_createClass(Tl,[{key:'_createVoiceLabel',value:function _createVoiceLabel(t){var e=this.t,n=new Cl();return n.text=e("az"),n.extendTemplate({attributes:{id:'ck-editor__aria-label_'+t,class:"ck-voice-label"}}),n;}}]);return Tl;}(Al);var Pl=function(_xl3){_inherits(Pl,_xl3);function Pl(t,e){_classCallCheck(this,Pl);var _this90=_possibleConstructorReturn(this,(Pl.__proto__||Object.getPrototypeOf(Pl)).call(this,t));var n=_this90.bindTemplate;e&&(_this90.element=_this90.editableElement=e),_this90.setTemplate({tag:"div",attributes:{class:["ck","ck-content","ck-editor__editable","ck-rounded-corners",n.to("isFocused",function(t){return t?"ck-focused":"ck-blurred";}),n.if("isReadOnly","ck-read-only")],contenteditable:n.to("isReadOnly",function(t){return!t;})}}),_this90.set("isReadOnly",!1),_this90.set("isFocused",!1),_this90.externalElement=e;return _this90;}_createClass(Pl,[{key:'render',value:function render(){_get(Pl.prototype.__proto__||Object.getPrototypeOf(Pl.prototype),'render',this).call(this),this.externalElement?this.template.apply(this.element=this.externalElement):this.editableElement=this.element;}},{key:'destroy',value:function destroy(){this.externalElement&&this.template.revert(this.externalElement),_get(Pl.prototype.__proto__||Object.getPrototypeOf(Pl.prototype),'destroy',this).call(this);}}]);return Pl;}(xl);var Ml=function(_Pl){_inherits(Ml,_Pl);function Ml(t,e){_classCallCheck(this,Ml);var _this91=_possibleConstructorReturn(this,(Ml.__proto__||Object.getPrototypeOf(Ml)).call(this,t,e));var n=_this91.bindTemplate,i=_this91.t;_this91.set("name",null);_this91.extendTemplate({attributes:{role:"textbox","aria-label":n.to("name",function(t){return i("bm",[t]);}),class:"ck-editor__editable_inline"}});return _this91;}return Ml;}(Pl);function Sl(t){return function(e){return e+t;};}n(50);var Il=Sl("px");var El=function(_xl4){_inherits(El,_xl4);function El(t){_classCallCheck(this,El);var _this92=_possibleConstructorReturn(this,(El.__proto__||Object.getPrototypeOf(El)).call(this,t));var e=_this92.bindTemplate;_this92.set("isActive",!1),_this92.set("isSticky",!1),_this92.set("limiterElement",null),_this92.set("limiterBottomOffset",50),_this92.set("viewportTopOffset",0),_this92.set("_marginLeft",null),_this92.set("_isStickyToTheLimiter",!1),_this92.set("_hasViewportTopOffset",!1),_this92.content=_this92.createCollection(),_this92._contentPanelPlaceholder=new rl({tag:"div",attributes:{class:["ck","ck-sticky-panel__placeholder"],style:{display:e.to("isSticky",function(t){return t?"block":"none";}),height:e.to("isSticky",function(t){return t?Il(_this92._panelRect.height):null;})}}}).render(),_this92._contentPanel=new rl({tag:"div",attributes:{class:["ck","ck-sticky-panel__content",e.if("isSticky","ck-sticky-panel__content_sticky"),e.if("_isStickyToTheLimiter","ck-sticky-panel__content_sticky_bottom-limit")],style:{width:e.to("isSticky",function(t){return t?Il(_this92._contentPanelPlaceholder.getBoundingClientRect().width):null;}),top:e.to("_hasViewportTopOffset",function(t){return t?Il(_this92.viewportTopOffset):null;}),bottom:e.to("_isStickyToTheLimiter",function(t){return t?Il(_this92.limiterBottomOffset):null;}),marginLeft:e.to("_marginLeft")}},children:_this92.content}).render(),_this92.setTemplate({tag:"div",attributes:{class:["ck","ck-sticky-panel"]},children:[_this92._contentPanelPlaceholder,_this92._contentPanel]});return _this92;}_createClass(El,[{key:'render',value:function render(){var _this93=this;_get(El.prototype.__proto__||Object.getPrototypeOf(El.prototype),'render',this).call(this),this._checkIfShouldBeSticky(),this.listenTo(Ko.window,"scroll",function(){_this93._checkIfShouldBeSticky();}),this.listenTo(this,"change:isActive",function(){_this93._checkIfShouldBeSticky();});}},{key:'_checkIfShouldBeSticky',value:function _checkIfShouldBeSticky(){var t=this._panelRect=this._contentPanel.getBoundingClientRect();var e=void 0;this.limiterElement?(e=this._limiterRect=this.limiterElement.getBoundingClientRect(),this.isSticky=this.isActive&&e.top<this.viewportTopOffset&&this._panelRect.height+this.limiterBottomOffset<e.height):this.isSticky=!1,this.isSticky?(this._isStickyToTheLimiter=e.bottom<t.height+this.limiterBottomOffset+this.viewportTopOffset,this._hasViewportTopOffset=!this._isStickyToTheLimiter&&!!this.viewportTopOffset,this._marginLeft=this._isStickyToTheLimiter?null:Il(-Ko.window.scrollX)):(this._isStickyToTheLimiter=!1,this._hasViewportTopOffset=!1,this._marginLeft=null);}}]);return El;}(xl);var Nl=function(){function Nl(t){_classCallCheck(this,Nl);if(Object.assign(this,t),t.actions&&t.keystrokeHandler){var _loop5=function(e){var n=t.actions[e];"string"==typeof n&&(n=[n]);for(const i of n)t.keystrokeHandler.set(i,(t,n)=>{this[e](),n();});};for(const e in t.actions){_loop5(e);}}}_createClass(Nl,[{key:'focusFirst',value:function focusFirst(){this._focus(this.first);}},{key:'focusLast',value:function focusLast(){this._focus(this.last);}},{key:'focusNext',value:function focusNext(){this._focus(this.next);}},{key:'focusPrevious',value:function focusPrevious(){this._focus(this.previous);}},{key:'_focus',value:function _focus(t){t&&t.focus();}},{key:'_getFocusableItem',value:function _getFocusableItem(t){var e=this.current,n=this.focusables.length;if(!n)return null;if(null===e)return this[1===t?"first":"last"];var i=(e+n+t)%n;do{var _e120=this.focusables.get(i);if(Ol(_e120))return _e120;i=(i+n+t)%n;}while(i!==e);return null;}},{key:'first',get:function get(){return this.focusables.find(Ol)||null;}},{key:'last',get:function get(){return this.focusables.filter(Ol).slice(-1)[0]||null;}},{key:'next',get:function get(){return this._getFocusableItem(1);}},{key:'previous',get:function get(){return this._getFocusableItem(-1);}},{key:'current',get:function get(){var _this94=this;var t=null;return null===this.focusTracker.focusedElement?null:(this.focusables.find(function(e,n){var i=e.element===_this94.focusTracker.focusedElement;return i&&(t=n),i;}),t);}}]);return Nl;}();function Ol(t){return!(!t.focus||"none"==Ko.window.getComputedStyle(t.element).display);}var Rl=function(_xl5){_inherits(Rl,_xl5);function Rl(t){var _this95;_classCallCheck(this,Rl);(_this95=_possibleConstructorReturn(this,(Rl.__proto__||Object.getPrototypeOf(Rl)).call(this,t)),_this95),_this95.setTemplate({tag:"span",attributes:{class:["ck","ck-toolbar__separator"]}});return _this95;}return Rl;}(xl);n(52);var Dl=function(_xl6){_inherits(Dl,_xl6);function Dl(t){_classCallCheck(this,Dl);var _this96=_possibleConstructorReturn(this,(Dl.__proto__||Object.getPrototypeOf(Dl)).call(this,t));var e=_this96.bindTemplate;_this96.items=_this96.createCollection(),_this96.focusTracker=new Kc(),_this96.keystrokes=new Uc(),_this96.set("isVertical",!1),_this96.set("className"),_this96._focusCycler=new Nl({focusables:_this96.items,focusTracker:_this96.focusTracker,keystrokeHandler:_this96.keystrokes,actions:{focusPrevious:["arrowleft","arrowup"],focusNext:["arrowright","arrowdown"]}}),_this96.setTemplate({tag:"div",attributes:{class:["ck","ck-toolbar",e.if("isVertical","ck-toolbar_vertical"),e.to("className")]},children:_this96.items,on:{mousedown:function(t){return t.bindTemplate.to(function(e){e.target===t.element&&e.preventDefault();});}(_this96)}});return _this96;}_createClass(Dl,[{key:'render',value:function render(){var _this97=this;_get(Dl.prototype.__proto__||Object.getPrototypeOf(Dl.prototype),'render',this).call(this);var _iteratorNormalCompletion262=true;var _didIteratorError262=false;var _iteratorError262=undefined;try{for(var _iterator262=this.items[Symbol.iterator](),_step262;!(_iteratorNormalCompletion262=(_step262=_iterator262.next()).done);_iteratorNormalCompletion262=true){var t=_step262.value;this.focusTracker.add(t.element);}}catch(err){_didIteratorError262=true;_iteratorError262=err;}finally{try{if(!_iteratorNormalCompletion262&&_iterator262.return){_iterator262.return();}}finally{if(_didIteratorError262){throw _iteratorError262;}}}this.items.on("add",function(t,e){_this97.focusTracker.add(e.element);}),this.items.on("remove",function(t,e){_this97.focusTracker.remove(e.element);}),this.keystrokes.listenTo(this.element);}},{key:'focus',value:function focus(){this._focusCycler.focusFirst();}},{key:'focusLast',value:function focusLast(){this._focusCycler.focusLast();}},{key:'fillFromConfig',value:function fillFromConfig(t,e){var _this98=this;t.map(function(t){"|"==t?_this98.items.add(new Rl()):e.has(t)?_this98.items.add(e.create(t)):fs.a.warn("toolbarview-item-unavailable: The requested toolbar item is unavailable.",{name:t});});}}]);return Dl;}(xl);n(54);var Ll=function(_Tl){_inherits(Ll,_Tl);function Ll(t){var _this99;_classCallCheck(this,Ll);(_this99=_possibleConstructorReturn(this,(Ll.__proto__||Object.getPrototypeOf(Ll)).call(this,t)),_this99),_this99.stickyPanel=new El(t),_this99.toolbar=new Dl(t),_this99.editable=new Ml(t);return _this99;}_createClass(Ll,[{key:'render',value:function render(){_get(Ll.prototype.__proto__||Object.getPrototypeOf(Ll.prototype),'render',this).call(this),this.stickyPanel.content.add(this.toolbar),this.top.add(this.stickyPanel),this.main.add(this.editable);}},{key:'editableElement',get:function get(){return this.editable.element;}}]);return Ll;}(Tl);var jl=function(){function jl(){_classCallCheck(this,jl);this._replacedElements=[];}_createClass(jl,[{key:'replace',value:function replace(t,e){this._replacedElements.push({element:t,newElement:e}),t.style.display="none",e&&t.parentNode.insertBefore(e,t.nextSibling);}},{key:'restore',value:function restore(){this._replacedElements.forEach(function(_ref54){var t=_ref54.element,e=_ref54.newElement;t.style.display="",e&&e.remove();}),this._replacedElements=[];}}]);return jl;}();var Vl=function(_qc){_inherits(Vl,_qc);function Vl(t,e){var _this100;_classCallCheck(this,Vl);(_this100=_possibleConstructorReturn(this,(Vl.__proto__||Object.getPrototypeOf(Vl)).call(this,e)),_this100),tr(t)&&(_this100.sourceElement=t),_this100._elementReplacer=new jl(),_this100.data.processor=new Gc(),_this100.model.document.createRoot(),_this100.ui=new Xc(_this100,new Ll(_this100.locale)),function(t){if(!ct(t.updateSourceElement))throw new P.b("attachtoform-missing-elementapi-interface: Editor passed to attachToForm() must implement ElementApi.");var e=t.sourceElement;if(e&&"textarea"===e.tagName.toLowerCase()&&e.form){var _n91=void 0;var i=e.form,_o54=function _o54(){return t.updateSourceElement();};ct(i.submit)&&(_n91=i.submit,i.submit=function(){_o54(),_n91.apply(i);}),i.addEventListener("submit",_o54),t.on("destroy",function(){i.removeEventListener("submit",_o54),_n91&&(i.submit=_n91);});}}(_this100);return _this100;}_createClass(Vl,[{key:'destroy',value:function destroy(){return this.sourceElement&&this.updateSourceElement(),this._elementReplacer.restore(),this.ui.destroy(),_get(Vl.prototype.__proto__||Object.getPrototypeOf(Vl.prototype),'destroy',this).call(this);}},{key:'element',get:function get(){return this.ui.view.element;}}],[{key:'create',value:function create(t,e){var _this101=this;return new Promise(function(n){var i=new _this101(t,e);n(i.initPlugins().then(function(){return i.ui.init();}).then(function(){tr(t)&&i._elementReplacer.replace(t,i.element),i.fire("uiReady");}).then(function(){return i.editing.view.attachDomRoot(i.ui.view.editableElement);}).then(function(){var e=tr(t)?function(t){return t instanceof HTMLTextAreaElement?t.value:t.innerHTML;}(t):t;return i.data.init(e);}).then(function(){i.fire("dataReady"),i.fire("ready");}).then(function(){return i;}));});}}]);return Vl;}(qc);F(Vl,Wc),F(Vl,Yc);var zl=function(){function zl(t){_classCallCheck(this,zl);this.editor=t;}_createClass(zl,[{key:'destroy',value:function destroy(){this.stopListening();}}]);return zl;}();F(zl,Li);var Bl=function(){function Bl(t){_classCallCheck(this,Bl);this.files=function(t){var e=t.files?Array.from(t.files):[],n=t.items?Array.from(t.items):[];if(e.length)return e;return n.filter(function(t){return"file"===t.kind;}).map(function(t){return t.getAsFile();});}(t),this._native=t;}_createClass(Bl,[{key:'getData',value:function getData(t){return this._native.getData(t);}},{key:'setData',value:function setData(t,e){this._native.setData(t,e);}},{key:'types',get:function get(){return this._native.types;}}]);return Bl;}();var Fl=function(_Jr4){_inherits(Fl,_Jr4);function Fl(t){_classCallCheck(this,Fl);var _this102=_possibleConstructorReturn(this,(Fl.__proto__||Object.getPrototypeOf(Fl)).call(this,t));var e=_this102.document;function n(t,n){n.preventDefault();var i=n.dropRange?[n.dropRange]:Array.from(e.selection.getRanges());e.fire("clipboardInput",{dataTransfer:n.dataTransfer,targetRanges:i});}_this102.domEventType=["paste","copy","cut","drop","dragover"],_this102.listenTo(e,"paste",n,{priority:"low"}),_this102.listenTo(e,"drop",n,{priority:"low"});return _this102;}_createClass(Fl,[{key:'onDomEvent',value:function onDomEvent(t){var e={dataTransfer:new Bl(t.clipboardData?t.clipboardData:t.dataTransfer)};"drop"==t.type&&(e.dropRange=function(t,e){var n=e.target.ownerDocument,i=e.clientX,o=e.clientY;var r=void 0;n.caretRangeFromPoint&&n.caretRangeFromPoint(i,o)?r=n.caretRangeFromPoint(i,o):e.rangeParent&&((r=n.createRange()).setStart(e.rangeParent,e.rangeOffset),r.collapse(!0));return r?t.domConverter.domRangeToView(r):t.document.selection.getFirstRange();}(this.view,t)),this.fire(t.type,t,e);}}]);return Fl;}(Jr);var Ul=["figcaption","li"];var Hl=function(_zl){_inherits(Hl,_zl);function Hl(){_classCallCheck(this,Hl);return _possibleConstructorReturn(this,(Hl.__proto__||Object.getPrototypeOf(Hl)).apply(this,arguments));}_createClass(Hl,[{key:'init',value:function init(){var _this104=this;var t=this.editor,e=t.model.document,n=t.editing.view,i=n.document;function o(n,o){var r=o.dataTransfer;o.preventDefault();var s=t.data.toView(t.model.getSelectedContent(e.selection));i.fire("clipboardOutput",{dataTransfer:r,content:s,method:n.name});}this._htmlDataProcessor=new Gc(),n.addObserver(Fl),this.listenTo(i,"clipboardInput",function(e){t.isReadOnly&&e.stop();},{priority:"highest"}),this.listenTo(i,"clipboardInput",function(t,e){var i=e.dataTransfer;var o="";i.getData("text/html")?o=function(t){return t.replace(/<span(?: class="Apple-converted-space"|)>(\s+)<\/span>/g,function(t,e){return 1==e.length?" ":e;});}(i.getData("text/html")):i.getData("text/plain")&&(o=function(t){return(t=t.replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\n\n/g,"</p><p>").replace(/\n/g,"<br>").replace(/^\s/,"&nbsp;").replace(/\s$/,"&nbsp;").replace(/\s\s/g," &nbsp;")).indexOf("</p><p>")>-1&&(t='<p>'+t+'</p>'),t;}(i.getData("text/plain"))),o=_this104._htmlDataProcessor.toView(o),_this104.fire("inputTransformation",{content:o,dataTransfer:i}),n.scrollToTheSelection();},{priority:"low"}),this.listenTo(this,"inputTransformation",function(t,e){if(!e.content.isEmpty){var _t162=_this104.editor.data,_n92=_this104.editor.model,_i24=_t162.toModel(e.content,"$clipboardHolder");if(0==_i24.childCount)return;_n92.insertContent(_i24);}},{priority:"low"}),this.listenTo(i,"copy",o,{priority:"low"}),this.listenTo(i,"cut",function(e,n){t.isReadOnly?n.preventDefault():o(e,n);},{priority:"low"}),this.listenTo(i,"clipboardOutput",function(n,i){i.content.isEmpty||(i.dataTransfer.setData("text/html",_this104._htmlDataProcessor.toData(i.content)),i.dataTransfer.setData("text/plain",function t(e){var n="";if(e.is("text")||e.is("textProxy"))n=e.data;else if(e.is("img")&&e.hasAttribute("alt"))n=e.getAttribute("alt");else{var _i25=null;var _iteratorNormalCompletion263=true;var _didIteratorError263=false;var _iteratorError263=undefined;try{for(var _iterator263=e.getChildren()[Symbol.iterator](),_step263;!(_iteratorNormalCompletion263=(_step263=_iterator263.next()).done);_iteratorNormalCompletion263=true){var _o55=_step263.value;var _e121=t(_o55);_i25&&(_i25.is("containerElement")||_o55.is("containerElement"))&&(Ul.includes(_i25.name)||Ul.includes(_o55.name)?n+="\n":n+="\n\n"),n+=_e121,_i25=_o55;}}catch(err){_didIteratorError263=true;_iteratorError263=err;}finally{try{if(!_iteratorNormalCompletion263&&_iterator263.return){_iterator263.return();}}finally{if(_didIteratorError263){throw _iteratorError263;}}}}return n;}(i.content))),"cut"==i.method&&t.model.deleteContent(e.selection);},{priority:"low"});}}],[{key:'pluginName',get:function get(){return"Clipboard";}}]);return Hl;}(zl);var ql=function(){function ql(t){var _this105=this;_classCallCheck(this,ql);this.editor=t,this.set("value",void 0),this.set("isEnabled",!1),this.decorate("execute"),this.listenTo(this.editor.model.document,"change",function(){_this105.refresh();}),this.on("execute",function(t){_this105.isEnabled||t.stop();},{priority:"high"}),this.listenTo(t,"change:isReadOnly",function(t,e,n){n?(_this105.on("set:isEnabled",Wl,{priority:"highest"}),_this105.isEnabled=!1):(_this105.off("set:isEnabled",Wl),_this105.refresh());});}_createClass(ql,[{key:'refresh',value:function refresh(){this.isEnabled=!0;}},{key:'execute',value:function execute(){}},{key:'destroy',value:function destroy(){this.stopListening();}}]);return ql;}();function Wl(t){t.return=!1,t.stop();}F(ql,Li);var Yl=function(_ql){_inherits(Yl,_ql);function Yl(){_classCallCheck(this,Yl);return _possibleConstructorReturn(this,(Yl.__proto__||Object.getPrototypeOf(Yl)).apply(this,arguments));}_createClass(Yl,[{key:'execute',value:function execute(){var _this107=this;var t=this.editor.model,e=t.document;t.change(function(n){!function(t,e,n,i){var o=n.isCollapsed,r=n.getFirstRange(),s=r.start.parent,a=r.end.parent;if(i.isLimit(s)||i.isLimit(a))return void(o||s!=a||t.deleteContent(n));if(o)$l(e,r.start);else{var _i26=!(r.start.isAtStart&&r.end.isAtEnd),_o56=s==a;t.deleteContent(n,{leaveUnmerged:_i26}),_i26&&(_o56?$l(e,n.focus):e.setSelection(a,0));}}(_this107.editor.model,n,e.selection,t.schema),_this107.fire("afterExecute",{writer:n});});}}]);return Yl;}(ql);function $l(t,e){t.split(e),t.setSelection(e.parent.nextSibling,0);}var Gl=function(_cr5){_inherits(Gl,_cr5);function Gl(t){_classCallCheck(this,Gl);var _this108=_possibleConstructorReturn(this,(Gl.__proto__||Object.getPrototypeOf(Gl)).call(this,t));var e=_this108.document;e.on("keydown",function(t,n){if(_this108.isEnabled&&n.keyCode==ho.enter){var i=void 0;e.once("enter",function(t){return i=t;},{priority:"highest"}),e.fire("enter",new Qr(e,n.domEvent,{isSoft:n.shiftKey})),i&&i.stop.called&&t.stop();}});return _this108;}_createClass(Gl,[{key:'observe',value:function observe(){}}]);return Gl;}(cr);var Ql=function(_zl2){_inherits(Ql,_zl2);function Ql(){_classCallCheck(this,Ql);return _possibleConstructorReturn(this,(Ql.__proto__||Object.getPrototypeOf(Ql)).apply(this,arguments));}_createClass(Ql,[{key:'init',value:function init(){var t=this.editor,e=t.editing.view,n=e.document;e.addObserver(Gl),t.commands.add("enter",new Yl(t)),this.listenTo(n,"enter",function(n,i){i.preventDefault(),i.isSoft||(t.execute("enter"),e.scrollToTheSelection());},{priority:"low"});}}],[{key:'pluginName',get:function get(){return"Enter";}}]);return Ql;}(zl);var Jl=function(_ql2){_inherits(Jl,_ql2);function Jl(){_classCallCheck(this,Jl);return _possibleConstructorReturn(this,(Jl.__proto__||Object.getPrototypeOf(Jl)).apply(this,arguments));}_createClass(Jl,[{key:'execute',value:function execute(){var _this111=this;var t=this.editor.model,e=t.document;t.change(function(n){!function(t,e,n){var i=n.isCollapsed,o=n.getFirstRange(),r=o.start.parent,s=o.end.parent,a=r==s;if(i)Kl(e,o.end);else{var _i27=!(o.start.isAtStart&&o.end.isAtEnd);t.deleteContent(n,{leaveUnmerged:_i27}),a?Kl(e,n.focus):_i27&&e.setSelection(s,0);}}(t,n,e.selection),_this111.fire("afterExecute",{writer:n});});}},{key:'refresh',value:function refresh(){var t=this.editor.model,e=t.document;this.isEnabled=function(t,e){if(e.rangeCount>1)return!1;var n=e.anchor;if(!n||!t.checkChild(n,"softBreak"))return!1;var i=e.getFirstRange(),o=i.start.parent,r=i.end.parent;if((Zl(o,t)||Zl(r,t))&&o!==r)return!1;return!0;}(t.schema,e.selection);}}]);return Jl;}(ql);function Kl(t,e){var n=t.createElement("softBreak");t.insert(n,e),t.setSelection(n,"after");}function Zl(t,e){return!t.is("rootElement")&&(e.isLimit(t)||Zl(t.parent,e));}var Xl=function(_zl3){_inherits(Xl,_zl3);function Xl(){_classCallCheck(this,Xl);return _possibleConstructorReturn(this,(Xl.__proto__||Object.getPrototypeOf(Xl)).apply(this,arguments));}_createClass(Xl,[{key:'init',value:function init(){var t=this.editor,e=t.model.schema,n=t.conversion,i=t.editing.view,o=i.document;e.register("softBreak",{allowWhere:"$text"}),n.for("upcast").add(Oa({model:"softBreak",view:"br"})),n.for("downcast").add(aa({model:"softBreak",view:function view(t,e){return e.createEmptyElement("br");}})),i.addObserver(Gl),t.commands.add("shiftEnter",new Jl(t)),this.listenTo(o,"enter",function(e,n){n.preventDefault(),n.isSoft&&(t.execute("shiftEnter"),i.scrollToTheSelection());},{priority:"low"});}}],[{key:'pluginName',get:function get(){return"ShiftEnter";}}]);return Xl;}(zl);var td=function(){function td(t){var _this113=this;var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:20;_classCallCheck(this,td);this.model=t,this.size=0,this.limit=e,this.isLocked=!1,this._changeCallback=function(t,e){"transparent"!=e.type&&e!==_this113._batch&&_this113._reset(!0);},this._selectionChangeCallback=function(){_this113._reset();},this.model.document.on("change",this._changeCallback),this.model.document.selection.on("change:range",this._selectionChangeCallback),this.model.document.selection.on("change:attribute",this._selectionChangeCallback);}_createClass(td,[{key:'input',value:function input(t){this.size+=t,this.size>=this.limit&&this._reset(!0);}},{key:'lock',value:function lock(){this.isLocked=!0;}},{key:'unlock',value:function unlock(){this.isLocked=!1;}},{key:'destroy',value:function destroy(){this.model.document.off("change",this._changeCallback),this.model.document.selection.off("change:range",this._selectionChangeCallback),this.model.document.selection.off("change:attribute",this._selectionChangeCallback);}},{key:'_reset',value:function _reset(t){this.isLocked&&!t||(this._batch=null,this.size=0);}},{key:'batch',get:function get(){return this._batch||(this._batch=this.model.createBatch()),this._batch;}}]);return td;}();var ed=function(_ql3){_inherits(ed,_ql3);function ed(t,e){var _this114;_classCallCheck(this,ed);(_this114=_possibleConstructorReturn(this,(ed.__proto__||Object.getPrototypeOf(ed)).call(this,t)),_this114),_this114._buffer=new td(t.model,e);return _this114;}_createClass(ed,[{key:'destroy',value:function destroy(){_get(ed.prototype.__proto__||Object.getPrototypeOf(ed.prototype),'destroy',this).call(this),this._buffer.destroy();}},{key:'execute',value:function execute(){var _this115=this;var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};var e=this.editor.model,n=e.document,i=t.text||"",o=i.length,r=t.range||n.selection.getFirstRange(),s=t.resultRange;e.enqueueChange(this._buffer.batch,function(t){var e=r.isCollapsed;_this115._buffer.lock(),e||t.remove(r),i&&t.insertText(i,n.selection.getAttributes(),r.start),s?t.setSelection(s):e&&t.setSelection(r.start.getShiftedBy(o)),_this115._buffer.unlock(),_this115._buffer.input(o);});}},{key:'buffer',get:function get(){return this._buffer;}}]);return ed;}(ql);function nd(t){var e=null;var n=t.model,i=t.editing.view,o=t.commands.get("input");function r(){var t=o.buffer;t.lock(),n.enqueueChange(t.batch,function(){n.deleteContent(n.document.selection);}),t.unlock();}i.document.on("keydown",function(t,s){return function(t){var s=n.document,a=i.document.isComposing,c=e&&e.isEqual(s.selection);if(e=null,!o.isEnabled)return;if(function(t){if(t.ctrlKey)return!0;return id.includes(t.keyCode);}(t)||s.selection.isCollapsed)return;if(a&&229===t.keyCode)return;if(!a&&229===t.keyCode&&c)return;r();}(s);},{priority:"lowest"}),i.document.on("compositionstart",function(){var t=n.document,e=1!==t.selection.rangeCount||t.selection.getFirstRange().isFlat;if(t.selection.isCollapsed||e)return;r();},{priority:"lowest"}),i.document.on("compositionend",function(){e=n.createSelection(n.document.selection);},{priority:"lowest"});}var id=[fo("arrowUp"),fo("arrowRight"),fo("arrowDown"),fo("arrowLeft"),9,16,17,18,19,20,27,33,34,35,36,45,91,93,144,145,173,174,175,176,177,178,179,255];for(var t=112;t<=135;t++){id.push(t);}function od(t){if(0==t.length)return!1;var _iteratorNormalCompletion264=true;var _didIteratorError264=false;var _iteratorError264=undefined;try{for(var _iterator264=t[Symbol.iterator](),_step264;!(_iteratorNormalCompletion264=(_step264=_iterator264.next()).done);_iteratorNormalCompletion264=true){var _e122=_step264.value;if("children"===_e122.type&&!rd(_e122))return!0;}}catch(err){_didIteratorError264=true;_iteratorError264=err;}finally{try{if(!_iteratorNormalCompletion264&&_iterator264.return){_iterator264.return();}}finally{if(_didIteratorError264){throw _iteratorError264;}}}return!1;}function rd(t){if(t.newChildren.length-t.oldChildren.length!=1)return;var e=function(t,e){var n=[];var i=void 0,o=0;return t.forEach(function(t){"equal"==t?(r(),o++):"insert"==t?(s("insert")?i.values.push(e[o]):(r(),i={type:"insert",index:o,values:[e[o]]}),o++):s("delete")?i.howMany++:(r(),i={type:"delete",index:o,howMany:1});}),r(),n;function r(){i&&(n.push(i),i=null);}function s(t){return i&&i.type==t;}}(Fo(t.oldChildren,t.newChildren,sd),t.newChildren);if(e.length>1)return;var n=e[0];return n.values[0]&&n.values[0].is("text")?n:void 0;}function sd(t,e){return t&&t.is("text")&&e&&e.is("text")?t.data===e.data:t===e;}var ad=function(){function ad(t){_classCallCheck(this,ad);this.editor=t,this.editing=this.editor.editing;}_createClass(ad,[{key:'handle',value:function handle(t,e){if(od(t))this._handleContainerChildrenMutations(t,e);else{var _iteratorNormalCompletion265=true;var _didIteratorError265=false;var _iteratorError265=undefined;try{for(var _iterator265=t[Symbol.iterator](),_step265;!(_iteratorNormalCompletion265=(_step265=_iterator265.next()).done);_iteratorNormalCompletion265=true){var _n93=_step265.value;this._handleTextMutation(_n93,e),this._handleTextNodeInsertion(_n93);}}catch(err){_didIteratorError265=true;_iteratorError265=err;}finally{try{if(!_iteratorNormalCompletion265&&_iterator265.return){_iterator265.return();}}finally{if(_didIteratorError265){throw _iteratorError265;}}}}}},{key:'_handleContainerChildrenMutations',value:function _handleContainerChildrenMutations(t,e){var n=function(t){var e=t.map(function(t){return t.node;}).reduce(function(t,e){return t.getCommonAncestor(e,{includeSelf:!0});});if(!e)return;return e.getAncestors({includeSelf:!0,parentFirst:!0}).find(function(t){return t.is("containerElement")||t.is("rootElement");});}(t);if(!n)return;var i=this.editor.editing.view.domConverter.mapViewToDom(n),o=new er(),r=this.editor.data.toModel(o.domToView(i)).getChild(0),s=this.editor.editing.mapper.toModelElement(n);if(!s)return;var a=Array.from(r.getChildren()),c=Array.from(s.getChildren()),l=a[a.length-1],d=c[c.length-1];if(l&&l.is("softBreak")&&d&&!d.is("softBreak")&&a.pop(),!cd(a)||!cd(c))return;var u=a.map(function(t){return t.is("text")?t.data:"@";}).join("").replace(/\u00A0/g," "),h=c.map(function(t){return t.is("text")?t.data:"@";}).join("").replace(/\u00A0/g," ");if(h===u)return;var f=Fo(h,u),_ld=ld(f),m=_ld.firstChangeAt,p=_ld.insertions,g=_ld.deletions;var b=null;e&&(b=this.editing.mapper.toModelRange(e.getFirstRange()));var w=u.substr(m,p),_=this.editor.model.createRange(this.editor.model.createPositionAt(s,m),this.editor.model.createPositionAt(s,m+g));this.editor.execute("input",{text:w,range:_,resultRange:b});}},{key:'_handleTextMutation',value:function _handleTextMutation(t,e){if("text"!=t.type)return;var n=t.newText.replace(/\u00A0/g," "),i=Fo(t.oldText.replace(/\u00A0/g," "),n),_ld2=ld(i),o=_ld2.firstChangeAt,r=_ld2.insertions,s=_ld2.deletions;var a=null;e&&(a=this.editing.mapper.toModelRange(e.getFirstRange()));var c=this.editing.view.createPositionAt(t.node,o),l=this.editing.mapper.toModelPosition(c),d=this.editor.model.createRange(l,l.getShiftedBy(s)),u=n.substr(o,r);this.editor.execute("input",{text:u,range:d,resultRange:a});}},{key:'_handleTextNodeInsertion',value:function _handleTextNodeInsertion(t){if("children"!=t.type)return;var e=rd(t),n=this.editing.view.createPositionAt(t.node,e.index),i=this.editing.mapper.toModelPosition(n),o=e.values[0].data;this.editor.execute("input",{text:o.replace(/\u00A0/g," "),range:this.editor.model.createRange(i)});}}]);return ad;}();function cd(t){return t.every(function(t){return t.is("text")||t.is("softBreak");});}function ld(t){var e=null,n=null;for(var _i28=0;_i28<t.length;_i28++){"equal"!=t[_i28]&&(e=null===e?_i28:e,n=_i28);}var i=0,o=0;for(var _r21=e;_r21<=n;_r21++){"insert"!=t[_r21]&&i++,"delete"!=t[_r21]&&o++;}return{insertions:o,deletions:i,firstChangeAt:e};}var dd=function(_zl4){_inherits(dd,_zl4);function dd(){_classCallCheck(this,dd);return _possibleConstructorReturn(this,(dd.__proto__||Object.getPrototypeOf(dd)).apply(this,arguments));}_createClass(dd,[{key:'init',value:function init(){var t=this.editor,e=new ed(t,t.config.get("typing.undoStep")||20);t.commands.add("input",e),nd(t),function(t){t.editing.view.document.on("mutations",function(e,n,i){new ad(t).handle(n,i);});}(t);}}],[{key:'pluginName',get:function get(){return"Input";}}]);return dd;}(zl);var ud=function(_ql4){_inherits(ud,_ql4);function ud(t,e){var _this117;_classCallCheck(this,ud);(_this117=_possibleConstructorReturn(this,(ud.__proto__||Object.getPrototypeOf(ud)).call(this,t)),_this117),_this117.direction=e,_this117._buffer=new td(t.model,t.config.get("typing.undoStep"));return _this117;}_createClass(ud,[{key:'execute',value:function execute(){var _this118=this;var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};var e=this.editor.model,n=e.document;e.enqueueChange(this._buffer.batch,function(i){_this118._buffer.lock();var o=i.createSelection(n.selection),r=o.isCollapsed;if(o.isCollapsed&&e.modifySelection(o,{direction:_this118.direction,unit:t.unit}),_this118._shouldEntireContentBeReplacedWithParagraph(t.sequence||1))return void _this118._replaceEntireContentWithParagraph(i);if(o.isCollapsed)return;var s=0;o.getFirstRange().getMinimalFlatRanges().forEach(function(t){s+=Ji(t.getWalker({singleCharacters:!0,ignoreElementEnd:!0,shallow:!0}));}),e.deleteContent(o,{doNotResetEntireContent:r}),_this118._buffer.input(s),i.setSelection(o),_this118._buffer.unlock();});}},{key:'_shouldEntireContentBeReplacedWithParagraph',value:function _shouldEntireContentBeReplacedWithParagraph(t){if(t>1)return!1;var e=this.editor.model,n=e.document.selection,i=e.schema.getLimitElement(n);if(!(n.isCollapsed&&n.containsEntireContent(i)))return!1;if(!e.schema.checkChild(i,"paragraph"))return!1;var o=i.getChild(0);return!o||"paragraph"!==o.name;}},{key:'_replaceEntireContentWithParagraph',value:function _replaceEntireContentWithParagraph(t){var e=this.editor.model,n=e.document.selection,i=e.schema.getLimitElement(n),o=t.createElement("paragraph");t.remove(t.createRangeIn(i)),t.insert(o,i),t.setSelection(o,0);}}]);return ud;}(ql);var hd=function(_cr6){_inherits(hd,_cr6);function hd(t){_classCallCheck(this,hd);var _this119=_possibleConstructorReturn(this,(hd.__proto__||Object.getPrototypeOf(hd)).call(this,t));var e=t.document;var n=0;e.on("keyup",function(t,e){e.keyCode!=ho.delete&&e.keyCode!=ho.backspace||(n=0);}),e.on("keydown",function(t,i){var o={};if(i.keyCode==ho.delete)o.direction="forward",o.unit="character";else{if(i.keyCode!=ho.backspace)return;o.direction="backward",o.unit="codePoint";}var r=co.isMac?i.altKey:i.ctrlKey;var s=void 0;o.unit=r?"word":o.unit,o.sequence=++n,e.once("delete",function(t){return s=t;},{priority:"highest"}),e.fire("delete",new Qr(e,i.domEvent,o)),s&&s.stop.called&&t.stop();});return _this119;}_createClass(hd,[{key:'observe',value:function observe(){}}]);return hd;}(cr);function fd(t){var e=t.model,n=t.editing.view,i=200;var o=null,r=e.createSelection(e.document.selection),s=Date.now();e.document.selection.on("change",function(t){var n=e.createSelection(t.source);r.isEqual(n)||(o=r,r=n,s=Date.now());}),n.document.on("mutations",function(n,a){od(a)&&function(t){var _iteratorNormalCompletion266=true;var _didIteratorError266=false;var _iteratorError266=undefined;try{for(var _iterator266=t[Symbol.iterator](),_step266;!(_iteratorNormalCompletion266=(_step266=_iterator266.next()).done);_iteratorNormalCompletion266=true){var _e123=_step266.value;if("children"!==_e123.type)continue;var _t163=_e123.oldChildren,_n94=_e123.newChildren;if(!md(_t163))continue;var _i29=Fo(_t163,_n94),_o57=_i29.some(function(t){return"delete"===t;}),_r22=_i29.some(function(t){return"insert"===t;});if(_o57&&!_r22)return!0;}}catch(err){_didIteratorError266=true;_iteratorError266=err;}finally{try{if(!_iteratorNormalCompletion266&&_iterator266.return){_iterator266.return();}}finally{if(_didIteratorError266){throw _iteratorError266;}}}return!1;}(a)&&(!function(){Date.now()-s<i&&o&&!o.isCollapsed&&r.isCollapsed&&r.getLastPosition().isEqual(o.getLastPosition())&&e.enqueueChange(function(t){t.setSelection(o);});t.execute("delete");}(),n.stop());},{priority:"highest"});}function md(t){return t.every(function(t){return t.is("containerElement");});}var pd=function(_zl5){_inherits(pd,_zl5);function pd(){_classCallCheck(this,pd);return _possibleConstructorReturn(this,(pd.__proto__||Object.getPrototypeOf(pd)).apply(this,arguments));}_createClass(pd,[{key:'init',value:function init(){var t=this.editor,e=t.editing.view,n=e.document;e.addObserver(hd),t.commands.add("forwardDelete",new ud(t,"forward")),t.commands.add("delete",new ud(t,"backward")),this.listenTo(n,"delete",function(n,i){t.execute("forward"==i.direction?"forwardDelete":"delete",{unit:i.unit,sequence:i.sequence}),i.preventDefault(),e.scrollToTheSelection();}),fd(t);}}],[{key:'pluginName',get:function get(){return"Delete";}}]);return pd;}(zl);var gd=function(_zl6){_inherits(gd,_zl6);function gd(){_classCallCheck(this,gd);return _possibleConstructorReturn(this,(gd.__proto__||Object.getPrototypeOf(gd)).apply(this,arguments));}_createClass(gd,null,[{key:'requires',get:function get(){return[dd,pd];}},{key:'pluginName',get:function get(){return"Typing";}}]);return gd;}(zl);var bd=function(_qa10){_inherits(bd,_qa10);function bd(){_classCallCheck(this,bd);return _possibleConstructorReturn(this,(bd.__proto__||Object.getPrototypeOf(bd)).apply(this,arguments));}_createClass(bd,[{key:'clone',value:function clone(){return new bd(this.baseVersion);}},{key:'getReversed',value:function getReversed(){return new bd(this.baseVersion+1);}},{key:'_execute',value:function _execute(){}},{key:'type',get:function get(){return"noop";}}],[{key:'className',get:function get(){return"NoOperation";}}]);return bd;}(qa);var wd=new Map();function _d(t,e,n){var i=wd.get(t);i||(i=new Map(),wd.set(t,i)),i.set(e,n);}function kd(t){return[t];}function vd(t,e){var n=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{};var i=function(t,e){var n=wd.get(t);return n&&n.has(e)?n.get(e):kd;}(t.constructor,e.constructor);try{return i(t=t.clone(),e,n);}catch(i){throw fs.a.error("Error during operation transformation!",i.message),fs.a.error("Transformed operation",t),fs.a.error("Operation transformed by",e),fs.a.error("context.aIsStrong",n.aIsStrong),fs.a.error("context.aWasUndone",n.aWasUndone),fs.a.error("context.bWasUndone",n.bWasUndone),fs.a.error("context.abRelation",n.abRelation),fs.a.error("context.baRelation",n.baRelation),i;}}function yd(t,e,n){if(t=t.slice(),e=e.slice(),0==t.length||0==e.length)return{operationsA:t,operationsB:e};var i=new WeakMap();var _iteratorNormalCompletion267=true;var _didIteratorError267=false;var _iteratorError267=undefined;try{for(var _iterator267=t[Symbol.iterator](),_step267;!(_iteratorNormalCompletion267=(_step267=_iterator267.next()).done);_iteratorNormalCompletion267=true){var _e124=_step267.value;i.set(_e124,0);}}catch(err){_didIteratorError267=true;_iteratorError267=err;}finally{try{if(!_iteratorNormalCompletion267&&_iterator267.return){_iterator267.return();}}finally{if(_didIteratorError267){throw _iteratorError267;}}}var o={nextBaseVersionA:t[t.length-1].baseVersion+1,nextBaseVersionB:e[e.length-1].baseVersion+1,originalOperationsACount:t.length,originalOperationsBCount:e.length},r=new xd(n.document,n.useRelations);r.setOriginalOperations(t),r.setOriginalOperations(e);var s=0;for(;s<t.length;){var _t165,_e125;var _n95=t[s],_o58=i.get(_n95);if(_o58==e.length){s++;continue;}var _a10=e[_o58],_c4=vd(_n95,_a10,r.getContext(_n95,_a10,!0)),_l2=vd(_a10,_n95,r.getContext(_a10,_n95,!1));r.updateRelation(_n95,_a10),r.setOriginalOperations(_c4,_n95),r.setOriginalOperations(_l2,_a10);var _iteratorNormalCompletion268=true;var _didIteratorError268=false;var _iteratorError268=undefined;try{for(var _iterator268=_c4[Symbol.iterator](),_step268;!(_iteratorNormalCompletion268=(_step268=_iterator268.next()).done);_iteratorNormalCompletion268=true){var _t164=_step268.value;i.set(_t164,_o58+_l2.length);}}catch(err){_didIteratorError268=true;_iteratorError268=err;}finally{try{if(!_iteratorNormalCompletion268&&_iterator268.return){_iterator268.return();}}finally{if(_didIteratorError268){throw _iteratorError268;}}}(_t165=t).splice.apply(_t165,[s,1].concat(_toConsumableArray(_c4))),(_e125=e).splice.apply(_e125,[_o58,1].concat(_toConsumableArray(_l2)));}if(n.padWithNoOps){var _n96=t.length-o.originalOperationsACount,_i30=e.length-o.originalOperationsBCount;Cd(t,_i30-_n96),Cd(e,_n96-_i30);}return Ad(t,o.nextBaseVersionB),Ad(e,o.nextBaseVersionA),{operationsA:t,operationsB:e};}var xd=function(){function xd(t,e){_classCallCheck(this,xd);this._history=t.history,this._useRelations=e,this._originalOperations=new Map(),this._relations=new Map();}_createClass(xd,[{key:'setOriginalOperations',value:function setOriginalOperations(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:null;var n=e?this._originalOperations.get(e):null;var _iteratorNormalCompletion269=true;var _didIteratorError269=false;var _iteratorError269=undefined;try{for(var _iterator269=t[Symbol.iterator](),_step269;!(_iteratorNormalCompletion269=(_step269=_iterator269.next()).done);_iteratorNormalCompletion269=true){var _e126=_step269.value;this._originalOperations.set(_e126,n||_e126);}}catch(err){_didIteratorError269=true;_iteratorError269=err;}finally{try{if(!_iteratorNormalCompletion269&&_iterator269.return){_iterator269.return();}}finally{if(_didIteratorError269){throw _iteratorError269;}}}}},{key:'updateRelation',value:function updateRelation(t,e){switch(t.constructor){case nc:switch(e.constructor){case ac:t.targetPosition.isEqual(e.sourcePosition)||e.movedRange.containsPosition(t.targetPosition)?this._setRelation(t,e,"insertAtSource"):t.targetPosition.isEqual(e.deletionPosition)?this._setRelation(t,e,"insertBetween"):t.targetPosition.isAfter(e.sourcePosition)&&this._setRelation(t,e,"moveTargetAfter");break;case nc:t.targetPosition.isEqual(e.sourcePosition)||t.targetPosition.isBefore(e.sourcePosition)?this._setRelation(t,e,"insertBefore"):this._setRelation(t,e,"insertAfter");}break;case cc:switch(e.constructor){case ac:t.splitPosition.isBefore(e.sourcePosition)&&this._setRelation(t,e,"splitBefore");break;case nc:(t.splitPosition.isEqual(e.sourcePosition)||t.splitPosition.isBefore(e.sourcePosition))&&this._setRelation(t,e,"splitBefore");}break;case ac:switch(e.constructor){case ac:t.targetPosition.isEqual(e.sourcePosition)||this._setRelation(t,e,"mergeTargetNotMoved"),t.sourcePosition.isEqual(e.sourcePosition)&&this._setRelation(t,e,"mergeSameElement");break;case cc:t.sourcePosition.isEqual(e.splitPosition)&&this._setRelation(t,e,"splitAtSource");}}}},{key:'getContext',value:function getContext(t,e,n){return{aIsStrong:n,aWasUndone:this._wasUndone(t),bWasUndone:this._wasUndone(e),abRelation:this._useRelations?this._getRelation(t,e):null,baRelation:this._useRelations?this._getRelation(e,t):null};}},{key:'_wasUndone',value:function _wasUndone(t){var e=this._originalOperations.get(t);return e.wasUndone||this._history.isUndoneOperation(e);}},{key:'_getRelation',value:function _getRelation(t,e){var n=this._originalOperations.get(e),i=this._history.getUndoneOperation(n);if(!i)return null;var o=this._originalOperations.get(t),r=this._relations.get(o);return r&&r.get(i)||null;}},{key:'_setRelation',value:function _setRelation(t,e,n){var i=this._originalOperations.get(t),o=this._originalOperations.get(e);var r=this._relations.get(i);r||(r=new Map(),this._relations.set(i,r)),r.set(o,n);}}]);return xd;}();function Ad(t,e){var _iteratorNormalCompletion270=true;var _didIteratorError270=false;var _iteratorError270=undefined;try{for(var _iterator270=t[Symbol.iterator](),_step270;!(_iteratorNormalCompletion270=(_step270=_iterator270.next()).done);_iteratorNormalCompletion270=true){var _n97=_step270.value;_n97.baseVersion=e++;}}catch(err){_didIteratorError270=true;_iteratorError270=err;}finally{try{if(!_iteratorNormalCompletion270&&_iterator270.return){_iterator270.return();}}finally{if(_didIteratorError270){throw _iteratorError270;}}}}function Cd(t,e){for(var _n98=0;_n98<e;_n98++){t.push(new bd(0));}}function Td(t,e,n){var i=t.nodes.getNode(0).getAttribute(e);if(i==n)return null;var o=new qs(t.position,t.position.getShiftedBy(t.howMany));return new tc(o,e,i,n,0);}function Pd(t,e){return null===t.targetPosition._getTransformedByDeletion(e.sourcePosition,e.howMany);}function Md(t,e){var n=[];for(var i=0;i<t.length;i++){var _o59=t[i],_r23=new nc(_o59.start,_o59.end.offset-_o59.start.offset,e.isEqual(_o59.end)?_o59.start:e,0);n.push(_r23);for(var _e127=i+1;_e127<t.length;_e127++){t[_e127]=t[_e127]._getTransformedByMove(_r23.sourcePosition,_r23.targetPosition,_r23.howMany)[0];}e=e._getTransformedByMove(_r23.sourcePosition,_r23.targetPosition,_r23.howMany);}return n;}_d(tc,tc,function(t,e,n){if(t.key===e.key){var i=t.range.getDifference(e.range).map(function(e){return new tc(e,t.key,t.oldValue,t.newValue,0);}),_o60=t.range.getIntersection(e.range);return _o60&&n.aIsStrong&&i.push(new tc(_o60,e.key,e.newValue,t.newValue,0)),0==i.length?[new bd(0)]:i;}return[t];}),_d(tc,ic,function(t,e){if(t.range.start.hasSameParentAs(e.position)&&t.range.containsPosition(e.position)){var _n99=t.range._getTransformedByInsertion(e.position,e.howMany,!e.shouldReceiveAttributes).map(function(e){return new tc(e,t.key,t.oldValue,t.newValue,t.baseVersion);});if(e.shouldReceiveAttributes){var i=Td(e,t.key,t.oldValue);i&&_n99.unshift(i);}return _n99;}return t.range=t.range._getTransformedByInsertion(e.position,e.howMany,!1)[0],[t];}),_d(tc,ac,function(t,e){var n=[];t.range.start.hasSameParentAs(e.deletionPosition)&&(t.range.containsPosition(e.deletionPosition)||t.range.start.isEqual(e.deletionPosition))&&n.push(qs._createFromPositionAndShift(e.graveyardPosition,1));var i=t.range._getTransformedByMergeOperation(e);return i.isCollapsed||n.push(i),n.map(function(e){return new tc(e,t.key,t.oldValue,t.newValue,t.baseVersion);});}),_d(tc,nc,function(t,e){return function(t,e){var n=qs._createFromPositionAndShift(e.sourcePosition,e.howMany);var i=null,o=[];n.containsRange(t,!0)?i=t:t.start.hasSameParentAs(n.start)?(o=t.getDifference(n),i=t.getIntersection(n)):o=[t];var r=[];var _iteratorNormalCompletion271=true;var _didIteratorError271=false;var _iteratorError271=undefined;try{for(var _iterator271=o[Symbol.iterator](),_step271;!(_iteratorNormalCompletion271=(_step271=_iterator271.next()).done);_iteratorNormalCompletion271=true){var _t166=_step271.value;_t166=_t166._getTransformedByDeletion(e.sourcePosition,e.howMany);var _n100=e.getMovedRangeStart(),_i31=_t166.start.hasSameParentAs(_n100);_t166=_t166._getTransformedByInsertion(_n100,e.howMany,_i31),r.push.apply(r,_toConsumableArray(_t166));}}catch(err){_didIteratorError271=true;_iteratorError271=err;}finally{try{if(!_iteratorNormalCompletion271&&_iterator271.return){_iterator271.return();}}finally{if(_didIteratorError271){throw _iteratorError271;}}}i&&r.push(i._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany,!1)[0]);return r;}(t.range,e).map(function(e){return new tc(e,t.key,t.oldValue,t.newValue,t.baseVersion);});}),_d(tc,cc,function(t,e){if(t.range.end.isEqual(e.insertionPosition))return e.graveyardPosition||t.range.end.offset++,[t];if(t.range.start.hasSameParentAs(e.splitPosition)&&t.range.containsPosition(e.splitPosition)){var _n101=t.clone();return _n101.range=new qs(e.moveTargetPosition.clone(),t.range.end._getCombined(e.splitPosition,e.moveTargetPosition)),t.range.end=e.splitPosition.clone(),t.range.end.stickiness="toPrevious",[t,_n101];}return t.range=t.range._getTransformedBySplitOperation(e),[t];}),_d(ic,tc,function(t,e){var n=[t];if(t.shouldReceiveAttributes&&t.position.hasSameParentAs(e.range.start)&&e.range.containsPosition(t.position)){var i=Td(t,e.key,e.newValue);i&&n.push(i);}return n;}),_d(ic,ic,function(t,e,n){return t.position.isEqual(e.position)&&n.aIsStrong?[t]:(t.position=t.position._getTransformedByInsertOperation(e),[t]);}),_d(ic,nc,function(t,e){return t.position=t.position._getTransformedByMoveOperation(e),[t];}),_d(ic,cc,function(t,e){return t.position=t.position._getTransformedBySplitOperation(e),[t];}),_d(ic,ac,function(t,e){return t.position=t.position._getTransformedByMergeOperation(e),[t];}),_d(oc,ic,function(t,e){return t.oldRange&&(t.oldRange=t.oldRange._getTransformedByInsertOperation(e)[0]),t.newRange&&(t.newRange=t.newRange._getTransformedByInsertOperation(e)[0]),[t];}),_d(oc,oc,function(t,e,n){if(t.name==e.name){if(!n.aIsStrong)return[new bd(0)];t.oldRange=e.newRange?e.newRange.clone():null;}return[t];}),_d(oc,ac,function(t,e){return t.oldRange&&(t.oldRange=t.oldRange._getTransformedByMergeOperation(e)),t.newRange&&(t.newRange=t.newRange._getTransformedByMergeOperation(e)),[t];}),_d(oc,nc,function(t,e){return t.oldRange&&(t.oldRange=qs._createFromRanges(t.oldRange._getTransformedByMoveOperation(e))),t.newRange&&(t.newRange=qs._createFromRanges(t.newRange._getTransformedByMoveOperation(e))),[t];}),_d(oc,cc,function(t,e){return t.oldRange&&(t.oldRange=t.oldRange._getTransformedBySplitOperation(e)),t.newRange&&(t.newRange=t.newRange._getTransformedBySplitOperation(e)),[t];}),_d(ac,ic,function(t,e){return t.sourcePosition.hasSameParentAs(e.position)&&(t.howMany+=e.howMany),t.sourcePosition=t.sourcePosition._getTransformedByInsertOperation(e),t.targetPosition=t.targetPosition._getTransformedByInsertOperation(e),[t];}),_d(ac,ac,function(t,e,n){if(t.sourcePosition.isEqual(e.sourcePosition)&&t.targetPosition.isEqual(e.targetPosition)){if(n.bWasUndone){var _n102=e.graveyardPosition.path.slice();return _n102.push(0),t.sourcePosition=new Hs(e.graveyardPosition.root,_n102),t.howMany=0,[t];}return[new bd(0)];}if(t.sourcePosition.isEqual(e.sourcePosition)&&!t.targetPosition.isEqual(e.targetPosition)&&!n.bWasUndone&&"splitAtSource"!=n.abRelation){var i="$graveyard"==t.targetPosition.root.rootName,_o61="$graveyard"==e.targetPosition.root.rootName;if(_o61&&!i||!(i&&!_o61)&&n.aIsStrong){var _n103=e.targetPosition._getTransformedByMergeOperation(e),_i32=t.targetPosition._getTransformedByMergeOperation(e);return[new nc(_n103,t.howMany,_i32,0)];}return[new bd(0)];}return t.sourcePosition.hasSameParentAs(e.targetPosition)&&(t.howMany+=e.howMany),t.sourcePosition=t.sourcePosition._getTransformedByMergeOperation(e),t.targetPosition=t.targetPosition._getTransformedByMergeOperation(e),t.graveyardPosition.isEqual(e.graveyardPosition)&&n.aIsStrong||(t.graveyardPosition=t.graveyardPosition._getTransformedByMergeOperation(e)),[t];}),_d(ac,nc,function(t,e,n){var i=qs._createFromPositionAndShift(e.sourcePosition,e.howMany);return"remove"==e.type&&!n.bWasUndone&&t.deletionPosition.hasSameParentAs(e.sourcePosition)&&i.containsPosition(t.sourcePosition)?[new bd(0)]:(t.sourcePosition.hasSameParentAs(e.targetPosition)&&(t.howMany+=e.howMany),t.sourcePosition.hasSameParentAs(e.sourcePosition)&&(t.howMany-=e.howMany),t.sourcePosition=t.sourcePosition._getTransformedByMoveOperation(e),t.targetPosition=t.targetPosition._getTransformedByMoveOperation(e),t.graveyardPosition.isEqual(e.targetPosition)||(t.graveyardPosition=t.graveyardPosition._getTransformedByMoveOperation(e)),[t]);}),_d(ac,cc,function(t,e,n){if(e.graveyardPosition&&(t.graveyardPosition=t.graveyardPosition._getTransformedByDeletion(e.graveyardPosition,1),t.deletionPosition.isEqual(e.graveyardPosition)&&(t.howMany=e.howMany)),t.targetPosition.isEqual(e.splitPosition)){var i=0!=e.howMany,_o62=e.graveyardPosition&&t.deletionPosition.isEqual(e.graveyardPosition);if(i||_o62||"mergeTargetNotMoved"==n.abRelation)return t.sourcePosition=t.sourcePosition._getTransformedBySplitOperation(e),[t];}return t.sourcePosition.isEqual(e.splitPosition)&&("mergeSameElement"==n.abRelation||t.sourcePosition.offset>0)?(t.sourcePosition=e.moveTargetPosition.clone(),t.targetPosition=t.targetPosition._getTransformedBySplitOperation(e),[t]):(t.sourcePosition.hasSameParentAs(e.splitPosition)&&(t.howMany=e.splitPosition.offset),t.sourcePosition=t.sourcePosition._getTransformedBySplitOperation(e),t.targetPosition=t.targetPosition._getTransformedBySplitOperation(e),[t]);}),_d(nc,ic,function(t,e){var n=qs._createFromPositionAndShift(t.sourcePosition,t.howMany)._getTransformedByInsertOperation(e,!1)[0];return t.sourcePosition=n.start,t.howMany=n.end.offset-n.start.offset,t.targetPosition.isEqual(e.position)||(t.targetPosition=t.targetPosition._getTransformedByInsertOperation(e)),[t];}),_d(nc,nc,function(t,e,n){var i=qs._createFromPositionAndShift(t.sourcePosition,t.howMany),o=qs._createFromPositionAndShift(e.sourcePosition,e.howMany);var r=void 0,s=n.aIsStrong,a=!n.aIsStrong;if("insertBefore"==n.abRelation||"insertAfter"==n.baRelation?a=!0:"insertAfter"!=n.abRelation&&"insertBefore"!=n.baRelation||(a=!1),r=t.targetPosition.isEqual(e.targetPosition)&&a?t.targetPosition._getTransformedByDeletion(e.sourcePosition,e.howMany):t.targetPosition._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany),Pd(t,e)&&Pd(e,t))return[e.getReversed()];if(i.containsPosition(e.targetPosition)&&i.containsRange(o,!0))return i.start=i.start._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany),i.end=i.end._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany),Md([i],r);if(o.containsPosition(t.targetPosition)&&o.containsRange(i,!0))return i.start=i.start._getCombined(e.sourcePosition,e.getMovedRangeStart()),i.end=i.end._getCombined(e.sourcePosition,e.getMovedRangeStart()),Md([i],r);var c=U(t.sourcePosition.getParentPath(),e.sourcePosition.getParentPath());if("prefix"==c||"extension"==c)return i.start=i.start._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany),i.end=i.end._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany),Md([i],r);"remove"!=t.type||"remove"==e.type||n.aWasUndone?"remove"==t.type||"remove"!=e.type||n.bWasUndone||(s=!1):s=!0;var l=[],d=i.getDifference(o);var _iteratorNormalCompletion272=true;var _didIteratorError272=false;var _iteratorError272=undefined;try{for(var _iterator272=d[Symbol.iterator](),_step272;!(_iteratorNormalCompletion272=(_step272=_iterator272.next()).done);_iteratorNormalCompletion272=true){var _t167=_step272.value;_t167.start=_t167.start._getTransformedByDeletion(e.sourcePosition,e.howMany),_t167.end=_t167.end._getTransformedByDeletion(e.sourcePosition,e.howMany);var _n104="same"==U(_t167.start.getParentPath(),e.getMovedRangeStart().getParentPath()),_i33=_t167._getTransformedByInsertion(e.getMovedRangeStart(),e.howMany,_n104);l.push.apply(l,_toConsumableArray(_i33));}}catch(err){_didIteratorError272=true;_iteratorError272=err;}finally{try{if(!_iteratorNormalCompletion272&&_iterator272.return){_iterator272.return();}}finally{if(_didIteratorError272){throw _iteratorError272;}}}var u=i.getIntersection(o);return null!==u&&s&&(u.start=u.start._getCombined(e.sourcePosition,e.getMovedRangeStart()),u.end=u.end._getCombined(e.sourcePosition,e.getMovedRangeStart()),0===l.length?l.push(u):1==l.length?o.start.isBefore(i.start)||o.start.isEqual(i.start)?l.unshift(u):l.push(u):l.splice(1,0,u)),0===l.length?[new bd(t.baseVersion)]:Md(l,r);}),_d(nc,cc,function(t,e,n){var i=t.targetPosition.clone();t.targetPosition.isEqual(e.insertionPosition)&&e.graveyardPosition&&"moveTargetAfter"!=n.abRelation||(i=t.targetPosition._getTransformedBySplitOperation(e));var o=qs._createFromPositionAndShift(t.sourcePosition,t.howMany);if(o.end.isEqual(e.insertionPosition))return e.graveyardPosition||t.howMany++,t.targetPosition=i,[t];if(o.start.hasSameParentAs(e.splitPosition)&&o.containsPosition(e.splitPosition)){var _t168=new qs(e.splitPosition,o.end);return _t168=_t168._getTransformedBySplitOperation(e),Md([new qs(o.start,e.splitPosition),_t168],i);}t.targetPosition.isEqual(e.splitPosition)&&"insertAtSource"==n.abRelation&&(i=e.moveTargetPosition),t.targetPosition.isEqual(e.insertionPosition)&&"insertBetween"==n.abRelation&&(i=t.targetPosition);var r=[o._getTransformedBySplitOperation(e)];if(e.graveyardPosition){var _n105=o.start.isEqual(e.graveyardPosition)||o.containsPosition(e.graveyardPosition);t.howMany>1&&_n105&&r.push(qs._createFromPositionAndShift(e.insertionPosition,1));}return Md(r,i);}),_d(nc,ac,function(t,e,n){var i=qs._createFromPositionAndShift(t.sourcePosition,t.howMany);if(e.deletionPosition.hasSameParentAs(t.sourcePosition)&&i.containsPosition(e.sourcePosition))if("remove"==t.type){if(!n.aWasUndone){var _n106=[];var _i34=e.graveyardPosition.clone(),_o63=e.targetPosition.clone();t.howMany>1&&(_n106.push(new nc(t.sourcePosition,t.howMany-1,t.targetPosition,0)),_i34=_i34._getTransformedByInsertion(t.targetPosition,t.howMany-1),_o63=_o63._getTransformedByMove(t.sourcePosition,t.targetPosition,t.howMany-1));var _r24=e.deletionPosition._getCombined(t.sourcePosition,t.targetPosition),_s17=new nc(_i34,1,_r24,0),_a11=_s17.getMovedRangeStart().path.slice();_a11.push(0);var _c5=new Hs(_s17.targetPosition.root,_a11),_l3=new nc(_o63,e.howMany,_c5,0);return _n106.push(_s17),_n106.push(_l3),_n106;}}else if(1==t.howMany)return n.bWasUndone?(t.sourcePosition=e.graveyardPosition.clone(),t.targetPosition=t.targetPosition._getTransformedByMergeOperation(e),[t]):[new bd(0)];var o=qs._createFromPositionAndShift(t.sourcePosition,t.howMany)._getTransformedByMergeOperation(e);return t.sourcePosition=o.start,t.howMany=o.end.offset-o.start.offset,t.targetPosition=t.targetPosition._getTransformedByMergeOperation(e),[t];}),_d(rc,ic,function(t,e){return t.position=t.position._getTransformedByInsertOperation(e),[t];}),_d(rc,ac,function(t,e){return t.position.isEqual(e.deletionPosition)?(t.position=e.graveyardPosition.clone(),t.position.stickiness="toNext",[t]):(t.position=t.position._getTransformedByMergeOperation(e),[t]);}),_d(rc,nc,function(t,e){return t.position=t.position._getTransformedByMoveOperation(e),[t];}),_d(rc,rc,function(t,e,n){if(t.position.isEqual(e.position)){if(!n.aIsStrong)return[new bd(0)];t.oldName=e.newName;}return[t];}),_d(rc,cc,function(t,e){if("same"==U(t.position.path,e.splitPosition.getParentPath())&&!e.graveyardPosition){return[t,new rc(t.position.getShiftedBy(1),t.oldName,t.newName,0)];}return t.position=t.position._getTransformedBySplitOperation(e),[t];}),_d(sc,sc,function(t,e,n){if(t.root===e.root&&t.key===e.key){if(!n.aIsStrong||t.newValue===e.newValue)return[new bd(0)];t.oldValue=e.newValue;}return[t];}),_d(cc,ic,function(t,e){return t.splitPosition.hasSameParentAs(e.position)&&t.splitPosition.offset<e.position.offset&&(t.howMany+=e.howMany),t.splitPosition=t.splitPosition._getTransformedByInsertOperation(e),t.insertionPosition=cc.getInsertionPosition(t.splitPosition),[t];}),_d(cc,ac,function(t,e,n){if(!t.graveyardPosition&&!n.bWasUndone&&t.splitPosition.hasSameParentAs(e.sourcePosition)){var _n107=e.graveyardPosition.path.slice();_n107.push(0);var i=new Hs(e.graveyardPosition.root,_n107),_o64=cc.getInsertionPosition(new Hs(e.graveyardPosition.root,_n107)),_r25=new cc(i,0,null,0);return _r25.insertionPosition=_o64,t.splitPosition=t.splitPosition._getTransformedByMergeOperation(e),t.insertionPosition=cc.getInsertionPosition(t.splitPosition),t.graveyardPosition=_r25.insertionPosition.clone(),t.graveyardPosition.stickiness="toNext",[_r25,t];}return t.splitPosition.hasSameParentAs(e.deletionPosition)&&!t.splitPosition.isAfter(e.deletionPosition)&&t.howMany--,t.splitPosition.hasSameParentAs(e.targetPosition)&&(t.howMany+=e.howMany),t.splitPosition=t.splitPosition._getTransformedByMergeOperation(e),t.insertionPosition=cc.getInsertionPosition(t.splitPosition),t.graveyardPosition&&(t.graveyardPosition=t.graveyardPosition._getTransformedByMergeOperation(e)),[t];}),_d(cc,nc,function(t,e,n){var i=qs._createFromPositionAndShift(e.sourcePosition,e.howMany);if(t.graveyardPosition){if(i.start.isEqual(t.graveyardPosition)||i.containsPosition(t.graveyardPosition)){var _n108=t.splitPosition._getTransformedByMoveOperation(e),_i35=t.graveyardPosition._getTransformedByMoveOperation(e),_o65=_i35.path.slice();_o65.push(0);var _r26=new Hs(_i35.root,_o65);return[new nc(_n108,t.howMany,_r26,0)];}t.graveyardPosition=t.graveyardPosition._getTransformedByMoveOperation(e);}if(t.splitPosition.hasSameParentAs(e.sourcePosition)&&i.containsPosition(t.splitPosition)){var _n109=e.howMany-(t.splitPosition.offset-e.sourcePosition.offset);return t.howMany-=_n109,t.splitPosition.hasSameParentAs(e.targetPosition)&&t.splitPosition.offset<e.targetPosition.offset&&(t.howMany+=e.howMany),t.splitPosition=e.sourcePosition.clone(),t.insertionPosition=cc.getInsertionPosition(t.splitPosition),[t];}return!t.splitPosition.isEqual(e.targetPosition)||"insertAtSource"!=n.baRelation&&"splitBefore"!=n.abRelation?(e.sourcePosition.isEqual(e.targetPosition)||(t.splitPosition.hasSameParentAs(e.sourcePosition)&&t.splitPosition.offset<=e.sourcePosition.offset&&(t.howMany-=e.howMany),t.splitPosition.hasSameParentAs(e.targetPosition)&&t.splitPosition.offset<e.targetPosition.offset&&(t.howMany+=e.howMany)),t.splitPosition.stickiness="toNone",t.splitPosition=t.splitPosition._getTransformedByMoveOperation(e),t.splitPosition.stickiness="toNext",t.graveyardPosition?t.insertionPosition=t.insertionPosition._getTransformedByMoveOperation(e):t.insertionPosition=cc.getInsertionPosition(t.splitPosition),[t]):(t.howMany+=e.howMany,t.splitPosition=t.splitPosition._getTransformedByDeletion(e.sourcePosition,e.howMany),t.insertionPosition=cc.getInsertionPosition(t.splitPosition),[t]);}),_d(cc,cc,function(t,e,n){if(t.splitPosition.isEqual(e.splitPosition)){if(!t.graveyardPosition&&!e.graveyardPosition)return[new bd(0)];if(t.graveyardPosition&&e.graveyardPosition&&t.graveyardPosition.isEqual(e.graveyardPosition))return[new bd(0)];}if(t.graveyardPosition&&e.graveyardPosition&&t.graveyardPosition.isEqual(e.graveyardPosition)){var i="$graveyard"==t.splitPosition.root.rootName,_o66="$graveyard"==e.splitPosition.root.rootName;if(_o66&&!i||!(i&&!_o66)&&n.aIsStrong){var _n110=[];return e.howMany&&_n110.push(new nc(e.moveTargetPosition,e.howMany,e.splitPosition,0)),t.howMany&&_n110.push(new nc(t.splitPosition,t.howMany,t.moveTargetPosition,0)),_n110;}return[new bd(0)];}if(t.graveyardPosition&&(t.graveyardPosition=t.graveyardPosition._getTransformedBySplitOperation(e)),t.splitPosition.isEqual(e.insertionPosition)&&"splitBefore"==n.abRelation)return t.howMany++,[t];if(e.splitPosition.isEqual(t.insertionPosition)&&"splitBefore"==n.baRelation){var _n111=e.insertionPosition.path.slice();_n111.push(0);var _i36=new Hs(e.insertionPosition.root,_n111);return[t,new nc(t.insertionPosition,1,_i36,0)];}return t.splitPosition.hasSameParentAs(e.splitPosition)&&t.splitPosition.offset<e.splitPosition.offset&&(t.howMany-=e.howMany),t.splitPosition=t.splitPosition._getTransformedBySplitOperation(e),t.insertionPosition=cc.getInsertionPosition(t.splitPosition),[t];});var Sd=function(_ql5){_inherits(Sd,_ql5);function Sd(t){var _this123;_classCallCheck(this,Sd);(_this123=_possibleConstructorReturn(this,(Sd.__proto__||Object.getPrototypeOf(Sd)).call(this,t)),_this123),_this123._stack=[],_this123._createdBatches=new WeakSet(),_this123.refresh();return _this123;}_createClass(Sd,[{key:'refresh',value:function refresh(){this.isEnabled=this._stack.length>0;}},{key:'addBatch',value:function addBatch(t){var e=this.editor.model.document.selection,n={ranges:e.hasOwnRange?Array.from(e.getRanges()):[],isBackward:e.isBackward};this._stack.push({batch:t,selection:n}),this.refresh();}},{key:'clearStack',value:function clearStack(){this._stack=[],this.refresh();}},{key:'_restoreSelection',value:function _restoreSelection(t,e,n){var i=this.editor.model,o=i.document,r=[];var _iteratorNormalCompletion273=true;var _didIteratorError273=false;var _iteratorError273=undefined;try{for(var _iterator273=t[Symbol.iterator](),_step273;!(_iteratorNormalCompletion273=(_step273=_iterator273.next()).done);_iteratorNormalCompletion273=true){var _e128=_step273.value;var _t169=Id(_e128,n).find(function(t){return t.start.root!=o.graveyard;});_t169&&r.push(_t169);}}catch(err){_didIteratorError273=true;_iteratorError273=err;}finally{try{if(!_iteratorNormalCompletion273&&_iterator273.return){_iterator273.return();}}finally{if(_didIteratorError273){throw _iteratorError273;}}}r.length&&i.change(function(t){t.setSelection(r,{backward:e});});}},{key:'_undo',value:function _undo(t,e){var n=this.editor.model,i=n.document;this._createdBatches.add(e);var o=t.operations.slice().filter(function(t){return t.isDocumentOperation;});o.reverse();var _iteratorNormalCompletion274=true;var _didIteratorError274=false;var _iteratorError274=undefined;try{for(var _iterator274=o[Symbol.iterator](),_step274;!(_iteratorNormalCompletion274=(_step274=_iterator274.next()).done);_iteratorNormalCompletion274=true){var _t170=_step274.value;var _o67=_t170.baseVersion+1,_r27=Array.from(i.history.getOperations(_o67)),_s18=yd([_t170.getReversed()],_r27,{useRelations:!0,document:this.editor.model.document,padWithNoOps:!1}).operationsA;var _iteratorNormalCompletion275=true;var _didIteratorError275=false;var _iteratorError275=undefined;try{for(var _iterator275=_s18[Symbol.iterator](),_step275;!(_iteratorNormalCompletion275=(_step275=_iterator275.next()).done);_iteratorNormalCompletion275=true){var _o68=_step275.value;e.addOperation(_o68),n.applyOperation(_o68),i.history.setOperationAsUndone(_t170,_o68);}}catch(err){_didIteratorError275=true;_iteratorError275=err;}finally{try{if(!_iteratorNormalCompletion275&&_iterator275.return){_iterator275.return();}}finally{if(_didIteratorError275){throw _iteratorError275;}}}}}catch(err){_didIteratorError274=true;_iteratorError274=err;}finally{try{if(!_iteratorNormalCompletion274&&_iterator274.return){_iterator274.return();}}finally{if(_didIteratorError274){throw _iteratorError274;}}}}}]);return Sd;}(ql);function Id(t,e){var n=t.getTransformedByOperations(e);n.sort(function(t,e){return t.start.isBefore(e.start)?-1:1;});for(var _t171=1;_t171<n.length;_t171++){var _e129=n[_t171-1],i=n[_t171];_e129.end.isTouching(i.start)&&(_e129.end=i.end,n.splice(_t171,1),_t171--);}return n;}var Ed=function(_Sd){_inherits(Ed,_Sd);function Ed(){_classCallCheck(this,Ed);return _possibleConstructorReturn(this,(Ed.__proto__||Object.getPrototypeOf(Ed)).apply(this,arguments));}_createClass(Ed,[{key:'execute',value:function execute(){var _this125=this;var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:null;var e=t?this._stack.findIndex(function(e){return e.batch==t;}):this._stack.length-1,n=this._stack.splice(e,1)[0],i=this.editor.model.createBatch();this.editor.model.enqueueChange(i,function(){_this125._undo(n.batch,i);var t=_this125.editor.model.document.history.getOperations(n.batch.baseVersion);_this125._restoreSelection(n.selection.ranges,n.selection.isBackward,t),_this125.fire("revert",n.batch,i);}),this.refresh();}}]);return Ed;}(Sd);var Nd=function(_Sd2){_inherits(Nd,_Sd2);function Nd(){_classCallCheck(this,Nd);return _possibleConstructorReturn(this,(Nd.__proto__||Object.getPrototypeOf(Nd)).apply(this,arguments));}_createClass(Nd,[{key:'execute',value:function execute(){var _this127=this;var t=this._stack.pop(),e=this.editor.model.createBatch();this.editor.model.enqueueChange(e,function(){var n=t.batch.operations[t.batch.operations.length-1].baseVersion+1,i=_this127.editor.model.document.history.getOperations(n);_this127._restoreSelection(t.selection.ranges,t.selection.isBackward,i),_this127._undo(t.batch,e);}),this.refresh();}}]);return Nd;}(Sd);var Od=function(_zl7){_inherits(Od,_zl7);function Od(t){var _this128;_classCallCheck(this,Od);(_this128=_possibleConstructorReturn(this,(Od.__proto__||Object.getPrototypeOf(Od)).call(this,t)),_this128),_this128._batchRegistry=new WeakSet();return _this128;}_createClass(Od,[{key:'init',value:function init(){var _this129=this;var t=this.editor;this._undoCommand=new Ed(t),this._redoCommand=new Nd(t),t.commands.add("undo",this._undoCommand),t.commands.add("redo",this._redoCommand),this.listenTo(t.model,"applyOperation",function(t,e){var n=e[0];if(!n.isDocumentOperation)return;var i=n.batch;_this129._batchRegistry.has(i)||"transparent"==i.type||(_this129._redoCommand._createdBatches.has(i)?_this129._undoCommand.addBatch(i):_this129._undoCommand._createdBatches.has(i)||(_this129._undoCommand.addBatch(i),_this129._redoCommand.clearStack()),_this129._batchRegistry.add(i));},{priority:"highest"}),this.listenTo(this._undoCommand,"revert",function(t,e,n){_this129._redoCommand.addBatch(n);}),t.keystrokes.set("CTRL+Z","undo"),t.keystrokes.set("CTRL+Y","redo"),t.keystrokes.set("CTRL+SHIFT+Z","redo");}}]);return Od;}(zl);n(56);var Rd=function(_xl7){_inherits(Rd,_xl7);function Rd(){_classCallCheck(this,Rd);var _this130=_possibleConstructorReturn(this,(Rd.__proto__||Object.getPrototypeOf(Rd)).call(this));var t=_this130.bindTemplate;_this130.set("content",""),_this130.set("viewBox","0 0 20 20"),_this130.set("fillColor",""),_this130.setTemplate({tag:"svg",ns:"http://www.w3.org/2000/svg",attributes:{class:["ck","ck-icon"],viewBox:t.to("viewBox")}});return _this130;}_createClass(Rd,[{key:'render',value:function render(){var _this131=this;_get(Rd.prototype.__proto__||Object.getPrototypeOf(Rd.prototype),'render',this).call(this),this._updateXMLContent(),this._colorFillPaths(),this.on("change:content",function(){_this131._updateXMLContent(),_this131._colorFillPaths();}),this.on("change:fillColor",function(){_this131._colorFillPaths();});}},{key:'_updateXMLContent',value:function _updateXMLContent(){if(this.content){var t=new DOMParser().parseFromString(this.content.trim(),"image/svg+xml").querySelector("svg"),_e130=t.getAttribute("viewBox");for(_e130&&(this.viewBox=_e130),this.element.innerHTML="";t.childNodes.length>0;){this.element.appendChild(t.childNodes[0]);}}}},{key:'_colorFillPaths',value:function _colorFillPaths(){var _this132=this;this.fillColor&&this.element.querySelectorAll(".ck-icon__fill").forEach(function(t){t.style.fill=_this132.fillColor;});}}]);return Rd;}(xl);n(58);var Dd=function(_xl8){_inherits(Dd,_xl8);function Dd(t){var _this133;_classCallCheck(this,Dd);(_this133=_possibleConstructorReturn(this,(Dd.__proto__||Object.getPrototypeOf(Dd)).call(this,t)),_this133),_this133.set("text",""),_this133.set("position","s");var e=_this133.bindTemplate;_this133.setTemplate({tag:"span",attributes:{class:["ck","ck-tooltip",e.to("position",function(t){return"ck-tooltip_"+t;}),e.if("text","ck-hidden",function(t){return!t.trim();})]},children:[{tag:"span",attributes:{class:["ck","ck-tooltip__text"]},children:[{text:e.to("text")}]}]});return _this133;}return Dd;}(xl);n(60);var Ld=function(_xl9){_inherits(Ld,_xl9);function Ld(t){_classCallCheck(this,Ld);var _this134=_possibleConstructorReturn(this,(Ld.__proto__||Object.getPrototypeOf(Ld)).call(this,t));var e=_this134.bindTemplate,n=I();_this134.set("class"),_this134.set("labelStyle"),_this134.set("icon"),_this134.set("isEnabled",!0),_this134.set("isOn",!1),_this134.set("isVisible",!0),_this134.set("keystroke"),_this134.set("label"),_this134.set("tabindex",-1),_this134.set("tooltip"),_this134.set("tooltipPosition","s"),_this134.set("type","button"),_this134.set("withText",!1),_this134.children=_this134.createCollection(),_this134.tooltipView=_this134._createTooltipView(),_this134.labelView=_this134._createLabelView(n),_this134.iconView=new Rd(),_this134.iconView.extendTemplate({attributes:{class:"ck-button__icon"}}),_this134.bind("_tooltipString").to(_this134,"tooltip",_this134,"label",_this134,"keystroke",_this134._getTooltipString.bind(_this134)),_this134.setTemplate({tag:"button",attributes:{class:["ck","ck-button",e.to("class"),e.if("isEnabled","ck-disabled",function(t){return!t;}),e.if("isVisible","ck-hidden",function(t){return!t;}),e.to("isOn",function(t){return t?"ck-on":"ck-off";}),e.if("withText","ck-button_with-text")],type:e.to("type",function(t){return t||"button";}),tabindex:e.to("tabindex"),"aria-labelledby":'ck-editor__aria-label_'+n,"aria-disabled":e.if("isEnabled",!0,function(t){return!t;}),"aria-pressed":e.if("isOn",!0)},children:_this134.children,on:{mousedown:e.to(function(t){t.preventDefault();}),click:e.to(function(t){_this134.isEnabled?_this134.fire("execute"):t.preventDefault();})}});return _this134;}_createClass(Ld,[{key:'render',value:function render(){_get(Ld.prototype.__proto__||Object.getPrototypeOf(Ld.prototype),'render',this).call(this),this.icon&&(this.iconView.bind("content").to(this,"icon"),this.children.add(this.iconView)),this.children.add(this.tooltipView),this.children.add(this.labelView);}},{key:'focus',value:function focus(){this.element.focus();}},{key:'_createTooltipView',value:function _createTooltipView(){var t=new Dd();return t.bind("text").to(this,"_tooltipString"),t.bind("position").to(this,"tooltipPosition"),t;}},{key:'_createLabelView',value:function _createLabelView(t){var e=new xl(),n=this.bindTemplate;return e.setTemplate({tag:"span",attributes:{class:["ck","ck-button__label"],style:n.to("labelStyle"),id:'ck-editor__aria-label_'+t},children:[{text:this.bindTemplate.to("label")}]}),e;}},{key:'_getTooltipString',value:function _getTooltipString(t,e,n){return t?"string"==typeof t?t:(n&&(n=function(t){return co.isMac?po(t).map(function(t){return uo[t.toLowerCase()]||t;}).reduce(function(t,e){return t.slice(-1)in lo?t+e:t+"+"+e;}):t;}(n)),t instanceof Function?t(e,n):''+e+(n?' ('+n+')':"")):"";}}]);return Ld;}(xl);var jd=n(20),Vd=n.n(jd),zd=n(21),Bd=n.n(zd);var Fd=function(_zl8){_inherits(Fd,_zl8);function Fd(){_classCallCheck(this,Fd);return _possibleConstructorReturn(this,(Fd.__proto__||Object.getPrototypeOf(Fd)).apply(this,arguments));}_createClass(Fd,[{key:'init',value:function init(){var t=this.editor.t;this._addButton("undo",t("bd"),"CTRL+Z",Vd.a),this._addButton("redo",t("be"),"CTRL+Y",Bd.a);}},{key:'_addButton',value:function _addButton(t,e,n,i){var _this136=this;var o=this.editor;o.ui.componentFactory.add(t,function(r){var s=o.commands.get(t),a=new Ld(r);return a.set({label:e,icon:i,keystroke:n,tooltip:!0}),a.bind("isEnabled").to(s,"isEnabled"),_this136.listenTo(a,"execute",function(){return o.execute(t);}),a;});}}]);return Fd;}(zl);var Ud=function(_zl9){_inherits(Ud,_zl9);function Ud(){_classCallCheck(this,Ud);return _possibleConstructorReturn(this,(Ud.__proto__||Object.getPrototypeOf(Ud)).apply(this,arguments));}_createClass(Ud,null,[{key:'requires',get:function get(){return[Od,Fd];}},{key:'pluginName',get:function get(){return"Undo";}}]);return Ud;}(zl);var Hd=function(_zl10){_inherits(Hd,_zl10);function Hd(){_classCallCheck(this,Hd);return _possibleConstructorReturn(this,(Hd.__proto__||Object.getPrototypeOf(Hd)).apply(this,arguments));}_createClass(Hd,[{key:'init',value:function init(){this.set("hasAny",!1),this._actions=new Xi({idProperty:"_id"}),this._actions.delegate("add","remove").to(this);}},{key:'add',value:function add(t){if("string"!=typeof t)throw new P.b("pendingactions-add-invalid-message: The message must be a string.");var e=Object.create(Li);return e.set("message",t),this._actions.add(e),this.hasAny=!0,e;}},{key:'remove',value:function remove(t){this._actions.remove(t),this.hasAny=!!this._actions.length;}},{key:Symbol.iterator,value:function value(){return this._actions[Symbol.iterator]();}},{key:'first',get:function get(){return this._actions.get(0);}}],[{key:'pluginName',get:function get(){return"PendingActions";}}]);return Hd;}(zl);var qd=function(){function qd(){var _this139=this;_classCallCheck(this,qd);var t=new window.FileReader();this._reader=t,this.set("loaded",0),t.onprogress=function(t){_this139.loaded=t.loaded;};}_createClass(qd,[{key:'read',value:function read(t){var _this140=this;var e=this._reader;return this.total=t.size,new Promise(function(n,i){e.onload=function(){n(e.result);},e.onerror=function(){i("error");},e.onabort=function(){i("aborted");},_this140._reader.readAsDataURL(t);});}},{key:'abort',value:function abort(){this._reader.abort();}},{key:'error',get:function get(){return this._reader.error;}}]);return qd;}();F(qd,Li);var Wd=function(_zl11){_inherits(Wd,_zl11);function Wd(){_classCallCheck(this,Wd);return _possibleConstructorReturn(this,(Wd.__proto__||Object.getPrototypeOf(Wd)).apply(this,arguments));}_createClass(Wd,[{key:'init',value:function init(){var _this142=this;this.loaders=new Xi(),this.loaders.on("add",function(){return _this142._updatePendingAction();}),this.loaders.on("remove",function(){return _this142._updatePendingAction();}),this._pendingAction=null,this.set("uploaded",0),this.set("uploadTotal",null),this.bind("uploadedPercent").to(this,"uploaded",this,"uploadTotal",function(t,e){return e?t/e*100:0;});}},{key:'getLoader',value:function getLoader(t){var _iteratorNormalCompletion276=true;var _didIteratorError276=false;var _iteratorError276=undefined;try{for(var _iterator276=this.loaders[Symbol.iterator](),_step276;!(_iteratorNormalCompletion276=(_step276=_iterator276.next()).done);_iteratorNormalCompletion276=true){var _e131=_step276.value;if(_e131.file==t)return _e131;}}catch(err){_didIteratorError276=true;_iteratorError276=err;}finally{try{if(!_iteratorNormalCompletion276&&_iterator276.return){_iterator276.return();}}finally{if(_didIteratorError276){throw _iteratorError276;}}}return null;}},{key:'createLoader',value:function createLoader(t){var _this143=this;if(!this.createUploadAdapter)return fs.a.error("filerepository-no-upload-adapter: Upload adapter is not defined."),null;var e=new Yd(t);return e._adapter=this.createUploadAdapter(e),this.loaders.add(e),e.on("change:uploaded",function(){var t=0;var _iteratorNormalCompletion277=true;var _didIteratorError277=false;var _iteratorError277=undefined;try{for(var _iterator277=_this143.loaders[Symbol.iterator](),_step277;!(_iteratorNormalCompletion277=(_step277=_iterator277.next()).done);_iteratorNormalCompletion277=true){var _e132=_step277.value;t+=_e132.uploaded;}}catch(err){_didIteratorError277=true;_iteratorError277=err;}finally{try{if(!_iteratorNormalCompletion277&&_iterator277.return){_iterator277.return();}}finally{if(_didIteratorError277){throw _iteratorError277;}}}_this143.uploaded=t;}),e.on("change:uploadTotal",function(){var t=0;var _iteratorNormalCompletion278=true;var _didIteratorError278=false;var _iteratorError278=undefined;try{for(var _iterator278=_this143.loaders[Symbol.iterator](),_step278;!(_iteratorNormalCompletion278=(_step278=_iterator278.next()).done);_iteratorNormalCompletion278=true){var _e133=_step278.value;_e133.uploadTotal&&(t+=_e133.uploadTotal);}}catch(err){_didIteratorError278=true;_iteratorError278=err;}finally{try{if(!_iteratorNormalCompletion278&&_iterator278.return){_iterator278.return();}}finally{if(_didIteratorError278){throw _iteratorError278;}}}_this143.uploadTotal=t;}),e;}},{key:'destroyLoader',value:function destroyLoader(t){var e=t instanceof Yd?t:this.getLoader(t);e._destroy(),this.loaders.remove(e);}},{key:'_updatePendingAction',value:function _updatePendingAction(){var t=this.editor.plugins.get(Hd);if(this.loaders.length){if(!this._pendingAction){var _e134=this.editor.t,_n112=function _n112(t){return _e134("ap")+' '+parseInt(t)+'%.';};this._pendingAction=t.add(_n112(this.uploadedPercent)),this._pendingAction.bind("message").to(this,"uploadedPercent",_n112);}}else t.remove(this._pendingAction),this._pendingAction=null;}}],[{key:'pluginName',get:function get(){return"FileRepository";}},{key:'requires',get:function get(){return[Hd];}}]);return Wd;}(zl);F(Wd,Li);var Yd=function(){function Yd(t,e){_classCallCheck(this,Yd);this.id=I(),this.file=t,this._adapter=e,this._reader=new qd(),this.set("status","idle"),this.set("uploaded",0),this.set("uploadTotal",null),this.bind("uploadedPercent").to(this,"uploaded",this,"uploadTotal",function(t,e){return e?t/e*100:0;}),this.set("uploadResponse",null);}_createClass(Yd,[{key:'read',value:function read(){var _this144=this;if("idle"!=this.status)throw new P.b("filerepository-read-wrong-status: You cannot call read if the status is different than idle.");return this.status="reading",this._reader.read(this.file).then(function(t){return _this144.status="idle",t;}).catch(function(t){if("aborted"===t)throw _this144.status="aborted","aborted";throw _this144.status="error",_this144._reader.error;});}},{key:'upload',value:function upload(){var _this145=this;if("idle"!=this.status)throw new P.b("filerepository-upload-wrong-status: You cannot call upload if the status is different than idle.");return this.status="uploading",this._adapter.upload().then(function(t){return _this145.uploadResponse=t,_this145.status="idle",t;}).catch(function(t){if("aborted"===_this145.status)throw"aborted";throw _this145.status="error",t;});}},{key:'abort',value:function abort(){var t=this.status;this.status="aborted","reading"==t&&this._reader.abort(),"uploading"==t&&this._adapter.abort&&this._adapter.abort(),this._destroy();}},{key:'_destroy',value:function _destroy(){this._reader=void 0,this._adapter=void 0,this.data=void 0,this.uploadResponse=void 0,this.file=void 0;}}]);return Yd;}();F(Yd,Li);var $d="ckCsrfToken",Gd=40,Qd="abcdefghijklmnopqrstuvwxyz0123456789";function Jd(){var t=function(t){t=t.toLowerCase();var e=document.cookie.split(";");var _iteratorNormalCompletion279=true;var _didIteratorError279=false;var _iteratorError279=undefined;try{for(var _iterator279=e[Symbol.iterator](),_step279;!(_iteratorNormalCompletion279=(_step279=_iterator279.next()).done);_iteratorNormalCompletion279=true){var _n113=_step279.value;var _e135=_n113.split("="),i=decodeURIComponent(_e135[0].trim().toLowerCase());if(i===t)return decodeURIComponent(_e135[1]);}}catch(err){_didIteratorError279=true;_iteratorError279=err;}finally{try{if(!_iteratorNormalCompletion279&&_iterator279.return){_iterator279.return();}}finally{if(_didIteratorError279){throw _iteratorError279;}}}return null;}($d);return t&&t.length==Gd||(t=function(t){var e="";var n=new Uint8Array(t);window.crypto.getRandomValues(n);for(var _t172=0;_t172<n.length;_t172++){var i=Qd.charAt(n[_t172]%Qd.length);e+=Math.random()>.5?i.toUpperCase():i;}return e;}(Gd),function(t,e){document.cookie=encodeURIComponent(t)+"="+encodeURIComponent(e)+";path=/";}($d,t)),t;}var Kd=function(_zl12){_inherits(Kd,_zl12);function Kd(){_classCallCheck(this,Kd);return _possibleConstructorReturn(this,(Kd.__proto__||Object.getPrototypeOf(Kd)).apply(this,arguments));}_createClass(Kd,[{key:'init',value:function init(){var _this147=this;var t=this.editor.config.get("ckfinder.uploadUrl");t&&(this.editor.plugins.get(Wd).createUploadAdapter=function(e){return new Zd(e,t,_this147.editor.t);});}}],[{key:'requires',get:function get(){return[Wd];}},{key:'pluginName',get:function get(){return"CKFinderUploadAdapter";}}]);return Kd;}(zl);var Zd=function(){function Zd(t,e,n){_classCallCheck(this,Zd);this.loader=t,this.url=e,this.t=n;}_createClass(Zd,[{key:'upload',value:function upload(){var _this148=this;return new Promise(function(t,e){_this148._initRequest(),_this148._initListeners(t,e),_this148._sendRequest();});}},{key:'abort',value:function abort(){this.xhr&&this.xhr.abort();}},{key:'_initRequest',value:function _initRequest(){var t=this.xhr=new XMLHttpRequest();t.open("POST",this.url,!0),t.responseType="json";}},{key:'_initListeners',value:function _initListeners(t,e){var n=this.xhr,i=this.loader,o=(0,this.t)("a")+(' '+i.file.name+'.');n.addEventListener("error",function(){return e(o);}),n.addEventListener("abort",function(){return e();}),n.addEventListener("load",function(){var i=n.response;if(!i||!i.uploaded)return e(i&&i.error&&i.error.message?i.error.message:o);t({default:i.url});}),n.upload&&n.upload.addEventListener("progress",function(t){t.lengthComputable&&(i.uploadTotal=t.total,i.uploaded=t.loaded);});}},{key:'_sendRequest',value:function _sendRequest(){var t=new FormData();t.append("upload",this.loader.file),t.append("ckCsrfToken",Jd()),this.xhr.send(t);}}]);return Zd;}();var Xd=function Xd(t,e,n){_classCallCheck(this,Xd);var i=void 0;if("function"==typeof n)i=n;else{var _e136=n;i=function i(){t.execute(_e136);};}t.model.document.on("change",function(n,o){if("transparent"==o.type)return;var r=Array.from(t.model.document.differ.getChanges()),s=r[0];if(1!=r.length||"insert"!==s.type||"$text"!=s.name||1!=s.length)return;var a=s.position.textNode||s.position.nodeAfter;if(!a.parent.is("paragraph"))return;var c=e.exec(a.data);c&&t.model.enqueueChange(function(t){var e=t.createPositionAt(a.parent,0),n=t.createPositionAt(a.parent,c[0].length),o=t.createRange(e,n);t.remove(o),i({match:c});});});};var tu=function tu(t,e,n){_classCallCheck(this,tu);var i=void 0,o=void 0,r=void 0,s=void 0;e instanceof RegExp?i=e:r=e,"string"==typeof n?o=n:s=n,r=r||function(t){var e=void 0;var n=[],o=[];for(;null!==(e=i.exec(t))&&!(e&&e.length<4);){var _e137=e,_t173=_e137.index,_i37=_e137[1],_r28=_e137[2],_s19=_e137[3];var _a12=_i37+_r28+_s19,_c6=[_t173+=e[0].length-_a12.length,_t173+_i37.length],_l4=[_t173+_i37.length+_r28.length,_t173+_i37.length+_r28.length+_s19.length];n.push(_c6),n.push(_l4),o.push([_t173+_i37.length,_t173+_i37.length+_r28.length]);}return{remove:n,format:o};},s=s||function(t,e){var _iteratorNormalCompletion280=true;var _didIteratorError280=false;var _iteratorError280=undefined;try{for(var _iterator280=e[Symbol.iterator](),_step280;!(_iteratorNormalCompletion280=(_step280=_iterator280.next()).done);_iteratorNormalCompletion280=true){var _n114=_step280.value;t.setAttribute(o,!0,_n114);}}catch(err){_didIteratorError280=true;_iteratorError280=err;}finally{try{if(!_iteratorNormalCompletion280&&_iterator280.return){_iterator280.return();}}finally{if(_didIteratorError280){throw _iteratorError280;}}}t.removeSelectionAttribute(o);},t.model.document.on("change",function(e,n){if("transparent"==n.type)return;var i=t.model.document.selection;if(!i.isCollapsed)return;var a=Array.from(t.model.document.differ.getChanges()),c=a[0];if(1!=a.length||"insert"!==c.type||"$text"!=c.name||1!=c.length)return;var l=i.focus.parent,d=function(t){return Array.from(t.getChildren()).reduce(function(t,e){return t+e.data;},"");}(l).slice(0,i.focus.offset),u=r(d),h=eu(l,u.format,t.model),f=eu(l,u.remove,t.model);h.length&&f.length&&t.model.enqueueChange(function(e){var n=t.model.schema.getValidRanges(h,o);s(e,n);var _iteratorNormalCompletion281=true;var _didIteratorError281=false;var _iteratorError281=undefined;try{for(var _iterator281=f.reverse()[Symbol.iterator](),_step281;!(_iteratorNormalCompletion281=(_step281=_iterator281.next()).done);_iteratorNormalCompletion281=true){var _t174=_step281.value;e.remove(_t174);}}catch(err){_didIteratorError281=true;_iteratorError281=err;}finally{try{if(!_iteratorNormalCompletion281&&_iterator281.return){_iterator281.return();}}finally{if(_didIteratorError281){throw _iteratorError281;}}}});});};function eu(t,e,n){return e.filter(function(t){return void 0!==t[0]&&void 0!==t[1];}).map(function(e){return n.createRange(n.createPositionAt(t,e[0]),n.createPositionAt(t,e[1]));});}var nu=function(_ql6){_inherits(nu,_ql6);function nu(t,e){var _this149;_classCallCheck(this,nu);(_this149=_possibleConstructorReturn(this,(nu.__proto__||Object.getPrototypeOf(nu)).call(this,t)),_this149),_this149.attributeKey=e;return _this149;}_createClass(nu,[{key:'refresh',value:function refresh(){var t=this.editor.model,e=t.document;this.value=this._getValueFromFirstAllowedNode(),this.isEnabled=t.schema.checkAttributeInSelection(e.selection,this.attributeKey);}},{key:'execute',value:function execute(){var _this150=this;var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};var e=this.editor.model,n=e.document.selection,i=void 0===t.forceValue?!this.value:t.forceValue;e.change(function(t){if(n.isCollapsed)i?t.setSelectionAttribute(_this150.attributeKey,!0):t.removeSelectionAttribute(_this150.attributeKey);else{var _o69=e.schema.getValidRanges(n.getRanges(),_this150.attributeKey);var _iteratorNormalCompletion282=true;var _didIteratorError282=false;var _iteratorError282=undefined;try{for(var _iterator282=_o69[Symbol.iterator](),_step282;!(_iteratorNormalCompletion282=(_step282=_iterator282.next()).done);_iteratorNormalCompletion282=true){var _e138=_step282.value;i?t.setAttribute(_this150.attributeKey,i,_e138):t.removeAttribute(_this150.attributeKey,_e138);}}catch(err){_didIteratorError282=true;_iteratorError282=err;}finally{try{if(!_iteratorNormalCompletion282&&_iterator282.return){_iterator282.return();}}finally{if(_didIteratorError282){throw _iteratorError282;}}}}});}},{key:'_getValueFromFirstAllowedNode',value:function _getValueFromFirstAllowedNode(){var t=this.editor.model,e=t.schema,n=t.document.selection;if(n.isCollapsed)return n.hasAttribute(this.attributeKey);var _iteratorNormalCompletion283=true;var _didIteratorError283=false;var _iteratorError283=undefined;try{for(var _iterator283=n.getRanges()[Symbol.iterator](),_step283;!(_iteratorNormalCompletion283=(_step283=_iterator283.next()).done);_iteratorNormalCompletion283=true){var _t175=_step283.value;var _iteratorNormalCompletion284=true;var _didIteratorError284=false;var _iteratorError284=undefined;try{for(var _iterator284=_t175.getItems()[Symbol.iterator](),_step284;!(_iteratorNormalCompletion284=(_step284=_iterator284.next()).done);_iteratorNormalCompletion284=true){var _n115=_step284.value;if(e.checkAttribute(_n115,this.attributeKey))return _n115.hasAttribute(this.attributeKey);}}catch(err){_didIteratorError284=true;_iteratorError284=err;}finally{try{if(!_iteratorNormalCompletion284&&_iterator284.return){_iterator284.return();}}finally{if(_didIteratorError284){throw _iteratorError284;}}}}}catch(err){_didIteratorError283=true;_iteratorError283=err;}finally{try{if(!_iteratorNormalCompletion283&&_iterator283.return){_iterator283.return();}}finally{if(_didIteratorError283){throw _iteratorError283;}}}return!1;}}]);return nu;}(ql);var iu="bold";var ou=function(_zl13){_inherits(ou,_zl13);function ou(){_classCallCheck(this,ou);return _possibleConstructorReturn(this,(ou.__proto__||Object.getPrototypeOf(ou)).apply(this,arguments));}_createClass(ou,[{key:'init',value:function init(){var t=this.editor;t.model.schema.extend("$text",{allowAttributes:iu}),t.conversion.attributeToElement({model:iu,view:"strong",upcastAlso:["b",{styles:{"font-weight":"bold"}}]}),t.commands.add(iu,new nu(t,iu)),t.keystrokes.set("CTRL+B",iu);}}]);return ou;}(zl);var ru=n(22),su=n.n(ru);var au="bold";var cu=function(_zl14){_inherits(cu,_zl14);function cu(){_classCallCheck(this,cu);return _possibleConstructorReturn(this,(cu.__proto__||Object.getPrototypeOf(cu)).apply(this,arguments));}_createClass(cu,[{key:'init',value:function init(){var _this153=this;var t=this.editor,e=t.t;t.ui.componentFactory.add(au,function(n){var i=t.commands.get(au),o=new Ld(n);return o.set({label:e("c"),icon:su.a,keystroke:"CTRL+B",tooltip:!0}),o.bind("isOn","isEnabled").to(i,"value","isEnabled"),_this153.listenTo(o,"execute",function(){return t.execute(au);}),o;});}}]);return cu;}(zl);var lu="italic";var du=function(_zl15){_inherits(du,_zl15);function du(){_classCallCheck(this,du);return _possibleConstructorReturn(this,(du.__proto__||Object.getPrototypeOf(du)).apply(this,arguments));}_createClass(du,[{key:'init',value:function init(){var t=this.editor;t.model.schema.extend("$text",{allowAttributes:lu}),t.conversion.attributeToElement({model:lu,view:"i",upcastAlso:["em",{styles:{"font-style":"italic"}}]}),t.commands.add(lu,new nu(t,lu)),t.keystrokes.set("CTRL+I",lu);}}]);return du;}(zl);var uu=n(23),hu=n.n(uu);var fu="italic";var mu=function(_zl16){_inherits(mu,_zl16);function mu(){_classCallCheck(this,mu);return _possibleConstructorReturn(this,(mu.__proto__||Object.getPrototypeOf(mu)).apply(this,arguments));}_createClass(mu,[{key:'init',value:function init(){var _this156=this;var t=this.editor,e=t.t;t.ui.componentFactory.add(fu,function(n){var i=t.commands.get(fu),o=new Ld(n);return o.set({label:e("b"),icon:hu.a,keystroke:"CTRL+I",tooltip:!0}),o.bind("isOn","isEnabled").to(i,"value","isEnabled"),_this156.listenTo(o,"execute",function(){return t.execute(fu);}),o;});}}]);return mu;}(zl);function pu(t){var e=t.next();return e.done?null:e.value;}var gu=function(_ql7){_inherits(gu,_ql7);function gu(){_classCallCheck(this,gu);return _possibleConstructorReturn(this,(gu.__proto__||Object.getPrototypeOf(gu)).apply(this,arguments));}_createClass(gu,[{key:'refresh',value:function refresh(){this.value=this._getValue(),this.isEnabled=this._checkEnabled();}},{key:'execute',value:function execute(){var _this158=this;var t=this.editor.model,e=t.document,n=t.schema,i=Array.from(e.selection.getSelectedBlocks());t.change(function(t){if(_this158.value)_this158._removeQuote(t,i.filter(bu));else{var _e139=i.filter(function(t){return bu(t)||_u(n,t);});_this158._applyQuote(t,_e139);}});}},{key:'_getValue',value:function _getValue(){var t=pu(this.editor.model.document.selection.getSelectedBlocks());return!(!t||!bu(t));}},{key:'_checkEnabled',value:function _checkEnabled(){if(this.value)return!0;var t=this.editor.model.document.selection,e=this.editor.model.schema,n=pu(t.getSelectedBlocks());return!!n&&_u(e,n);}},{key:'_removeQuote',value:function _removeQuote(t,e){wu(t,e).reverse().forEach(function(e){if(e.start.isAtStart&&e.end.isAtEnd)return void t.unwrap(e.start.parent);if(e.start.isAtStart){var _n116=t.createPositionBefore(e.start.parent);return void t.move(e,_n116);}e.end.isAtEnd||t.split(e.end);var n=t.createPositionAfter(e.end.parent);t.move(e,n);});}},{key:'_applyQuote',value:function _applyQuote(t,e){var n=[];wu(t,e).reverse().forEach(function(e){var i=bu(e.start);i||(i=t.createElement("blockQuote"),t.wrap(e,i)),n.push(i);}),n.reverse().reduce(function(e,n){return e.nextSibling==n?(t.merge(t.createPositionAfter(e)),e):n;});}}]);return gu;}(ql);function bu(t){return"blockQuote"==t.parent.name?t.parent:null;}function wu(t,e){var n=void 0,i=0;var o=[];for(;i<e.length;){var _r29=e[i],_s20=e[i+1];n||(n=t.createPositionBefore(_r29)),_s20&&_r29.nextSibling==_s20||(o.push(t.createRange(n,t.createPositionAfter(_r29))),n=null),i++;}return o;}function _u(t,e){var n=t.checkChild(e.parent,"blockQuote"),i=t.checkChild(["$root","blockQuote"],e);return n&&i;}var ku=function(_zl17){_inherits(ku,_zl17);function ku(){_classCallCheck(this,ku);return _possibleConstructorReturn(this,(ku.__proto__||Object.getPrototypeOf(ku)).apply(this,arguments));}_createClass(ku,[{key:'init',value:function init(){var t=this.editor,e=t.model.schema;t.commands.add("blockQuote",new gu(t)),e.register("blockQuote",{allowWhere:"$block",allowContentOf:"$root"}),e.addChildCheck(function(t,e){if(t.endsWith("blockQuote")&&"blockQuote"==e.name)return!1;}),t.conversion.elementToElement({model:"blockQuote",view:"blockquote"}),t.model.document.registerPostFixer(function(n){var i=t.model.document.differ.getChanges();var _iteratorNormalCompletion285=true;var _didIteratorError285=false;var _iteratorError285=undefined;try{for(var _iterator285=i[Symbol.iterator](),_step285;!(_iteratorNormalCompletion285=(_step285=_iterator285.next()).done);_iteratorNormalCompletion285=true){var _t176=_step285.value;if("insert"==_t176.type){var _i38=_t176.position.nodeAfter;if(!_i38)continue;if(_i38.is("blockQuote")&&_i38.isEmpty)return n.remove(_i38),!0;if(_i38.is("blockQuote")&&!e.checkChild(_t176.position,_i38))return n.unwrap(_i38),!0;if(_i38.is("element")){var _t177=n.createRangeIn(_i38);var _iteratorNormalCompletion286=true;var _didIteratorError286=false;var _iteratorError286=undefined;try{for(var _iterator286=_t177.getItems()[Symbol.iterator](),_step286;!(_iteratorNormalCompletion286=(_step286=_iterator286.next()).done);_iteratorNormalCompletion286=true){var _i39=_step286.value;if(_i39.is("blockQuote")&&!e.checkChild(n.createPositionBefore(_i39),_i39))return n.unwrap(_i39),!0;}}catch(err){_didIteratorError286=true;_iteratorError286=err;}finally{try{if(!_iteratorNormalCompletion286&&_iterator286.return){_iterator286.return();}}finally{if(_didIteratorError286){throw _iteratorError286;}}}}}else if("remove"==_t176.type){var _e140=_t176.position.parent;if(_e140.is("blockQuote")&&_e140.isEmpty)return n.remove(_e140),!0;}}}catch(err){_didIteratorError285=true;_iteratorError285=err;}finally{try{if(!_iteratorNormalCompletion285&&_iterator285.return){_iterator285.return();}}finally{if(_didIteratorError285){throw _iteratorError285;}}}return!1;});}},{key:'afterInit',value:function afterInit(){var _this160=this;var t=this.editor.commands.get("blockQuote");this.listenTo(this.editor.editing.view.document,"enter",function(e,n){var i=_this160.editor.model.document,o=i.selection.getLastPosition().parent;i.selection.isCollapsed&&o.isEmpty&&t.value&&(_this160.editor.execute("blockQuote"),_this160.editor.editing.view.scrollToTheSelection(),n.preventDefault(),e.stop());});}}]);return ku;}(zl);var vu=n(24),yu=n.n(vu);n(62);var xu=function(_zl18){_inherits(xu,_zl18);function xu(){_classCallCheck(this,xu);return _possibleConstructorReturn(this,(xu.__proto__||Object.getPrototypeOf(xu)).apply(this,arguments));}_createClass(xu,[{key:'init',value:function init(){var _this162=this;var t=this.editor,e=t.t;t.ui.componentFactory.add("blockQuote",function(n){var i=t.commands.get("blockQuote"),o=new Ld(n);return o.set({label:e("d"),icon:yu.a,tooltip:!0}),o.bind("isOn","isEnabled").to(i,"value","isEnabled"),_this162.listenTo(o,"execute",function(){return t.execute("blockQuote");}),o;});}}]);return xu;}(zl);var Au=n(25),Cu=n.n(Au);var Tu=function(_zl19){_inherits(Tu,_zl19);function Tu(){_classCallCheck(this,Tu);return _possibleConstructorReturn(this,(Tu.__proto__||Object.getPrototypeOf(Tu)).apply(this,arguments));}_createClass(Tu,[{key:'init',value:function init(){var t=this.editor,e=t.ui.componentFactory,n=t.t;e.add("ckfinder",function(e){var i=t.commands.get("ckfinder"),o=new Ld(e);return o.set({label:n("k"),icon:Cu.a,tooltip:!0}),o.bind("isEnabled").to(i),o.on("execute",function(){t.execute("ckfinder"),t.editing.view.focus();}),o;});}}],[{key:'pluginName',get:function get(){return"CKFinderUI";}}]);return Tu;}(zl);var Pu=function(_zl20){_inherits(Pu,_zl20);function Pu(){_classCallCheck(this,Pu);return _possibleConstructorReturn(this,(Pu.__proto__||Object.getPrototypeOf(Pu)).apply(this,arguments));}_createClass(Pu,[{key:'init',value:function init(){this.on("show:warning",function(t,e){window.alert(e.message);},{priority:"lowest"});}},{key:'showSuccess',value:function showSuccess(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};this._showNotification({message:t,type:"success",namespace:e.namespace,title:e.title});}},{key:'showInfo',value:function showInfo(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};this._showNotification({message:t,type:"info",namespace:e.namespace,title:e.title});}},{key:'showWarning',value:function showWarning(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};this._showNotification({message:t,type:"warning",namespace:e.namespace,title:e.title});}},{key:'_showNotification',value:function _showNotification(t){var e='show:'+t.type+(t.namespace?':'+t.namespace:"");this.fire(e,{message:t.message,type:t.type,title:t.title||""});}}],[{key:'pluginName',get:function get(){return"Notification";}}]);return Pu;}(zl);var Mu=function(_ql8){_inherits(Mu,_ql8);function Mu(t){var _this165;_classCallCheck(this,Mu);(_this165=_possibleConstructorReturn(this,(Mu.__proto__||Object.getPrototypeOf(Mu)).call(this,t)),_this165),_this165.stopListening(_this165.editor.model.document,"change"),_this165.listenTo(_this165.editor.model.document,"change",function(){return _this165.refresh();},{priority:"low"});return _this165;}_createClass(Mu,[{key:'refresh',value:function refresh(){var t=this.editor.commands.get("imageUpload"),e=this.editor.commands.get("link");this.isEnabled=t&&e&&(t.isEnabled||e.isEnabled);}},{key:'execute',value:function execute(){var t=this.editor,e=this.editor.config.get("ckfinder.openerMethod")||"modal";if("popup"!=e&&"modal"!=e)throw new P.b('ckfinder-unknown-openerMethod: The openerMethod config option must by "popup" or "modal".');var n=Object.assign({},this.editor.config.get("ckfinder.options"));n.chooseFiles=!0;var i=n.onInit;n.language||(n.language=t.locale.language),n.onInit=function(e){i&&i(),e.on("files:choose",function(n){var i=n.data.files.toArray(),o=i.filter(function(t){return!t.isImage();}),r=i.filter(function(t){return t.isImage();});var _iteratorNormalCompletion287=true;var _didIteratorError287=false;var _iteratorError287=undefined;try{for(var _iterator287=o[Symbol.iterator](),_step287;!(_iteratorNormalCompletion287=(_step287=_iterator287.next()).done);_iteratorNormalCompletion287=true){var _e141=_step287.value;t.execute("link",_e141.getUrl());}}catch(err){_didIteratorError287=true;_iteratorError287=err;}finally{try{if(!_iteratorNormalCompletion287&&_iterator287.return){_iterator287.return();}}finally{if(_didIteratorError287){throw _iteratorError287;}}}var s=[];var _iteratorNormalCompletion288=true;var _didIteratorError288=false;var _iteratorError288=undefined;try{for(var _iterator288=r[Symbol.iterator](),_step288;!(_iteratorNormalCompletion288=(_step288=_iterator288.next()).done);_iteratorNormalCompletion288=true){var _t178=_step288.value;var _n117=_t178.getUrl();s.push(_n117||e.request("file:getProxyUrl",{file:_t178}));}}catch(err){_didIteratorError288=true;_iteratorError288=err;}finally{try{if(!_iteratorNormalCompletion288&&_iterator288.return){_iterator288.return();}}finally{if(_didIteratorError288){throw _iteratorError288;}}}s.length&&Su(t,s);}),e.on("file:choose:resizedImage",function(e){var n=e.data.resizedUrl;if(n)Su(t,[n]);else{var _e142=t.plugins.get(Pu),_n118=t.locale.t;_e142.showWarning(_n118("aq"),{title:_n118("ar"),namespace:"ckfinder"});}});},window.CKFinder[e](n);}}]);return Mu;}(ql);function Su(t,e){if(t.commands.get("imageUpload").isEnabled)t.execute("imageInsert",{source:e});else{var _e143=t.plugins.get(Pu),_n119=t.locale.t;_e143.showWarning(_n119("as"),{title:_n119("at"),namespace:"ckfinder"});}}var Iu=function(_zl21){_inherits(Iu,_zl21);function Iu(){_classCallCheck(this,Iu);return _possibleConstructorReturn(this,(Iu.__proto__||Object.getPrototypeOf(Iu)).apply(this,arguments));}_createClass(Iu,[{key:'init',value:function init(){var t=this.editor;t.commands.add("ckfinder",new Mu(t));}}],[{key:'pluginName',get:function get(){return"CKFinderEditing";}},{key:'requires',get:function get(){return[Pu];}}]);return Iu;}(zl);var Eu=/^data:(\S*?);base64,/;var Nu=function(){function Nu(t,e,n){_classCallCheck(this,Nu);if(!t)throw new Error("File must be provided");if(!e)throw new Error("Token must be provided");if(!n)throw new Error("Api address must be provided");this.file=function(t){if("string"!=typeof t)return!1;var e=t.match(Eu);return!(!e||!e.length);}(t)?function(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:512;try{var _n120=t.match(Eu)[1],i=atob(t.replace(Eu,"")),_o70=[];for(var _t179=0;_t179<i.length;_t179+=e){var _n121=i.slice(_t179,_t179+e),_r30=new Array(_n121.length);for(var _t180=0;_t180<_n121.length;_t180++){_r30[_t180]=_n121.charCodeAt(_t180);}_o70.push(new Uint8Array(_r30));}return new Blob(_o70,{type:_n120});}catch(t){throw new Error("Problem with decoding Base64 image data.");}}(t):t,this._token=e,this._apiAddress=n;}_createClass(Nu,[{key:'onProgress',value:function onProgress(t){return this.on("progress",function(e,n){return t(n);}),this;}},{key:'onError',value:function onError(t){return this.once("error",function(e,n){return t(n);}),this;}},{key:'abort',value:function abort(){this.xhr.abort();}},{key:'send',value:function send(){return this._prepareRequest(),this._attachXHRListeners(),this._sendRequest();}},{key:'_prepareRequest',value:function _prepareRequest(){var t=new XMLHttpRequest();t.open("POST",this._apiAddress),t.setRequestHeader("Authorization",this._token.value),t.responseType="json",this.xhr=t;}},{key:'_attachXHRListeners',value:function _attachXHRListeners(){var _this167=this;var t=this,e=this.xhr;function n(e){return function(){return t.fire("error",e);};}e.addEventListener("error",n("Network Error")),e.addEventListener("abort",n("Abort")),e.upload&&e.upload.addEventListener("progress",function(t){t.lengthComputable&&_this167.fire("progress",{total:t.total,uploaded:t.loaded});}),e.addEventListener("load",function(){var t=e.status,n=e.response;if(t<200||t>299)return _this167.fire("error",n.message||n.error);});}},{key:'_sendRequest',value:function _sendRequest(){var t=new FormData(),e=this.xhr;return t.append("file",this.file),new Promise(function(n,i){e.addEventListener("load",function(){var t=e.status,o=e.response;return t<200||t>299?o.message?i(new Error(o.message)):i(o.error):n(o);}),e.addEventListener("error",function(){return i(new Error("Network Error"));}),e.addEventListener("abort",function(){return i(new Error("Abort"));}),e.send(t);});}}]);return Nu;}();F(Nu,R);var Ou=Nu;var Ru={refreshInterval:36e5,autoRefresh:!0};var Du=function(){function Du(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:Ru;_classCallCheck(this,Du);if(!t)throw new Error("A `tokenUrl` must be provided as the first constructor argument.");this.set("value",e.initValue),this._refresh="function"==typeof t?t:function(){return function(t){return new Promise(function(e,n){var i=new XMLHttpRequest();i.open("GET",t),i.addEventListener("load",function(){var t=i.status,o=i.response;return t<200||t>299?n(new Error("Cannot download new token!")):e(o);}),i.addEventListener("error",function(){return n(new Error("Network Error"));}),i.addEventListener("abort",function(){return n(new Error("Abort"));}),i.send();});}(t);},this._options=Object.assign({},Ru,e);}_createClass(Du,[{key:'init',value:function init(){var _this168=this;return new Promise(function(t,e){_this168._options.autoRefresh&&_this168._startRefreshing(),_this168.value?t(_this168):_this168._refreshToken().then(t).catch(e);});}},{key:'_refreshToken',value:function _refreshToken(){var _this169=this;return this._refresh().then(function(t){return _this169.set("value",t);}).then(function(){return _this169;});}},{key:'destroy',value:function destroy(){this._stopRefreshing();}},{key:'_startRefreshing',value:function _startRefreshing(){var _this170=this;this._refreshInterval=setInterval(function(){return _this170._refreshToken();},this._options.refreshInterval);}},{key:'_stopRefreshing',value:function _stopRefreshing(){clearInterval(this._refreshInterval);}}],[{key:'create',value:function create(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:Ru;return new Du(t,e).init();}}]);return Du;}();F(Du,Li);var Lu=Du;var ju=function(_zl22){_inherits(ju,_zl22);function ju(){_classCallCheck(this,ju);return _possibleConstructorReturn(this,(ju.__proto__||Object.getPrototypeOf(ju)).apply(this,arguments));}_createClass(ju,[{key:'init',value:function init(){var t=this.editor.config.get("cloudServices")||{};for(var _e144 in t){this[_e144]=t[_e144];}if(this.tokenUrl)return this.token=new ju.Token(this.tokenUrl),this.token.init();this.token=null;}}],[{key:'pluginName',get:function get(){return"CloudServices";}}]);return ju;}(zl);ju.Token=Lu;var Vu=function(_zl23){_inherits(Vu,_zl23);function Vu(){_classCallCheck(this,Vu);return _possibleConstructorReturn(this,(Vu.__proto__||Object.getPrototypeOf(Vu)).apply(this,arguments));}_createClass(Vu,[{key:'init',value:function init(){var _this173=this;var t=this.editor,e=t.plugins.get(ju),n=e.token,i=e.uploadUrl;n&&(this._uploadGateway=new Vu._UploadGateway(n,i),t.plugins.get(Wd).createUploadAdapter=function(t){return new zu(_this173._uploadGateway,t);});}}],[{key:'requires',get:function get(){return[Wd,ju];}}]);return Vu;}(zl);var zu=function(){function zu(t,e){_classCallCheck(this,zu);this.uploadGateway=t,this.loader=e;}_createClass(zu,[{key:'upload',value:function upload(){var _this174=this;return this.fileUploader=this.uploadGateway.upload(this.loader.file),this.fileUploader.on("progress",function(t,e){_this174.loader.uploadTotal=e.total,_this174.loader.uploaded=e.uploaded;}),this.fileUploader.send();}},{key:'abort',value:function abort(){this.fileUploader.abort();}}]);return zu;}();Vu._UploadGateway=function(){function _class(t,e){_classCallCheck(this,_class);if(!t)throw new Error("Token must be provided");if(!e)throw new Error("Api address must be provided");this._token=t,this._apiAddress=e;}_createClass(_class,[{key:'upload',value:function upload(t){return new Ou(t,this._token,this._apiAddress);}}]);return _class;}();var Bu=function(_cr7){_inherits(Bu,_cr7);function Bu(t){var _this175;_classCallCheck(this,Bu);(_this175=_possibleConstructorReturn(this,(Bu.__proto__||Object.getPrototypeOf(Bu)).call(this,t)),_this175),_this175._observedElements=new Set();return _this175;}_createClass(Bu,[{key:'observe',value:function observe(t,e){var _this176=this;this.document.getRoot(e).on("change:children",function(e,n){_this176.view.once("render",function(){return _this176._updateObservedElements(t,n);});});}},{key:'_updateObservedElements',value:function _updateObservedElements(t,e){var _this177=this;if(!e.is("element")||e.is("attributeElement"))return;var n=this.view.domConverter.mapViewToDom(e);if(n){var _iteratorNormalCompletion289=true;var _didIteratorError289=false;var _iteratorError289=undefined;try{for(var _iterator289=n.querySelectorAll("img")[Symbol.iterator](),_step289;!(_iteratorNormalCompletion289=(_step289=_iterator289.next()).done);_iteratorNormalCompletion289=true){var _t181=_step289.value;this._observedElements.has(_t181)||(this.listenTo(_t181,"load",function(t,e){return _this177._fireEvents(e);}),this._observedElements.add(_t181));}}catch(err){_didIteratorError289=true;_iteratorError289=err;}finally{try{if(!_iteratorNormalCompletion289&&_iterator289.return){_iterator289.return();}}finally{if(_didIteratorError289){throw _iteratorError289;}}}var _iteratorNormalCompletion290=true;var _didIteratorError290=false;var _iteratorError290=undefined;try{for(var _iterator290=this._observedElements[Symbol.iterator](),_step290;!(_iteratorNormalCompletion290=(_step290=_iterator290.next()).done);_iteratorNormalCompletion290=true){var _e145=_step290.value;t.contains(_e145)||(this.stopListening(_e145),this._observedElements.delete(_e145));}}catch(err){_didIteratorError290=true;_iteratorError290=err;}finally{try{if(!_iteratorNormalCompletion290&&_iterator290.return){_iterator290.return();}}finally{if(_didIteratorError290){throw _iteratorError290;}}}}}},{key:'_fireEvents',value:function _fireEvents(t){this.isEnabled&&(this.document.fire("layoutChanged"),this.document.fire("imageLoaded",t));}},{key:'destroy',value:function destroy(){this._observedElements.clear(),_get(Bu.prototype.__proto__||Object.getPrototypeOf(Bu.prototype),'destroy',this).call(this);}}]);return Bu;}(cr);function Fu(t){return function(n){n.on('attribute:'+t+':image',e);};function e(t,e,n){if(!n.consumable.consume(e.item,t.name))return;var i=n.writer,o=n.mapper.toViewElement(e.item).getChild(0);null!==e.attributeNewValue?i.setAttribute(e.attributeKey,e.attributeNewValue,o):i.removeAttribute(e.attributeKey,o);}}var Uu=function(){function Uu(){_classCallCheck(this,Uu);this._stack=[];}_createClass(Uu,[{key:'add',value:function add(t,e){var n=this._stack,i=n[0];this._insertDescriptor(t);var o=n[0];i===o||Hu(i,o)||this.fire("change:top",{oldDescriptor:i,newDescriptor:o,writer:e});}},{key:'remove',value:function remove(t,e){var n=this._stack,i=n[0];this._removeDescriptor(t);var o=n[0];i===o||Hu(i,o)||this.fire("change:top",{oldDescriptor:i,newDescriptor:o,writer:e});}},{key:'_insertDescriptor',value:function _insertDescriptor(t){var e=this._stack,n=e.findIndex(function(e){return e.id===t.id;});if(Hu(t,e[n]))return;n>-1&&e.splice(n,1);var i=0;for(;e[i]&&qu(e[i],t);){i++;}e.splice(i,0,t);}},{key:'_removeDescriptor',value:function _removeDescriptor(t){var e=this._stack,n=e.findIndex(function(e){return e.id===t;});n>-1&&e.splice(n,1);}}]);return Uu;}();function Hu(t,e){return t&&e&&t.priority==e.priority&&Wu(t.classes)==Wu(e.classes);}function qu(t,e){return t.priority>e.priority||!(t.priority<e.priority)&&Wu(t.classes)>Wu(e.classes);}function Wu(t){return Array.isArray(t)?t.sort().join(","):t;}F(Uu,R);var Yu=n(26),$u=n.n(Yu);var Gu=Symbol("isWidget"),Qu=Symbol("label"),Ju="ck-widget",Ku="ck-widget_selected";function Zu(t){return!!t.is("element")&&!!t.getCustomProperty(Gu);}function Xu(t,e){var n=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{};return co.isEdge||e.setAttribute("contenteditable","false",t),e.addClass(Ju,t),e.setCustomProperty(Gu,!0,t),t.getFillerOffset=ih,n.label&&function(t,e,n){n.setCustomProperty(Qu,e,t);}(t,n.label,e),n.hasSelectionHandler&&function(t,e){var n=e.createUIElement("div",{class:"ck ck-widget__selection-handler"},function(t){var e=this.toDomElement(t),n=new Rd();return n.set("content",$u.a),n.render(),e.appendChild(n.element),e;});e.insert(e.createPositionAt(t,0),n),e.addClass(["ck-widget_selectable"],t);}(t,e),function(t,e,n,i){var o=new Uu();o.on("change:top",function(e,o){o.oldDescriptor&&i(t,o.oldDescriptor,o.writer),o.newDescriptor&&n(t,o.newDescriptor,o.writer);}),e.setCustomProperty("addHighlight",function(t,e,n){return o.add(e,n);},t),e.setCustomProperty("removeHighlight",function(t,e,n){return o.remove(e,n);},t);}(t,e,function(t,e,n){return n.addClass(i(e.classes),t);},function(t,e,n){return n.removeClass(i(e.classes),t);}),t;function i(t){return Array.isArray(t)?t:[t];}}function th(t){var e=t.getCustomProperty(Qu);return e?"function"==typeof e?e():e:"";}function eh(t,e){return e.addClass(["ck-editor__editable","ck-editor__nested-editable"],t),co.isEdge||(e.setAttribute("contenteditable",t.isReadOnly?"false":"true",t),t.on("change:isReadOnly",function(n,i,o){e.setAttribute("contenteditable",o?"false":"true",t);})),t.on("change:isFocused",function(n,i,o){o?e.addClass("ck-editor__nested-editable_focused",t):e.removeClass("ck-editor__nested-editable_focused",t);}),t;}function nh(t,e){var n=t.getSelectedElement();if(n)return e.createPositionAfter(n);var i=t.getSelectedBlocks().next().value;if(i){if(i.isEmpty)return e.createPositionAt(i,0);var _n122=e.createPositionAfter(i);return t.focus.isTouching(_n122)?_n122:e.createPositionBefore(i);}return t.focus;}function ih(){return null;}var oh=Symbol("isImage");function rh(t){var e=t.getSelectedElement();return!(!e||!function(t){return!!t.getCustomProperty(oh)&&Zu(t);}(e));}function sh(t){return!!t&&t.is("image");}function ah(t,e){var n=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{};var i=t.createElement("image",n),o=nh(e.document.selection,e);e.insertContent(i,o),i.parent&&t.setSelection(i,"on");}function ch(t){var e=t.schema,n=t.document.selection;return function(t,e,n){var i=function(t,e){var n=nh(t,e).parent;n.is("$root")||(n=n.parent);return n;}(t,n);return e.checkChild(i,"image");}(n,e,t)&&function(t,e){var n=t.getSelectedElement(),i=!!n&&e.isObject(n),o=!![].concat(_toConsumableArray(t.focus.getAncestors())).find(function(t){return e.isObject(t);});return!i&&!o;}(n,e);}var lh=function(_ql9){_inherits(lh,_ql9);function lh(){_classCallCheck(this,lh);return _possibleConstructorReturn(this,(lh.__proto__||Object.getPrototypeOf(lh)).apply(this,arguments));}_createClass(lh,[{key:'refresh',value:function refresh(){this.isEnabled=ch(this.editor.model);}},{key:'execute',value:function execute(t){var e=this.editor.model;e.change(function(n){var i=Array.isArray(t.source)?t.source:[t.source];var _iteratorNormalCompletion291=true;var _didIteratorError291=false;var _iteratorError291=undefined;try{for(var _iterator291=i[Symbol.iterator](),_step291;!(_iteratorNormalCompletion291=(_step291=_iterator291.next()).done);_iteratorNormalCompletion291=true){var _t182=_step291.value;ah(n,e,{src:_t182});}}catch(err){_didIteratorError291=true;_iteratorError291=err;}finally{try{if(!_iteratorNormalCompletion291&&_iterator291.return){_iterator291.return();}}finally{if(_didIteratorError291){throw _iteratorError291;}}}});}}]);return lh;}(ql);var dh=function(_zl24){_inherits(dh,_zl24);function dh(){_classCallCheck(this,dh);return _possibleConstructorReturn(this,(dh.__proto__||Object.getPrototypeOf(dh)).apply(this,arguments));}_createClass(dh,[{key:'init',value:function init(){var t=this.editor,e=t.model.schema,n=t.t,i=t.conversion;t.editing.view.addObserver(Bu),e.register("image",{isObject:!0,isBlock:!0,allowWhere:"$block",allowAttributes:["alt","src","srcset"]}),i.for("dataDowncast").add(aa({model:"image",view:function view(t,e){return uh(e);}})),i.for("editingDowncast").add(aa({model:"image",view:function view(t,e){return function(t,e,n){return e.setCustomProperty(oh,!0,t),Xu(t,e,{label:function label(){var e=t.getChild(0).getAttribute("alt");return e?e+' '+n:n;}});}(uh(e),e,n("j"));}})),i.for("downcast").add(Fu("src")).add(Fu("alt")).add(function(){return function(e){e.on("attribute:srcset:image",t);};function t(t,e,n){if(!n.consumable.consume(e.item,t.name))return;var i=n.writer,o=n.mapper.toViewElement(e.item).getChild(0);if(null===e.attributeNewValue){var _t183=e.attributeOldValue;_t183.data&&(i.removeAttribute("srcset",o),i.removeAttribute("sizes",o),_t183.width&&i.removeAttribute("width",o));}else{var _t184=e.attributeNewValue;_t184.data&&(i.setAttribute("srcset",_t184.data,o),i.setAttribute("sizes","100vw",o),_t184.width&&i.setAttribute("width",_t184.width,o));}}}()),i.for("upcast").add(Oa({view:{name:"img",attributes:{src:!0}},model:function model(t,e){return e.createElement("image",{src:t.getAttribute("src")});}})).add(Da({view:{name:"img",key:"alt"},model:"alt"})).add(Da({view:{name:"img",key:"srcset"},model:{key:"srcset",value:function value(t){var e={data:t.getAttribute("srcset")};return t.hasAttribute("width")&&(e.width=t.getAttribute("width")),e;}}})).add(function(){return function(e){e.on("element:figure",t);};function t(t,e,n){if(!n.consumable.test(e.viewItem,{name:!0,classes:"image"}))return;var i=Array.from(e.viewItem.getChildren()).find(function(t){return t.is("img");});if(!i||!i.hasAttribute("src")||!n.consumable.test(i,{name:!0}))return;var o=n.convertItem(i,e.modelCursor),r=pu(o.modelRange.getItems());r&&(n.convertChildren(e.viewItem,n.writer.createPositionAt(r,0)),e.modelRange=o.modelRange,e.modelCursor=o.modelCursor);}}()),t.commands.add("imageInsert",new lh(t));}}]);return dh;}(zl);function uh(t){var e=t.createEmptyElement("img"),n=t.createContainerElement("figure",{class:"image"});return t.insert(t.createPositionAt(n,0),e),n;}var hh=function(_Jr5){_inherits(hh,_Jr5);function hh(t){var _this180;_classCallCheck(this,hh);(_this180=_possibleConstructorReturn(this,(hh.__proto__||Object.getPrototypeOf(hh)).call(this,t)),_this180),_this180.domEventType="mousedown";return _this180;}_createClass(hh,[{key:'onDomEvent',value:function onDomEvent(t){this.fire(t.type,t);}}]);return hh;}(Jr);n(64);var fh=mo("Ctrl+A");var mh=function(_zl25){_inherits(mh,_zl25);function mh(){_classCallCheck(this,mh);return _possibleConstructorReturn(this,(mh.__proto__||Object.getPrototypeOf(mh)).apply(this,arguments));}_createClass(mh,[{key:'init',value:function init(){var _this182=this;var t=this.editor.editing.view,e=t.document;this._previouslySelected=new Set(),this.editor.editing.downcastDispatcher.on("selection",function(t,e,n){_this182._clearPreviouslySelectedWidgets(n.writer);var i=n.writer,o=i.document.selection,r=o.getSelectedElement();var s=null;var _iteratorNormalCompletion292=true;var _didIteratorError292=false;var _iteratorError292=undefined;try{for(var _iterator292=o.getRanges()[Symbol.iterator](),_step292;!(_iteratorNormalCompletion292=(_step292=_iterator292.next()).done);_iteratorNormalCompletion292=true){var _t185=_step292.value;var _iteratorNormalCompletion293=true;var _didIteratorError293=false;var _iteratorError293=undefined;try{for(var _iterator293=_t185[Symbol.iterator](),_step293;!(_iteratorNormalCompletion293=(_step293=_iterator293.next()).done);_iteratorNormalCompletion293=true){var _e146=_step293.value;var _t186=_e146.item;Zu(_t186)&&!ph(_t186,s)&&(i.addClass(Ku,_t186),_this182._previouslySelected.add(_t186),s=_t186,_t186==r&&i.setSelection(o.getRanges(),{fake:!0,label:th(r)}));}}catch(err){_didIteratorError293=true;_iteratorError293=err;}finally{try{if(!_iteratorNormalCompletion293&&_iterator293.return){_iterator293.return();}}finally{if(_didIteratorError293){throw _iteratorError293;}}}}}catch(err){_didIteratorError292=true;_iteratorError292=err;}finally{try{if(!_iteratorNormalCompletion292&&_iterator292.return){_iterator292.return();}}finally{if(_didIteratorError292){throw _iteratorError292;}}}},{priority:"low"}),t.addObserver(hh),this.listenTo(e,"mousedown",function(){return _this182._onMousedown.apply(_this182,arguments);}),this.listenTo(e,"keydown",function(){return _this182._onKeydown.apply(_this182,arguments);},{priority:"high"}),this.listenTo(e,"delete",function(t,e){_this182._handleDelete("forward"==e.direction)&&(e.preventDefault(),t.stop());},{priority:"high"});}},{key:'_onMousedown',value:function _onMousedown(t,e){var n=this.editor,i=n.editing.view,o=i.document;var r=e.target;if(function(t){for(;t;){if(t&&t.is("editableElement")&&!t.is("rootElement"))return!0;t=t.parent;}return!1;}(r))return;if(!Zu(r)&&!(r=r.findAncestor(Zu)))return;e.preventDefault(),o.isFocused||i.focus();var s=n.editing.mapper.toModelElement(r);this._setSelectionOverElement(s);}},{key:'_onKeydown',value:function _onKeydown(t,e){var n=e.keyCode,i=n==ho.delete||n==ho.arrowdown||n==ho.arrowright;var o=!1;!function(t){return t==ho.arrowright||t==ho.arrowleft||t==ho.arrowup||t==ho.arrowdown;}(n)?!function(t){return fo(t)==fh;}(e)?n===ho.enter&&(o=this._handleEnterKey(e.shiftKey)):o=this._selectAllNestedEditableContent()||this._selectAllContent():o=this._handleArrowKeys(i),o&&(e.preventDefault(),t.stop());}},{key:'_handleDelete',value:function _handleDelete(t){var _this183=this;if(this.editor.isReadOnly)return;var e=this.editor.model.document.selection;if(!e.isCollapsed)return;var n=this._getObjectElementNextToSelection(t);return n?(this.editor.model.change(function(t){var i=e.anchor.parent;for(;i.isEmpty;){var _e147=i;i=_e147.parent,t.remove(_e147);}_this183._setSelectionOverElement(n);}),!0):void 0;}},{key:'_handleArrowKeys',value:function _handleArrowKeys(t){var e=this.editor.model,n=e.schema,i=e.document.selection,o=i.getSelectedElement();if(o&&n.isObject(o)){var _o71=t?i.getLastPosition():i.getFirstPosition(),_r31=n.getNearestSelectionRange(_o71,t?"forward":"backward");return _r31&&e.change(function(t){t.setSelection(_r31);}),!0;}if(!i.isCollapsed)return;var r=this._getObjectElementNextToSelection(t);return r&&n.isObject(r)?(this._setSelectionOverElement(r),!0):void 0;}},{key:'_handleEnterKey',value:function _handleEnterKey(t){var e=this.editor.model,n=e.document.selection.getSelectedElement();if(n&&e.schema.isObject(n))return e.change(function(e){var i=e.createElement("paragraph");e.insert(i,n,t?"before":"after"),e.setSelection(i,"in");}),!0;}},{key:'_selectAllNestedEditableContent',value:function _selectAllNestedEditableContent(){var t=this.editor.model,e=t.document.selection,n=t.schema.getLimitElement(e);return e.getFirstRange().root!=n&&(t.change(function(t){t.setSelection(t.createRangeIn(n));}),!0);}},{key:'_selectAllContent',value:function _selectAllContent(){var t=this.editor.model,e=this.editor.editing,n=e.view.document.selection.getSelectedElement();if(n&&Zu(n)){var i=e.mapper.toModelElement(n.parent);return t.change(function(t){t.setSelection(t.createRangeIn(i));}),!0;}return!1;}},{key:'_setSelectionOverElement',value:function _setSelectionOverElement(t){this.editor.model.change(function(e){e.setSelection(e.createRangeOn(t));});}},{key:'_getObjectElementNextToSelection',value:function _getObjectElementNextToSelection(t){var e=this.editor.model,n=e.schema,i=e.document.selection,o=e.createSelection(i);e.modifySelection(o,{direction:t?"forward":"backward"});var r=t?o.focus.nodeBefore:o.focus.nodeAfter;return r&&n.isObject(r)?r:null;}},{key:'_clearPreviouslySelectedWidgets',value:function _clearPreviouslySelectedWidgets(t){var _iteratorNormalCompletion294=true;var _didIteratorError294=false;var _iteratorError294=undefined;try{for(var _iterator294=this._previouslySelected[Symbol.iterator](),_step294;!(_iteratorNormalCompletion294=(_step294=_iterator294.next()).done);_iteratorNormalCompletion294=true){var _e148=_step294.value;t.removeClass(Ku,_e148);}}catch(err){_didIteratorError294=true;_iteratorError294=err;}finally{try{if(!_iteratorNormalCompletion294&&_iterator294.return){_iterator294.return();}}finally{if(_didIteratorError294){throw _iteratorError294;}}}this._previouslySelected.clear();}}],[{key:'pluginName',get:function get(){return"Widget";}}]);return mh;}(zl);function ph(t,e){return!!e&&Array.from(t.getAncestors()).includes(e);}var gh=function(_ql10){_inherits(gh,_ql10);function gh(){_classCallCheck(this,gh);return _possibleConstructorReturn(this,(gh.__proto__||Object.getPrototypeOf(gh)).apply(this,arguments));}_createClass(gh,[{key:'refresh',value:function refresh(){var t=this.editor.model.document.selection.getSelectedElement();this.isEnabled=sh(t),sh(t)&&t.hasAttribute("alt")?this.value=t.getAttribute("alt"):this.value=!1;}},{key:'execute',value:function execute(t){var e=this.editor.model,n=e.document.selection.getSelectedElement();e.change(function(e){e.setAttribute("alt",t.newValue,n);});}}]);return gh;}(ql);var bh=function(_zl26){_inherits(bh,_zl26);function bh(){_classCallCheck(this,bh);return _possibleConstructorReturn(this,(bh.__proto__||Object.getPrototypeOf(bh)).apply(this,arguments));}_createClass(bh,[{key:'init',value:function init(){this.editor.commands.add("imageTextAlternative",new gh(this.editor));}}]);return bh;}(zl);function wh(_ref55){var t=_ref55.emitter,e=_ref55.activator,n=_ref55.callback,i=_ref55.contextElements;t.listenTo(document,"mousedown",function(t,_ref56){var o=_ref56.target;if(e()){var _iteratorNormalCompletion295=true;var _didIteratorError295=false;var _iteratorError295=undefined;try{for(var _iterator295=i[Symbol.iterator](),_step295;!(_iteratorNormalCompletion295=(_step295=_iterator295.next()).done);_iteratorNormalCompletion295=true){var _t187=_step295.value;if(_t187.contains(o))return;}}catch(err){_didIteratorError295=true;_iteratorError295=err;}finally{try{if(!_iteratorNormalCompletion295&&_iterator295.return){_iterator295.return();}}finally{if(_didIteratorError295){throw _iteratorError295;}}}n();}});}n(66);var _h=function(_xl10){_inherits(_h,_xl10);function _h(t,e){_classCallCheck(this,_h);var _this186=_possibleConstructorReturn(this,(_h.__proto__||Object.getPrototypeOf(_h)).call(this,t));var n='ck-input-'+I(),i='ck-status-'+I();_this186.set("label"),_this186.set("value"),_this186.set("isReadOnly",!1),_this186.set("errorText",null),_this186.set("infoText",null),_this186.labelView=_this186._createLabelView(n),_this186.inputView=_this186._createInputView(e,n,i),_this186.statusView=_this186._createStatusView(i),_this186.bind("_statusText").to(_this186,"errorText",_this186,"infoText",function(t,e){return t||e;});var o=_this186.bindTemplate;_this186.setTemplate({tag:"div",attributes:{class:["ck","ck-labeled-input",o.if("isReadOnly","ck-disabled")]},children:[_this186.labelView,_this186.inputView,_this186.statusView]});return _this186;}_createClass(_h,[{key:'_createLabelView',value:function _createLabelView(t){var e=new Cl(this.locale);return e.for=t,e.bind("text").to(this,"label"),e;}},{key:'_createInputView',value:function _createInputView(t,e,n){var _this187=this;var i=new t(this.locale,n);return i.id=e,i.ariaDesribedById=n,i.bind("value").to(this),i.bind("isReadOnly").to(this),i.bind("hasError").to(this,"errorText",function(t){return!!t;}),i.on("input",function(){_this187.errorText=null;}),i;}},{key:'_createStatusView',value:function _createStatusView(t){var e=new xl(this.locale),n=this.bindTemplate;return e.setTemplate({tag:"div",attributes:{class:["ck","ck-labeled-input__status",n.if("errorText","ck-labeled-input__status_error"),n.if("_statusText","ck-hidden",function(t){return!t;})],id:t},children:[{text:n.to("_statusText")}]}),e;}},{key:'select',value:function select(){this.inputView.select();}},{key:'focus',value:function focus(){this.inputView.focus();}}]);return _h;}(xl);n(68);var kh=function(_xl11){_inherits(kh,_xl11);function kh(t){var _this188;_classCallCheck(this,kh);(_this188=_possibleConstructorReturn(this,(kh.__proto__||Object.getPrototypeOf(kh)).call(this,t)),_this188),_this188.set("value"),_this188.set("id"),_this188.set("placeholder"),_this188.set("isReadOnly",!1),_this188.set("hasError",!1),_this188.set("ariaDesribedById");var e=_this188.bindTemplate;_this188.setTemplate({tag:"input",attributes:{type:"text",class:["ck","ck-input","ck-input-text",e.if("hasError","ck-error")],id:e.to("id"),placeholder:e.to("placeholder"),readonly:e.to("isReadOnly"),"aria-invalid":e.if("hasError",!0),"aria-describedby":e.to("ariaDesribedById")},on:{input:e.to("input")}});return _this188;}_createClass(kh,[{key:'render',value:function render(){var _this189=this;_get(kh.prototype.__proto__||Object.getPrototypeOf(kh.prototype),'render',this).call(this);var t=function t(_t188){_this189.element.value=_t188||0===_t188?_t188:"";};t(this.value),this.on("change:value",function(e,n,i){t(i);});}},{key:'select',value:function select(){this.element.select();}},{key:'focus',value:function focus(){this.element.focus();}}]);return kh;}(xl);function vh(_ref57){var t=_ref57.view;t.listenTo(t.element,"submit",function(e,n){n.preventDefault(),t.fire("submit");},{useCapture:!0});}var yh=n(7),xh=n.n(yh),Ah=n(8),Ch=n.n(Ah);n(70);var Th=function(_xl12){_inherits(Th,_xl12);function Th(t){_classCallCheck(this,Th);var _this190=_possibleConstructorReturn(this,(Th.__proto__||Object.getPrototypeOf(Th)).call(this,t));var e=_this190.locale.t;_this190.focusTracker=new Kc(),_this190.keystrokes=new Uc(),_this190.labeledInput=_this190._createLabeledInputView(),_this190.saveButtonView=_this190._createButton(e("ba"),xh.a,"ck-button-save"),_this190.saveButtonView.type="submit",_this190.cancelButtonView=_this190._createButton(e("bb"),Ch.a,"ck-button-cancel","cancel"),_this190._focusables=new tl(),_this190._focusCycler=new Nl({focusables:_this190._focusables,focusTracker:_this190.focusTracker,keystrokeHandler:_this190.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),_this190.setTemplate({tag:"form",attributes:{class:["ck","ck-text-alternative-form"],tabindex:"-1"},children:[_this190.labeledInput,_this190.saveButtonView,_this190.cancelButtonView]});return _this190;}_createClass(Th,[{key:'render',value:function render(){var _this191=this;_get(Th.prototype.__proto__||Object.getPrototypeOf(Th.prototype),'render',this).call(this),this.keystrokes.listenTo(this.element),vh({view:this}),[this.labeledInput,this.saveButtonView,this.cancelButtonView].forEach(function(t){_this191._focusables.add(t),_this191.focusTracker.add(t.element);});}},{key:'_createButton',value:function _createButton(t,e,n,i){var o=new Ld(this.locale);return o.set({label:t,icon:e,tooltip:!0}),o.extendTemplate({attributes:{class:n}}),i&&o.delegate("execute").to(this,i),o;}},{key:'_createLabeledInputView',value:function _createLabeledInputView(){var t=this.locale.t,e=new _h(this.locale,kh);return e.label=t("bc"),e.inputView.placeholder=t("bc"),e;}}]);return Th;}(xl);function Ph(_ref58){var t=_ref58.element,e=_ref58.target,n=_ref58.positions,i=_ref58.limiter,o=_ref58.fitInViewport;ct(e)&&(e=e()),ct(i)&&(i=i());var r=function(t){for(;t&&"html"!=t.tagName.toLowerCase();){if("static"!=Ko.window.getComputedStyle(t).position)return t;t=t.parentElement;}return null;}(t.parentElement),s=new ks(t),a=new ks(e);var c=void 0,l=void 0;if(i||o){var _t189=i&&new ks(i).getVisible(),_e149=o&&new ks(Ko.window);var _ref59=function(t,e,n,i,o){var r=void 0,s=void 0,a=0,c=0;var l=n.getArea();return t.some(function(t){var _Mh=Mh(t,e,n),_Mh2=_slicedToArray(_Mh,2),d=_Mh2[0],u=_Mh2[1];var h=void 0,f=void 0;if(i)if(o){var _t190=i.getIntersection(o);h=_t190?_t190.getIntersectionArea(u):0;}else h=i.getIntersectionArea(u);function m(){c=f,a=h,r=u,s=d;}return o&&(f=o.getIntersectionArea(u)),o&&!i?f>c&&m():!o&&i?h>a&&m():f>c&&h>=a?m():f>=c&&h>a&&m(),h===l;}),r?[s,r]:null;}(n,a,s,_t189,_e149)||Mh(n[0],a,s);var _ref60=_slicedToArray(_ref59,2);l=_ref60[0];c=_ref60[1];}else{;var _Mh3=Mh(n[0],a,s);var _Mh4=_slicedToArray(_Mh3,2);l=_Mh4[0];c=_Mh4[1];}var _Sh=Sh(c),d=_Sh.left,u=_Sh.top;if(r){var _t191=Sh(new ks(r)),_e150=ws(r);d-=_t191.left,u-=_t191.top,d+=r.scrollLeft,u+=r.scrollTop,d-=_e150.left,u-=_e150.top;}return{left:d,top:u,name:l};}function Mh(t,e,n){var _t192=t(e,n),i=_t192.left,o=_t192.top,r=_t192.name;return[r,n.clone().moveTo(i,o)];}function Sh(_ref61){var t=_ref61.left,e=_ref61.top;var _Ko$window2=Ko.window,n=_Ko$window2.scrollX,i=_Ko$window2.scrollY;return{left:t+n,top:e+i};}n(72);var Ih=Sl("px"),Eh=Ko.document.body;var Nh=function(_xl13){_inherits(Nh,_xl13);function Nh(t){_classCallCheck(this,Nh);var _this192=_possibleConstructorReturn(this,(Nh.__proto__||Object.getPrototypeOf(Nh)).call(this,t));var e=_this192.bindTemplate;_this192.set("top",0),_this192.set("left",0),_this192.set("position","arrow_nw"),_this192.set("isVisible",!1),_this192.set("withArrow",!0),_this192.set("className"),_this192.content=_this192.createCollection(),_this192.setTemplate({tag:"div",attributes:{class:["ck","ck-balloon-panel",e.to("position",function(t){return'ck-balloon-panel_'+t;}),e.if("isVisible","ck-balloon-panel_visible"),e.if("withArrow","ck-balloon-panel_with-arrow"),e.to("className")],style:{top:e.to("top",Ih),left:e.to("left",Ih)}},children:_this192.content});return _this192;}_createClass(Nh,[{key:'show',value:function show(){this.isVisible=!0;}},{key:'hide',value:function hide(){this.isVisible=!1;}},{key:'attachTo',value:function attachTo(t){this.show();var e=Nh.defaultPositions,n=Object.assign({},{element:this.element,positions:[e.southArrowNorth,e.southArrowNorthWest,e.southArrowNorthEast,e.northArrowSouth,e.northArrowSouthWest,e.northArrowSouthEast],limiter:Eh,fitInViewport:!0},t),_Nh$_getOptimalPositi=Nh._getOptimalPosition(n),i=_Nh$_getOptimalPositi.top,o=_Nh$_getOptimalPositi.left,r=_Nh$_getOptimalPositi.name;Object.assign(this,{top:i,left:o,position:r});}},{key:'pin',value:function pin(t){var _this193=this;this.unpin(),this._pinWhenIsVisibleCallback=function(){_this193.isVisible?_this193._startPinning(t):_this193._stopPinning();},this._startPinning(t),this.listenTo(this,"change:isVisible",this._pinWhenIsVisibleCallback);}},{key:'unpin',value:function unpin(){this._pinWhenIsVisibleCallback&&(this._stopPinning(),this.stopListening(this,"change:isVisible",this._pinWhenIsVisibleCallback),this._pinWhenIsVisibleCallback=null,this.hide());}},{key:'_startPinning',value:function _startPinning(t){var _this194=this;this.attachTo(t);var e=Oh(t.target),n=t.limiter?Oh(t.limiter):Eh;this.listenTo(Ko.document,"scroll",function(i,o){var r=o.target,s=e&&r.contains(e),a=n&&r.contains(n);!s&&!a&&e&&n||_this194.attachTo(t);},{useCapture:!0}),this.listenTo(Ko.window,"resize",function(){_this194.attachTo(t);});}},{key:'_stopPinning',value:function _stopPinning(){this.stopListening(Ko.document,"scroll"),this.stopListening(Ko.window,"resize");}}]);return Nh;}(xl);function Oh(t){return tr(t)?t:bs(t)?t.commonAncestorContainer:"function"==typeof t?Oh(t()):null;}function Rh(t,e){return t.top-e.height-Nh.arrowVerticalOffset;}function Dh(t){return t.bottom+Nh.arrowVerticalOffset;}Nh.arrowHorizontalOffset=25,Nh.arrowVerticalOffset=10,Nh._getOptimalPosition=Ph,Nh.defaultPositions={northArrowSouth:function northArrowSouth(t,e){return{top:Rh(t,e),left:t.left+t.width/2-e.width/2,name:"arrow_s"};},northArrowSouthEast:function northArrowSouthEast(t,e){return{top:Rh(t,e),left:t.left+t.width/2-e.width+Nh.arrowHorizontalOffset,name:"arrow_se"};},northArrowSouthWest:function northArrowSouthWest(t,e){return{top:Rh(t,e),left:t.left+t.width/2-Nh.arrowHorizontalOffset,name:"arrow_sw"};},northWestArrowSouth:function northWestArrowSouth(t,e){return{top:Rh(t,e),left:t.left-e.width/2,name:"arrow_s"};},northWestArrowSouthWest:function northWestArrowSouthWest(t,e){return{top:Rh(t,e),left:t.left-Nh.arrowHorizontalOffset,name:"arrow_sw"};},northWestArrowSouthEast:function northWestArrowSouthEast(t,e){return{top:Rh(t,e),left:t.left-e.width+Nh.arrowHorizontalOffset,name:"arrow_se"};},northEastArrowSouth:function northEastArrowSouth(t,e){return{top:Rh(t,e),left:t.right-e.width/2,name:"arrow_s"};},northEastArrowSouthEast:function northEastArrowSouthEast(t,e){return{top:Rh(t,e),left:t.right-e.width+Nh.arrowHorizontalOffset,name:"arrow_se"};},northEastArrowSouthWest:function northEastArrowSouthWest(t,e){return{top:Rh(t,e),left:t.right-Nh.arrowHorizontalOffset,name:"arrow_sw"};},southArrowNorth:function southArrowNorth(t,e){return{top:Dh(t),left:t.left+t.width/2-e.width/2,name:"arrow_n"};},southArrowNorthEast:function southArrowNorthEast(t,e){return{top:Dh(t),left:t.left+t.width/2-e.width+Nh.arrowHorizontalOffset,name:"arrow_ne"};},southArrowNorthWest:function southArrowNorthWest(t,e){return{top:Dh(t),left:t.left+t.width/2-Nh.arrowHorizontalOffset,name:"arrow_nw"};},southWestArrowNorth:function southWestArrowNorth(t,e){return{top:Dh(t),left:t.left-e.width/2,name:"arrow_n"};},southWestArrowNorthWest:function southWestArrowNorthWest(t,e){return{top:Dh(t),left:t.left-Nh.arrowHorizontalOffset,name:"arrow_nw"};},southWestArrowNorthEast:function southWestArrowNorthEast(t,e){return{top:Dh(t),left:t.left-e.width+Nh.arrowHorizontalOffset,name:"arrow_ne"};},southEastArrowNorth:function southEastArrowNorth(t,e){return{top:Dh(t),left:t.right-e.width/2,name:"arrow_n"};},southEastArrowNorthEast:function southEastArrowNorthEast(t,e){return{top:Dh(t),left:t.right-e.width+Nh.arrowHorizontalOffset,name:"arrow_ne"};},southEastArrowNorthWest:function southEastArrowNorthWest(t,e){return{top:Dh(t),left:t.right-Nh.arrowHorizontalOffset,name:"arrow_nw"};}};var Lh=function(_zl27){_inherits(Lh,_zl27);function Lh(){_classCallCheck(this,Lh);return _possibleConstructorReturn(this,(Lh.__proto__||Object.getPrototypeOf(Lh)).apply(this,arguments));}_createClass(Lh,[{key:'init',value:function init(){var _this196=this;this.view=new Nh(),this.positionLimiter=function(){var t=_this196.editor.editing.view,e=t.document.selection.editableElement;return e?t.domConverter.mapViewToDom(e.root):null;},this._stack=new Map(),this.editor.ui.view.body.add(this.view),this.editor.ui.focusTracker.add(this.view.element);}},{key:'hasView',value:function hasView(t){return this._stack.has(t);}},{key:'add',value:function add(t){if(this.hasView(t.view))throw new P.b("contextualballoon-add-view-exist: Cannot add configuration of the same view twice.");this.visibleView&&this.view.content.remove(this.visibleView),this._stack.set(t.view,t),this._show(t);}},{key:'remove',value:function remove(t){if(!this.hasView(t))throw new P.b("contextualballoon-remove-view-not-exist: Cannot remove configuration of not existing view.");if(this.visibleView===t){this.view.content.remove(t),this._stack.delete(t);var _e151=Array.from(this._stack.values()).pop();_e151?this._show(_e151):this.view.hide();}else this._stack.delete(t);}},{key:'updatePosition',value:function updatePosition(t){t&&(this._stack.get(this.visibleView).position=t),this.view.pin(this._getBalloonPosition());}},{key:'_show',value:function _show(_ref62){var t=_ref62.view,_ref62$balloonClassNa=_ref62.balloonClassName,e=_ref62$balloonClassNa===undefined?"":_ref62$balloonClassNa;this.view.className=e,this.view.content.add(t),this.view.pin(this._getBalloonPosition());}},{key:'_getBalloonPosition',value:function _getBalloonPosition(){var t=Array.from(this._stack.values()).pop().position;return t&&!t.limiter&&(t=Object.assign({},t,{limiter:this.positionLimiter})),t;}},{key:'visibleView',get:function get(){var t=this._stack.get(this.view.content.get(0));return t?t.view:null;}}],[{key:'pluginName',get:function get(){return"ContextualBalloon";}}]);return Lh;}(zl);var jh=n(27),Vh=n.n(jh);function zh(t){var e=t.editing.view,n=Nh.defaultPositions;return{target:e.domConverter.viewToDom(e.document.selection.getSelectedElement()),positions:[n.northArrowSouth,n.northArrowSouthWest,n.northArrowSouthEast,n.southArrowNorth,n.southArrowNorthWest,n.southArrowNorthEast]};}var Bh=function(_zl28){_inherits(Bh,_zl28);function Bh(){_classCallCheck(this,Bh);return _possibleConstructorReturn(this,(Bh.__proto__||Object.getPrototypeOf(Bh)).apply(this,arguments));}_createClass(Bh,[{key:'init',value:function init(){this._createButton(),this._createForm();}},{key:'_createButton',value:function _createButton(){var _this198=this;var t=this.editor,e=t.t;t.ui.componentFactory.add("imageTextAlternative",function(n){var i=t.commands.get("imageTextAlternative"),o=new Ld(n);return o.set({label:e("au"),icon:Vh.a,tooltip:!0}),o.bind("isEnabled").to(i,"isEnabled"),_this198.listenTo(o,"execute",function(){return _this198._showForm();}),o;});}},{key:'_createForm',value:function _createForm(){var _this199=this;var t=this.editor,e=t.editing.view.document;this._balloon=this.editor.plugins.get("ContextualBalloon"),this._form=new Th(t.locale),this._form.render(),this.listenTo(this._form,"submit",function(){t.execute("imageTextAlternative",{newValue:_this199._form.labeledInput.inputView.element.value}),_this199._hideForm(!0);}),this.listenTo(this._form,"cancel",function(){_this199._hideForm(!0);}),this._form.keystrokes.set("Esc",function(t,e){_this199._hideForm(!0),e();}),this.listenTo(t.ui,"update",function(){rh(e.selection)?_this199._isVisible&&function(t){var e=t.plugins.get("ContextualBalloon");if(rh(t.editing.view.document.selection)){var _n123=zh(t);e.updatePosition(_n123);}}(t):_this199._hideForm(!0);}),wh({emitter:this._form,activator:function activator(){return _this199._isVisible;},contextElements:[this._form.element],callback:function callback(){return _this199._hideForm();}});}},{key:'_showForm',value:function _showForm(){if(this._isVisible)return;var t=this.editor,e=t.commands.get("imageTextAlternative"),n=this._form.labeledInput;this._balloon.hasView(this._form)||this._balloon.add({view:this._form,position:zh(t)}),n.value=n.inputView.element.value=e.value||"",this._form.labeledInput.select();}},{key:'_hideForm',value:function _hideForm(t){this._isVisible&&(this._balloon.remove(this._form),t&&this.editor.editing.view.focus());}},{key:'_isVisible',get:function get(){return this._balloon.visibleView==this._form;}}],[{key:'requires',get:function get(){return[Lh];}}]);return Bh;}(zl);var Fh=function(_zl29){_inherits(Fh,_zl29);function Fh(){_classCallCheck(this,Fh);return _possibleConstructorReturn(this,(Fh.__proto__||Object.getPrototypeOf(Fh)).apply(this,arguments));}_createClass(Fh,null,[{key:'requires',get:function get(){return[bh,Bh];}},{key:'pluginName',get:function get(){return"ImageTextAlternative";}}]);return Fh;}(zl);n(74);var Uh=function(_zl30){_inherits(Uh,_zl30);function Uh(){_classCallCheck(this,Uh);return _possibleConstructorReturn(this,(Uh.__proto__||Object.getPrototypeOf(Uh)).apply(this,arguments));}_createClass(Uh,null,[{key:'requires',get:function get(){return[dh,mh,Fh];}},{key:'pluginName',get:function get(){return"Image";}}]);return Uh;}(zl);var Hh=function(_xl14){_inherits(Hh,_xl14);function Hh(t){var _this202;_classCallCheck(this,Hh);(_this202=_possibleConstructorReturn(this,(Hh.__proto__||Object.getPrototypeOf(Hh)).call(this,t)),_this202),_this202.buttonView=new Ld(t),_this202._fileInputView=new qh(t),_this202._fileInputView.bind("acceptedType").to(_this202),_this202._fileInputView.bind("allowMultipleFiles").to(_this202),_this202._fileInputView.delegate("done").to(_this202),_this202.setTemplate({tag:"span",attributes:{class:"ck-file-dialog-button"},children:[_this202.buttonView,_this202._fileInputView]}),_this202.buttonView.on("execute",function(){_this202._fileInputView.open();});return _this202;}_createClass(Hh,[{key:'focus',value:function focus(){this.buttonView.focus();}}]);return Hh;}(xl);var qh=function(_xl15){_inherits(qh,_xl15);function qh(t){var _this203;_classCallCheck(this,qh);(_this203=_possibleConstructorReturn(this,(qh.__proto__||Object.getPrototypeOf(qh)).call(this,t)),_this203),_this203.set("acceptedType"),_this203.set("allowMultipleFiles",!1);var e=_this203.bindTemplate;_this203.setTemplate({tag:"input",attributes:{class:["ck-hidden"],type:"file",tabindex:"-1",accept:e.to("acceptedType"),multiple:e.to("allowMultipleFiles")},on:{change:e.to(function(){_this203.element&&_this203.element.files&&_this203.element.files.length&&_this203.fire("done",_this203.element.files),_this203.element.value="";})}});return _this203;}_createClass(qh,[{key:'open',value:function open(){this.element.click();}}]);return qh;}(xl);var Wh=n(28),Yh=n.n(Wh);function $h(t){return /^image\/(jpeg|png|gif|bmp)$/.test(t.type);}function Gh(t){return new Promise(function(e){fetch(t.getAttribute("src")).then(function(t){return t.blob();}).then(function(n){var i=function(t,e){return t.type?t.type:e.match(/data:(image\/\w+);base64/)?e.match(/data:(image\/\w+);base64/)[1].toLowerCase():"image/jpeg";}(n,t.getAttribute("src")),o=function(t,e,n){try{return new File([t],e,{type:n});}catch(t){return null;}}(n,'image.'+i.replace("image/",""),i);e({image:t,file:o});}).catch(function(){e({image:t,file:null});});});}var Qh=function(_zl31){_inherits(Qh,_zl31);function Qh(){_classCallCheck(this,Qh);return _possibleConstructorReturn(this,(Qh.__proto__||Object.getPrototypeOf(Qh)).apply(this,arguments));}_createClass(Qh,[{key:'init',value:function init(){var t=this.editor,e=t.t;t.ui.componentFactory.add("imageUpload",function(n){var i=new Hh(n),o=t.commands.get("imageUpload");return i.set({acceptedType:"image/*",allowMultipleFiles:!0}),i.buttonView.set({label:e("l"),icon:Yh.a,tooltip:!0}),i.buttonView.bind("isEnabled").to(o),i.on("done",function(e,n){var i=Array.from(n).filter($h);i.length&&t.execute("imageUpload",{file:i});}),i;});}}]);return Qh;}(zl);var Jh=n(29),Kh=n.n(Jh);n(76),n(78),n(80);var Zh=function(_zl32){_inherits(Zh,_zl32);function Zh(t){var _this205;_classCallCheck(this,Zh);(_this205=_possibleConstructorReturn(this,(Zh.__proto__||Object.getPrototypeOf(Zh)).call(this,t)),_this205),_this205.placeholder="data:image/svg+xml;utf8,"+encodeURIComponent(Kh.a);return _this205;}_createClass(Zh,[{key:'init',value:function init(){var _this206=this;this.editor.editing.downcastDispatcher.on("attribute:uploadStatus:image",function(){return _this206.uploadStatusChange.apply(_this206,arguments);});}},{key:'uploadStatusChange',value:function uploadStatusChange(t,e,n){var i=this.editor,o=e.item,r=o.getAttribute("uploadId");if(!n.consumable.consume(e.item,t.name))return;var s=i.plugins.get(Wd),a=r?e.attributeNewValue:null,c=this.placeholder,l=i.editing.mapper.toViewElement(o),d=n.writer;if("reading"==a)return ef(l,d),void nf(c,l,d);if("uploading"==a){var _t193=s.loaders.get(r);return ef(l,d),void(_t193?(of(l,d),function(t,e,n,i){var o=function(t){var e=t.createUIElement("div",{class:"ck-progress-bar"});return t.setCustomProperty(Xh,!0,e),e;}(e);e.insert(e.createPositionAt(t,"end"),o),n.on("change:uploadedPercent",function(t,e,n){i.change(function(t){t.setStyle("width",n+"%",o);});});}(l,d,_t193,i.editing.view)):nf(c,l,d));}"complete"==a&&s.loaders.get(r)&&!co.isEdge&&function(t,e,n){var i=e.createUIElement("div",{class:"ck-image-upload-complete-icon"});e.insert(e.createPositionAt(t,"end"),i),setTimeout(function(){n.change(function(t){return t.remove(t.createRangeOn(i));});},3e3);}(l,d,i.editing.view),function(t,e){sf(t,e,Xh);}(l,d),of(l,d),function(t,e){e.removeClass("ck-appear",t);}(l,d);}}]);return Zh;}(zl);var Xh=Symbol("progress-bar"),tf=Symbol("placeholder");function ef(t,e){t.hasClass("ck-appear")||e.addClass("ck-appear",t);}function nf(t,e,n){e.hasClass("ck-image-upload-placeholder")||n.addClass("ck-image-upload-placeholder",e);var i=e.getChild(0);i.getAttribute("src")!==t&&n.setAttribute("src",t,i),rf(e,tf)||n.insert(n.createPositionAfter(i),function(t){var e=t.createUIElement("div",{class:"ck-upload-placeholder-loader"});return t.setCustomProperty(tf,!0,e),e;}(n));}function of(t,e){t.hasClass("ck-image-upload-placeholder")&&e.removeClass("ck-image-upload-placeholder",t),sf(t,e,tf);}function rf(t,e){var _iteratorNormalCompletion296=true;var _didIteratorError296=false;var _iteratorError296=undefined;try{for(var _iterator296=t.getChildren()[Symbol.iterator](),_step296;!(_iteratorNormalCompletion296=(_step296=_iterator296.next()).done);_iteratorNormalCompletion296=true){var _n124=_step296.value;if(_n124.getCustomProperty(e))return _n124;}}catch(err){_didIteratorError296=true;_iteratorError296=err;}finally{try{if(!_iteratorNormalCompletion296&&_iterator296.return){_iterator296.return();}}finally{if(_didIteratorError296){throw _iteratorError296;}}}}function sf(t,e,n){var i=rf(t,n);i&&e.remove(e.createRangeOn(i));}var af=function(){function af(){_classCallCheck(this,af);}_createClass(af,[{key:'createDocumentFragment',value:function createDocumentFragment(t){return new _o(t);}},{key:'createElement',value:function createElement(t,e,n){return new mi(t,e,n);}},{key:'createText',value:function createText(t){return new ci(t);}},{key:'clone',value:function clone(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:!1;return t._clone(e);}},{key:'appendChild',value:function appendChild(t,e){return e._appendChild(t);}},{key:'insertChild',value:function insertChild(t,e,n){return n._insertChild(t,e);}},{key:'removeChildren',value:function removeChildren(t,e,n){return n._removeChildren(t,e);}},{key:'remove',value:function remove(t){var e=t.parent;return e?this.removeChildren(e.getChildIndex(t),1,e):[];}},{key:'replace',value:function replace(t,e){var n=t.parent;if(n){var i=n.getChildIndex(t);return this.removeChildren(i,1,n),this.insertChild(i,e,n),!0;}return!1;}},{key:'rename',value:function rename(t,e){var n=new mi(t,e.getAttributes(),e.getChildren());return this.replace(e,n)?n:null;}},{key:'setAttribute',value:function setAttribute(t,e,n){n._setAttribute(t,e);}},{key:'removeAttribute',value:function removeAttribute(t,e){e._removeAttribute(t);}},{key:'addClass',value:function addClass(t,e){e._addClass(t);}},{key:'removeClass',value:function removeClass(t,e){e._removeClass(t);}},{key:'setStyle',value:function setStyle(t,e,n){C(t)&&void 0===n&&(n=e),n._setStyle(t,e);}},{key:'removeStyle',value:function removeStyle(t,e){e._removeStyle(t);}},{key:'setCustomProperty',value:function setCustomProperty(t,e,n){n._setCustomProperty(t,e);}},{key:'removeCustomProperty',value:function removeCustomProperty(t,e){return e._removeCustomProperty(t);}},{key:'createPositionAt',value:function createPositionAt(t,e){return $i._createAt(t,e);}},{key:'createPositionAfter',value:function createPositionAfter(t){return $i._createAfter(t);}},{key:'createPositionBefore',value:function createPositionBefore(t){return $i._createBefore(t);}},{key:'createRange',value:function createRange(t,e){return new Gi(t,e);}},{key:'createRangeOn',value:function createRangeOn(t){return Gi._createOn(t);}},{key:'createRangeIn',value:function createRangeIn(t){return Gi._createIn(t);}},{key:'createSelection',value:function createSelection(t,e,n){return new Ki(t,e,n);}}]);return af;}();var cf=function(_ql11){_inherits(cf,_ql11);function cf(){_classCallCheck(this,cf);return _possibleConstructorReturn(this,(cf.__proto__||Object.getPrototypeOf(cf)).apply(this,arguments));}_createClass(cf,[{key:'refresh',value:function refresh(){this.isEnabled=ch(this.editor.model);}},{key:'execute',value:function execute(t){var e=this.editor,n=e.model,i=e.plugins.get(Wd);n.change(function(e){var o=Array.isArray(t.file)?t.file:[t.file];var _iteratorNormalCompletion297=true;var _didIteratorError297=false;var _iteratorError297=undefined;try{for(var _iterator297=o[Symbol.iterator](),_step297;!(_iteratorNormalCompletion297=(_step297=_iterator297.next()).done);_iteratorNormalCompletion297=true){var _t194=_step297.value;lf(e,n,i,_t194);}}catch(err){_didIteratorError297=true;_iteratorError297=err;}finally{try{if(!_iteratorNormalCompletion297&&_iterator297.return){_iterator297.return();}}finally{if(_didIteratorError297){throw _iteratorError297;}}}});}}]);return cf;}(ql);function lf(t,e,n,i){var o=n.createLoader(i);o&&ah(t,e,{uploadId:o.id});}var df=function(_zl33){_inherits(df,_zl33);function df(){_classCallCheck(this,df);return _possibleConstructorReturn(this,(df.__proto__||Object.getPrototypeOf(df)).apply(this,arguments));}_createClass(df,[{key:'init',value:function init(){var _this209=this;var t=this.editor,e=t.model.document,n=t.model.schema,i=t.conversion,o=t.plugins.get(Wd);n.extend("image",{allowAttributes:["uploadId","uploadStatus"]}),t.commands.add("imageUpload",new cf(t)),i.for("upcast").add(Da({view:{name:"img",key:"uploadId"},model:"uploadId"})),this.listenTo(t.editing.view.document,"clipboardInput",function(e,n){if(function(t){return Array.from(t.types).includes("text/html")&&""!==t.getData("text/html");}(n.dataTransfer))return;var i=Array.from(n.dataTransfer.files).filter(function(t){return!!t&&$h(t);}),o=n.targetRanges.map(function(e){return t.editing.mapper.toModelRange(e);});t.model.change(function(n){n.setSelection(o),i.length&&(e.stop(),t.model.enqueueChange("default",function(){t.execute("imageUpload",{file:i});}));});}),this.listenTo(t.plugins.get("Clipboard"),"inputTransformation",function(e,n){var i=Array.from(t.editing.view.createRangeIn(n.content)).filter(function(t){return function(t){return!(!t.is("element","img")||!t.getAttribute("src"))&&(t.getAttribute("src").match(/^data:image\/\w+;base64,/g)||t.getAttribute("src").match(/^blob:/g));}(t.item)&&!t.item.getAttribute("uploadProcessed");}).map(function(t){return Gh(t.item);});i.length&&(e.stop(),Promise.all(i).then(function(e){var i=new af();var _iteratorNormalCompletion298=true;var _didIteratorError298=false;var _iteratorError298=undefined;try{for(var _iterator298=e[Symbol.iterator](),_step298;!(_iteratorNormalCompletion298=(_step298=_iterator298.next()).done);_iteratorNormalCompletion298=true){var _t195=_step298.value;if(_t195.file){i.setAttribute("uploadProcessed",!0,_t195.image);var _e152=o.createLoader(_t195.file);_e152&&(i.setAttribute("src","",_t195.image),i.setAttribute("uploadId",_e152.id,_t195.image));}else i.remove(_t195.image);}}catch(err){_didIteratorError298=true;_iteratorError298=err;}finally{try{if(!_iteratorNormalCompletion298&&_iterator298.return){_iterator298.return();}}finally{if(_didIteratorError298){throw _iteratorError298;}}}t.plugins.get("Clipboard").fire("inputTransformation",n);}));}),t.editing.view.document.on("dragover",function(t,e){e.preventDefault();}),e.on("change",function(){var t=e.differ.getChanges({includeChangesInGraveyard:!0});var _iteratorNormalCompletion299=true;var _didIteratorError299=false;var _iteratorError299=undefined;try{for(var _iterator299=t[Symbol.iterator](),_step299;!(_iteratorNormalCompletion299=(_step299=_iterator299.next()).done);_iteratorNormalCompletion299=true){var _e153=_step299.value;if("insert"==_e153.type&&"image"==_e153.name){var _t196=_e153.position.nodeAfter,_n125="$graveyard"==_e153.position.root.rootName,_i40=_t196.getAttribute("uploadId");if(!_i40)continue;var _r32=o.loaders.get(_i40);if(!_r32)continue;_n125?_r32.abort():"idle"==_r32.status&&_this209._readAndUpload(_r32,_t196);}}}catch(err){_didIteratorError299=true;_iteratorError299=err;}finally{try{if(!_iteratorNormalCompletion299&&_iterator299.return){_iterator299.return();}}finally{if(_didIteratorError299){throw _iteratorError299;}}}});}},{key:'_readAndUpload',value:function _readAndUpload(t,e){var _this210=this;var n=this.editor,i=n.model,o=n.locale.t,r=n.plugins.get(Wd),s=n.plugins.get(Pu);return i.enqueueChange("transparent",function(t){t.setAttribute("uploadStatus","reading",e);}),t.read().then(function(o){var r=n.editing.mapper.toViewElement(e).getChild(0),s=t.upload();return n.editing.view.change(function(t){t.setAttribute("src",o,r);}),i.enqueueChange("transparent",function(t){t.setAttribute("uploadStatus","uploading",e);}),s;}).then(function(t){i.enqueueChange("transparent",function(n){n.setAttributes({uploadStatus:"complete",src:t.default},e),_this210._parseAndSetSrcsetAttributeOnImage(t,e,n);}),a();}).catch(function(n){if("error"!==t.status&&"aborted"!==t.status)throw n;"error"==t.status&&s.showWarning(n,{title:o("r"),namespace:"upload"}),a(),i.enqueueChange("transparent",function(t){t.remove(e);});});function a(){i.enqueueChange("transparent",function(t){t.removeAttribute("uploadId",e),t.removeAttribute("uploadStatus",e);}),r.destroyLoader(t);}}},{key:'_parseAndSetSrcsetAttributeOnImage',value:function _parseAndSetSrcsetAttributeOnImage(t,e,n){var i=0;var o=Object.keys(t).filter(function(t){var e=parseInt(t,10);if(!isNaN(e))return i=Math.max(i,e),!0;}).map(function(e){return t[e]+' '+e+'w';}).join(", ");""!=o&&n.setAttribute("srcset",{data:o,width:i},e);}}],[{key:'requires',get:function get(){return[Wd,Pu];}}]);return df;}(zl);var uf=function(_zl34){_inherits(uf,_zl34);function uf(){_classCallCheck(this,uf);return _possibleConstructorReturn(this,(uf.__proto__||Object.getPrototypeOf(uf)).apply(this,arguments));}_createClass(uf,null,[{key:'pluginName',get:function get(){return"ImageUpload";}},{key:'requires',get:function get(){return[df,Qh,Zh];}}]);return uf;}(zl);var hf=function(_ql12){_inherits(hf,_ql12);function hf(){_classCallCheck(this,hf);return _possibleConstructorReturn(this,(hf.__proto__||Object.getPrototypeOf(hf)).apply(this,arguments));}_createClass(hf,[{key:'refresh',value:function refresh(){var t=this.editor.model,e=pu(t.document.selection.getSelectedBlocks());this.value=!!e&&e.is("paragraph"),this.isEnabled=!!e&&ff(e,t.schema);}},{key:'execute',value:function execute(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};var e=this.editor.model,n=e.document;e.change(function(i){var o=(t.selection||n.selection).getSelectedBlocks();var _iteratorNormalCompletion300=true;var _didIteratorError300=false;var _iteratorError300=undefined;try{for(var _iterator300=o[Symbol.iterator](),_step300;!(_iteratorNormalCompletion300=(_step300=_iterator300.next()).done);_iteratorNormalCompletion300=true){var _t197=_step300.value;!_t197.is("paragraph")&&ff(_t197,e.schema)&&i.rename(_t197,"paragraph");}}catch(err){_didIteratorError300=true;_iteratorError300=err;}finally{try{if(!_iteratorNormalCompletion300&&_iterator300.return){_iterator300.return();}}finally{if(_didIteratorError300){throw _iteratorError300;}}}});}}]);return hf;}(ql);function ff(t,e){return e.checkChild(t.parent,"paragraph")&&!e.isObject(t);}var mf=function(_zl35){_inherits(mf,_zl35);function mf(){_classCallCheck(this,mf);return _possibleConstructorReturn(this,(mf.__proto__||Object.getPrototypeOf(mf)).apply(this,arguments));}_createClass(mf,[{key:'init',value:function init(){var _this214=this;var t=this.editor,e=t.model,n=t.data;t.commands.add("paragraph",new hf(t)),e.schema.register("paragraph",{inheritAllFrom:"$block"}),t.conversion.elementToElement({model:"paragraph",view:"p"}),n.upcastDispatcher.on("element",function(t,e,n){var i=n.writer;if(n.consumable.test(e.viewItem,{name:e.viewItem.name}))if(mf.paragraphLikeElements.has(e.viewItem.name)){if(e.viewItem.isEmpty)return;var _t198=i.createElement("paragraph"),_o72=n.splitToAllowedParent(_t198,e.modelCursor);if(!_o72)return;i.insert(_t198,_o72.position);var _n$convertChildren3=n.convertChildren(e.viewItem,i.createPositionAt(_t198,0)),_r33=_n$convertChildren3.modelRange;e.modelRange=i.createRange(i.createPositionBefore(_t198),_r33.end),e.modelCursor=e.modelRange.end;}else gf(e.viewItem,e.modelCursor,n.schema)&&(e=Object.assign(e,pf(e.viewItem,e.modelCursor,n)));},{priority:"low"}),n.upcastDispatcher.on("text",function(t,e,n){e.modelRange||gf(e.viewItem,e.modelCursor,n.schema)&&(e=Object.assign(e,pf(e.viewItem,e.modelCursor,n)));},{priority:"lowest"}),e.document.registerPostFixer(function(t){return _this214._autoparagraphEmptyRoots(t);}),t.on("dataReady",function(){e.enqueueChange("transparent",function(t){return _this214._autoparagraphEmptyRoots(t);});},{priority:"lowest"});}},{key:'_autoparagraphEmptyRoots',value:function _autoparagraphEmptyRoots(t){var e=this.editor.model;var _iteratorNormalCompletion301=true;var _didIteratorError301=false;var _iteratorError301=undefined;try{for(var _iterator301=e.document.getRootNames()[Symbol.iterator](),_step301;!(_iteratorNormalCompletion301=(_step301=_iterator301.next()).done);_iteratorNormalCompletion301=true){var _n126=_step301.value;var i=e.document.getRoot(_n126);if(i.isEmpty&&"$graveyard"!=i.rootName&&e.schema.checkChild(i,"paragraph"))return t.insertElement("paragraph",i),!0;}}catch(err){_didIteratorError301=true;_iteratorError301=err;}finally{try{if(!_iteratorNormalCompletion301&&_iterator301.return){_iterator301.return();}}finally{if(_didIteratorError301){throw _iteratorError301;}}}}}],[{key:'pluginName',get:function get(){return"Paragraph";}}]);return mf;}(zl);function pf(t,e,n){var i=n.writer.createElement("paragraph");return n.writer.insert(i,e),n.convertItem(t,n.writer.createPositionAt(i,0));}function gf(t,e,n){var i=n.createContext(e);return!!n.checkChild(i,"paragraph")&&!!n.checkChild(i.push("paragraph"),t);}mf.paragraphLikeElements=new Set(["blockquote","dd","div","dt","h1","h2","h3","h4","h5","h6","li","p","td"]);var bf=function(_ql13){_inherits(bf,_ql13);function bf(t,e){var _this215;_classCallCheck(this,bf);(_this215=_possibleConstructorReturn(this,(bf.__proto__||Object.getPrototypeOf(bf)).call(this,t)),_this215),_this215.modelElements=e;return _this215;}_createClass(bf,[{key:'refresh',value:function refresh(){var _this216=this;var t=pu(this.editor.model.document.selection.getSelectedBlocks());this.value=!!t&&this.modelElements.includes(t.name)&&t.name,this.isEnabled=!!t&&this.modelElements.some(function(e){return wf(t,e,_this216.editor.model.schema);});}},{key:'execute',value:function execute(t){var e=this.editor.model,n=e.document,i=t.value;e.change(function(t){var o=Array.from(n.selection.getSelectedBlocks()).filter(function(t){return wf(t,i,e.schema);});var _iteratorNormalCompletion302=true;var _didIteratorError302=false;var _iteratorError302=undefined;try{for(var _iterator302=o[Symbol.iterator](),_step302;!(_iteratorNormalCompletion302=(_step302=_iterator302.next()).done);_iteratorNormalCompletion302=true){var _e154=_step302.value;_e154.is(i)||t.rename(_e154,i);}}catch(err){_didIteratorError302=true;_iteratorError302=err;}finally{try{if(!_iteratorNormalCompletion302&&_iterator302.return){_iterator302.return();}}finally{if(_didIteratorError302){throw _iteratorError302;}}}});}}]);return bf;}(ql);function wf(t,e,n){return n.checkChild(t.parent,e)&&!n.isObject(t);}var _f="paragraph";var kf=function(_zl36){_inherits(kf,_zl36);function kf(t){var _this217;_classCallCheck(this,kf);(_this217=_possibleConstructorReturn(this,(kf.__proto__||Object.getPrototypeOf(kf)).call(this,t)),_this217),t.config.define("heading",{options:[{model:"paragraph",title:"Paragraph",class:"ck-heading_paragraph"},{model:"heading1",view:"h2",title:"Heading 1",class:"ck-heading_heading1"},{model:"heading2",view:"h3",title:"Heading 2",class:"ck-heading_heading2"},{model:"heading3",view:"h4",title:"Heading 3",class:"ck-heading_heading3"}]});return _this217;}_createClass(kf,[{key:'init',value:function init(){var t=this.editor,e=t.config.get("heading.options"),n=[];var _iteratorNormalCompletion303=true;var _didIteratorError303=false;var _iteratorError303=undefined;try{for(var _iterator303=e[Symbol.iterator](),_step303;!(_iteratorNormalCompletion303=(_step303=_iterator303.next()).done);_iteratorNormalCompletion303=true){var i=_step303.value;i.model!==_f&&(t.model.schema.register(i.model,{inheritAllFrom:"$block"}),t.conversion.elementToElement(i),n.push(i.model));}}catch(err){_didIteratorError303=true;_iteratorError303=err;}finally{try{if(!_iteratorNormalCompletion303&&_iterator303.return){_iterator303.return();}}finally{if(_didIteratorError303){throw _iteratorError303;}}}this._addDefaultH1Conversion(t),t.commands.add("heading",new bf(t,n));}},{key:'afterInit',value:function afterInit(){var t=this.editor,e=t.commands.get("enter"),n=t.config.get("heading.options");e&&this.listenTo(e,"afterExecute",function(e,i){var o=t.model.document.selection.getFirstPosition().parent;n.some(function(t){return o.is(t.model);})&&!o.is(_f)&&0===o.childCount&&i.writer.rename(o,_f);});}},{key:'_addDefaultH1Conversion',value:function _addDefaultH1Conversion(t){t.conversion.for("upcast").add(Oa({model:"heading1",view:"h1",converterPriority:E.get("low")+1}));}}],[{key:'requires',get:function get(){return[mf];}}]);return kf;}(zl);var vf=function vf(t,e){_classCallCheck(this,vf);e&&Ei(this,e),t&&this.set(t);};F(vf,Li);var yf=function(_xl16){_inherits(yf,_xl16);function yf(t){_classCallCheck(this,yf);var _this218=_possibleConstructorReturn(this,(yf.__proto__||Object.getPrototypeOf(yf)).call(this,t));var e=_this218.bindTemplate;_this218.set("isVisible",!1),_this218.set("position","se"),_this218.children=_this218.createCollection(),_this218.setTemplate({tag:"div",attributes:{class:["ck","ck-reset","ck-dropdown__panel",e.to("position",function(t){return'ck-dropdown__panel_'+t;}),e.if("isVisible","ck-dropdown__panel-visible")]},children:_this218.children,on:{selectstart:e.to(function(t){return t.preventDefault();})}});return _this218;}_createClass(yf,[{key:'focus',value:function focus(){this.children.length&&this.children.first.focus();}},{key:'focusLast',value:function focusLast(){if(this.children.length){var t=this.children.last;"function"==typeof t.focusLast?t.focusLast():t.focus();}}}]);return yf;}(xl);n(82);var xf=function(_xl17){_inherits(xf,_xl17);function xf(t,e,n){_classCallCheck(this,xf);var _this219=_possibleConstructorReturn(this,(xf.__proto__||Object.getPrototypeOf(xf)).call(this,t));var i=_this219.bindTemplate;_this219.buttonView=e,_this219.panelView=n,_this219.set("isOpen",!1),_this219.set("isEnabled",!0),_this219.set("class"),_this219.set("panelPosition","auto"),_this219.focusTracker=new Kc(),_this219.keystrokes=new Uc(),_this219.setTemplate({tag:"div",attributes:{class:["ck","ck-dropdown",i.to("class"),i.if("isEnabled","ck-disabled",function(t){return!t;})]},children:[e,n]}),e.extendTemplate({attributes:{class:["ck-dropdown__button"]}});return _this219;}_createClass(xf,[{key:'render',value:function render(){var _this220=this;_get(xf.prototype.__proto__||Object.getPrototypeOf(xf.prototype),'render',this).call(this),this.listenTo(this.buttonView,"open",function(){_this220.isOpen=!_this220.isOpen;}),this.panelView.bind("isVisible").to(this,"isOpen"),this.on("change:isOpen",function(){if(_this220.isOpen)if("auto"===_this220.panelPosition){var _t199=xf.defaultPanelPositions;_this220.panelView.position=Ph({element:_this220.panelView.element,target:_this220.buttonView.element,fitInViewport:!0,positions:[_t199.southEast,_t199.southWest,_t199.northEast,_t199.northWest]}).name;}else _this220.panelView.position=_this220.panelPosition;}),this.keystrokes.listenTo(this.element),this.focusTracker.add(this.element);var t=function t(_t200,e){_this220.isOpen&&(_this220.buttonView.focus(),_this220.isOpen=!1,e());};this.keystrokes.set("arrowdown",function(t,e){_this220.buttonView.isEnabled&&!_this220.isOpen&&(_this220.isOpen=!0,e());}),this.keystrokes.set("arrowright",function(t,e){_this220.isOpen&&e();}),this.keystrokes.set("arrowleft",t),this.keystrokes.set("esc",t);}},{key:'focus',value:function focus(){this.buttonView.focus();}}]);return xf;}(xl);xf.defaultPanelPositions={southEast:function southEast(t){return{top:t.bottom,left:t.left,name:"se"};},southWest:function southWest(t,e){return{top:t.bottom,left:t.left-e.width+t.width,name:"sw"};},northEast:function northEast(t,e){return{top:t.top-e.height,left:t.left,name:"ne"};},northWest:function northWest(t,e){return{top:t.bottom-e.height,left:t.left-e.width+t.width,name:"nw"};}};var Af=n(30),Cf=n.n(Af);var Tf=function(_Ld){_inherits(Tf,_Ld);function Tf(t){var _this221;_classCallCheck(this,Tf);(_this221=_possibleConstructorReturn(this,(Tf.__proto__||Object.getPrototypeOf(Tf)).call(this,t)),_this221),_this221.arrowView=_this221._createArrowView(),_this221.extendTemplate({attributes:{"aria-haspopup":!0}}),_this221.delegate("execute").to(_this221,"open");return _this221;}_createClass(Tf,[{key:'render',value:function render(){_get(Tf.prototype.__proto__||Object.getPrototypeOf(Tf.prototype),'render',this).call(this),this.children.add(this.arrowView);}},{key:'_createArrowView',value:function _createArrowView(){var t=new Rd();return t.content=Cf.a,t.extendTemplate({attributes:{class:"ck-dropdown__arrow"}}),t;}}]);return Tf;}(Ld);n(84);var Pf=function(_xl18){_inherits(Pf,_xl18);function Pf(){var _this222;_classCallCheck(this,Pf);(_this222=_possibleConstructorReturn(this,(Pf.__proto__||Object.getPrototypeOf(Pf)).call(this)),_this222),_this222.items=_this222.createCollection(),_this222.focusTracker=new Kc(),_this222.keystrokes=new Uc(),_this222._focusCycler=new Nl({focusables:_this222.items,focusTracker:_this222.focusTracker,keystrokeHandler:_this222.keystrokes,actions:{focusPrevious:"arrowup",focusNext:"arrowdown"}}),_this222.setTemplate({tag:"ul",attributes:{class:["ck","ck-reset","ck-list"]},children:_this222.items});return _this222;}_createClass(Pf,[{key:'render',value:function render(){var _this223=this;_get(Pf.prototype.__proto__||Object.getPrototypeOf(Pf.prototype),'render',this).call(this);var _iteratorNormalCompletion304=true;var _didIteratorError304=false;var _iteratorError304=undefined;try{for(var _iterator304=this.items[Symbol.iterator](),_step304;!(_iteratorNormalCompletion304=(_step304=_iterator304.next()).done);_iteratorNormalCompletion304=true){var t=_step304.value;this.focusTracker.add(t.element);}}catch(err){_didIteratorError304=true;_iteratorError304=err;}finally{try{if(!_iteratorNormalCompletion304&&_iterator304.return){_iterator304.return();}}finally{if(_didIteratorError304){throw _iteratorError304;}}}this.items.on("add",function(t,e){_this223.focusTracker.add(e.element);}),this.items.on("remove",function(t,e){_this223.focusTracker.remove(e.element);}),this.keystrokes.listenTo(this.element);}},{key:'focus',value:function focus(){this._focusCycler.focusFirst();}},{key:'focusLast',value:function focusLast(){this._focusCycler.focusLast();}}]);return Pf;}(xl);var Mf=function(_xl19){_inherits(Mf,_xl19);function Mf(t){var _this224;_classCallCheck(this,Mf);(_this224=_possibleConstructorReturn(this,(Mf.__proto__||Object.getPrototypeOf(Mf)).call(this,t)),_this224),_this224.children=_this224.createCollection(),_this224.setTemplate({tag:"li",attributes:{class:["ck","ck-list__item"]},children:_this224.children});return _this224;}_createClass(Mf,[{key:'focus',value:function focus(){this.children.first.focus();}}]);return Mf;}(xl);var Sf=function(_xl20){_inherits(Sf,_xl20);function Sf(t){var _this225;_classCallCheck(this,Sf);(_this225=_possibleConstructorReturn(this,(Sf.__proto__||Object.getPrototypeOf(Sf)).call(this,t)),_this225),_this225.setTemplate({tag:"li",attributes:{class:["ck","ck-list__separator"]}});return _this225;}return Sf;}(xl);n(86);var If=function(_Ld2){_inherits(If,_Ld2);function If(t){var _this226;_classCallCheck(this,If);(_this226=_possibleConstructorReturn(this,(If.__proto__||Object.getPrototypeOf(If)).call(this,t)),_this226),_this226.toggleSwitchView=_this226._createToggleView(),_this226.extendTemplate({attributes:{class:"ck-switchbutton"}});return _this226;}_createClass(If,[{key:'render',value:function render(){_get(If.prototype.__proto__||Object.getPrototypeOf(If.prototype),'render',this).call(this),this.children.add(this.toggleSwitchView);}},{key:'_createToggleView',value:function _createToggleView(){var t=new xl();return t.setTemplate({tag:"span",attributes:{class:["ck","ck-button__toggle"]},children:[{tag:"span",attributes:{class:["ck","ck-button__toggle__inner"]}}]}),t;}}]);return If;}(Ld);n(88),n(90);function Ef(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:Tf;var n=new e(t),i=new yf(t),o=new xf(t,n,i);return n.bind("isEnabled").to(o),n instanceof Tf?n.bind("isOn").to(o,"isOpen"):n.arrowView.bind("isOn").to(o,"isOpen"),function(t){(function(t){t.on("render",function(){wh({emitter:t,activator:function activator(){return t.isOpen;},callback:function callback(){t.isOpen=!1;},contextElements:[t.element]});});})(t),function(t){t.on("execute",function(e){e.source instanceof If||(t.isOpen=!1);});}(t),function(t){t.keystrokes.set("arrowdown",function(e,n){t.isOpen&&(t.panelView.focus(),n());}),t.keystrokes.set("arrowup",function(e,n){t.isOpen&&(t.panelView.focusLast(),n());});}(t);}(o),o;}function Nf(t,e){var n=t.locale,i=t.listView=new Pf(n);i.items.bindTo(e).using(function(_ref63){var t=_ref63.type,e=_ref63.model;if("separator"===t)return new Sf(n);if("button"===t||"switchbutton"===t){var _o74;var _i41=new Mf(n);var _o73=void 0;return(_o74=_o73="button"===t?new Ld(n):new If(n)).bind.apply(_o74,_toConsumableArray(Object.keys(e))).to(e),_o73.delegate("execute").to(_i41),_i41.children.add(_o73),_i41;}}),t.panelView.children.add(i),i.items.delegate("execute").to(t);}n(17);var Of=function(_zl37){_inherits(Of,_zl37);function Of(){_classCallCheck(this,Of);return _possibleConstructorReturn(this,(Of.__proto__||Object.getPrototypeOf(Of)).apply(this,arguments));}_createClass(Of,[{key:'init',value:function init(){var _this228=this;var t=this.editor,e=t.t,n=function(t){var e=t.t,n={Paragraph:e("av"),"Heading 1":e("aw"),"Heading 2":e("ax"),"Heading 3":e("ay")};return t.config.get("heading.options").map(function(t){var e=n[t.title];return e&&e!=t.title&&(t=Object.assign({},t,{title:e})),t;});}(t),i=e("m"),o=e("n");t.ui.componentFactory.add("heading",function(e){var r={},s=new Xi(),a=t.commands.get("heading"),c=t.commands.get("paragraph"),l=[a];var _loop6=function _loop6(_t201){var e={type:"button",model:new vf({label:_t201.title,class:_t201.class,withText:!0})};"paragraph"===_t201.model?(e.model.bind("isOn").to(c,"value"),e.model.set("commandName","paragraph"),l.push(c)):(e.model.bind("isOn").to(a,"value",function(e){return e===_t201.model;}),e.model.set({commandName:"heading",commandValue:_t201.model})),s.add(e),r[_t201.model]=_t201.title;};var _iteratorNormalCompletion305=true;var _didIteratorError305=false;var _iteratorError305=undefined;try{for(var _iterator305=n[Symbol.iterator](),_step305;!(_iteratorNormalCompletion305=(_step305=_iterator305.next()).done);_iteratorNormalCompletion305=true){var _t201=_step305.value;_loop6(_t201);}}catch(err){_didIteratorError305=true;_iteratorError305=err;}finally{try{if(!_iteratorNormalCompletion305&&_iterator305.return){_iterator305.return();}}finally{if(_didIteratorError305){throw _iteratorError305;}}}var d=Ef(e);return Nf(d,s),d.buttonView.set({isOn:!1,withText:!0,tooltip:o}),d.extendTemplate({attributes:{class:["ck-heading-dropdown"]}}),d.bind("isEnabled").toMany(l,"isEnabled",function(){for(var _len19=arguments.length,t=Array(_len19),_key19=0;_key19<_len19;_key19++){t[_key19]=arguments[_key19];}return t.some(function(t){return t;});}),d.buttonView.bind("label").to(a,"value",c,"value",function(t,e){var n=t||e&&"paragraph";return r[n]?r[n]:i;}),_this228.listenTo(d,"execute",function(e){t.execute(e.source.commandName,e.source.commandValue?{value:e.source.commandValue}:void 0),t.editing.view.focus();}),d;});}}]);return Of;}(zl);n(93);var Rf=new WeakMap();function Df(t,e,n,i){var o=t.document;Rf.has(o)||(Rf.set(o,new Map()),o.registerPostFixer(function(t){return function(t,e){var n=Rf.get(t);var i=!1;var _iteratorNormalCompletion306=true;var _didIteratorError306=false;var _iteratorError306=undefined;try{for(var _iterator306=n[Symbol.iterator](),_step306;!(_iteratorNormalCompletion306=(_step306=_iterator306.next()).done);_iteratorNormalCompletion306=true){var _ref64=_step306.value;var _ref65=_slicedToArray(_ref64,2);var _t202=_ref65[0];var _o75=_ref65[1];Lf(e,_t202,_o75)&&(i=!0);}}catch(err){_didIteratorError306=true;_iteratorError306=err;}finally{try{if(!_iteratorNormalCompletion306&&_iterator306.return){_iterator306.return();}}finally{if(_didIteratorError306){throw _iteratorError306;}}}return i;}(o,t);})),Rf.get(o).set(e,{placeholderText:n,checkFunction:i}),t.render();}function Lf(t,e,n){var i=e.document,o=n.placeholderText;var r=!1;if(!i)return!1;e.getAttribute("data-placeholder")!==o&&(t.setAttribute("data-placeholder",o,e),r=!0);var s=i.selection.anchor,a=n.checkFunction;if(a&&!a())return e.hasClass("ck-placeholder")&&(t.removeClass("ck-placeholder",e),r=!0),r;var c=!Array.from(e.getChildren()).some(function(t){return!t.is("uiElement");});return!i.isFocused&&c?(e.hasClass("ck-placeholder")||(t.addClass("ck-placeholder",e),r=!0),r):(c&&s&&s.parent!==e?e.hasClass("ck-placeholder")||(t.addClass("ck-placeholder",e),r=!0):e.hasClass("ck-placeholder")&&(t.removeClass("ck-placeholder",e),r=!0),r);}var jf=Symbol("imageCaption");function Vf(t){var _iteratorNormalCompletion307=true;var _didIteratorError307=false;var _iteratorError307=undefined;try{for(var _iterator307=t.getChildren()[Symbol.iterator](),_step307;!(_iteratorNormalCompletion307=(_step307=_iterator307.next()).done);_iteratorNormalCompletion307=true){var _e155=_step307.value;if(_e155&&_e155.is("caption"))return _e155;}}catch(err){_didIteratorError307=true;_iteratorError307=err;}finally{try{if(!_iteratorNormalCompletion307&&_iterator307.return){_iterator307.return();}}finally{if(_didIteratorError307){throw _iteratorError307;}}}return null;}function zf(t){var e=t.parent;return"figcaption"==t.name&&e&&"figure"==e.name&&e.hasClass("image")?{name:!0}:null;}var Bf=function(_zl38){_inherits(Bf,_zl38);function Bf(){_classCallCheck(this,Bf);return _possibleConstructorReturn(this,(Bf.__proto__||Object.getPrototypeOf(Bf)).apply(this,arguments));}_createClass(Bf,[{key:'init',value:function init(){var _this230=this;var t=this.editor,e=t.editing.view,n=t.model.schema,i=t.data,o=t.editing,r=t.t;n.register("caption",{allowIn:"image",allowContentOf:"$block",isLimit:!0}),t.model.document.registerPostFixer(function(t){return _this230._insertMissingModelCaptionElement(t);}),t.conversion.for("upcast").add(Oa({view:zf,model:"caption"}));i.downcastDispatcher.on("insert:caption",Ff(function(t){return t.createContainerElement("figcaption");},!1));var s=function(t,e){return function(n){var i=n.createEditableElement("figcaption");return n.setCustomProperty(jf,!0,i),Df(t,i,e),eh(i,n);};}(e,r("q"));o.downcastDispatcher.on("insert:caption",Ff(s)),o.downcastDispatcher.on("insert",this._fixCaptionVisibility(function(t){return t.item;}),{priority:"high"}),o.downcastDispatcher.on("remove",this._fixCaptionVisibility(function(t){return t.position.parent;}),{priority:"high"}),e.document.registerPostFixer(function(t){return _this230._updateCaptionVisibility(t);});}},{key:'_updateCaptionVisibility',value:function _updateCaptionVisibility(t){var e=this.editor.editing.mapper,n=this._lastSelectedCaption;var i=void 0;var o=this.editor.model.document.selection,r=o.getSelectedElement();if(r&&r.is("image")){var _t203=Vf(r);i=e.toViewElement(_t203);}var s=Uf(o.getFirstPosition().parent);if(s&&(i=e.toViewElement(s)),i)return n?n===i?qf(i,t):(Hf(n,t),this._lastSelectedCaption=i,qf(i,t)):(this._lastSelectedCaption=i,qf(i,t));if(n){var _e156=Hf(n,t);return this._lastSelectedCaption=null,_e156;}return!1;}},{key:'_fixCaptionVisibility',value:function _fixCaptionVisibility(t){var _this231=this;return function(e,n,i){var o=Uf(t(n)),r=_this231.editor.editing.mapper,s=i.writer;if(o){var _t204=r.toViewElement(o);_t204&&(o.childCount?s.removeClass("ck-hidden",_t204):s.addClass("ck-hidden",_t204));}};}},{key:'_insertMissingModelCaptionElement',value:function _insertMissingModelCaptionElement(t){var e=this.editor.model.document.differ.getChanges();var _iteratorNormalCompletion308=true;var _didIteratorError308=false;var _iteratorError308=undefined;try{for(var _iterator308=e[Symbol.iterator](),_step308;!(_iteratorNormalCompletion308=(_step308=_iterator308.next()).done);_iteratorNormalCompletion308=true){var _n127=_step308.value;if("insert"==_n127.type&&"image"==_n127.name){var _e157=_n127.position.nodeAfter;if(!Vf(_e157))return t.appendElement("caption",_e157),!0;}}}catch(err){_didIteratorError308=true;_iteratorError308=err;}finally{try{if(!_iteratorNormalCompletion308&&_iterator308.return){_iterator308.return();}}finally{if(_didIteratorError308){throw _iteratorError308;}}}}}]);return Bf;}(zl);function Ff(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:!0;return function(n,i,o){var r=i.item;if((r.childCount||e)&&sh(r.parent)){if(!o.consumable.consume(i.item,"insert"))return;var _e158=o.mapper.toViewElement(i.range.start.parent),_n128=t(o.writer),_s21=o.writer;r.childCount||_s21.addClass("ck-hidden",_n128),function(t,e,n,i){var o=i.writer.createPositionAt(n,"end");i.writer.insert(o,t),i.mapper.bindElements(e,t);}(_n128,i.item,_e158,o);}};}function Uf(t){var e=t.getAncestors({includeSelf:!0}).find(function(t){return"caption"==t.name;});return e&&e.parent&&"image"==e.parent.name?e:null;}function Hf(t,e){return!t.childCount&&!t.hasClass("ck-hidden")&&(e.addClass("ck-hidden",t),!0);}function qf(t,e){return!!t.hasClass("ck-hidden")&&(e.removeClass("ck-hidden",t),!0);}n(95);var Wf=function(_ql14){_inherits(Wf,_ql14);function Wf(t,e){var _this232;_classCallCheck(this,Wf);(_this232=_possibleConstructorReturn(this,(Wf.__proto__||Object.getPrototypeOf(Wf)).call(this,t)),_this232),_this232._defaultStyle=!1,_this232.styles=e.reduce(function(t,e){return t[e.name]=e,e.isDefault&&(_this232._defaultStyle=e.name),t;},{});return _this232;}_createClass(Wf,[{key:'refresh',value:function refresh(){var t=this.editor.model.document.selection.getSelectedElement();if(this.isEnabled=sh(t),t){if(t.hasAttribute("imageStyle")){var _e159=t.getAttribute("imageStyle");this.value=!!this.styles[_e159]&&_e159;}else this.value=this._defaultStyle;}else this.value=!1;}},{key:'execute',value:function execute(t){var _this233=this;var e=t.value,n=this.editor.model,i=n.document.selection.getSelectedElement();n.change(function(t){_this233.styles[e].isDefault?t.removeAttribute("imageStyle",i):t.setAttribute("imageStyle",e,i);});}}]);return Wf;}(ql);function Yf(t,e){var _iteratorNormalCompletion309=true;var _didIteratorError309=false;var _iteratorError309=undefined;try{for(var _iterator309=e[Symbol.iterator](),_step309;!(_iteratorNormalCompletion309=(_step309=_iterator309.next()).done);_iteratorNormalCompletion309=true){var _n129=_step309.value;if(_n129.name===t)return _n129;}}catch(err){_didIteratorError309=true;_iteratorError309=err;}finally{try{if(!_iteratorNormalCompletion309&&_iterator309.return){_iterator309.return();}}finally{if(_didIteratorError309){throw _iteratorError309;}}}}var $f=n(13),Gf=n.n($f),Qf=n(14),Jf=n.n(Qf),Kf=n(15),Zf=n.n(Kf),Xf=n(10),tm=n.n(Xf);var em={full:{name:"full",title:"Full size image",icon:Gf.a,isDefault:!0},side:{name:"side",title:"Side image",icon:tm.a,className:"image-style-side"},alignLeft:{name:"alignLeft",title:"Left aligned image",icon:Jf.a,className:"image-style-align-left"},alignCenter:{name:"alignCenter",title:"Centered image",icon:Zf.a,className:"image-style-align-center"},alignRight:{name:"alignRight",title:"Right aligned image",icon:tm.a,className:"image-style-align-right"}},nm={full:Gf.a,left:Jf.a,right:tm.a,center:Zf.a};function im(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:[];return t.map(om).map(function(t){return Object.assign({},t);});}function om(t){if("string"==typeof t){var _e160=t;em[_e160]?t=Object.assign({},em[_e160]):(fs.a.warn("image-style-not-found: There is no such image style of given name.",{name:_e160}),t={name:_e160});}else if(em[t.name]){var _e161=em[t.name],_n130=Object.assign({},t);for(var i in _e161){t.hasOwnProperty(i)||(_n130[i]=_e161[i]);}t=_n130;}return"string"==typeof t.icon&&nm[t.icon]&&(t.icon=nm[t.icon]),t;}var rm=function(_zl39){_inherits(rm,_zl39);function rm(){_classCallCheck(this,rm);return _possibleConstructorReturn(this,(rm.__proto__||Object.getPrototypeOf(rm)).apply(this,arguments));}_createClass(rm,[{key:'init',value:function init(){var t=this.editor,e=t.model.schema,n=t.data,i=t.editing;t.config.define("image.styles",["full","side"]);var o=im(t.config.get("image.styles"));e.extend("image",{allowAttributes:"imageStyle"});var r=function(t){return function(e,n,i){if(!i.consumable.consume(n.item,e.name))return;var o=Yf(n.attributeNewValue,t),r=Yf(n.attributeOldValue,t),s=i.mapper.toViewElement(n.item),a=i.writer;r&&a.removeClass(r.className,s),o&&a.addClass(o.className,s);};}(o);i.downcastDispatcher.on("attribute:imageStyle:image",r),n.downcastDispatcher.on("attribute:imageStyle:image",r),n.upcastDispatcher.on("element:figure",function(t){var e=t.filter(function(t){return!t.isDefault;});return function(t,n,i){if(!n.modelRange)return;var o=n.viewItem,r=pu(n.modelRange.getItems());if(i.schema.checkAttribute(r,"imageStyle")){var _iteratorNormalCompletion310=true;var _didIteratorError310=false;var _iteratorError310=undefined;try{for(var _iterator310=e[Symbol.iterator](),_step310;!(_iteratorNormalCompletion310=(_step310=_iterator310.next()).done);_iteratorNormalCompletion310=true){var _t205=_step310.value;i.consumable.consume(o,{classes:_t205.className})&&i.writer.setAttribute("imageStyle",_t205.name,r);}}catch(err){_didIteratorError310=true;_iteratorError310=err;}finally{try{if(!_iteratorNormalCompletion310&&_iterator310.return){_iterator310.return();}}finally{if(_didIteratorError310){throw _iteratorError310;}}}}};}(o),{priority:"low"}),t.commands.add("imageStyle",new Wf(t,o));}}],[{key:'requires',get:function get(){return[dh];}},{key:'pluginName',get:function get(){return"ImageStyleEditing";}}]);return rm;}(zl);n(97);var sm=function(_zl40){_inherits(sm,_zl40);function sm(){_classCallCheck(this,sm);return _possibleConstructorReturn(this,(sm.__proto__||Object.getPrototypeOf(sm)).apply(this,arguments));}_createClass(sm,[{key:'init',value:function init(){var t=function(t,e){var _iteratorNormalCompletion311=true;var _didIteratorError311=false;var _iteratorError311=undefined;try{for(var _iterator311=t[Symbol.iterator](),_step311;!(_iteratorNormalCompletion311=(_step311=_iterator311.next()).done);_iteratorNormalCompletion311=true){var _n131=_step311.value;e[_n131.title]&&(_n131.title=e[_n131.title]);}}catch(err){_didIteratorError311=true;_iteratorError311=err;}finally{try{if(!_iteratorNormalCompletion311&&_iterator311.return){_iterator311.return();}}finally{if(_didIteratorError311){throw _iteratorError311;}}}return t;}(im(this.editor.config.get("image.styles")),this.localizedDefaultStylesTitles);var _iteratorNormalCompletion312=true;var _didIteratorError312=false;var _iteratorError312=undefined;try{for(var _iterator312=t[Symbol.iterator](),_step312;!(_iteratorNormalCompletion312=(_step312=_iterator312.next()).done);_iteratorNormalCompletion312=true){var _e162=_step312.value;this._createButton(_e162);}}catch(err){_didIteratorError312=true;_iteratorError312=err;}finally{try{if(!_iteratorNormalCompletion312&&_iterator312.return){_iterator312.return();}}finally{if(_didIteratorError312){throw _iteratorError312;}}}}},{key:'_createButton',value:function _createButton(t){var _this236=this;var e=this.editor,n='imageStyle:'+t.name;e.ui.componentFactory.add(n,function(n){var i=e.commands.get("imageStyle"),o=new Ld(n);return o.set({label:t.title,icon:t.icon,tooltip:!0}),o.bind("isEnabled").to(i,"isEnabled"),o.bind("isOn").to(i,"value",function(e){return e===t.name;}),_this236.listenTo(o,"execute",function(){return e.execute("imageStyle",{value:t.name});}),o;});}},{key:'localizedDefaultStylesTitles',get:function get(){var t=this.editor.t;return{"Full size image":t("e"),"Side image":t("f"),"Left aligned image":t("g"),"Centered image":t("h"),"Right aligned image":t("i")};}}]);return sm;}(zl);var am=function(_zl41){_inherits(am,_zl41);function am(){_classCallCheck(this,am);return _possibleConstructorReturn(this,(am.__proto__||Object.getPrototypeOf(am)).apply(this,arguments));}_createClass(am,[{key:'init',value:function init(){var _this238=this;var t=this.editor,e=t.plugins.get("BalloonToolbar");e&&this.listenTo(e,"show",function(e){(function(t){var e=t.getSelectedElement();return!(!e||!Zu(e));})(t.editing.view.document.selection)&&e.stop();},{priority:"high"}),this._toolbars=new Map(),this._balloon=this.editor.plugins.get("ContextualBalloon"),this.listenTo(t.ui,"update",function(){_this238._updateToolbarsVisibility();}),this.listenTo(t.ui.focusTracker,"change:isFocused",function(){_this238._updateToolbarsVisibility();},{priority:"low"});}},{key:'register',value:function register(t,_ref66){var e=_ref66.items,n=_ref66.visibleWhen,_ref66$balloonClassNa=_ref66.balloonClassName,i=_ref66$balloonClassNa===undefined?"ck-toolbar-container":_ref66$balloonClassNa;var o=this.editor,r=new Dl();if(this._toolbars.has(t))throw new P.b("widget-toolbar-duplicated: Toolbar with the given id was already added.",{toolbarId:t});r.fillFromConfig(e,o.ui.componentFactory),this._toolbars.set(t,{view:r,visibleWhen:n,balloonClassName:i});}},{key:'_updateToolbarsVisibility',value:function _updateToolbarsVisibility(){var _iteratorNormalCompletion313=true;var _didIteratorError313=false;var _iteratorError313=undefined;try{for(var _iterator313=this._toolbars.values()[Symbol.iterator](),_step313;!(_iteratorNormalCompletion313=(_step313=_iterator313.next()).done);_iteratorNormalCompletion313=true){var t=_step313.value;this.editor.ui.focusTracker.isFocused&&t.visibleWhen(this.editor.editing.view.document.selection)?this._showToolbar(t):this._hideToolbar(t);}}catch(err){_didIteratorError313=true;_iteratorError313=err;}finally{try{if(!_iteratorNormalCompletion313&&_iterator313.return){_iterator313.return();}}finally{if(_didIteratorError313){throw _iteratorError313;}}}}},{key:'_hideToolbar',value:function _hideToolbar(t){this._isToolbarVisible(t)&&this._balloon.remove(t.view);}},{key:'_showToolbar',value:function _showToolbar(t){this._isToolbarVisible(t)?function(t){var e=t.plugins.get("ContextualBalloon"),n=cm(t);e.updatePosition(n);}(this.editor):this._balloon.hasView(t.view)||this._balloon.add({view:t.view,position:cm(this.editor),balloonClassName:t.balloonClassName});}},{key:'_isToolbarVisible',value:function _isToolbarVisible(t){return this._balloon.visibleView==t.view;}}],[{key:'requires',get:function get(){return[Lh];}},{key:'pluginName',get:function get(){return"WidgetToolbarRepository";}}]);return am;}(zl);function cm(t){var e=t.editing.view,n=Nh.defaultPositions,i=function(t){var e=t.getSelectedElement();if(e&&Zu(e))return e;var n=t.getFirstPosition().parent;for(;n;){if(n.is("element")&&Zu(n))return n;n=n.parent;}}(e.document.selection);return{target:e.domConverter.viewToDom(i),positions:[n.northArrowSouth,n.northArrowSouthWest,n.northArrowSouthEast,n.southArrowNorth,n.southArrowNorthWest,n.southArrowNorthEast]};}function lm(t,e,n){return n.createRange(dm(t,e,!0,n),dm(t,e,!1,n));}function dm(t,e,n,i){var o=t.textNode||(n?t.nodeBefore:t.nodeAfter),r=null;for(;o&&o.getAttribute("linkHref")==e;){r=o,o=n?o.previousSibling:o.nextSibling;}return r?i.createPositionAt(r,n?"before":"after"):t;}var um=function(_ql15){_inherits(um,_ql15);function um(){_classCallCheck(this,um);return _possibleConstructorReturn(this,(um.__proto__||Object.getPrototypeOf(um)).apply(this,arguments));}_createClass(um,[{key:'refresh',value:function refresh(){var t=this.editor.model,e=t.document;this.value=e.selection.getAttribute("linkHref"),this.isEnabled=t.schema.checkAttributeInSelection(e.selection,"linkHref");}},{key:'execute',value:function execute(t){var e=this.editor.model,n=e.document.selection;e.change(function(i){if(n.isCollapsed){var _o76=n.getFirstPosition();if(n.hasAttribute("linkHref")){var _o77=lm(n.getFirstPosition(),n.getAttribute("linkHref"),e);i.setAttribute("linkHref",t,_o77),i.setSelection(_o77);}else if(""!==t){var _e163=Rs(n.getAttributes());_e163.set("linkHref",t);var _r34=i.createText(t,_e163);i.insert(_r34,_o76),i.setSelection(i.createRangeOn(_r34));}}else{var _o78=e.schema.getValidRanges(n.getRanges(),"linkHref");var _iteratorNormalCompletion314=true;var _didIteratorError314=false;var _iteratorError314=undefined;try{for(var _iterator314=_o78[Symbol.iterator](),_step314;!(_iteratorNormalCompletion314=(_step314=_iterator314.next()).done);_iteratorNormalCompletion314=true){var _e164=_step314.value;i.setAttribute("linkHref",t,_e164);}}catch(err){_didIteratorError314=true;_iteratorError314=err;}finally{try{if(!_iteratorNormalCompletion314&&_iterator314.return){_iterator314.return();}}finally{if(_didIteratorError314){throw _iteratorError314;}}}}});}}]);return um;}(ql);var hm=function(_ql16){_inherits(hm,_ql16);function hm(){_classCallCheck(this,hm);return _possibleConstructorReturn(this,(hm.__proto__||Object.getPrototypeOf(hm)).apply(this,arguments));}_createClass(hm,[{key:'refresh',value:function refresh(){this.isEnabled=this.editor.model.document.selection.hasAttribute("linkHref");}},{key:'execute',value:function execute(){var t=this.editor.model,e=t.document.selection;t.change(function(n){var i=e.isCollapsed?[lm(e.getFirstPosition(),e.getAttribute("linkHref"),t)]:e.getRanges();var _iteratorNormalCompletion315=true;var _didIteratorError315=false;var _iteratorError315=undefined;try{for(var _iterator315=i[Symbol.iterator](),_step315;!(_iteratorNormalCompletion315=(_step315=_iterator315.next()).done);_iteratorNormalCompletion315=true){var _t206=_step315.value;n.removeAttribute("linkHref",_t206);}}catch(err){_didIteratorError315=true;_iteratorError315=err;}finally{try{if(!_iteratorNormalCompletion315&&_iterator315.return){_iterator315.return();}}finally{if(_didIteratorError315){throw _iteratorError315;}}}});}}]);return hm;}(ql);var fm=Symbol("linkElement"),mm=/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205f\u3000]/g,pm=/^(?:(?:https?|ftps?|mailto):|[^a-z]|[a-z+.-]+(?:[^a-z+.:-]|$))/i;function gm(t,e){var n=e.createAttributeElement("a",{href:t},{priority:5});return e.setCustomProperty(fm,!0,n),n;}function bm(t){return function(t){return t.replace(mm,"").match(pm);}(t=String(t))?t:"#";}var wm=function(){function wm(t,e,n){var _this241=this;_classCallCheck(this,wm);this.model=t,this.attribute=n,this._modelSelection=t.document.selection,this._overrideUid=null,this._isNextGravityRestorationSkipped=!1,e.listenTo(this._modelSelection,"change:range",function(t,e){_this241._isNextGravityRestorationSkipped?_this241._isNextGravityRestorationSkipped=!1:_this241._isGravityOverridden&&(!e.directChange&&_m(_this241._modelSelection.getFirstPosition(),n)||_this241._restoreGravity());});}_createClass(wm,[{key:'handleForwardMovement',value:function handleForwardMovement(t,e){var n=this.attribute;if(!(this._isGravityOverridden||t.isAtStart&&this._hasSelectionAttribute))return ym(t,n)&&this._hasSelectionAttribute?(this._preventCaretMovement(e),this._removeSelectionAttribute(),!0):km(t,n)?(this._preventCaretMovement(e),this._overrideGravity(),!0):vm(t,n)&&this._hasSelectionAttribute?(this._preventCaretMovement(e),this._overrideGravity(),!0):void 0;}},{key:'handleBackwardMovement',value:function handleBackwardMovement(t,e){var n=this.attribute;return this._isGravityOverridden?ym(t,n)&&this._hasSelectionAttribute?(this._preventCaretMovement(e),this._restoreGravity(),this._removeSelectionAttribute(),!0):(this._preventCaretMovement(e),this._restoreGravity(),t.isAtStart&&this._removeSelectionAttribute(),!0):ym(t,n)&&!this._hasSelectionAttribute?(this._preventCaretMovement(e),this._setSelectionAttributeFromTheNodeBefore(t),!0):t.isAtEnd&&vm(t,n)?this._hasSelectionAttribute?void(xm(t,n)&&(this._skipNextAutomaticGravityRestoration(),this._overrideGravity())):(this._preventCaretMovement(e),this._setSelectionAttributeFromTheNodeBefore(t),!0):t.isAtStart?this._hasSelectionAttribute?(this._removeSelectionAttribute(),this._preventCaretMovement(e),!0):void 0:void(xm(t,n)&&(this._skipNextAutomaticGravityRestoration(),this._overrideGravity()));}},{key:'_overrideGravity',value:function _overrideGravity(){this._overrideUid=this.model.change(function(t){return t.overrideSelectionGravity();});}},{key:'_restoreGravity',value:function _restoreGravity(){var _this242=this;this.model.change(function(t){t.restoreSelectionGravity(_this242._overrideUid),_this242._overrideUid=null;});}},{key:'_preventCaretMovement',value:function _preventCaretMovement(t){t.preventDefault();}},{key:'_removeSelectionAttribute',value:function _removeSelectionAttribute(){var _this243=this;this.model.change(function(t){t.removeSelectionAttribute(_this243.attribute);});}},{key:'_setSelectionAttributeFromTheNodeBefore',value:function _setSelectionAttributeFromTheNodeBefore(t){var _this244=this;var e=this.attribute;this.model.change(function(n){n.setSelectionAttribute(_this244.attribute,t.nodeBefore.getAttribute(e));});}},{key:'_skipNextAutomaticGravityRestoration',value:function _skipNextAutomaticGravityRestoration(){this._isNextGravityRestorationSkipped=!0;}},{key:'_isGravityOverridden',get:function get(){return!!this._overrideUid;}},{key:'_hasSelectionAttribute',get:function get(){return this._modelSelection.hasAttribute(this.attribute);}}]);return wm;}();function _m(t,e){return km(t,e)||vm(t,e);}function km(t,e){var n=t.nodeBefore,i=t.nodeAfter,o=!!n&&n.hasAttribute(e);return!!i&&i.hasAttribute(e)&&(!o||n.getAttribute(e)!==i.getAttribute(e));}function vm(t,e){var n=t.nodeBefore,i=t.nodeAfter,o=!!n&&n.hasAttribute(e),r=!!i&&i.hasAttribute(e);return o&&(!r||n.getAttribute(e)!==i.getAttribute(e));}function ym(t,e){var n=t.nodeBefore,i=t.nodeAfter,o=!!n&&n.hasAttribute(e);if(!!i&&i.hasAttribute(e)&&o)return i.getAttribute(e)!==n.getAttribute(e);}function xm(t,e){return _m(t.getShiftedBy(-1),e);}n(99);var Am="ck-link_selected";var Cm=function(_zl42){_inherits(Cm,_zl42);function Cm(){_classCallCheck(this,Cm);return _possibleConstructorReturn(this,(Cm.__proto__||Object.getPrototypeOf(Cm)).apply(this,arguments));}_createClass(Cm,[{key:'init',value:function init(){var t=this.editor;t.model.schema.extend("$text",{allowAttributes:"linkHref"}),t.conversion.for("dataDowncast").add(ca({model:"linkHref",view:gm})),t.conversion.for("editingDowncast").add(ca({model:"linkHref",view:function view(t,e){return gm(bm(t),e);}})),t.conversion.for("upcast").add(Ra({view:{name:"a",attributes:{href:!0}},model:{key:"linkHref",value:function value(t){return t.getAttribute("href");}}})),t.commands.add("link",new um(t)),t.commands.add("unlink",new hm(t)),function(t,e,n,i){var o=new wm(e,n,i),r=e.document.selection;n.listenTo(t.document,"keydown",function(t,e){if(!r.isCollapsed)return;if(e.shiftKey||e.altKey||e.ctrlKey)return;var n=e.keyCode==ho.arrowright,i=e.keyCode==ho.arrowleft;if(!n&&!i)return;var s=r.getFirstPosition();var a=void 0;(a=n?o.handleForwardMovement(s,e):o.handleBackwardMovement(s,e))&&t.stop();},{priority:E.get("high")+1});}(t.editing.view,t.model,this,"linkHref"),this._setupLinkHighlight();}},{key:'_setupLinkHighlight',value:function _setupLinkHighlight(){var t=this.editor,e=t.editing.view,n=new Set();e.document.registerPostFixer(function(e){var i=t.model.document.selection;if(i.hasAttribute("linkHref")){var _o79=lm(i.getFirstPosition(),i.getAttribute("linkHref"),t.model),_r35=t.editing.mapper.toViewRange(_o79);var _iteratorNormalCompletion316=true;var _didIteratorError316=false;var _iteratorError316=undefined;try{for(var _iterator316=_r35.getItems()[Symbol.iterator](),_step316;!(_iteratorNormalCompletion316=(_step316=_iterator316.next()).done);_iteratorNormalCompletion316=true){var _t207=_step316.value;_t207.is("a")&&(e.addClass(Am,_t207),n.add(_t207));}}catch(err){_didIteratorError316=true;_iteratorError316=err;}finally{try{if(!_iteratorNormalCompletion316&&_iterator316.return){_iterator316.return();}}finally{if(_didIteratorError316){throw _iteratorError316;}}}}}),t.conversion.for("editingDowncast").add(function(t){function i(){e.change(function(t){var _iteratorNormalCompletion317=true;var _didIteratorError317=false;var _iteratorError317=undefined;try{for(var _iterator317=n.values()[Symbol.iterator](),_step317;!(_iteratorNormalCompletion317=(_step317=_iterator317.next()).done);_iteratorNormalCompletion317=true){var _e165=_step317.value;t.removeClass(Am,_e165),n.delete(_e165);}}catch(err){_didIteratorError317=true;_iteratorError317=err;}finally{try{if(!_iteratorNormalCompletion317&&_iterator317.return){_iterator317.return();}}finally{if(_didIteratorError317){throw _iteratorError317;}}}});}t.on("insert",i,{priority:"highest"}),t.on("remove",i,{priority:"highest"}),t.on("attribute",i,{priority:"highest"}),t.on("selection",i,{priority:"highest"});});}}]);return Cm;}(zl);var Tm=function(_Jr6){_inherits(Tm,_Jr6);function Tm(t){var _this246;_classCallCheck(this,Tm);(_this246=_possibleConstructorReturn(this,(Tm.__proto__||Object.getPrototypeOf(Tm)).call(this,t)),_this246),_this246.domEventType="click";return _this246;}_createClass(Tm,[{key:'onDomEvent',value:function onDomEvent(t){this.fire(t.type,t);}}]);return Tm;}(Jr);n(101);var Pm=function(_xl21){_inherits(Pm,_xl21);function Pm(t){_classCallCheck(this,Pm);var _this247=_possibleConstructorReturn(this,(Pm.__proto__||Object.getPrototypeOf(Pm)).call(this,t));var e=t.t;_this247.focusTracker=new Kc(),_this247.keystrokes=new Uc(),_this247.urlInputView=_this247._createUrlInput(),_this247.saveButtonView=_this247._createButton(e("ba"),xh.a,"ck-button-save"),_this247.saveButtonView.type="submit",_this247.cancelButtonView=_this247._createButton(e("bb"),Ch.a,"ck-button-cancel","cancel"),_this247._focusables=new tl(),_this247._focusCycler=new Nl({focusables:_this247._focusables,focusTracker:_this247.focusTracker,keystrokeHandler:_this247.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),_this247.setTemplate({tag:"form",attributes:{class:["ck","ck-link-form"],tabindex:"-1"},children:[_this247.urlInputView,_this247.saveButtonView,_this247.cancelButtonView]});return _this247;}_createClass(Pm,[{key:'render',value:function render(){var _this248=this;_get(Pm.prototype.__proto__||Object.getPrototypeOf(Pm.prototype),'render',this).call(this),vh({view:this}),[this.urlInputView,this.saveButtonView,this.cancelButtonView].forEach(function(t){_this248._focusables.add(t),_this248.focusTracker.add(t.element);}),this.keystrokes.listenTo(this.element);}},{key:'focus',value:function focus(){this._focusCycler.focusFirst();}},{key:'_createUrlInput',value:function _createUrlInput(){var t=this.locale.t,e=new _h(this.locale,kh);return e.label=t("bh"),e.inputView.placeholder="https://example.com",e;}},{key:'_createButton',value:function _createButton(t,e,n,i){var o=new Ld(this.locale);return o.set({label:t,icon:e,tooltip:!0}),o.extendTemplate({attributes:{class:n}}),i&&o.delegate("execute").to(this,i),o;}}]);return Pm;}(xl);var Mm=n(31),Sm=n.n(Mm),Im=n(32),Em=n.n(Im);n(103);var Nm=function(_xl22){_inherits(Nm,_xl22);function Nm(t){_classCallCheck(this,Nm);var _this249=_possibleConstructorReturn(this,(Nm.__proto__||Object.getPrototypeOf(Nm)).call(this,t));var e=t.t;_this249.focusTracker=new Kc(),_this249.keystrokes=new Uc(),_this249.previewButtonView=_this249._createPreviewButton(),_this249.unlinkButtonView=_this249._createButton(e("bi"),Sm.a,"unlink"),_this249.editButtonView=_this249._createButton(e("bj"),Em.a,"edit"),_this249.set("href"),_this249._focusables=new tl(),_this249._focusCycler=new Nl({focusables:_this249._focusables,focusTracker:_this249.focusTracker,keystrokeHandler:_this249.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),_this249.setTemplate({tag:"div",attributes:{class:["ck","ck-link-actions"],tabindex:"-1"},children:[_this249.previewButtonView,_this249.editButtonView,_this249.unlinkButtonView]});return _this249;}_createClass(Nm,[{key:'render',value:function render(){var _this250=this;_get(Nm.prototype.__proto__||Object.getPrototypeOf(Nm.prototype),'render',this).call(this),[this.previewButtonView,this.editButtonView,this.unlinkButtonView].forEach(function(t){_this250._focusables.add(t),_this250.focusTracker.add(t.element);}),this.keystrokes.listenTo(this.element);}},{key:'focus',value:function focus(){this._focusCycler.focusFirst();}},{key:'_createButton',value:function _createButton(t,e,n){var i=new Ld(this.locale);return i.set({label:t,icon:e,tooltip:!0}),i.delegate("execute").to(this,n),i;}},{key:'_createPreviewButton',value:function _createPreviewButton(){var t=new Ld(this.locale),e=this.bindTemplate,n=this.t;return t.set({withText:!0,tooltip:n("bk")}),t.extendTemplate({attributes:{class:["ck","ck-link-actions__preview"],href:e.to("href",function(t){return t&&bm(t);}),target:"_blank"}}),t.bind("label").to(this,"href",function(t){return t||n("bl");}),t.bind("isEnabled").to(this,"href",function(t){return!!t;}),t.template.tag="a",t.template.eventListeners={},t;}}]);return Nm;}(xl);var Om=n(33),Rm=n.n(Om);var Dm="Ctrl+K";var Lm=function(_zl43){_inherits(Lm,_zl43);function Lm(){_classCallCheck(this,Lm);return _possibleConstructorReturn(this,(Lm.__proto__||Object.getPrototypeOf(Lm)).apply(this,arguments));}_createClass(Lm,[{key:'init',value:function init(){var t=this.editor;t.editing.view.addObserver(Tm),this.actionsView=this._createActionsView(),this.formView=this._createFormView(),this._balloon=t.plugins.get(Lh),this._createToolbarLinkButton(),this._enableUserBalloonInteractions();}},{key:'_createActionsView',value:function _createActionsView(){var _this252=this;var t=this.editor,e=new Nm(t.locale),n=t.commands.get("link"),i=t.commands.get("unlink");return e.bind("href").to(n,"value"),e.editButtonView.bind("isEnabled").to(n),e.unlinkButtonView.bind("isEnabled").to(i),this.listenTo(e,"edit",function(){_this252._addFormView();}),this.listenTo(e,"unlink",function(){t.execute("unlink"),_this252._hideUI();}),e.keystrokes.set("Esc",function(t,e){_this252._hideUI(),e();}),e.keystrokes.set(Dm,function(t,e){_this252._addFormView(),e();}),e;}},{key:'_createFormView',value:function _createFormView(){var _this253=this;var t=this.editor,e=new Pm(t.locale),n=t.commands.get("link");return e.urlInputView.bind("value").to(n,"value"),e.urlInputView.bind("isReadOnly").to(n,"isEnabled",function(t){return!t;}),e.saveButtonView.bind("isEnabled").to(n),this.listenTo(e,"submit",function(){t.execute("link",e.urlInputView.inputView.element.value),_this253._removeFormView();}),this.listenTo(e,"cancel",function(){_this253._removeFormView();}),e.keystrokes.set("Esc",function(t,e){_this253._removeFormView(),e();}),e;}},{key:'_createToolbarLinkButton',value:function _createToolbarLinkButton(){var _this254=this;var t=this.editor,e=t.commands.get("link"),n=t.t;t.keystrokes.set(Dm,function(t,n){n(),e.isEnabled&&_this254._showUI();}),t.ui.componentFactory.add("link",function(t){var i=new Ld(t);return i.isEnabled=!0,i.label=n("s"),i.icon=Rm.a,i.keystroke=Dm,i.tooltip=!0,i.bind("isOn","isEnabled").to(e,"value","isEnabled"),_this254.listenTo(i,"execute",function(){return _this254._showUI();}),i;});}},{key:'_enableUserBalloonInteractions',value:function _enableUserBalloonInteractions(){var _this255=this;var t=this.editor.editing.view.document;this.listenTo(t,"click",function(){_this255._getSelectedLinkElement()&&_this255._showUI();}),this.editor.keystrokes.set("Tab",function(t,e){_this255._areActionsVisible&&!_this255.actionsView.focusTracker.isFocused&&(_this255.actionsView.focus(),e());},{priority:"high"}),this.editor.keystrokes.set("Esc",function(t,e){_this255._isUIVisible&&(_this255._hideUI(),e());}),wh({emitter:this.formView,activator:function activator(){return _this255._isUIVisible;},contextElements:[this._balloon.view.element],callback:function callback(){return _this255._hideUI();}});}},{key:'_addActionsView',value:function _addActionsView(){this._areActionsInPanel||this._balloon.add({view:this.actionsView,position:this._getBalloonPositionData()});}},{key:'_addFormView',value:function _addFormView(){if(this._isFormInPanel)return;var t=this.editor.commands.get("link");this._balloon.add({view:this.formView,position:this._getBalloonPositionData()}),this.formView.urlInputView.select(),this.formView.urlInputView.inputView.element.value=t.value||"";}},{key:'_removeFormView',value:function _removeFormView(){this._isFormInPanel&&(this._balloon.remove(this.formView),this.editor.editing.view.focus());}},{key:'_showUI',value:function _showUI(){this.editor.commands.get("link").isEnabled&&(this._getSelectedLinkElement()?this._areActionsVisible?this._addFormView():this._addActionsView():(this._addActionsView(),this._addFormView()),this._startUpdatingUI());}},{key:'_hideUI',value:function _hideUI(){if(!this._isUIInPanel)return;var t=this.editor;this.stopListening(t.ui,"update"),this._removeFormView(),this._balloon.remove(this.actionsView),t.editing.view.focus();}},{key:'_startUpdatingUI',value:function _startUpdatingUI(){var _this256=this;var t=this.editor,e=t.editing.view.document;var n=this._getSelectedLinkElement(),i=o();function o(){return e.selection.focus.getAncestors().reverse().find(function(t){return t.is("element");});}this.listenTo(t.ui,"update",function(){var t=_this256._getSelectedLinkElement(),e=o();n&&!t||!n&&e!==i?_this256._hideUI():_this256._balloon.updatePosition(_this256._getBalloonPositionData()),n=t,i=e;});}},{key:'_getBalloonPositionData',value:function _getBalloonPositionData(){var t=this.editor.editing.view,e=t.document,n=this._getSelectedLinkElement();return{target:n?t.domConverter.mapViewToDom(n):t.domConverter.viewRangeToDom(e.selection.getFirstRange())};}},{key:'_getSelectedLinkElement',value:function _getSelectedLinkElement(){var t=this.editor.editing.view,e=t.document.selection;if(e.isCollapsed)return jm(e.getFirstPosition());{var _n132=e.getFirstRange().getTrimmed(),i=jm(_n132.start),_o80=jm(_n132.end);return i&&i==_o80&&t.createRangeIn(i).getTrimmed().isEqual(_n132)?i:null;}}},{key:'_isFormInPanel',get:function get(){return this._balloon.hasView(this.formView);}},{key:'_areActionsInPanel',get:function get(){return this._balloon.hasView(this.actionsView);}},{key:'_areActionsVisible',get:function get(){return this._balloon.visibleView===this.actionsView;}},{key:'_isUIInPanel',get:function get(){return this._isFormInPanel||this._areActionsInPanel;}},{key:'_isUIVisible',get:function get(){return this._balloon.visibleView==this.formView||this._areActionsVisible;}}],[{key:'requires',get:function get(){return[Lh];}}]);return Lm;}(zl);function jm(t){return t.getAncestors().find(function(t){return function(t){return t.is("attributeElement")&&!!t.getCustomProperty(fm);}(t);});}var Vm=function(_ql17){_inherits(Vm,_ql17);function Vm(t,e){var _this257;_classCallCheck(this,Vm);(_this257=_possibleConstructorReturn(this,(Vm.__proto__||Object.getPrototypeOf(Vm)).call(this,t)),_this257),_this257.type="bulleted"==e?"bulleted":"numbered";return _this257;}_createClass(Vm,[{key:'refresh',value:function refresh(){this.value=this._getValue(),this.isEnabled=this._checkEnabled();}},{key:'execute',value:function execute(){var _this258=this;var t=this.editor.model,e=t.document,n=Array.from(e.selection.getSelectedBlocks()).filter(function(e){return Bm(e,t.schema);}),i=!0===this.value;t.change(function(t){if(i){var _e166=n[n.length-1].nextSibling,_i42=Number.POSITIVE_INFINITY,_o81=[];for(;_e166&&"listItem"==_e166.name&&0!==_e166.getAttribute("listIndent");){var _t208=_e166.getAttribute("listIndent");_t208<_i42&&(_i42=_t208);var _n133=_t208-_i42;_o81.push({element:_e166,listIndent:_n133}),_e166=_e166.nextSibling;}_o81=_o81.reverse();var _iteratorNormalCompletion318=true;var _didIteratorError318=false;var _iteratorError318=undefined;try{for(var _iterator318=_o81[Symbol.iterator](),_step318;!(_iteratorNormalCompletion318=(_step318=_iterator318.next()).done);_iteratorNormalCompletion318=true){var _e167=_step318.value;t.setAttribute("listIndent",_e167.listIndent,_e167.element);}}catch(err){_didIteratorError318=true;_iteratorError318=err;}finally{try{if(!_iteratorNormalCompletion318&&_iterator318.return){_iterator318.return();}}finally{if(_didIteratorError318){throw _iteratorError318;}}}}if(!i){var _t209=Number.POSITIVE_INFINITY;var _iteratorNormalCompletion319=true;var _didIteratorError319=false;var _iteratorError319=undefined;try{for(var _iterator319=n[Symbol.iterator](),_step319;!(_iteratorNormalCompletion319=(_step319=_iterator319.next()).done);_iteratorNormalCompletion319=true){var _e168=_step319.value;_e168.is("listItem")&&_e168.getAttribute("listIndent")<_t209&&(_t209=_e168.getAttribute("listIndent"));}}catch(err){_didIteratorError319=true;_iteratorError319=err;}finally{try{if(!_iteratorNormalCompletion319&&_iterator319.return){_iterator319.return();}}finally{if(_didIteratorError319){throw _iteratorError319;}}}zm(n,!0,_t209=0===_t209?1:_t209),zm(n,!1,_t209);}var _iteratorNormalCompletion320=true;var _didIteratorError320=false;var _iteratorError320=undefined;try{for(var _iterator320=n.reverse()[Symbol.iterator](),_step320;!(_iteratorNormalCompletion320=(_step320=_iterator320.next()).done);_iteratorNormalCompletion320=true){var _e169=_step320.value;i&&"listItem"==_e169.name?t.rename(_e169,"paragraph"):i||"listItem"==_e169.name?i||"listItem"!=_e169.name||_e169.getAttribute("listType")==_this258.type||t.setAttribute("listType",_this258.type,_e169):(t.setAttributes({listType:_this258.type,listIndent:0},_e169),t.rename(_e169,"listItem"));}}catch(err){_didIteratorError320=true;_iteratorError320=err;}finally{try{if(!_iteratorNormalCompletion320&&_iterator320.return){_iterator320.return();}}finally{if(_didIteratorError320){throw _iteratorError320;}}}});}},{key:'_getValue',value:function _getValue(){var t=pu(this.editor.model.document.selection.getSelectedBlocks());return!!t&&t.is("listItem")&&t.getAttribute("listType")==this.type;}},{key:'_checkEnabled',value:function _checkEnabled(){if(this.value)return!0;var t=this.editor.model.document.selection,e=this.editor.model.schema,n=pu(t.getSelectedBlocks());return!!n&&Bm(n,e);}}]);return Vm;}(ql);function zm(t,e,n){var i=e?t[0]:t[t.length-1];if(i.is("listItem")){var _o82=i[e?"previousSibling":"nextSibling"],_r36=i.getAttribute("listIndent");for(;_o82&&_o82.is("listItem")&&_o82.getAttribute("listIndent")>=n;){_r36>_o82.getAttribute("listIndent")&&(_r36=_o82.getAttribute("listIndent")),_o82.getAttribute("listIndent")==_r36&&t[e?"unshift":"push"](_o82),_o82=_o82[e?"previousSibling":"nextSibling"];}}}function Bm(t,e){return e.checkChild(t.parent,"listItem")&&!e.isObject(t);}var Fm=function(_ql18){_inherits(Fm,_ql18);function Fm(t,e){var _this259;_classCallCheck(this,Fm);(_this259=_possibleConstructorReturn(this,(Fm.__proto__||Object.getPrototypeOf(Fm)).call(this,t)),_this259),_this259._indentBy="forward"==e?1:-1;return _this259;}_createClass(Fm,[{key:'refresh',value:function refresh(){this.isEnabled=this._checkEnabled();}},{key:'execute',value:function execute(){var _this260=this;var t=this.editor.model,e=t.document;var n=Array.from(e.selection.getSelectedBlocks());t.change(function(t){var e=n[n.length-1];var i=e.nextSibling;for(;i&&"listItem"==i.name&&i.getAttribute("listIndent")>e.getAttribute("listIndent");){n.push(i),i=i.nextSibling;}_this260._indentBy<0&&(n=n.reverse());var _iteratorNormalCompletion321=true;var _didIteratorError321=false;var _iteratorError321=undefined;try{for(var _iterator321=n[Symbol.iterator](),_step321;!(_iteratorNormalCompletion321=(_step321=_iterator321.next()).done);_iteratorNormalCompletion321=true){var _e170=_step321.value;var _n134=_e170.getAttribute("listIndent")+_this260._indentBy;_n134<0?t.rename(_e170,"paragraph"):t.setAttribute("listIndent",_n134,_e170);}}catch(err){_didIteratorError321=true;_iteratorError321=err;}finally{try{if(!_iteratorNormalCompletion321&&_iterator321.return){_iterator321.return();}}finally{if(_didIteratorError321){throw _iteratorError321;}}}});}},{key:'_checkEnabled',value:function _checkEnabled(){var t=pu(this.editor.model.document.selection.getSelectedBlocks());if(!t||!t.is("listItem"))return!1;if(this._indentBy>0){var _e171=t.getAttribute("listIndent"),_n135=t.getAttribute("listType");var i=t.previousSibling;for(;i&&i.is("listItem")&&i.getAttribute("listIndent")>=_e171;){if(i.getAttribute("listIndent")==_e171)return i.getAttribute("listType")==_n135;i=i.previousSibling;}return!1;}return!0;}}]);return Fm;}(ql);function Um(){var t=!this.isEmpty&&("ul"==this.getChild(0).name||"ol"==this.getChild(0).name);return this.isEmpty||t?0:wi.call(this);}function Hm(t){return function(e,n,i){var o=i.consumable;if(!o.test(n.item,"insert")||!o.test(n.item,"attribute:listType")||!o.test(n.item,"attribute:listIndent"))return;o.consume(n.item,"insert"),o.consume(n.item,"attribute:listType"),o.consume(n.item,"attribute:listIndent");var r=n.item;np(r,function(t,e){var n=e.mapper,i=e.writer,o="numbered"==t.getAttribute("listType")?"ol":"ul",r=function(t){var e=t.createContainerElement("li");return e.getFillerOffset=Um,e;}(i),s=i.createContainerElement(o,null);return i.insert(i.createPositionAt(s,0),r),n.bindElements(t,r),r;}(r,i),i,t);};}function qm(t){return function(e,n,i){var o=i.mapper.toViewPosition(n.position).getLastMatchingPosition(function(t){return!t.item.is("li");}).nodeAfter,r=i.writer;r.breakContainer(r.createPositionBefore(o)),r.breakContainer(r.createPositionAfter(o));var s=o.parent,a=s.previousSibling,c=r.createRangeOn(s),l=r.remove(c);a&&a.nextSibling&&ep(r,a,a.nextSibling),ip(i.mapper.toModelElement(o).getAttribute("listIndent")+1,n.position,c.start,o,i,t);var _iteratorNormalCompletion322=true;var _didIteratorError322=false;var _iteratorError322=undefined;try{for(var _iterator322=r.createRangeIn(l).getItems()[Symbol.iterator](),_step322;!(_iteratorNormalCompletion322=(_step322=_iterator322.next()).done);_iteratorNormalCompletion322=true){var _t210=_step322.value;i.mapper.unbindViewElement(_t210);}}catch(err){_didIteratorError322=true;_iteratorError322=err;}finally{try{if(!_iteratorNormalCompletion322&&_iterator322.return){_iterator322.return();}}finally{if(_didIteratorError322){throw _iteratorError322;}}}e.stop();};}function Wm(t,e,n){if(!n.consumable.consume(e.item,"attribute:listType"))return;var i=n.mapper.toViewElement(e.item),o=n.writer;o.breakContainer(o.createPositionBefore(i)),o.breakContainer(o.createPositionAfter(i));var r=i.parent;var s="numbered"==e.attributeNewValue?"ol":"ul";ep(o,r=o.rename(s,r),r.nextSibling),ep(o,r.previousSibling,r);var _iteratorNormalCompletion323=true;var _didIteratorError323=false;var _iteratorError323=undefined;try{for(var _iterator323=e.item.getChildren()[Symbol.iterator](),_step323;!(_iteratorNormalCompletion323=(_step323=_iterator323.next()).done);_iteratorNormalCompletion323=true){var _t211=_step323.value;n.consumable.consume(_t211,"insert");}}catch(err){_didIteratorError323=true;_iteratorError323=err;}finally{try{if(!_iteratorNormalCompletion323&&_iterator323.return){_iterator323.return();}}finally{if(_didIteratorError323){throw _iteratorError323;}}}}function Ym(t){return function(e,n,i){if(!i.consumable.consume(n.item,"attribute:listIndent"))return;var o=i.mapper.toViewElement(n.item),r=i.writer;r.breakContainer(r.createPositionBefore(o)),r.breakContainer(r.createPositionAfter(o));var s=o.parent,a=s.previousSibling,c=r.createRangeOn(s);r.remove(c),a&&a.nextSibling&&ep(r,a,a.nextSibling),ip(n.attributeOldValue+1,n.range.start,c.start,o,i,t),np(n.item,o,i,t);var _iteratorNormalCompletion324=true;var _didIteratorError324=false;var _iteratorError324=undefined;try{for(var _iterator324=n.item.getChildren()[Symbol.iterator](),_step324;!(_iteratorNormalCompletion324=(_step324=_iterator324.next()).done);_iteratorNormalCompletion324=true){var _t212=_step324.value;i.consumable.consume(_t212,"insert");}}catch(err){_didIteratorError324=true;_iteratorError324=err;}finally{try{if(!_iteratorNormalCompletion324&&_iterator324.return){_iterator324.return();}}finally{if(_didIteratorError324){throw _iteratorError324;}}}};}function $m(t,e,n){if("listItem"!=e.item.name){var _t213=n.mapper.toViewPosition(e.range.start);var i=n.writer,_o83=[];for(;("ul"==_t213.parent.name||"ol"==_t213.parent.name)&&"li"==(_t213=i.breakContainer(_t213)).parent.name;){var _e172=_t213,_n136=i.createPositionAt(_t213.parent,"end");if(!_e172.isEqual(_n136)){var _t214=i.remove(i.createRange(_e172,_n136));_o83.push(_t214);}_t213=i.createPositionAfter(_t213.parent);}if(_o83.length>0){for(var _e173=0;_e173<_o83.length;_e173++){var _n137=_t213.nodeBefore;if(_t213=i.insert(_t213,_o83[_e173]).end,_e173>0){var _e174=ep(i,_n137,_n137.nextSibling);_e174&&_e174.parent==_n137&&_t213.offset--;}}ep(i,_t213.nodeBefore,_t213.nodeAfter);}}}function Gm(t,e,n){var i=n.mapper.toViewPosition(e.position),o=i.nodeBefore,r=i.nodeAfter;ep(n.writer,o,r);}function Qm(t,e,n){if(n.consumable.consume(e.viewItem,{name:!0})){var _t215=n.writer,i=this.conversionApi.store,_o84=_t215.createElement("listItem");i.indent=i.indent||0,_t215.setAttribute("listIndent",i.indent,_o84);var _r37=e.viewItem.parent&&"ol"==e.viewItem.parent.name?"numbered":"bulleted";_t215.setAttribute("listType",_r37,_o84),i.indent++;var _s22=n.splitToAllowedParent(_o84,e.modelCursor);if(!_s22)return;_t215.insert(_o84,_s22.position);var _a13=function(t,e,n){var i=n.writer;var o=t,r=i.createPositionAfter(t);var _iteratorNormalCompletion325=true;var _didIteratorError325=false;var _iteratorError325=undefined;try{for(var _iterator325=e[Symbol.iterator](),_step325;!(_iteratorNormalCompletion325=(_step325=_iterator325.next()).done);_iteratorNormalCompletion325=true){var _t216=_step325.value;if("ul"==_t216.name||"ol"==_t216.name)r=n.convertItem(_t216,r).modelCursor;else{var _e175=n.convertItem(_t216,i.createPositionAt(o,"end")),_s23=_e175.modelRange.start.nodeAfter;r=_e175.modelCursor,_s23&&_s23.is("element")&&!n.schema.checkChild(o,_s23.name)&&!(o=r.parent).is("listItem")&&o.nextSibling&&o.nextSibling.is("listItem")&&(o=o.nextSibling,r=i.createPositionAt(o,"end"));}}}catch(err){_didIteratorError325=true;_iteratorError325=err;}finally{try{if(!_iteratorNormalCompletion325&&_iterator325.return){_iterator325.return();}}finally{if(_didIteratorError325){throw _iteratorError325;}}}return r;}(_o84,e.viewItem.getChildren(),n);i.indent--,e.modelRange=_t215.createRange(e.modelCursor,_a13),_s22.cursorParent?e.modelCursor=_t215.createPositionAt(_s22.cursorParent,0):e.modelCursor=e.modelRange.end;}}function Jm(t,e,n){if(n.consumable.test(e.viewItem,{name:!0})){var _t217=Array.from(e.viewItem.getChildren());var _iteratorNormalCompletion326=true;var _didIteratorError326=false;var _iteratorError326=undefined;try{for(var _iterator326=_t217[Symbol.iterator](),_step326;!(_iteratorNormalCompletion326=(_step326=_iterator326.next()).done);_iteratorNormalCompletion326=true){var _e176=_step326.value;_e176.is("li")||_e176._remove();}}catch(err){_didIteratorError326=true;_iteratorError326=err;}finally{try{if(!_iteratorNormalCompletion326&&_iterator326.return){_iterator326.return();}}finally{if(_didIteratorError326){throw _iteratorError326;}}}}}function Km(t,e,n){if(n.consumable.test(e.viewItem,{name:!0})){if(0===e.viewItem.childCount)return;var _t218=[].concat(_toConsumableArray(e.viewItem.getChildren()));var _n138=!1,i=!0;var _iteratorNormalCompletion327=true;var _didIteratorError327=false;var _iteratorError327=undefined;try{for(var _iterator327=_t218[Symbol.iterator](),_step327;!(_iteratorNormalCompletion327=(_step327=_iterator327.next()).done);_iteratorNormalCompletion327=true){var _e177=_step327.value;!_n138||_e177.is("ul")||_e177.is("ol")||_e177._remove(),_e177.is("text")?(i&&(_e177._data=_e177.data.replace(/^\s+/,"")),(!_e177.nextSibling||_e177.nextSibling.is("ul")||_e177.nextSibling.is("ol"))&&(_e177._data=_e177.data.replace(/\s+$/,""))):(_e177.is("ul")||_e177.is("ol"))&&(_n138=!0),i=!1;}}catch(err){_didIteratorError327=true;_iteratorError327=err;}finally{try{if(!_iteratorNormalCompletion327&&_iterator327.return){_iterator327.return();}}finally{if(_didIteratorError327){throw _iteratorError327;}}}}}function Zm(t){return function(e,n){if(n.isPhantom)return;var i=n.modelPosition.nodeBefore;if(i&&i.is("listItem")){var _e178=n.mapper.toViewElement(i),_o85=_e178.getAncestors().find(function(t){return t.is("ul")||t.is("ol");}),_r38=t.createPositionAt(_e178,0).getWalker();var _iteratorNormalCompletion328=true;var _didIteratorError328=false;var _iteratorError328=undefined;try{for(var _iterator328=_r38[Symbol.iterator](),_step328;!(_iteratorNormalCompletion328=(_step328=_iterator328.next()).done);_iteratorNormalCompletion328=true){var _t219=_step328.value;if("elementStart"==_t219.type&&_t219.item.is("li")){n.viewPosition=_t219.previousPosition;break;}if("elementEnd"==_t219.type&&_t219.item==_o85){n.viewPosition=_t219.nextPosition;break;}}}catch(err){_didIteratorError328=true;_iteratorError328=err;}finally{try{if(!_iteratorNormalCompletion328&&_iterator328.return){_iterator328.return();}}finally{if(_didIteratorError328){throw _iteratorError328;}}}}};}function Xm(t,_ref67){var _ref68=_slicedToArray(_ref67,2),e=_ref68[0],n=_ref68[1];var i=void 0,o=e.is("documentFragment")?e.getChild(0):e;if(i=n?this.createSelection(n):this.document.selection,o&&o.is("listItem")){var _t220=i.getFirstPosition();var _e179=null;if(_t220.parent.is("listItem")?_e179=_t220.parent:_t220.nodeBefore&&_t220.nodeBefore.is("listItem")&&(_e179=_t220.nodeBefore),_e179){var _t221=_e179.getAttribute("listIndent");if(_t221>0)for(;o&&o.is("listItem");){o._setAttribute("listIndent",o.getAttribute("listIndent")+_t221),o=o.nextSibling;}}}}function tp(t,e){var n=!!e.sameIndent,i=!!e.smallerIndent,o=e.listIndent;var r=t;for(;r&&"listItem"==r.name;){var _t222=r.getAttribute("listIndent");if(n&&o==_t222||i&&o>_t222)return r;r=r.previousSibling;}return null;}function ep(t,e,n){return e&&n&&("ul"==e.name||"ol"==e.name)&&e.name==n.name?t.mergeContainers(t.createPositionAfter(e)):null;}function np(t,e,n,i){var o=e.parent,r=n.mapper,s=n.writer;var a=r.toViewPosition(i.createPositionBefore(t));var c=tp(t.previousSibling,{sameIndent:!0,smallerIndent:!0,listIndent:t.getAttribute("listIndent")}),l=t.previousSibling;if(c&&c.getAttribute("listIndent")==t.getAttribute("listIndent")){var _t223=r.toViewElement(c);a=s.breakContainer(s.createPositionAfter(_t223));}else a=l&&"listItem"==l.name?r.toViewPosition(i.createPositionAt(l,"end")):r.toViewPosition(i.createPositionBefore(t));if(a=op(a),s.insert(a,o),l&&"listItem"==l.name){var _t224=r.toViewElement(l),_n139=s.createRange(s.createPositionAt(_t224,0),a).getWalker({ignoreElementEnd:!0});var _iteratorNormalCompletion329=true;var _didIteratorError329=false;var _iteratorError329=undefined;try{for(var _iterator329=_n139[Symbol.iterator](),_step329;!(_iteratorNormalCompletion329=(_step329=_iterator329.next()).done);_iteratorNormalCompletion329=true){var _t225=_step329.value;if(_t225.item.is("li")){var _i43=s.breakContainer(s.createPositionBefore(_t225.item)),_o86=_t225.item.parent,_r39=s.createPositionAt(e,"end");ep(s,_r39.nodeBefore,_r39.nodeAfter),s.move(s.createRangeOn(_o86),_r39),_n139.position=_i43;}}}catch(err){_didIteratorError329=true;_iteratorError329=err;}finally{try{if(!_iteratorNormalCompletion329&&_iterator329.return){_iterator329.return();}}finally{if(_didIteratorError329){throw _iteratorError329;}}}}else{var _n140=o.nextSibling;if(_n140&&(_n140.is("ul")||_n140.is("ol"))){var _i44=null;var _iteratorNormalCompletion330=true;var _didIteratorError330=false;var _iteratorError330=undefined;try{for(var _iterator330=_n140.getChildren()[Symbol.iterator](),_step330;!(_iteratorNormalCompletion330=(_step330=_iterator330.next()).done);_iteratorNormalCompletion330=true){var _e180=_step330.value;var _n141=r.toModelElement(_e180);if(!(_n141&&_n141.getAttribute("listIndent")>t.getAttribute("listIndent")))break;_i44=_e180;}}catch(err){_didIteratorError330=true;_iteratorError330=err;}finally{try{if(!_iteratorNormalCompletion330&&_iterator330.return){_iterator330.return();}}finally{if(_didIteratorError330){throw _iteratorError330;}}}_i44&&(s.breakContainer(s.createPositionAfter(_i44)),s.move(s.createRangeOn(_i44.parent),s.createPositionAt(e,"end")));}}ep(s,o,o.nextSibling),ep(s,o.previousSibling,o);}function ip(t,e,n,i,o,r){var s=tp(e.nodeBefore,{sameIndent:!0,smallerIndent:!0,listIndent:t,foo:"b"}),a=o.mapper,c=o.writer,l=s?s.getAttribute("listIndent"):null;var d=void 0;if(s){if(l==t){var _t226=a.toViewElement(s).parent;d=c.createPositionAfter(_t226);}else{var _t227=r.createPositionAt(s,"end");d=a.toViewPosition(_t227);}}else d=n;d=op(d);var _arr=[].concat(_toConsumableArray(i.getChildren()));for(var _i45=0;_i45<_arr.length;_i45++){var _t228=_arr[_i45];(_t228.is("ul")||_t228.is("ol"))&&(d=c.move(c.createRangeOn(_t228),d).end,ep(c,_t228,_t228.nextSibling),ep(c,_t228.previousSibling,_t228));}}function op(t){return t.getLastMatchingPosition(function(t){return t.item.is("uiElement");});}var rp=function(_zl44){_inherits(rp,_zl44);function rp(){_classCallCheck(this,rp);return _possibleConstructorReturn(this,(rp.__proto__||Object.getPrototypeOf(rp)).apply(this,arguments));}_createClass(rp,[{key:'init',value:function init(){var _this262=this;var t=this.editor;t.model.schema.register("listItem",{inheritAllFrom:"$block",allowAttributes:["listType","listIndent"]});var e=t.data,n=t.editing;t.model.document.registerPostFixer(function(e){return function(t,e){var n=t.document.differ.getChanges(),i=new Map();var o=!1;var _iteratorNormalCompletion331=true;var _didIteratorError331=false;var _iteratorError331=undefined;try{for(var _iterator331=n[Symbol.iterator](),_step331;!(_iteratorNormalCompletion331=(_step331=_iterator331.next()).done);_iteratorNormalCompletion331=true){var _t229=_step331.value;if("insert"==_t229.type&&"listItem"==_t229.name)r(_t229.position);else if("insert"==_t229.type&&"listItem"!=_t229.name){if("$text"!=_t229.name){var _n143=_t229.position.nodeAfter;_n143.hasAttribute("listIndent")&&(e.removeAttribute("listIndent",_n143),o=!0),_n143.hasAttribute("listType")&&(e.removeAttribute("listType",_n143),o=!0);}r(_t229.position.getShiftedBy(_t229.length));}else"remove"==_t229.type&&"listItem"==_t229.name?r(_t229.position):"attribute"==_t229.type&&"listIndent"==_t229.attributeKey?r(_t229.range.start):"attribute"==_t229.type&&"listType"==_t229.attributeKey&&r(_t229.range.start);}}catch(err){_didIteratorError331=true;_iteratorError331=err;}finally{try{if(!_iteratorNormalCompletion331&&_iterator331.return){_iterator331.return();}}finally{if(_didIteratorError331){throw _iteratorError331;}}}var _iteratorNormalCompletion332=true;var _didIteratorError332=false;var _iteratorError332=undefined;try{for(var _iterator332=i.values()[Symbol.iterator](),_step332;!(_iteratorNormalCompletion332=(_step332=_iterator332.next()).done);_iteratorNormalCompletion332=true){var _t230=_step332.value;s(_t230),a(_t230);}}catch(err){_didIteratorError332=true;_iteratorError332=err;}finally{try{if(!_iteratorNormalCompletion332&&_iterator332.return){_iterator332.return();}}finally{if(_didIteratorError332){throw _iteratorError332;}}}return o;function r(t){var e=t.nodeBefore;if(e&&e.is("listItem")){var _n142=e;if(i.has(_n142))return;for(;_n142.previousSibling&&_n142.previousSibling.is("listItem");){if(_n142=_n142.previousSibling,i.has(_n142))return;}i.set(t.nodeBefore,_n142);}else{var _e181=t.nodeAfter;_e181&&_e181.is("listItem")&&i.set(_e181,_e181);}}function s(t){var n=0,i=null;for(;t&&t.is("listItem");){var _r40=t.getAttribute("listIndent");if(_r40>n){var _s24=void 0;null===i?(i=_r40-n,_s24=n):(i>_r40&&(i=_r40),_s24=_r40-i),e.setAttribute("listIndent",_s24,t),o=!0;}else i=null,n=t.getAttribute("listIndent")+1;t=t.nextSibling;}}function a(t){var n=[],i=null;for(;t&&t.is("listItem");){var _r41=t.getAttribute("listIndent");if(i&&i.getAttribute("listIndent")>_r41&&(n=n.slice(0,_r41+1)),0!=_r41)if(n[_r41]){var _i46=n[_r41];t.getAttribute("listType")!=_i46&&(e.setAttribute("listType",_i46,t),o=!0);}else n[_r41]=t.getAttribute("listType");i=t,t=t.nextSibling;}}}(t.model,e);}),n.mapper.registerViewToModelLength("li",sp),e.mapper.registerViewToModelLength("li",sp),n.mapper.on("modelToViewPosition",Zm(n.view)),n.mapper.on("viewToModelPosition",function(t){return function(e,n){var i=n.viewPosition,o=i.parent,r=n.mapper;if("ul"==o.name||"ol"==o.name){if(i.isAtEnd){var _e182=r.toModelElement(i.nodeBefore),_o87=r.getModelLength(i.nodeBefore);n.modelPosition=t.createPositionBefore(_e182).getShiftedBy(_o87);}else{var _e183=r.toModelElement(i.nodeAfter);n.modelPosition=t.createPositionBefore(_e183);}e.stop();}else if("li"==o.name&&i.nodeBefore&&("ul"==i.nodeBefore.name||"ol"==i.nodeBefore.name)){var _s25=r.toModelElement(o);var _a14=1,_c7=i.nodeBefore;for(;_c7&&(_c7.is("ul")||_c7.is("ol"));){_a14+=r.getModelLength(_c7),_c7=_c7.previousSibling;}n.modelPosition=t.createPositionBefore(_s25).getShiftedBy(_a14),e.stop();}};}(t.model)),e.mapper.on("modelToViewPosition",Zm(n.view)),n.downcastDispatcher.on("insert",$m,{priority:"high"}),n.downcastDispatcher.on("insert:listItem",Hm(t.model)),e.downcastDispatcher.on("insert",$m,{priority:"high"}),e.downcastDispatcher.on("insert:listItem",Hm(t.model)),n.downcastDispatcher.on("attribute:listType:listItem",Wm),e.downcastDispatcher.on("attribute:listType:listItem",Wm),n.downcastDispatcher.on("attribute:listIndent:listItem",Ym(t.model)),e.downcastDispatcher.on("attribute:listIndent:listItem",Ym(t.model)),n.downcastDispatcher.on("remove:listItem",qm(t.model)),n.downcastDispatcher.on("remove",Gm,{priority:"low"}),e.downcastDispatcher.on("remove:listItem",qm(t.model)),e.downcastDispatcher.on("remove",Gm,{priority:"low"}),e.upcastDispatcher.on("element:ul",Jm,{priority:"high"}),e.upcastDispatcher.on("element:ol",Jm,{priority:"high"}),e.upcastDispatcher.on("element:li",Km,{priority:"high"}),e.upcastDispatcher.on("element:li",Qm),t.model.on("insertContent",Xm,{priority:"high"}),t.commands.add("numberedList",new Vm(t,"numbered")),t.commands.add("bulletedList",new Vm(t,"bulleted")),t.commands.add("indentList",new Fm(t,"forward")),t.commands.add("outdentList",new Fm(t,"backward"));var i=this.editor.editing.view.document;this.listenTo(i,"enter",function(t,e){var n=_this262.editor.model.document,i=n.selection.getLastPosition().parent;n.selection.isCollapsed&&"listItem"==i.name&&i.isEmpty&&(_this262.editor.execute("outdentList"),e.preventDefault(),t.stop());}),this.listenTo(i,"delete",function(t,e){if("backward"!==e.direction)return;var n=_this262.editor.model.document.selection;if(!n.isCollapsed)return;var i=n.getFirstPosition();if(!i.isAtStart)return;var o=i.parent;"listItem"===o.name&&(o.previousSibling&&"listItem"===o.previousSibling.name||(_this262.editor.execute("outdentList"),e.preventDefault(),t.stop()));},{priority:"high"});var o=function o(t){return function(e,n){_this262.editor.commands.get(t).isEnabled&&(_this262.editor.execute(t),n());};};this.editor.keystrokes.set("Tab",o("indentList")),this.editor.keystrokes.set("Shift+Tab",o("outdentList"));}}],[{key:'requires',get:function get(){return[mf];}}]);return rp;}(zl);function sp(t){var e=1;var _iteratorNormalCompletion333=true;var _didIteratorError333=false;var _iteratorError333=undefined;try{for(var _iterator333=t.getChildren()[Symbol.iterator](),_step333;!(_iteratorNormalCompletion333=(_step333=_iterator333.next()).done);_iteratorNormalCompletion333=true){var _n144=_step333.value;if("ul"==_n144.name||"ol"==_n144.name){var _iteratorNormalCompletion334=true;var _didIteratorError334=false;var _iteratorError334=undefined;try{for(var _iterator334=_n144.getChildren()[Symbol.iterator](),_step334;!(_iteratorNormalCompletion334=(_step334=_iterator334.next()).done);_iteratorNormalCompletion334=true){var _t231=_step334.value;e+=sp(_t231);}}catch(err){_didIteratorError334=true;_iteratorError334=err;}finally{try{if(!_iteratorNormalCompletion334&&_iterator334.return){_iterator334.return();}}finally{if(_didIteratorError334){throw _iteratorError334;}}}}}}catch(err){_didIteratorError333=true;_iteratorError333=err;}finally{try{if(!_iteratorNormalCompletion333&&_iterator333.return){_iterator333.return();}}finally{if(_didIteratorError333){throw _iteratorError333;}}}return e;}var ap=n(34),cp=n.n(ap),lp=n(35),dp=n.n(lp);var up=function(_zl45){_inherits(up,_zl45);function up(){_classCallCheck(this,up);return _possibleConstructorReturn(this,(up.__proto__||Object.getPrototypeOf(up)).apply(this,arguments));}_createClass(up,[{key:'init',value:function init(){var t=this.editor.t;this._addButton("numberedList",t("o"),cp.a),this._addButton("bulletedList",t("p"),dp.a);}},{key:'_addButton',value:function _addButton(t,e,n){var _this264=this;var i=this.editor;i.ui.componentFactory.add(t,function(o){var r=i.commands.get(t),s=new Ld(o);return s.set({label:e,icon:n,tooltip:!0}),s.bind("isOn","isEnabled").to(r,"value","isEnabled"),_this264.listenTo(s,"execute",function(){return i.execute(t);}),s;});}}]);return up;}(zl);function hp(t,e){return function(t){t.on("attribute:url:media",n);};function n(n,i,o){if(!o.consumable.consume(i.item,n.name))return;var r=i.attributeNewValue,s=o.writer,a=o.mapper.toViewElement(i.item);s.remove(s.createRangeIn(a));var c=t.getMediaViewElement(s,r,e);s.insert(s.createPositionAt(a,0),c);}}var fp=Symbol("isMedia");function mp(t,e,n,i){var o=t.createContainerElement("figure",{class:"media"});return o.getFillerOffset=gp,t.insert(t.createPositionAt(o,0),e.getMediaViewElement(t,n,i)),o;}function pp(t){var e=t.getSelectedElement();return e&&e.is("media")?e:null;}function gp(){return null;}var bp=function(_ql19){_inherits(bp,_ql19);function bp(){_classCallCheck(this,bp);return _possibleConstructorReturn(this,(bp.__proto__||Object.getPrototypeOf(bp)).apply(this,arguments));}_createClass(bp,[{key:'refresh',value:function refresh(){var t=this.editor.model,e=t.document.selection,n=t.schema,i=e.getFirstPosition(),o=pp(e);var r=i.parent;r!=r.root&&(r=r.parent),this.value=o?o.getAttribute("url"):null,this.isEnabled=n.checkChild(r,"media");}},{key:'execute',value:function execute(t){var e=this.editor.model,n=e.document.selection,i=pp(n);if(i)e.change(function(e){e.setAttribute("url",t,i);});else{var _i47=nh(n,e);e.change(function(n){var o=n.createElement("media",{url:t});e.insertContent(o,_i47),n.setSelection(o,"on");});}}}]);return bp;}(ql);var wp=n(36),_p=n.n(wp);var kp="0 0 64 42";var vp=function(){function vp(t,e){_classCallCheck(this,vp);var n=e.providers,i=e.extraProviders||[],o=new Set(e.removeProviders),r=n.concat(i).filter(function(t){var e=t.name;return e?!o.has(e):(fs.a.warn("media-embed-no-provider-name: The configured media provider has no name and cannot be used.",{provider:t}),!1);});this.locale=t,this.providerDefinitions=r;}_createClass(vp,[{key:'hasMedia',value:function hasMedia(t){return!!this._getMedia(t);}},{key:'getMediaViewElement',value:function getMediaViewElement(t,e,n){return this._getMedia(e).getViewElement(t,n);}},{key:'_getMedia',value:function _getMedia(t){if(!t)return new yp(this.locale);t=t.trim();var _iteratorNormalCompletion335=true;var _didIteratorError335=false;var _iteratorError335=undefined;try{for(var _iterator335=this.providerDefinitions[Symbol.iterator](),_step335;!(_iteratorNormalCompletion335=(_step335=_iterator335.next()).done);_iteratorNormalCompletion335=true){var _e184=_step335.value;var _n145=_e184.html;var i=_e184.url;Array.isArray(i)||(i=[i]);var _iteratorNormalCompletion336=true;var _didIteratorError336=false;var _iteratorError336=undefined;try{for(var _iterator336=i[Symbol.iterator](),_step336;!(_iteratorNormalCompletion336=(_step336=_iterator336.next()).done);_iteratorNormalCompletion336=true){var _e185=_step336.value;var _i48=this._getUrlMatches(t,_e185);if(_i48)return new yp(this.locale,t,_i48,_n145);}}catch(err){_didIteratorError336=true;_iteratorError336=err;}finally{try{if(!_iteratorNormalCompletion336&&_iterator336.return){_iterator336.return();}}finally{if(_didIteratorError336){throw _iteratorError336;}}}}}catch(err){_didIteratorError335=true;_iteratorError335=err;}finally{try{if(!_iteratorNormalCompletion335&&_iterator335.return){_iterator335.return();}}finally{if(_didIteratorError335){throw _iteratorError335;}}}return null;}},{key:'_getUrlMatches',value:function _getUrlMatches(t,e){var n=t.match(e);if(n)return n;var i=t.replace(/^https?:\/\//,"");return(n=i.match(e))?n:(n=(i=i.replace(/^www\./,"")).match(e))||null;}}]);return vp;}();var yp=function(){function yp(t,e,n,i){_classCallCheck(this,yp);this.url=this._getValidUrl(e),this._t=t.t,this._match=n,this._previewRenderer=i;}_createClass(yp,[{key:'getViewElement',value:function getViewElement(t,e){var n={};if(e.renderForEditingView||e.renderMediaPreview&&this.url&&this._previewRenderer){this.url&&(n["data-oembed-url"]=this.url),e.renderForEditingView&&(n.class="ck-media__wrapper");var i=this._getPreviewHtml(e);return t.createUIElement("div",n,function(t){var e=this.toDomElement(t);return e.innerHTML=i,e;});}return this.url&&(n.url=this.url),t.createEmptyElement("oembed",n);}},{key:'_getPreviewHtml',value:function _getPreviewHtml(t){return this._previewRenderer?this._previewRenderer(this._match):this.url&&t.renderForEditingView?this._getPlaceholderHtml():"";}},{key:'_getPlaceholderHtml',value:function _getPlaceholderHtml(){var t=new Dd(),e=new Rd();return t.text=this._t("Open media in new tab"),e.content=_p.a,e.viewBox=kp,new rl({tag:"div",attributes:{class:"ck ck-reset_all ck-media__placeholder"},children:[{tag:"div",attributes:{class:"ck-media__placeholder__icon"},children:[e]},{tag:"a",attributes:{class:"ck-media__placeholder__url",target:"new",href:this.url},children:[{tag:"span",attributes:{class:"ck-media__placeholder__url__text"},children:[this.url]},t]}]}).render().outerHTML;}},{key:'_getValidUrl',value:function _getValidUrl(t){return t?t.match(/^https?/)?t:"https://"+t:null;}}]);return yp;}();n(105);var xp=function(_zl46){_inherits(xp,_zl46);function xp(t){var _this266;_classCallCheck(this,xp);(_this266=_possibleConstructorReturn(this,(xp.__proto__||Object.getPrototypeOf(xp)).call(this,t)),_this266),t.config.define("mediaEmbed",{providers:[{name:"dailymotion",url:/^dailymotion\.com\/video\/(\w+)/,html:function html(t){return'<div style="position: relative; padding-bottom: 100%; height: 0; ">'+('<iframe src="https://www.dailymotion.com/embed/video/'+t[1]+'" ')+'style="position: absolute; width: 100%; height: 100%; top: 0; left: 0;" frameborder="0" width="480" height="270" allowfullscreen allow="autoplay"></iframe></div>';}},{name:"spotify",url:[/^open\.spotify\.com\/(artist\/\w+)/,/^open\.spotify\.com\/(album\/\w+)/,/^open\.spotify\.com\/(track\/\w+)/],html:function html(t){return'<div style="position: relative; padding-bottom: 100%; height: 0; padding-bottom: 126%;">'+('<iframe src="https://open.spotify.com/embed/'+t[1]+'" ')+'style="position: absolute; width: 100%; height: 100%; top: 0; left: 0;" frameborder="0" allowtransparency="true" allow="encrypted-media"></iframe></div>';}},{name:"youtube",url:[/^youtube\.com\/watch\?v=([\w-]+)/,/^youtube\.com\/v\/([\w-]+)/,/^youtube\.com\/embed\/([\w-]+)/,/^youtu\.be\/([\w-]+)/],html:function html(t){return'<div style="position: relative; padding-bottom: 100%; height: 0; padding-bottom: 56.2493%;">'+('<iframe src="https://www.youtube.com/embed/'+t[1]+'" ')+'style="position: absolute; width: 100%; height: 100%; top: 0; left: 0;" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div>';}},{name:"vimeo",url:[/^vimeo\.com\/(\d+)/,/^vimeo\.com\/[^/]+\/[^/]+\/video\/(\d+)/,/^vimeo\.com\/album\/[^/]+\/video\/(\d+)/,/^vimeo\.com\/channels\/[^/]+\/(\d+)/,/^vimeo\.com\/groups\/[^/]+\/videos\/(\d+)/,/^vimeo\.com\/ondemand\/[^/]+\/(\d+)/,/^player\.vimeo\.com\/video\/(\d+)/],html:function html(t){return'<div style="position: relative; padding-bottom: 100%; height: 0; padding-bottom: 56.2493%;">'+('<iframe src="https://player.vimeo.com/video/'+t[1]+'" ')+'style="position: absolute; width: 100%; height: 100%; top: 0; left: 0;" frameborder="0" webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe></div>';}},{name:"instagram",url:/^instagram\.com\/p\/(\w+)/},{name:"twitter",url:/^twitter\.com/},{name:"googleMaps",url:/^google\.com\/maps/},{name:"flickr",url:/^flickr\.com/},{name:"facebook",url:/^facebook\.com/}]}),_this266.registry=new vp(t.locale,t.config.get("mediaEmbed"));return _this266;}_createClass(xp,[{key:'init',value:function init(){var t=this.editor,e=t.model.schema,n=t.t,i=t.conversion,o=t.config.get("mediaEmbed.previewsInData"),r=this.registry;t.commands.add("mediaEmbed",new bp(t)),e.register("media",{isObject:!0,isBlock:!0,allowWhere:"$block",allowAttributes:["url"]}),i.for("dataDowncast").add(aa({model:"media",view:function view(t,e){var n=t.getAttribute("url");return mp(e,r,n,{renderMediaPreview:n&&o});}})),i.for("dataDowncast").add(hp(r,{renderMediaPreview:o})),i.for("editingDowncast").add(aa({model:"media",view:function view(t,e){var i=t.getAttribute("url");return function(t,e,n){return e.setCustomProperty(fp,!0,t),Xu(t,e,{label:n});}(mp(e,r,i,{renderForEditingView:!0}),e,n("al"));}})),i.for("editingDowncast").add(hp(r,{renderForEditingView:!0})),i.for("upcast").add(Oa({view:{name:"oembed",attributes:{url:!0}},model:function model(t,e){var n=t.getAttribute("url");if(r.hasMedia(n))return e.createElement("media",{url:n});}})).add(Oa({view:{name:"div",attributes:{"data-oembed-url":!0}},model:function model(t,e){var n=t.getAttribute("data-oembed-url");if(r.hasMedia(n))return e.createElement("media",{url:n});}}));}}]);return xp;}(zl);var Ap=/^(?:http(s)?:\/\/)?[\w.-]+(?:\.[\w.-]+)+[\w\-._~:/?#[\]@!$&'()*+,;=]+$/;var Cp=function(_zl47){_inherits(Cp,_zl47);_createClass(Cp,null,[{key:'requires',get:function get(){return[Hl,Ud];}},{key:'pluginName',get:function get(){return"AutoMediaEmbed";}}]);function Cp(t){var _this267;_classCallCheck(this,Cp);(_this267=_possibleConstructorReturn(this,(Cp.__proto__||Object.getPrototypeOf(Cp)).call(this,t)),_this267),_this267._timeoutId=null,_this267._positionToInsert=null;return _this267;}_createClass(Cp,[{key:'init',value:function init(){var _this268=this;var t=this.editor,e=t.model.document;this.listenTo(t.plugins.get(Hl),"inputTransformation",function(){var t=e.selection.getFirstRange(),n=Mc.fromPosition(t.start);n.stickiness="toPrevious";var i=Mc.fromPosition(t.end);i.stickiness="toNext",e.once("change:data",function(){_this268._embedMediaBetweenPositions(n,i),n.detach(),i.detach();},{priority:"high"});}),t.commands.get("undo").on("execute",function(){_this268._timeoutId&&(Ko.window.clearTimeout(_this268._timeoutId),_this268._positionToInsert.detach(),_this268._timeoutId=null,_this268._positionToInsert=null);},{priority:"high"});}},{key:'_embedMediaBetweenPositions',value:function _embedMediaBetweenPositions(t,e){var _this269=this;var n=this.editor,i=n.plugins.get(xp).registry,o=new Xs(t,e),r=o.getWalker({ignoreElementEnd:!0});var s="";var _iteratorNormalCompletion337=true;var _didIteratorError337=false;var _iteratorError337=undefined;try{for(var _iterator337=r[Symbol.iterator](),_step337;!(_iteratorNormalCompletion337=(_step337=_iterator337.next()).done);_iteratorNormalCompletion337=true){var _t232=_step337.value;_t232.item.is("textProxy")&&(s+=_t232.item.data);}}catch(err){_didIteratorError337=true;_iteratorError337=err;}finally{try{if(!_iteratorNormalCompletion337&&_iterator337.return){_iterator337.return();}}finally{if(_didIteratorError337){throw _iteratorError337;}}}if(!(s=s.trim()).match(Ap))return;if(!i.hasMedia(s))return;var a=n.commands.get("mediaEmbed");a.isEnabled&&(this._positionToInsert=Mc.fromPosition(t),this._timeoutId=Ko.window.setTimeout(function(){n.model.change(function(t){_this269._timeoutId=null,t.remove(o),"$graveyard"!==_this269._positionToInsert.root.rootName&&t.setSelection(_this269._positionToInsert),a.execute(s),_this269._positionToInsert.detach(),_this269._positionToInsert=null;});},100));}}]);return Cp;}(zl);n(107);var Tp=function(_xl23){_inherits(Tp,_xl23);function Tp(t,e){_classCallCheck(this,Tp);var _this270=_possibleConstructorReturn(this,(Tp.__proto__||Object.getPrototypeOf(Tp)).call(this,e));var n=e.t;_this270.focusTracker=new Kc(),_this270.keystrokes=new Uc(),_this270.urlInputView=_this270._createUrlInput(),_this270.saveButtonView=_this270._createButton(n("ba"),xh.a,"ck-button-save"),_this270.saveButtonView.type="submit",_this270.cancelButtonView=_this270._createButton(n("bb"),Ch.a,"ck-button-cancel","cancel"),_this270._focusables=new tl(),_this270._focusCycler=new Nl({focusables:_this270._focusables,focusTracker:_this270.focusTracker,keystrokeHandler:_this270.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),_this270._validators=t,_this270.setTemplate({tag:"form",attributes:{class:["ck","ck-media-form"],tabindex:"-1"},children:[_this270.urlInputView,_this270.saveButtonView,_this270.cancelButtonView]});return _this270;}_createClass(Tp,[{key:'render',value:function render(){var _this271=this;_get(Tp.prototype.__proto__||Object.getPrototypeOf(Tp.prototype),'render',this).call(this),vh({view:this}),[this.urlInputView,this.saveButtonView,this.cancelButtonView].forEach(function(t){_this271._focusables.add(t),_this271.focusTracker.add(t.element);}),this.keystrokes.listenTo(this.element);var t=function t(_t233){return _t233.stopPropagation();};this.keystrokes.set("arrowright",t),this.keystrokes.set("arrowleft",t),this.keystrokes.set("arrowup",t),this.keystrokes.set("arrowdown",t),this.listenTo(this.urlInputView.element,"selectstart",function(t,e){e.stopPropagation();},{priority:"high"});}},{key:'focus',value:function focus(){this._focusCycler.focusFirst();}},{key:'isValid',value:function isValid(){this.resetFormStatus();var _iteratorNormalCompletion338=true;var _didIteratorError338=false;var _iteratorError338=undefined;try{for(var _iterator338=this._validators[Symbol.iterator](),_step338;!(_iteratorNormalCompletion338=(_step338=_iterator338.next()).done);_iteratorNormalCompletion338=true){var t=_step338.value;var _e186=t(this);if(_e186)return this.urlInputView.errorText=_e186,!1;}}catch(err){_didIteratorError338=true;_iteratorError338=err;}finally{try{if(!_iteratorNormalCompletion338&&_iterator338.return){_iterator338.return();}}finally{if(_didIteratorError338){throw _iteratorError338;}}}return!0;}},{key:'resetFormStatus',value:function resetFormStatus(){this.urlInputView.errorText=null,this.urlInputView.infoText=null;}},{key:'_createUrlInput',value:function _createUrlInput(){var t=this.locale.t,e=new _h(this.locale,kh),n=e.inputView;return e.label=t("bf"),n.placeholder="https://example.com",n.on("input",function(){e.infoText=n.element.value?t("bg"):null;}),e;}},{key:'_createButton',value:function _createButton(t,e,n,i){var o=new Ld(this.locale);return o.set({label:t,icon:e,tooltip:!0}),o.extendTemplate({attributes:{class:n}}),i&&o.delegate("execute").to(this,i),o;}},{key:'url',get:function get(){return this.urlInputView.inputView.element.value.trim();},set:function set(t){this.urlInputView.inputView.element.value=t.trim();}}]);return Tp;}(xl);var Pp=n(37),Mp=n.n(Pp);var Sp=function(_zl48){_inherits(Sp,_zl48);function Sp(){_classCallCheck(this,Sp);return _possibleConstructorReturn(this,(Sp.__proto__||Object.getPrototypeOf(Sp)).apply(this,arguments));}_createClass(Sp,[{key:'init',value:function init(){var _this273=this;var t=this.editor,e=t.commands.get("mediaEmbed"),n=t.plugins.get(xp).registry;t.ui.componentFactory.add("mediaEmbed",function(i){var o=new Tp(function(t,e){return[function(e){if(!e.url.length)return t("an");},function(n){if(!e.hasMedia(n.url))return t("ao");}];}(t.t,n),i),r=Ef(i);return _this273._setUpDropdown(r,o,e,t),_this273._setUpForm(o,r,e),r;});}},{key:'_setUpDropdown',value:function _setUpDropdown(t,e,n){var i=this.editor,o=i.t,r=t.buttonView;function s(){i.editing.view.focus(),t.isOpen=!1;}t.bind("isEnabled").to(n),t.panelView.children.add(e),r.set({label:o("am"),icon:Mp.a,tooltip:!0}),r.on("open",function(){e.url=n.value||"",e.urlInputView.select(),e.focus();},{priority:"low"}),t.on("submit",function(){e.isValid()&&(i.execute("mediaEmbed",e.url),s());}),t.on("change:isOpen",function(){return e.resetFormStatus();}),t.on("cancel",function(){return s();});}},{key:'_setUpForm',value:function _setUpForm(t,e,n){t.delegate("submit","cancel").to(e),t.urlInputView.bind("value").to(n,"value"),t.urlInputView.bind("isReadOnly").to(n,"isEnabled",function(t){return!t;}),t.saveButtonView.bind("isEnabled").to(n);}}],[{key:'requires',get:function get(){return[xp];}}]);return Sp;}(zl);n(109);function Ip(t){return t.replace(/<span(?: class="Apple-converted-space"|)>(\s+)<\/span>/g,function(t,e){return 1===e.length?" ":Array(e.length+1).join("  ").substr(0,e.length);});}function Ep(t){var e=new DOMParser(),n=function(t){return Ip(Ip(t)).replace(/ <\//g," </").replace(/ <o:p><\/o:p>/g," <o:p></o:p>").replace(/>(\s*(\r\n?|\n)\s*)+</g,"><");}(function(t){var e=t.match(/<\/body>(.*?)(<\/html>|$)/);e&&e[1]&&(t=t.slice(0,e.index)+t.slice(e.index).replace(e[1],""));return t;}(t=t.replace(/<!--\[if gte vml 1]>/g,""))),i=e.parseFromString(n,"text/html");!function(t){t.querySelectorAll("span[style*=spacerun]").forEach(function(t){var e=t.childNodes[0].data.length;t.innerHTML=Array(e+1).join("  ").substr(0,e);});}(i);var o=i.body.innerHTML,r=function(t){var e=new er({blockFiller:No}),n=t.createDocumentFragment(),i=t.body.childNodes;for(;i.length>0;){n.appendChild(i[0]);}return e.domToView(n);}(i),s=function(t){var e=[],n=[],i=Array.from(t.getElementsByTagName("style"));var _iteratorNormalCompletion339=true;var _didIteratorError339=false;var _iteratorError339=undefined;try{for(var _iterator339=i[Symbol.iterator](),_step339;!(_iteratorNormalCompletion339=(_step339=_iterator339.next()).done);_iteratorNormalCompletion339=true){var _t234=_step339.value;_t234.sheet&&_t234.sheet.cssRules&&_t234.sheet.cssRules.length&&(e.push(_t234.sheet),n.push(_t234.innerHTML));}}catch(err){_didIteratorError339=true;_iteratorError339=err;}finally{try{if(!_iteratorNormalCompletion339&&_iterator339.return){_iterator339.return();}}finally{if(_didIteratorError339){throw _iteratorError339;}}}return{styles:e,stylesString:n.join(" ")};}(i);return{body:r,bodyString:o,styles:s.styles,stylesString:s.stylesString};}function Np(t,e){if(!t.childCount)return;var n=new af(),i=function(t,e){var n=e.createRangeIn(t),i=new hi({name:/^p|h\d+$/,styles:{"mso-list":/.*/}}),o=[];var _iteratorNormalCompletion340=true;var _didIteratorError340=false;var _iteratorError340=undefined;try{for(var _iterator340=n[Symbol.iterator](),_step340;!(_iteratorNormalCompletion340=(_step340=_iterator340.next()).done);_iteratorNormalCompletion340=true){var _t235=_step340.value;if("elementStart"===_t235.type&&i.match(_t235.item)){var _e187=Op(_t235.item);o.push({element:_t235.item,id:_e187.id,order:_e187.order,indent:_e187.indent});}}}catch(err){_didIteratorError340=true;_iteratorError340=err;}finally{try{if(!_iteratorNormalCompletion340&&_iterator340.return){_iterator340.return();}}finally{if(_didIteratorError340){throw _iteratorError340;}}}return o;}(t,n);if(!i.length)return;var o=null;i.forEach(function(t,r){if(!o||function(t,e){return t.id!==e.id;}(i[r-1],t)){var _i49=function(t,e){var n=/mso-level-number-format:([^;]*);/gi,i=new RegExp('@list l'+t.id+':level'+t.indent+'\\s*({[^}]*)',"gi").exec(e);var o="decimal";if(i&&i[1]){var _t236=n.exec(i[1]);_t236&&_t236[1]&&(o=_t236[1].trim());}return{type:"bullet"!==o&&"image"!==o?"ol":"ul",style:o};}(t,e);o=function(t,e,n){var i=new mi(t.type),o=e.parent.getChildIndex(e);return n.insertChild(o,i,e.parent),i;}(_i49,t.element,n);}var s=function(t,e){return function(t,e){var n=new hi({name:"span",styles:{"mso-list":"Ignore"}}),i=e.createRangeIn(t);var _iteratorNormalCompletion341=true;var _didIteratorError341=false;var _iteratorError341=undefined;try{for(var _iterator341=i[Symbol.iterator](),_step341;!(_iteratorNormalCompletion341=(_step341=_iterator341.next()).done);_iteratorNormalCompletion341=true){var _t237=_step341.value;"elementStart"===_t237.type&&n.match(_t237.item)&&e.remove(_t237.item);}}catch(err){_didIteratorError341=true;_iteratorError341=err;}finally{try{if(!_iteratorNormalCompletion341&&_iterator341.return){_iterator341.return();}}finally{if(_didIteratorError341){throw _iteratorError341;}}}}(t,e),e.rename("li",t);}(t.element,n);n.appendChild(s,o);});}function Op(t){var e={},n=t.getStyle("mso-list");return n&&(e.id=parseInt(n.match(/(^|\s+)l(\d+)/i)[2]),e.order=parseInt(n.match(/\s*lfo(\d+)/i)[1]),e.indent=parseInt(n.match(/\s*level(\d+)/i)[1])),e;}function Rp(t,e){if(!t.childCount)return;var n=new af();!function(t,e,n){var i=n.createRangeIn(e),o=new hi({name:"img"}),r=[];var _iteratorNormalCompletion342=true;var _didIteratorError342=false;var _iteratorError342=undefined;try{for(var _iterator342=i[Symbol.iterator](),_step342;!(_iteratorNormalCompletion342=(_step342=_iterator342.next()).done);_iteratorNormalCompletion342=true){var _e188=_step342.value;if(o.match(_e188.item)){var _n146=_e188.item,_i50=_n146.getAttribute("v:shapes")?_n146.getAttribute("v:shapes").split(" "):[];_i50.length&&_i50.every(function(e){return t.indexOf(e)>-1;})?r.push(_n146):_n146.getAttribute("src")||r.push(_n146);}}}catch(err){_didIteratorError342=true;_iteratorError342=err;}finally{try{if(!_iteratorNormalCompletion342&&_iterator342.return){_iterator342.return();}}finally{if(_didIteratorError342){throw _iteratorError342;}}}var _iteratorNormalCompletion343=true;var _didIteratorError343=false;var _iteratorError343=undefined;try{for(var _iterator343=r[Symbol.iterator](),_step343;!(_iteratorNormalCompletion343=(_step343=_iterator343.next()).done);_iteratorNormalCompletion343=true){var _t238=_step343.value;n.remove(_t238);}}catch(err){_didIteratorError343=true;_iteratorError343=err;}finally{try{if(!_iteratorNormalCompletion343&&_iterator343.return){_iterator343.return();}}finally{if(_didIteratorError343){throw _iteratorError343;}}}}(function(t,e){var n=e.createRangeIn(t),i=new hi({name:/v:(.+)/}),o=[];var _iteratorNormalCompletion344=true;var _didIteratorError344=false;var _iteratorError344=undefined;try{for(var _iterator344=n[Symbol.iterator](),_step344;!(_iteratorNormalCompletion344=(_step344=_iterator344.next()).done);_iteratorNormalCompletion344=true){var _t239=_step344.value;var _e189=_t239.item,_n147=_e189.previousSibling&&_e189.previousSibling.name||null;i.match(_e189)&&_e189.getAttribute("o:gfxdata")&&"v:shapetype"!==_n147&&o.push(_t239.item.getAttribute("id"));}}catch(err){_didIteratorError344=true;_iteratorError344=err;}finally{try{if(!_iteratorNormalCompletion344&&_iterator344.return){_iterator344.return();}}finally{if(_didIteratorError344){throw _iteratorError344;}}}return o;}(t,n),t,n),function(t,e){var n=e.createRangeIn(t),i=new hi({name:/v:(.+)/}),o=[];var _iteratorNormalCompletion345=true;var _didIteratorError345=false;var _iteratorError345=undefined;try{for(var _iterator345=n[Symbol.iterator](),_step345;!(_iteratorNormalCompletion345=(_step345=_iterator345.next()).done);_iteratorNormalCompletion345=true){var _t240=_step345.value;i.match(_t240.item)&&o.push(_t240.item);}}catch(err){_didIteratorError345=true;_iteratorError345=err;}finally{try{if(!_iteratorNormalCompletion345&&_iterator345.return){_iterator345.return();}}finally{if(_didIteratorError345){throw _iteratorError345;}}}var _iteratorNormalCompletion346=true;var _didIteratorError346=false;var _iteratorError346=undefined;try{for(var _iterator346=o[Symbol.iterator](),_step346;!(_iteratorNormalCompletion346=(_step346=_iterator346.next()).done);_iteratorNormalCompletion346=true){var _t241=_step346.value;e.remove(_t241);}}catch(err){_didIteratorError346=true;_iteratorError346=err;}finally{try{if(!_iteratorNormalCompletion346&&_iterator346.return){_iterator346.return();}}finally{if(_didIteratorError346){throw _iteratorError346;}}}}(t,n);var i=function(t,e){var n=e.createRangeIn(t),i=new hi({name:"img"}),o=[];var _iteratorNormalCompletion347=true;var _didIteratorError347=false;var _iteratorError347=undefined;try{for(var _iterator347=n[Symbol.iterator](),_step347;!(_iteratorNormalCompletion347=(_step347=_iterator347.next()).done);_iteratorNormalCompletion347=true){var _t242=_step347.value;i.match(_t242.item)&&_t242.item.getAttribute("src").startsWith("file://")&&o.push(_t242.item);}}catch(err){_didIteratorError347=true;_iteratorError347=err;}finally{try{if(!_iteratorNormalCompletion347&&_iterator347.return){_iterator347.return();}}finally{if(_didIteratorError347){throw _iteratorError347;}}}return o;}(t,n);i.length&&function(t,e,n){if(t.length===e.length)for(var _i51=0;_i51<t.length;_i51++){var _o88='data:'+e[_i51].type+';base64,'+Dp(e[_i51].hex);n.setAttribute("src",_o88,t[_i51]);}}(i,function(t){if(!t)return[];var e=/{\\pict[\s\S]+?\\bliptag-?\d+(\\blipupi-?\d+)?({\\\*\\blipuid\s?[\da-fA-F]+)?[\s}]*?/,n=new RegExp("(?:("+e.source+"))([\\da-fA-F\\s]+)\\}","g"),i=t.match(n),o=[];if(i){var _iteratorNormalCompletion348=true;var _didIteratorError348=false;var _iteratorError348=undefined;try{for(var _iterator348=i[Symbol.iterator](),_step348;!(_iteratorNormalCompletion348=(_step348=_iterator348.next()).done);_iteratorNormalCompletion348=true){var _t243=_step348.value;var _n148=!1;_t243.includes("\\pngblip")?_n148="image/png":_t243.includes("\\jpegblip")&&(_n148="image/jpeg"),_n148&&o.push({hex:_t243.replace(e,"").replace(/[^\da-fA-F]/g,""),type:_n148});}}catch(err){_didIteratorError348=true;_iteratorError348=err;}finally{try{if(!_iteratorNormalCompletion348&&_iterator348.return){_iterator348.return();}}finally{if(_didIteratorError348){throw _iteratorError348;}}}}return o;}(e),n);}function Dp(t){return btoa(t.match(/\w{2}/g).map(function(t){return String.fromCharCode(parseInt(t,16));}).join(""));}function Lp(t,e){var n=e.parent;for(;n;){if(n.name===t)return n;n=n.parent;}}function jp(t,e,n,i){var o=arguments.length>4&&arguments[4]!==undefined?arguments[4]:1;e>o?i.setAttribute(t,e,n):i.removeAttribute(t,n);}function Vp(t,e){var n=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{};var i=t.createElement("tableCell",n);t.insertElement("paragraph",i),t.insert(i,e);}function zp(){return function(t){t.on("element:table",function(t,e,n){var i=e.viewItem;if(!n.consumable.test(i,{name:!0}))return;var _ref69=function(t){var e={headingRows:0,headingColumns:0},n=[],i=[];var o=void 0;var _iteratorNormalCompletion349=true;var _didIteratorError349=false;var _iteratorError349=undefined;try{for(var _iterator349=Array.from(t.getChildren())[Symbol.iterator](),_step349;!(_iteratorNormalCompletion349=(_step349=_iterator349.next()).done);_iteratorNormalCompletion349=true){var _r42=_step349.value;if("tbody"===_r42.name||"thead"===_r42.name||"tfoot"===_r42.name){"thead"!==_r42.name||o||(o=_r42);var _t244=Array.from(_r42.getChildren()).filter(function(t){return t.is("element","tr");});var _iteratorNormalCompletion350=true;var _didIteratorError350=false;var _iteratorError350=undefined;try{for(var _iterator350=_t244[Symbol.iterator](),_step350;!(_iteratorNormalCompletion350=(_step350=_iterator350.next()).done);_iteratorNormalCompletion350=true){var _r43=_step350.value;if("thead"===_r43.parent.name&&_r43.parent===o)e.headingRows++,n.push(_r43);else{i.push(_r43);var _t245=Fp(_r43);_t245>e.headingColumns&&(e.headingColumns=_t245);}}}catch(err){_didIteratorError350=true;_iteratorError350=err;}finally{try{if(!_iteratorNormalCompletion350&&_iterator350.return){_iterator350.return();}}finally{if(_didIteratorError350){throw _iteratorError350;}}}}}}catch(err){_didIteratorError349=true;_iteratorError349=err;}finally{try{if(!_iteratorNormalCompletion349&&_iterator349.return){_iterator349.return();}}finally{if(_didIteratorError349){throw _iteratorError349;}}}return e.rows=[].concat(n,i),e;}(i),o=_ref69.rows,r=_ref69.headingRows,s=_ref69.headingColumns,a={};s&&(a.headingColumns=s),r&&(a.headingRows=r);var c=n.writer.createElement("table",a),l=n.splitToAllowedParent(c,e.modelCursor);if(l){if(n.writer.insert(c,l.position),n.consumable.consume(i,{name:!0}),o.length)o.forEach(function(t){return n.convertItem(t,n.writer.createPositionAt(c,"end"));});else{var _t246=n.writer.createElement("tableRow");n.writer.insert(_t246,n.writer.createPositionAt(c,"end")),Vp(n.writer,n.writer.createPositionAt(_t246,"end"));}e.modelRange=n.writer.createRange(n.writer.createPositionBefore(c),n.writer.createPositionAfter(c)),l.cursorParent?e.modelCursor=n.writer.createPositionAt(l.cursorParent,0):e.modelCursor=e.modelRange.end;}});};}function Bp(t){return function(e){e.on('element:'+t,function(t,e,n){var i=e.viewItem;if(!n.consumable.test(i,{name:!0}))return;var o=n.writer.createElement("tableCell"),r=n.splitToAllowedParent(o,e.modelCursor);if(!r)return;n.writer.insert(o,r.position),n.consumable.consume(i,{name:!0});var s=n.writer.createPositionAt(o,0);n.convertChildren(i,s),o.childCount||n.writer.insertElement("paragraph",s),e.modelRange=n.writer.createRange(n.writer.createPositionBefore(o),n.writer.createPositionAfter(o)),e.modelCursor=e.modelRange.end;});};}function Fp(t){var e=0,n=0;var i=Array.from(t.getChildren()).filter(function(t){return"th"===t.name||"td"===t.name;});for(;n<i.length&&"th"===i[n].name;){var _t247=i[n];e+=parseInt(_t247.getAttribute("colspan")||1),n++;}return e;}var Up=function(){function Up(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};_classCallCheck(this,Up);this.table=t,this.startRow=e.startRow||0,this.endRow="number"==typeof e.endRow?e.endRow:void 0,this.includeSpanned=!!e.includeSpanned,this.column="number"==typeof e.column?e.column:void 0,this._skipRows=new Set(),this._row=0,this._column=0,this._cell=0,this._spannedCells=new Map();}_createClass(Up,[{key:Symbol.iterator,value:function value(){return this;}},{key:'next',value:function next(){var t=this.table.getChild(this._row);if(!t||this._isOverEndRow())return{done:!0};if(this._isSpanned(this._row,this._column)){var _t248=this._column,_e190=this._formatOutValue(void 0,_t248);return this._column++,!this.includeSpanned||this._shouldSkipRow()||this._shouldSkipColumn(_t248,1)?this.next():_e190;}var e=t.getChild(this._cell);if(!e)return this._row++,this._column=0,this._cell=0,this.next();var n=parseInt(e.getAttribute("colspan")||1),i=parseInt(e.getAttribute("rowspan")||1);(n>1||i>1)&&this._recordSpans(this._row,this._column,i,n);var o=this._column,r=this._formatOutValue(e,o,i,n);return this._column++,this._cell++,this._shouldSkipRow()||this._shouldSkipColumn(o,n)?this.next():r;}},{key:'skipRow',value:function skipRow(t){this._skipRows.add(t);}},{key:'_isOverEndRow',value:function _isOverEndRow(){return void 0!==this.endRow&&this._row>this.endRow;}},{key:'_formatOutValue',value:function _formatOutValue(t,e){var n=arguments.length>2&&arguments[2]!==undefined?arguments[2]:1;var i=arguments.length>3&&arguments[3]!==undefined?arguments[3]:1;return{done:!1,value:{cell:t,row:this._row,column:e,rowspan:n,colspan:i,cellIndex:this._cell}};}},{key:'_shouldSkipRow',value:function _shouldSkipRow(){var t=this._row<this.startRow,e=this._skipRows.has(this._row);return t||e;}},{key:'_shouldSkipColumn',value:function _shouldSkipColumn(t,e){if(void 0===this.column)return!1;var n=t===this.column,i=t<this.column&&t+e>this.column;return!n&&!i;}},{key:'_isSpanned',value:function _isSpanned(t,e){if(!this._spannedCells.has(t))return!1;return this._spannedCells.get(t).has(e);}},{key:'_recordSpans',value:function _recordSpans(t,e,n,i){for(var _n149=e+1;_n149<=e+i-1;_n149++){this._markSpannedCell(t,_n149);}for(var _o89=t+1;_o89<t+n;_o89++){for(var _t249=e;_t249<=e+i-1;_t249++){this._markSpannedCell(_o89,_t249);}}}},{key:'_markSpannedCell',value:function _markSpannedCell(t,e){this._spannedCells.has(t)||this._spannedCells.set(t,new Map()),this._spannedCells.get(t).set(e,!0);}}]);return Up;}();var Hp=Symbol("isTable");function qp(t){return!!t.getCustomProperty(Hp)&&Zu(t);}function Wp(t){var e=t.getSelectedElement();return!(!e||!qp(e));}function Yp(t){var e=Lp("table",t.getFirstPosition());return!(!e||!qp(e.parent));}function $p(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};return function(e){return e.on("insert:table",function(e,n,i){var o=n.item;if(!i.consumable.consume(o,"insert"))return;i.consumable.consume(o,"attribute:headingRows:table"),i.consumable.consume(o,"attribute:headingColumns:table");var r=t&&t.asWidget,s=i.writer.createContainerElement("figure",{class:"table"}),a=i.writer.createContainerElement("table");var c=void 0;i.writer.insert(i.writer.createPositionAt(s,0),a),r&&(c=function(t,e){return e.setCustomProperty(Hp,!0,t),Xu(t,e,{hasSelectionHandler:!0});}(s,i.writer));var l=new Up(o),d={headingRows:o.getAttribute("headingRows")||0,headingColumns:o.getAttribute("headingColumns")||0};var _iteratorNormalCompletion351=true;var _didIteratorError351=false;var _iteratorError351=undefined;try{for(var _iterator351=l[Symbol.iterator](),_step351;!(_iteratorNormalCompletion351=(_step351=_iterator351.next()).done);_iteratorNormalCompletion351=true){var _e191=_step351.value;var _n150=_e191.row,_r44=_e191.cell,_s26=og(ig(_n150,d),a,i),_c8=eg(o.getChild(_n150),_n150,_s26,i);i.consumable.consume(_r44,"insert"),tg(_e191,d,i.writer.createPositionAt(_c8,"end"),i,t);}}catch(err){_didIteratorError351=true;_iteratorError351=err;}finally{try{if(!_iteratorNormalCompletion351&&_iterator351.return){_iterator351.return();}}finally{if(_didIteratorError351){throw _iteratorError351;}}}var u=i.mapper.toViewPosition(n.range.start);i.mapper.bindElements(o,r?c:s),i.writer.insert(u,r?c:s);});};}function Gp(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};return function(e){return e.on("insert:tableRow",function(e,n,i){var o=n.item;if(!i.consumable.consume(o,"insert"))return;var r=o.parent,s=cg(i.mapper.toViewElement(r)),a=r.getChildIndex(o),c=new Up(r,{startRow:a,endRow:a}),l={headingRows:r.getAttribute("headingRows")||0,headingColumns:r.getAttribute("headingColumns")||0};var _iteratorNormalCompletion352=true;var _didIteratorError352=false;var _iteratorError352=undefined;try{for(var _iterator352=c[Symbol.iterator](),_step352;!(_iteratorNormalCompletion352=(_step352=_iterator352.next()).done);_iteratorNormalCompletion352=true){var _e192=_step352.value;var _n151=eg(o,a,og(ig(a,l),s,i),i);i.consumable.consume(_e192.cell,"insert"),tg(_e192,l,i.writer.createPositionAt(_n151,"end"),i,t);}}catch(err){_didIteratorError352=true;_iteratorError352=err;}finally{try{if(!_iteratorNormalCompletion352&&_iterator352.return){_iterator352.return();}}finally{if(_didIteratorError352){throw _iteratorError352;}}}});};}function Qp(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};return function(e){return e.on("insert:tableCell",function(e,n,i){var o=n.item;if(!i.consumable.consume(o,"insert"))return;var r=o.parent,s=r.parent,a=s.getChildIndex(r),c=new Up(s,{startRow:a,endRow:a}),l={headingRows:s.getAttribute("headingRows")||0,headingColumns:s.getAttribute("headingColumns")||0};var _iteratorNormalCompletion353=true;var _didIteratorError353=false;var _iteratorError353=undefined;try{for(var _iterator353=c[Symbol.iterator](),_step353;!(_iteratorNormalCompletion353=(_step353=_iterator353.next()).done);_iteratorNormalCompletion353=true){var _e193=_step353.value;if(_e193.cell===o){var _n152=i.mapper.toViewElement(r);return void tg(_e193,l,i.writer.createPositionAt(_n152,r.getChildIndex(o)),i,t);}}}catch(err){_didIteratorError353=true;_iteratorError353=err;}finally{try{if(!_iteratorNormalCompletion353&&_iterator353.return){_iterator353.return();}}finally{if(_didIteratorError353){throw _iteratorError353;}}}});};}function Jp(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};var e=!!t.asWidget;return function(t){return t.on("attribute:headingRows:table",function(t,n,i){var o=n.item;if(!i.consumable.consume(n.item,t.name))return;var r=cg(i.mapper.toViewElement(o)),s=n.attributeOldValue,a=n.attributeNewValue;if(a>s){var _t250=Array.from(o.getChildren()).filter(function(_ref70){var t=_ref70.index;return c(t,s-1,a);});ag(_t250,og("thead",r,i),i,"end");var _iteratorNormalCompletion354=true;var _didIteratorError354=false;var _iteratorError354=undefined;try{for(var _iterator354=_t250[Symbol.iterator](),_step354;!(_iteratorNormalCompletion354=(_step354=_iterator354.next()).done);_iteratorNormalCompletion354=true){var _n153=_step354.value;var _iteratorNormalCompletion355=true;var _didIteratorError355=false;var _iteratorError355=undefined;try{for(var _iterator355=_n153.getChildren()[Symbol.iterator](),_step355;!(_iteratorNormalCompletion355=(_step355=_iterator355.next()).done);_iteratorNormalCompletion355=true){var _t251=_step355.value;Zp(_t251,"th",i,e);}}catch(err){_didIteratorError355=true;_iteratorError355=err;}finally{try{if(!_iteratorNormalCompletion355&&_iterator355.return){_iterator355.return();}}finally{if(_didIteratorError355){throw _iteratorError355;}}}}}catch(err){_didIteratorError354=true;_iteratorError354=err;}finally{try{if(!_iteratorNormalCompletion354&&_iterator354.return){_iterator354.return();}}finally{if(_didIteratorError354){throw _iteratorError354;}}}sg("tbody",r,i);}else{ag(Array.from(o.getChildren()).filter(function(_ref71){var t=_ref71.index;return c(t,a-1,s);}).reverse(),og("tbody",r,i),i,0);var _t252=new Up(o,{startRow:a?a-1:a,endRow:s-1}),_n154={headingRows:o.getAttribute("headingRows")||0,headingColumns:o.getAttribute("headingColumns")||0};var _iteratorNormalCompletion356=true;var _didIteratorError356=false;var _iteratorError356=undefined;try{for(var _iterator356=_t252[Symbol.iterator](),_step356;!(_iteratorNormalCompletion356=(_step356=_iterator356.next()).done);_iteratorNormalCompletion356=true){var _o90=_step356.value;Xp(_o90,_n154,i,e);}}catch(err){_didIteratorError356=true;_iteratorError356=err;}finally{try{if(!_iteratorNormalCompletion356&&_iterator356.return){_iterator356.return();}}finally{if(_didIteratorError356){throw _iteratorError356;}}}sg("thead",r,i);}function c(t,e,n){return t>e&&t<n;}});};}function Kp(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};var e=!!t.asWidget;return function(t){return t.on("attribute:headingColumns:table",function(t,n,i){var o=n.item;if(!i.consumable.consume(n.item,t.name))return;var r={headingRows:o.getAttribute("headingRows")||0,headingColumns:o.getAttribute("headingColumns")||0},s=n.attributeOldValue,a=n.attributeNewValue,c=(s>a?s:a)-1;var _iteratorNormalCompletion357=true;var _didIteratorError357=false;var _iteratorError357=undefined;try{for(var _iterator357=new Up(o)[Symbol.iterator](),_step357;!(_iteratorNormalCompletion357=(_step357=_iterator357.next()).done);_iteratorNormalCompletion357=true){var _t253=_step357.value;_t253.column>c||Xp(_t253,r,i,e);}}catch(err){_didIteratorError357=true;_iteratorError357=err;}finally{try{if(!_iteratorNormalCompletion357&&_iterator357.return){_iterator357.return();}}finally{if(_didIteratorError357){throw _iteratorError357;}}}});};}function Zp(t,e,n,i){var o=n.writer,r=n.mapper.toViewElement(t);if(!r)return;var s=void 0;if(i){s=eh(o.createEditableElement(e,r.getAttributes()),o),o.insert(o.createPositionAfter(r),s),o.move(o.createRangeIn(r),o.createPositionAt(s,0)),o.remove(o.createRangeOn(r));}else s=o.rename(e,r);n.mapper.bindElements(t,s);}function Xp(t,e,n,i){var o=t.cell,r=ng(t,e),s=n.mapper.toViewElement(o);s&&s.name!==r&&Zp(o,r,n,i);}function tg(t,e,n,i,o){var r=o&&o.asWidget,s=ng(t,e),a=r?eh(i.writer.createEditableElement(s),i.writer):i.writer.createContainerElement(s),c=t.cell,l=1===c.childCount&&"paragraph"===c.getChild(0).name;if(i.writer.insert(n,a),l){var _t254=c.getChild(0),_e194=i.writer.createPositionAt(a,"end");if(i.consumable.consume(_t254,"insert"),o.asWidget){var _n155=[].concat(_toConsumableArray(_t254.getAttributeKeys())).length?"p":"span",_o91=i.writer.createContainerElement(_n155);i.mapper.bindElements(_t254,_o91),i.writer.insert(_e194,_o91),i.mapper.bindElements(c,a);}else i.mapper.bindElements(c,a),i.mapper.bindElements(_t254,a);}else i.mapper.bindElements(c,a);}function eg(t,e,n,i){var o=i.mapper.toViewElement(t);if(!o){i.consumable.consume(t,"insert"),o=i.writer.createContainerElement("tr"),i.mapper.bindElements(t,o);var _r45=t.parent.getAttribute("headingRows")||0,_s27=_r45>0&&e>=_r45?e-_r45:e,_a15=i.writer.createPositionAt(n,_s27);i.writer.insert(_a15,o);}return o;}function ng(t,e){var n=t.row,i=t.column,o=e.headingColumns,r=e.headingRows;return r&&r>n?"th":o&&o>i?"th":"td";}function ig(t,e){return t<e.headingRows?"thead":"tbody";}function og(t,e,n){var i=rg(t,e);return i||function(t,e,n){var i=n.writer.createContainerElement(t),o=n.writer.createPositionAt(e,"tbody"==t?"end":0);return n.writer.insert(o,i),i;}(t,e,n);}function rg(t,e){var _iteratorNormalCompletion358=true;var _didIteratorError358=false;var _iteratorError358=undefined;try{for(var _iterator358=e.getChildren()[Symbol.iterator](),_step358;!(_iteratorNormalCompletion358=(_step358=_iterator358.next()).done);_iteratorNormalCompletion358=true){var _n156=_step358.value;if(_n156.name==t)return _n156;}}catch(err){_didIteratorError358=true;_iteratorError358=err;}finally{try{if(!_iteratorNormalCompletion358&&_iterator358.return){_iterator358.return();}}finally{if(_didIteratorError358){throw _iteratorError358;}}}}function sg(t,e,n){var i=rg(t,e);i&&0===i.childCount&&n.writer.remove(n.writer.createRangeOn(i));}function ag(t,e,n,i){var _iteratorNormalCompletion359=true;var _didIteratorError359=false;var _iteratorError359=undefined;try{for(var _iterator359=t[Symbol.iterator](),_step359;!(_iteratorNormalCompletion359=(_step359=_iterator359.next()).done);_iteratorNormalCompletion359=true){var _o92=_step359.value;var _t255=n.mapper.toViewElement(_o92);_t255&&n.writer.move(n.writer.createRangeOn(_t255),n.writer.createPositionAt(e,i));}}catch(err){_didIteratorError359=true;_iteratorError359=err;}finally{try{if(!_iteratorNormalCompletion359&&_iterator359.return){_iterator359.return();}}finally{if(_didIteratorError359){throw _iteratorError359;}}}}function cg(t){var _iteratorNormalCompletion360=true;var _didIteratorError360=false;var _iteratorError360=undefined;try{for(var _iterator360=t.getChildren()[Symbol.iterator](),_step360;!(_iteratorNormalCompletion360=(_step360=_iterator360.next()).done);_iteratorNormalCompletion360=true){var _e195=_step360.value;if("table"===_e195.name)return _e195;}}catch(err){_didIteratorError360=true;_iteratorError360=err;}finally{try{if(!_iteratorNormalCompletion360&&_iterator360.return){_iterator360.return();}}finally{if(_didIteratorError360){throw _iteratorError360;}}}}var lg=function(_zl49){_inherits(lg,_zl49);function lg(){_classCallCheck(this,lg);return _possibleConstructorReturn(this,(lg.__proto__||Object.getPrototypeOf(lg)).apply(this,arguments));}_createClass(lg,[{key:'getCellLocation',value:function getCellLocation(t){var e=t.parent,n=e.parent,i=n.getChildIndex(e),o=new Up(n,{startRow:i,endRow:i});var _iteratorNormalCompletion361=true;var _didIteratorError361=false;var _iteratorError361=undefined;try{for(var _iterator361=o[Symbol.iterator](),_step361;!(_iteratorNormalCompletion361=(_step361=_iterator361.next()).done);_iteratorNormalCompletion361=true){var _ref72=_step361.value;var _e196=_ref72.cell;var _n157=_ref72.row;var _i52=_ref72.column;if(_e196===t)return{row:_n157,column:_i52};}}catch(err){_didIteratorError361=true;_iteratorError361=err;}finally{try{if(!_iteratorNormalCompletion361&&_iterator361.return){_iterator361.return();}}finally{if(_didIteratorError361){throw _iteratorError361;}}}}},{key:'createTable',value:function createTable(t,e,n){var i=t.createElement("table");return dg(t,i,0,e,n),i;}},{key:'insertRows',value:function insertRows(t){var _this275=this;var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};var n=this.editor.model,i=e.at||0,o=e.rows||1;n.change(function(e){var n=t.getAttribute("headingRows")||0;if(n>i&&e.setAttribute("headingRows",n+o,t),0===i||i===t.childCount)return void dg(e,t,i,o,_this275.getColumns(t));var r=new Up(t,{endRow:i});var s=0;var _iteratorNormalCompletion362=true;var _didIteratorError362=false;var _iteratorError362=undefined;try{for(var _iterator362=r[Symbol.iterator](),_step362;!(_iteratorNormalCompletion362=(_step362=_iterator362.next()).done);_iteratorNormalCompletion362=true){var _ref73=_step362.value;var _t256=_ref73.row;var _n158=_ref73.rowspan;var _a16=_ref73.colspan;var _c9=_ref73.cell;_t256<i&&_t256+_n158>i&&e.setAttribute("rowspan",_n158+o,_c9),_t256===i&&(s+=_a16);}}catch(err){_didIteratorError362=true;_iteratorError362=err;}finally{try{if(!_iteratorNormalCompletion362&&_iterator362.return){_iterator362.return();}}finally{if(_didIteratorError362){throw _iteratorError362;}}}dg(e,t,i,o,s);});}},{key:'insertColumns',value:function insertColumns(t){var _this276=this;var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};var n=this.editor.model,i=e.at||0,o=e.columns||1;n.change(function(e){var n=t.getAttribute("headingColumns");i<n&&e.setAttribute("headingColumns",n+o,t);var r=_this276.getColumns(t);if(0===i||r===i){var _iteratorNormalCompletion363=true;var _didIteratorError363=false;var _iteratorError363=undefined;try{for(var _iterator363=t.getChildren()[Symbol.iterator](),_step363;!(_iteratorNormalCompletion363=(_step363=_iterator363.next()).done);_iteratorNormalCompletion363=true){var _n159=_step363.value;ug(o,e,e.createPositionAt(_n159,i?"end":0));}}catch(err){_didIteratorError363=true;_iteratorError363=err;}finally{try{if(!_iteratorNormalCompletion363&&_iterator363.return){_iterator363.return();}}finally{if(_didIteratorError363){throw _iteratorError363;}}}return;}var s=new Up(t,{column:i,includeSpanned:!0});var _iteratorNormalCompletion364=true;var _didIteratorError364=false;var _iteratorError364=undefined;try{for(var _iterator364=s[Symbol.iterator](),_step364;!(_iteratorNormalCompletion364=(_step364=_iterator364.next()).done);_iteratorNormalCompletion364=true){var _ref74=_step364.value;var _n160=_ref74.row;var _r46=_ref74.column;var _a17=_ref74.cell;var _c10=_ref74.colspan;var _l5=_ref74.rowspan;var _d3=_ref74.cellIndex;if(_r46!==i){if(e.setAttribute("colspan",_c10+o,_a17),s.skipRow(_n160),_l5>1)for(var _t257=_n160+1;_t257<_n160+_l5;_t257++){s.skipRow(_t257);}}else{var _i53=e.createPositionAt(t.getChild(_n160),_d3);ug(o,e,_i53);}}}catch(err){_didIteratorError364=true;_iteratorError364=err;}finally{try{if(!_iteratorNormalCompletion364&&_iterator364.return){_iterator364.return();}}finally{if(_didIteratorError364){throw _iteratorError364;}}}});}},{key:'splitCellVertically',value:function splitCellVertically(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:2;var n=this.editor.model,i=t.parent.parent,o=parseInt(t.getAttribute("rowspan")||1),r=parseInt(t.getAttribute("colspan")||1);n.change(function(n){if(r>1){var _hg=hg(r,e),_i54=_hg.newCellsSpan,_s28=_hg.updatedSpan;jp("colspan",_s28,t,n);var _a18={};_i54>1&&(_a18.colspan=_i54),o>1&&(_a18.rowspan=o),ug(r>e?e-1:r-1,n,n.createPositionAfter(t),_a18);}if(r<e){var _s29=e-r,_a19=[].concat(_toConsumableArray(new Up(i))),_a19$find=_a19.find(function(_ref75){var e=_ref75.cell;return e===t;}),_c11=_a19$find.column,_l6=_a19.filter(function(_ref76){var e=_ref76.cell,n=_ref76.colspan,i=_ref76.column;return e!==t&&i===_c11||i<_c11&&i+n>_c11;});var _iteratorNormalCompletion365=true;var _didIteratorError365=false;var _iteratorError365=undefined;try{for(var _iterator365=_l6[Symbol.iterator](),_step365;!(_iteratorNormalCompletion365=(_step365=_iterator365.next()).done);_iteratorNormalCompletion365=true){var _ref77=_step365.value;var _t258=_ref77.cell;var _e197=_ref77.colspan;n.setAttribute("colspan",_e197+_s29,_t258);}}catch(err){_didIteratorError365=true;_iteratorError365=err;}finally{try{if(!_iteratorNormalCompletion365&&_iterator365.return){_iterator365.return();}}finally{if(_didIteratorError365){throw _iteratorError365;}}}var _d4={};o>1&&(_d4.rowspan=o),ug(_s29,n,n.createPositionAfter(t),_d4);var _u2=i.getAttribute("headingColumns")||0;_u2>_c11&&jp("headingColumns",_u2+_s29,i,n);}});}},{key:'splitCellHorizontally',value:function splitCellHorizontally(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:2;var n=this.editor.model,i=t.parent,o=i.parent,r=o.getChildIndex(i),s=parseInt(t.getAttribute("rowspan")||1),a=parseInt(t.getAttribute("colspan")||1);n.change(function(n){if(s>1){var _i55=[].concat(_toConsumableArray(new Up(o,{startRow:r,endRow:r+s-1,includeSpanned:!0}))),_hg2=hg(s,e),_c12=_hg2.newCellsSpan,_l7=_hg2.updatedSpan;jp("rowspan",_l7,t,n);var _i55$find=_i55.find(function(_ref78){var e=_ref78.cell;return e===t;}),_d5=_i55$find.column,_u3={};_c12>1&&(_u3.rowspan=_c12),a>1&&(_u3.colspan=a);var _iteratorNormalCompletion366=true;var _didIteratorError366=false;var _iteratorError366=undefined;try{for(var _iterator366=_i55[Symbol.iterator](),_step366;!(_iteratorNormalCompletion366=(_step366=_iterator366.next()).done);_iteratorNormalCompletion366=true){var _ref79=_step366.value;var _t259=_ref79.column;var _e198=_ref79.row;var _s30=_ref79.cellIndex;if(_e198>=r+_l7&&_t259===_d5&&(_e198+r+_l7)%_c12==0){ug(1,n,n.createPositionAt(o.getChild(_e198),_s30),_u3);}}}catch(err){_didIteratorError366=true;_iteratorError366=err;}finally{try{if(!_iteratorNormalCompletion366&&_iterator366.return){_iterator366.return();}}finally{if(_didIteratorError366){throw _iteratorError366;}}}}if(s<e){var _i56=e-s,_c13=[].concat(_toConsumableArray(new Up(o,{startRow:0,endRow:r})));var _iteratorNormalCompletion367=true;var _didIteratorError367=false;var _iteratorError367=undefined;try{for(var _iterator367=_c13[Symbol.iterator](),_step367;!(_iteratorNormalCompletion367=(_step367=_iterator367.next()).done);_iteratorNormalCompletion367=true){var _ref80=_step367.value;var _e199=_ref80.cell;var _o93=_ref80.rowspan;var _s31=_ref80.row;if(_e199!==t&&_s31+_o93>r){var _t260=_o93+_i56;n.setAttribute("rowspan",_t260,_e199);}}}catch(err){_didIteratorError367=true;_iteratorError367=err;}finally{try{if(!_iteratorNormalCompletion367&&_iterator367.return){_iterator367.return();}}finally{if(_didIteratorError367){throw _iteratorError367;}}}var _l8={};a>1&&(_l8.colspan=a),dg(n,o,r+1,_i56,1,_l8);var _d6=o.getAttribute("headingRows")||0;_d6>r&&jp("headingRows",_d6+_i56,o,n);}});}},{key:'getColumns',value:function getColumns(t){return[].concat(_toConsumableArray(t.getChild(0).getChildren())).reduce(function(t,e){return t+parseInt(e.getAttribute("colspan")||1);},0);}}],[{key:'pluginName',get:function get(){return"TableUtils";}}]);return lg;}(zl);function dg(t,e,n,i,o){var r=arguments.length>5&&arguments[5]!==undefined?arguments[5]:{};for(var _s32=0;_s32<i;_s32++){var _i57=t.createElement("tableRow");t.insert(_i57,e,n),ug(o,t,t.createPositionAt(_i57,"end"),r);}}function ug(t,e,n){var i=arguments.length>3&&arguments[3]!==undefined?arguments[3]:{};for(var _o94=0;_o94<t;_o94++){Vp(e,n,i);}}function hg(t,e){if(t<e)return{newCellsSpan:1,updatedSpan:1};var n=Math.floor(t/e);return{newCellsSpan:n,updatedSpan:t-n*e+n};}var fg=function(_ql20){_inherits(fg,_ql20);function fg(){_classCallCheck(this,fg);return _possibleConstructorReturn(this,(fg.__proto__||Object.getPrototypeOf(fg)).apply(this,arguments));}_createClass(fg,[{key:'refresh',value:function refresh(){var t=this.editor.model,e=t.document.selection,n=t.schema,i=function(t){var e=t.parent;return e===e.root?e:e.parent;}(e.getFirstPosition());this.isEnabled=n.checkChild(i,"table");}},{key:'execute',value:function execute(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};var e=this.editor.model,n=e.document.selection,i=this.editor.plugins.get(lg),o=parseInt(t.rows)||2,r=parseInt(t.columns)||2,s=nh(n,e);e.change(function(t){var n=i.createTable(t,o,r);e.insertContent(n,s),t.setSelection(t.createPositionAt(n.getNodeByPath([0,0,0]),0));});}}]);return fg;}(ql);var mg=function(_ql21){_inherits(mg,_ql21);function mg(t){var _this278;var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};_classCallCheck(this,mg);(_this278=_possibleConstructorReturn(this,(mg.__proto__||Object.getPrototypeOf(mg)).call(this,t)),_this278),_this278.order=e.order||"below";return _this278;}_createClass(mg,[{key:'refresh',value:function refresh(){var t=Lp("table",this.editor.model.document.selection.getFirstPosition());this.isEnabled=!!t;}},{key:'execute',value:function execute(){var t=this.editor,e=t.model.document.selection,n=t.plugins.get(lg),i=Lp("tableCell",e.getFirstPosition()).parent,o=i.parent,r=o.getChildIndex(i),s="below"===this.order?r+1:r;n.insertRows(o,{rows:1,at:s});}}]);return mg;}(ql);var pg=function(_ql22){_inherits(pg,_ql22);function pg(t){var _this279;var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};_classCallCheck(this,pg);(_this279=_possibleConstructorReturn(this,(pg.__proto__||Object.getPrototypeOf(pg)).call(this,t)),_this279),_this279.order=e.order||"right";return _this279;}_createClass(pg,[{key:'refresh',value:function refresh(){var t=Lp("table",this.editor.model.document.selection.getFirstPosition());this.isEnabled=!!t;}},{key:'execute',value:function execute(){var t=this.editor,e=t.model.document.selection,n=t.plugins.get(lg),i=Lp("tableCell",e.getFirstPosition()),o=i.parent.parent,_n$getCellLocation=n.getCellLocation(i),r=_n$getCellLocation.column,s="right"===this.order?r+1:r;n.insertColumns(o,{columns:1,at:s});}}]);return pg;}(ql);var gg=function(_ql23){_inherits(gg,_ql23);function gg(t){var _this280;var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};_classCallCheck(this,gg);(_this280=_possibleConstructorReturn(this,(gg.__proto__||Object.getPrototypeOf(gg)).call(this,t)),_this280),_this280.direction=e.direction||"horizontally";return _this280;}_createClass(gg,[{key:'refresh',value:function refresh(){var t=Lp("tableCell",this.editor.model.document.selection.getFirstPosition());this.isEnabled=!!t;}},{key:'execute',value:function execute(){var t=Lp("tableCell",this.editor.model.document.selection.getFirstPosition()),e="horizontally"===this.direction,n=this.editor.plugins.get(lg);e?n.splitCellHorizontally(t,2):n.splitCellVertically(t,2);}}]);return gg;}(ql);var bg=function(_ql24){_inherits(bg,_ql24);function bg(t,e){var _this281;_classCallCheck(this,bg);(_this281=_possibleConstructorReturn(this,(bg.__proto__||Object.getPrototypeOf(bg)).call(this,t)),_this281),_this281.direction=e.direction,_this281.isHorizontal="right"==_this281.direction||"left"==_this281.direction;return _this281;}_createClass(bg,[{key:'refresh',value:function refresh(){var t=this._getMergeableCell();this.isEnabled=!!t,this.value=t;}},{key:'execute',value:function execute(){var _this282=this;var t=this.editor.model,e=Lp("tableCell",t.document.selection.getFirstPosition()),n=this.value,i=this.direction;t.change(function(t){var o="right"==i||"down"==i,r=o?e:n,s=o?n:e,a=s.parent;!function(t,e,n){wg(t)||(wg(e)&&n.remove(n.createRangeIn(e)),n.move(n.createRangeIn(t),n.createPositionAt(e,"end")));n.remove(t);}(s,r,t);var c=_this282.isHorizontal?"colspan":"rowspan",l=parseInt(e.getAttribute(c)||1),d=parseInt(n.getAttribute(c)||1);t.setAttribute(c,l+d,r),t.setSelection(t.createRangeIn(r)),a.childCount||function(t,e){var n=t.parent,i=n.getChildIndex(t);var _iteratorNormalCompletion368=true;var _didIteratorError368=false;var _iteratorError368=undefined;try{for(var _iterator368=new Up(n,{endRow:i})[Symbol.iterator](),_step368;!(_iteratorNormalCompletion368=(_step368=_iterator368.next()).done);_iteratorNormalCompletion368=true){var _ref81=_step368.value;var _t261=_ref81.cell;var _o95=_ref81.row;var _r47=_ref81.rowspan;var _n161=_o95+_r47-1>=i;_n161&&jp("rowspan",_r47-1,_t261,e);}}catch(err){_didIteratorError368=true;_iteratorError368=err;}finally{try{if(!_iteratorNormalCompletion368&&_iterator368.return){_iterator368.return();}}finally{if(_didIteratorError368){throw _iteratorError368;}}}e.remove(t);}(a,t);});}},{key:'_getMergeableCell',value:function _getMergeableCell(){var t=Lp("tableCell",this.editor.model.document.selection.getFirstPosition());if(!t)return;var e=this.editor.plugins.get(lg),n=this.isHorizontal?function(t,e,n){var i="right"==e?t.nextSibling:t.previousSibling;if(!i)return;var o="right"==e?t:i,r="right"==e?i:t,_n$getCellLocation2=n.getCellLocation(o),s=_n$getCellLocation2.column,_n$getCellLocation3=n.getCellLocation(r),a=_n$getCellLocation3.column,c=parseInt(o.getAttribute("colspan")||1);return s+c===a?i:void 0;}(t,this.direction,e):function(t,e){var n=t.parent,i=n.parent,o=i.getChildIndex(n);if("down"==e&&o===i.childCount-1||"up"==e&&0===o)return;var r=parseInt(t.getAttribute("rowspan")||1),s=i.getAttribute("headingRows")||0;if(s&&("down"==e&&o+r===s||"up"==e&&o===s))return;var a=parseInt(t.getAttribute("rowspan")||1),c="down"==e?o+a:o,l=[].concat(_toConsumableArray(new Up(i,{endRow:c}))),d=l.find(function(e){return e.cell===t;}).column,u=l.find(function(_ref82){var t=_ref82.row,n=_ref82.rowspan,i=_ref82.column;return i===d&&("down"==e?t===c:c===t+n);});return u&&u.cell;}(t,this.direction);if(!n)return;var i=this.isHorizontal?"rowspan":"colspan",o=parseInt(t.getAttribute(i)||1);return parseInt(n.getAttribute(i)||1)===o?n:void 0;}}]);return bg;}(ql);function wg(t){return 1==t.childCount&&t.getChild(0).is("paragraph")&&t.getChild(0).isEmpty;}var _g=function(_ql25){_inherits(_g,_ql25);function _g(){_classCallCheck(this,_g);return _possibleConstructorReturn(this,(_g.__proto__||Object.getPrototypeOf(_g)).apply(this,arguments));}_createClass(_g,[{key:'refresh',value:function refresh(){var t=Lp("tableCell",this.editor.model.document.selection.getFirstPosition());this.isEnabled=!!t&&t.parent.parent.childCount>1;}},{key:'execute',value:function execute(){var t=this.editor.model,e=Lp("tableCell",t.document.selection.getFirstPosition()).parent,n=e.parent,i=n.getChildIndex(e),o=n.getAttribute("headingRows")||0;t.change(function(t){o&&i<=o&&jp("headingRows",o-1,n,t,0);var r=[].concat(_toConsumableArray(new Up(n,{endRow:i}))),s=new Map();r.filter(function(_ref83){var t=_ref83.row,e=_ref83.rowspan;return t===i&&e>1;}).forEach(function(_ref84){var t=_ref84.column,e=_ref84.cell,n=_ref84.rowspan;return s.set(t,{cell:e,rowspanToSet:n-1});}),r.filter(function(_ref85){var t=_ref85.row,e=_ref85.rowspan;return t<=i-1&&t+e>i;}).forEach(function(_ref86){var e=_ref86.cell,n=_ref86.rowspan;return jp("rowspan",n-1,e,t);});var a=i+1,c=new Up(n,{includeSpanned:!0,startRow:a,endRow:a});var l=void 0;var _arr2=[].concat(_toConsumableArray(c));for(var _i59=0;_i59<_arr2.length;_i59++){var _ref87=_arr2[_i59];var _e200=_ref87.row;var _i58=_ref87.column;var _o96=_ref87.cell;if(s.has(_i58)){var _s$get=s.get(_i58),_o97=_s$get.cell,_r48=_s$get.rowspanToSet,_a20=l?t.createPositionAfter(l):t.createPositionAt(n.getChild(_e200),0);t.move(t.createRangeOn(_o97),_a20),jp("rowspan",_r48,_o97,t),l=_o97;}else l=_o96;}t.remove(e);});}}]);return _g;}(ql);var kg=function(_ql26){_inherits(kg,_ql26);function kg(){_classCallCheck(this,kg);return _possibleConstructorReturn(this,(kg.__proto__||Object.getPrototypeOf(kg)).apply(this,arguments));}_createClass(kg,[{key:'refresh',value:function refresh(){var t=this.editor,e=t.model.document.selection,n=t.plugins.get(lg),i=Lp("tableCell",e.getFirstPosition());this.isEnabled=!!i&&n.getColumns(i.parent.parent)>1;}},{key:'execute',value:function execute(){var t=this.editor.model,e=Lp("tableCell",t.document.selection.getFirstPosition()),n=e.parent,i=n.parent,o=i.getAttribute("headingColumns")||0,r=i.getChildIndex(n),s=[].concat(_toConsumableArray(new Up(i))),a=s.find(function(t){return t.cell===e;}).column;t.change(function(t){o&&r<=o&&t.setAttribute("headingColumns",o-1,i);var _iteratorNormalCompletion369=true;var _didIteratorError369=false;var _iteratorError369=undefined;try{for(var _iterator369=s[Symbol.iterator](),_step369;!(_iteratorNormalCompletion369=(_step369=_iterator369.next()).done);_iteratorNormalCompletion369=true){var _ref88=_step369.value;var _e201=_ref88.cell;var _n162=_ref88.column;var _i60=_ref88.colspan;_n162<=a&&_i60>1&&_n162+_i60>a?jp("colspan",_i60-1,_e201,t):_n162===a&&t.remove(_e201);}}catch(err){_didIteratorError369=true;_iteratorError369=err;}finally{try{if(!_iteratorNormalCompletion369&&_iterator369.return){_iterator369.return();}}finally{if(_didIteratorError369){throw _iteratorError369;}}}});}}]);return kg;}(ql);var vg=function(_ql27){_inherits(vg,_ql27);function vg(){_classCallCheck(this,vg);return _possibleConstructorReturn(this,(vg.__proto__||Object.getPrototypeOf(vg)).apply(this,arguments));}_createClass(vg,[{key:'refresh',value:function refresh(){var t=Lp("tableCell",this.editor.model.document.selection.getFirstPosition()),e=!!t;this.isEnabled=e,this.value=e&&this._isInHeading(t,t.parent.parent);}},{key:'execute',value:function execute(){var t=this.editor.model,e=Lp("tableCell",t.document.selection.getFirstPosition()).parent,n=e.parent,i=n.getAttribute("headingRows")||0,o=e.index,r=i>o?o:o+1;t.change(function(t){if(r){var _e202=function(t,e,n){var i=[],o=new Up(t,{startRow:e>n?n:0,endRow:e-1});var _iteratorNormalCompletion370=true;var _didIteratorError370=false;var _iteratorError370=undefined;try{for(var _iterator370=o[Symbol.iterator](),_step370;!(_iteratorNormalCompletion370=(_step370=_iterator370.next()).done);_iteratorNormalCompletion370=true){var _ref89=_step370.value;var _t262=_ref89.row;var _n163=_ref89.rowspan;var _r49=_ref89.cell;_n163>1&&_t262+_n163>e&&i.push(_r49);}}catch(err){_didIteratorError370=true;_iteratorError370=err;}finally{try{if(!_iteratorNormalCompletion370&&_iterator370.return){_iterator370.return();}}finally{if(_didIteratorError370){throw _iteratorError370;}}}return i;}(n,r,i);var _iteratorNormalCompletion371=true;var _didIteratorError371=false;var _iteratorError371=undefined;try{for(var _iterator371=_e202[Symbol.iterator](),_step371;!(_iteratorNormalCompletion371=(_step371=_iterator371.next()).done);_iteratorNormalCompletion371=true){var _n164=_step371.value;yg(_n164,r,t);}}catch(err){_didIteratorError371=true;_iteratorError371=err;}finally{try{if(!_iteratorNormalCompletion371&&_iterator371.return){_iterator371.return();}}finally{if(_didIteratorError371){throw _iteratorError371;}}}}jp("headingRows",r,n,t,0);});}},{key:'_isInHeading',value:function _isInHeading(t,e){var n=parseInt(e.getAttribute("headingRows")||0);return!!n&&t.parent.index<n;}}]);return vg;}(ql);function yg(t,e,n){var i=t.parent,o=i.parent,r=e-i.index,s={},a=parseInt(t.getAttribute("rowspan"))-r;a>1&&(s.rowspan=a);var c=o.getChildIndex(i),l=c+r,d=[].concat(_toConsumableArray(new Up(o,{startRow:c,endRow:l,includeSpanned:!0})));var u=void 0;var _iteratorNormalCompletion372=true;var _didIteratorError372=false;var _iteratorError372=undefined;try{for(var _iterator372=d[Symbol.iterator](),_step372;!(_iteratorNormalCompletion372=(_step372=_iterator372.next()).done);_iteratorNormalCompletion372=true){var _ref90=_step372.value;var _e203=_ref90.row;var _i61=_ref90.column;var _r50=_ref90.cell;var _a21=_ref90.colspan;var _c14=_ref90.cellIndex;if(_r50===t&&(u=_i61,_a21>1&&(s.colspan=_a21)),void 0!==u&&u===_i61&&_e203===l){var _t263=o.getChild(_e203);Vp(n,n.createPositionAt(_t263,_c14),s);}}}catch(err){_didIteratorError372=true;_iteratorError372=err;}finally{try{if(!_iteratorNormalCompletion372&&_iterator372.return){_iterator372.return();}}finally{if(_didIteratorError372){throw _iteratorError372;}}}jp("rowspan",r,t,n);}var xg=function(_ql28){_inherits(xg,_ql28);function xg(){_classCallCheck(this,xg);return _possibleConstructorReturn(this,(xg.__proto__||Object.getPrototypeOf(xg)).apply(this,arguments));}_createClass(xg,[{key:'refresh',value:function refresh(){var t=Lp("tableCell",this.editor.model.document.selection.getFirstPosition()),e=!!t;this.isEnabled=e,this.value=e&&this._isInHeading(t,t.parent.parent);}},{key:'execute',value:function execute(){var t=this.editor.model,e=t.document.selection,n=this.editor.plugins.get("TableUtils"),i=Lp("tableCell",e.getFirstPosition().parent),o=i.parent.parent,r=parseInt(o.getAttribute("headingColumns")||0),_n$getCellLocation4=n.getCellLocation(i),s=_n$getCellLocation4.column,a=r>s?s:s+1;t.change(function(t){jp("headingColumns",a,o,t,0);});}},{key:'_isInHeading',value:function _isInHeading(t,e){var n=parseInt(e.getAttribute("headingColumns")||0),i=this.editor.plugins.get("TableUtils"),_i$getCellLocation=i.getCellLocation(t),o=_i$getCellLocation.column;return!!n&&o<n;}}]);return xg;}(ql);function Ag(t){t.document.registerPostFixer(function(e){return function(t,e){var n=e.document.differ.getChanges();var i=!1;var o=new Set();var _iteratorNormalCompletion373=true;var _didIteratorError373=false;var _iteratorError373=undefined;try{for(var _iterator373=n[Symbol.iterator](),_step373;!(_iteratorNormalCompletion373=(_step373=_iterator373.next()).done);_iteratorNormalCompletion373=true){var _e204=_step373.value;var _n165=void 0;"table"==_e204.name&&"insert"==_e204.type&&(_n165=_e204.position.nodeAfter),"tableRow"!=_e204.name&&"tableCell"!=_e204.name||(_n165=Lp("table",_e204.position)),Pg(_e204)&&(_n165=Lp("table",_e204.range.start)),_n165&&!o.has(_n165)&&(i=Cg(_n165,t)||i,i=Tg(_n165,t)||i,o.add(_n165));}}catch(err){_didIteratorError373=true;_iteratorError373=err;}finally{try{if(!_iteratorNormalCompletion373&&_iterator373.return){_iterator373.return();}}finally{if(_didIteratorError373){throw _iteratorError373;}}}return i;}(e,t);});}function Cg(t,e){var n=!1;var i=function(t){var e=parseInt(t.getAttribute("headingRows")||0),n=t.childCount,i=[];var _iteratorNormalCompletion374=true;var _didIteratorError374=false;var _iteratorError374=undefined;try{for(var _iterator374=new Up(t)[Symbol.iterator](),_step374;!(_iteratorNormalCompletion374=(_step374=_iterator374.next()).done);_iteratorNormalCompletion374=true){var _ref91=_step374.value;var _o98=_ref91.row;var _r51=_ref91.rowspan;var _s33=_ref91.cell;if(_r51<2)continue;var _t264=_o98<e,_a22=_t264?e:n;if(_o98+_r51>_a22){var _t265=_a22-_o98;i.push({cell:_s33,rowspan:_t265});}}}catch(err){_didIteratorError374=true;_iteratorError374=err;}finally{try{if(!_iteratorNormalCompletion374&&_iterator374.return){_iterator374.return();}}finally{if(_didIteratorError374){throw _iteratorError374;}}}return i;}(t);if(i.length){n=!0;var _iteratorNormalCompletion375=true;var _didIteratorError375=false;var _iteratorError375=undefined;try{for(var _iterator375=i[Symbol.iterator](),_step375;!(_iteratorNormalCompletion375=(_step375=_iterator375.next()).done);_iteratorNormalCompletion375=true){var _t266=_step375.value;jp("rowspan",_t266.rowspan,_t266.cell,e,1);}}catch(err){_didIteratorError375=true;_iteratorError375=err;}finally{try{if(!_iteratorNormalCompletion375&&_iterator375.return){_iterator375.return();}}finally{if(_didIteratorError375){throw _iteratorError375;}}}}return n;}function Tg(t,e){var n=!1;var i=function(t){var e={};var _iteratorNormalCompletion376=true;var _didIteratorError376=false;var _iteratorError376=undefined;try{for(var _iterator376=new Up(t,{includeSpanned:!0})[Symbol.iterator](),_step376;!(_iteratorNormalCompletion376=(_step376=_iterator376.next()).done);_iteratorNormalCompletion376=true){var _ref92=_step376.value;var _n166=_ref92.row;e[_n166]||(e[_n166]=0),e[_n166]+=1;}}catch(err){_didIteratorError376=true;_iteratorError376=err;}finally{try{if(!_iteratorNormalCompletion376&&_iterator376.return){_iterator376.return();}}finally{if(_didIteratorError376){throw _iteratorError376;}}}return e;}(t),o=i[0];if(!Object.values(i).every(function(t){return t===o;})){var _o99=Object.values(i).reduce(function(t,e){return e>t?e:t;},0);var _iteratorNormalCompletion377=true;var _didIteratorError377=false;var _iteratorError377=undefined;try{for(var _iterator377=Object.entries(i)[Symbol.iterator](),_step377;!(_iteratorNormalCompletion377=(_step377=_iterator377.next()).done);_iteratorNormalCompletion377=true){var _ref93=_step377.value;var _ref94=_slicedToArray(_ref93,2);var _r52=_ref94[0];var _s34=_ref94[1];var _i62=_o99-_s34;if(_i62){for(var _n167=0;_n167<_i62;_n167++){Vp(e,e.createPositionAt(t.getChild(_r52),"end"));}n=!0;}}}catch(err){_didIteratorError377=true;_iteratorError377=err;}finally{try{if(!_iteratorNormalCompletion377&&_iterator377.return){_iterator377.return();}}finally{if(_didIteratorError377){throw _iteratorError377;}}}}return n;}function Pg(t){var e="attribute"===t.type,n=t.attributeKey;return e&&("headingRows"===n||"colspan"===n||"rowspan"===n);}function Mg(t){t.document.registerPostFixer(function(e){return function(t,e){var n=e.document.differ.getChanges();var i=!1;var _iteratorNormalCompletion378=true;var _didIteratorError378=false;var _iteratorError378=undefined;try{for(var _iterator378=n[Symbol.iterator](),_step378;!(_iteratorNormalCompletion378=(_step378=_iterator378.next()).done);_iteratorNormalCompletion378=true){var _e205=_step378.value;"remove"==_e205.type&&_e205.position.parent.is("tableCell")&&(i=Eg(_e205.position.parent,t)||i),"insert"==_e205.type&&("table"==_e205.name&&(i=Sg(_e205.position.nodeAfter,t)||i),"tableRow"==_e205.name&&(i=Ig(_e205.position.nodeAfter,t)||i),"tableCell"==_e205.name&&(i=Eg(_e205.position.nodeAfter,t)||i));}}catch(err){_didIteratorError378=true;_iteratorError378=err;}finally{try{if(!_iteratorNormalCompletion378&&_iterator378.return){_iterator378.return();}}finally{if(_didIteratorError378){throw _iteratorError378;}}}return i;}(e,t);});}function Sg(t,e){var n=!1;var _iteratorNormalCompletion379=true;var _didIteratorError379=false;var _iteratorError379=undefined;try{for(var _iterator379=t.getChildren()[Symbol.iterator](),_step379;!(_iteratorNormalCompletion379=(_step379=_iterator379.next()).done);_iteratorNormalCompletion379=true){var i=_step379.value;n=Ig(i,e)||n;}}catch(err){_didIteratorError379=true;_iteratorError379=err;}finally{try{if(!_iteratorNormalCompletion379&&_iterator379.return){_iterator379.return();}}finally{if(_didIteratorError379){throw _iteratorError379;}}}return n;}function Ig(t,e){var n=!1;var _iteratorNormalCompletion380=true;var _didIteratorError380=false;var _iteratorError380=undefined;try{for(var _iterator380=t.getChildren()[Symbol.iterator](),_step380;!(_iteratorNormalCompletion380=(_step380=_iterator380.next()).done);_iteratorNormalCompletion380=true){var i=_step380.value;n=Eg(i,e)||n;}}catch(err){_didIteratorError380=true;_iteratorError380=err;}finally{try{if(!_iteratorNormalCompletion380&&_iterator380.return){_iterator380.return();}}finally{if(_didIteratorError380){throw _iteratorError380;}}}return n;}function Eg(t,e){return 0==t.childCount&&(e.insertElement("paragraph",t),!0);}function Ng(t,e){e.view.document.registerPostFixer(function(n){return function(t,e,n,i){var o=!1;var r=function(t){var e=Array.from(t._renderer.markedAttributes).filter(function(t){return!!t.parent;}).filter(Rg).filter(function(t){return Dg(t.parent);}),n=Array.from(t._renderer.markedChildren).filter(function(t){return!!t.parent;}).filter(Dg).reduce(function(t,e){var n=Array.from(e.getChildren()).filter(Rg);return[].concat(_toConsumableArray(t),_toConsumableArray(n));},[]);return[].concat(_toConsumableArray(e),_toConsumableArray(n));}(i);var _iteratorNormalCompletion381=true;var _didIteratorError381=false;var _iteratorError381=undefined;try{for(var _iterator381=r[Symbol.iterator](),_step381;!(_iteratorNormalCompletion381=(_step381=_iterator381.next()).done);_iteratorNormalCompletion381=true){var _e206=_step381.value;o=Og(_e206,n,t)||o;}}catch(err){_didIteratorError381=true;_iteratorError381=err;}finally{try{if(!_iteratorNormalCompletion381&&_iterator381.return){_iterator381.return();}}finally{if(_didIteratorError381){throw _iteratorError381;}}}o&&function(t,e,n){var i=Array.from(t.getRanges()).map(function(t){return e.toViewRange(t);});n.setSelection(i,{backward:t.isBackward});}(e.document.selection,n,t);return o;}(n,t,e.mapper,e.view);});}function Og(t,e,n){var i=e.toModelElement(t),o=function(t,e){var n=t.childCount>1,i=!![].concat(_toConsumableArray(e.getAttributes())).length;return n||i?"p":"span";}(i.parent,i);if(t.name!==o){e.unbindViewElement(t);var _r53=n.rename(o,t);return e.bindElements(i,_r53),!0;}return!1;}function Rg(t){return t.is("p")||t.is("span");}function Dg(t){return t.is("td")||t.is("th");}n(111);var Lg=function(_zl50){_inherits(Lg,_zl50);function Lg(){_classCallCheck(this,Lg);return _possibleConstructorReturn(this,(Lg.__proto__||Object.getPrototypeOf(Lg)).apply(this,arguments));}_createClass(Lg,[{key:'init',value:function init(){var _this288=this;var t=this.editor,e=t.model,n=e.schema,i=t.conversion;n.register("table",{allowWhere:"$block",allowAttributes:["headingRows","headingColumns"],isLimit:!0,isObject:!0}),n.register("tableRow",{allowIn:"table",isLimit:!0}),n.register("tableCell",{allowIn:"tableRow",allowAttributes:["colspan","rowspan"],isLimit:!0}),n.extend("$block",{allowIn:"tableCell"}),n.addChildCheck(function(t,e){if("table"==e.name&&Array.from(t.getNames()).includes("table"))return!1;}),n.addChildCheck(function(t,e){if(Array.from(t.getNames()).includes("table"))return"image"!=e.name&&"media"!=e.name&&void 0;}),i.for("upcast").add(zp()),i.for("editingDowncast").add($p({asWidget:!0})),i.for("dataDowncast").add($p()),i.for("upcast").add(Oa({model:"tableRow",view:"tr"})),i.for("editingDowncast").add(Gp({asWidget:!0})),i.for("dataDowncast").add(Gp()),i.for("downcast").add(function(t){return t.on("remove:tableRow",function(t,e,n){t.stop();var i=n.writer,o=n.mapper,r=o.toViewPosition(e.position).getLastMatchingPosition(function(t){return!t.item.is("tr");}).nodeAfter,s=r.parent,a=i.createRangeOn(r),c=i.remove(a);var _iteratorNormalCompletion382=true;var _didIteratorError382=false;var _iteratorError382=undefined;try{for(var _iterator382=i.createRangeIn(c).getItems()[Symbol.iterator](),_step382;!(_iteratorNormalCompletion382=(_step382=_iterator382.next()).done);_iteratorNormalCompletion382=true){var _t267=_step382.value;o.unbindViewElement(_t267);}}catch(err){_didIteratorError382=true;_iteratorError382=err;}finally{try{if(!_iteratorNormalCompletion382&&_iterator382.return){_iterator382.return();}}finally{if(_didIteratorError382){throw _iteratorError382;}}}s.childCount||i.remove(i.createRangeOn(s));},{priority:"higher"});}),i.for("upcast").add(Bp("td")),i.for("upcast").add(Bp("th")),i.for("editingDowncast").add(Qp({asWidget:!0})),i.for("dataDowncast").add(Qp()),i.attributeToAttribute({model:"colspan",view:"colspan"}),i.attributeToAttribute({model:"rowspan",view:"rowspan"}),i.for("editingDowncast").add(Kp({asWidget:!0})),i.for("dataDowncast").add(Kp()),i.for("editingDowncast").add(Jp({asWidget:!0})),i.for("dataDowncast").add(Jp()),Ng(t.model,t.editing),t.commands.add("insertTable",new fg(t)),t.commands.add("insertTableRowAbove",new mg(t,{order:"above"})),t.commands.add("insertTableRowBelow",new mg(t,{order:"below"})),t.commands.add("insertTableColumnLeft",new pg(t,{order:"left"})),t.commands.add("insertTableColumnRight",new pg(t,{order:"right"})),t.commands.add("removeTableRow",new _g(t)),t.commands.add("removeTableColumn",new kg(t)),t.commands.add("splitTableCellVertically",new gg(t,{direction:"vertically"})),t.commands.add("splitTableCellHorizontally",new gg(t,{direction:"horizontally"})),t.commands.add("mergeTableCellRight",new bg(t,{direction:"right"})),t.commands.add("mergeTableCellLeft",new bg(t,{direction:"left"})),t.commands.add("mergeTableCellDown",new bg(t,{direction:"down"})),t.commands.add("mergeTableCellUp",new bg(t,{direction:"up"})),t.commands.add("setTableColumnHeader",new xg(t)),t.commands.add("setTableRowHeader",new vg(t)),Ag(e),Mg(e),this.editor.keystrokes.set("Tab",function(){return _this288._handleTabOnSelectedTable.apply(_this288,arguments);},{priority:"low"}),this.editor.keystrokes.set("Tab",this._getTabHandler(!0),{priority:"low"}),this.editor.keystrokes.set("Shift+Tab",this._getTabHandler(!1),{priority:"low"});}},{key:'_handleTabOnSelectedTable',value:function _handleTabOnSelectedTable(t,e){var n=this.editor,i=n.model.document.selection;if(!i.isCollapsed&&1===i.rangeCount&&i.getFirstRange().isFlat){var _t268=i.getSelectedElement();if(!_t268||!_t268.is("table"))return;e(),n.model.change(function(e){e.setSelection(e.createRangeIn(_t268.getChild(0).getChild(0)));});}}},{key:'_getTabHandler',value:function _getTabHandler(t){var e=this.editor;return function(n,i){var o=Lp("tableCell",e.model.document.selection.getFirstPosition());if(!o)return;i();var r=o.parent,s=r.parent,a=s.getChildIndex(r),c=r.getChildIndex(o),l=0===c;if(!t&&l&&0===a)return;var d=c===r.childCount-1,u=a===s.childCount-1;var h=void 0;if(t&&u&&d&&e.plugins.get(lg).insertRows(s,{at:s.childCount}),t&&d){var _t269=s.getChild(a+1);h=_t269.getChild(0);}else if(!t&&l){var _t270=s.getChild(a-1);h=_t270.getChild(_t270.childCount-1);}else h=r.getChild(c+(t?1:-1));e.model.change(function(t){t.setSelection(t.createRangeIn(h));});};}}],[{key:'requires',get:function get(){return[lg];}}]);return Lg;}(zl);n(113);var jg=function(_xl24){_inherits(jg,_xl24);function jg(t){_classCallCheck(this,jg);var _this289=_possibleConstructorReturn(this,(jg.__proto__||Object.getPrototypeOf(jg)).call(this,t));var e=_this289.bindTemplate;_this289.items=_this289.createCollection(),_this289.set("rows",0),_this289.set("columns",0),_this289.bind("label").to(_this289,"columns",_this289,"rows",function(t,e){return e+' x '+t;}),_this289.setTemplate({tag:"div",attributes:{class:["ck"]},children:[{tag:"div",attributes:{class:["ck-insert-table-dropdown__grid"]},children:_this289.items},{tag:"div",attributes:{class:["ck-insert-table-dropdown__label"]},children:[{text:e.to("label")}]}],on:{mousedown:e.to(function(t){t.preventDefault();}),click:e.to(function(){_this289.fire("execute");})}});var _loop7=function _loop7(_t271){var e=new Vg();e.on("over",function(){var e=Math.floor(_t271/10),n=_t271%10;_this289.set("rows",e+1),_this289.set("columns",n+1);}),_this289.items.add(e);};for(var _t271=0;_t271<100;_t271++){_loop7(_t271);}_this289.on("change:columns",function(){_this289._highlightGridBoxes();}),_this289.on("change:rows",function(){_this289._highlightGridBoxes();});return _this289;}_createClass(jg,[{key:'focus',value:function focus(){}},{key:'focusLast',value:function focusLast(){}},{key:'_highlightGridBoxes',value:function _highlightGridBoxes(){var t=this.rows,e=this.columns;this.items.map(function(n,i){var o=Math.floor(i/10)<t&&i%10<e;n.set("isOn",o);});}}]);return jg;}(xl);var Vg=function(_xl25){_inherits(Vg,_xl25);function Vg(t){_classCallCheck(this,Vg);var _this290=_possibleConstructorReturn(this,(Vg.__proto__||Object.getPrototypeOf(Vg)).call(this,t));var e=_this290.bindTemplate;_this290.set("isOn",!1),_this290.setTemplate({tag:"div",attributes:{class:["ck-insert-table-dropdown-grid-box",e.if("isOn","ck-on")]},on:{mouseover:e.to("over")}});return _this290;}return Vg;}(xl);var zg=n(38),Bg=n.n(zg),Fg=n(39),Ug=n.n(Fg),Hg=n(40),qg=n.n(Hg),Wg=n(41),Yg=n.n(Wg);var $g=function(_zl51){_inherits($g,_zl51);function $g(){_classCallCheck(this,$g);return _possibleConstructorReturn(this,($g.__proto__||Object.getPrototypeOf($g)).apply(this,arguments));}_createClass($g,[{key:'init',value:function init(){var _this292=this;var t=this.editor,e=this.editor.t;t.ui.componentFactory.add("insertTable",function(n){var i=t.commands.get("insertTable"),o=Ef(n);o.bind("isEnabled").to(i),o.buttonView.set({icon:Bg.a,label:e("t"),tooltip:!0});var r=new jg(n);return o.panelView.children.add(r),r.delegate("execute").to(o),o.buttonView.on("open",function(){r.rows=0,r.columns=0;}),o.on("execute",function(){t.execute("insertTable",{rows:r.rows,columns:r.columns}),t.editing.view.focus();}),o;}),t.ui.componentFactory.add("tableColumn",function(t){var n=[{type:"switchbutton",model:{commandName:"setTableColumnHeader",label:e("u"),bindIsOn:!0}},{type:"separator"},{type:"button",model:{commandName:"insertTableColumnLeft",label:e("v")}},{type:"button",model:{commandName:"insertTableColumnRight",label:e("w")}},{type:"button",model:{commandName:"removeTableColumn",label:e("x")}}];return _this292._prepareDropdown(e("y"),Ug.a,n,t);}),t.ui.componentFactory.add("tableRow",function(t){var n=[{type:"switchbutton",model:{commandName:"setTableRowHeader",label:e("z"),bindIsOn:!0}},{type:"separator"},{type:"button",model:{commandName:"insertTableRowBelow",label:e("aa")}},{type:"button",model:{commandName:"insertTableRowAbove",label:e("ab")}},{type:"button",model:{commandName:"removeTableRow",label:e("ac")}}];return _this292._prepareDropdown(e("ad"),qg.a,n,t);}),t.ui.componentFactory.add("mergeTableCells",function(t){var n=[{type:"button",model:{commandName:"mergeTableCellUp",label:e("ae")}},{type:"button",model:{commandName:"mergeTableCellRight",label:e("af")}},{type:"button",model:{commandName:"mergeTableCellDown",label:e("ag")}},{type:"button",model:{commandName:"mergeTableCellLeft",label:e("ah")}},{type:"separator"},{type:"button",model:{commandName:"splitTableCellVertically",label:e("ai")}},{type:"button",model:{commandName:"splitTableCellHorizontally",label:e("aj")}}];return _this292._prepareDropdown(e("ak"),Yg.a,n,t);});}},{key:'_prepareDropdown',value:function _prepareDropdown(t,e,n,i){var o=this.editor,r=Ef(i),s=[],a=new Xi();var _iteratorNormalCompletion383=true;var _didIteratorError383=false;var _iteratorError383=undefined;try{for(var _iterator383=n[Symbol.iterator](),_step383;!(_iteratorNormalCompletion383=(_step383=_iterator383.next()).done);_iteratorNormalCompletion383=true){var _t272=_step383.value;Gg(_t272,o,s,a);}}catch(err){_didIteratorError383=true;_iteratorError383=err;}finally{try{if(!_iteratorNormalCompletion383&&_iterator383.return){_iterator383.return();}}finally{if(_didIteratorError383){throw _iteratorError383;}}}return Nf(r,a),r.buttonView.set({label:t,icon:e,tooltip:!0}),r.bind("isEnabled").toMany(s,"isEnabled",function(){for(var _len20=arguments.length,t=Array(_len20),_key20=0;_key20<_len20;_key20++){t[_key20]=arguments[_key20];}return t.some(function(t){return t;});}),this.listenTo(r,"execute",function(t){o.execute(t.source.commandName),o.editing.view.focus();}),r;}}]);return $g;}(zl);function Gg(t,e,n,i){var o=t.model=new vf(t.model),_t$model=t.model,r=_t$model.commandName,s=_t$model.bindIsOn;if("separator"!==t.type){var _t273=e.commands.get(r);n.push(_t273),o.set({commandName:r}),o.bind("isEnabled").to(_t273),s&&o.bind("isOn").to(_t273,"value");}o.set({withText:!0}),i.add(t);}n(115);n.d(e,"default",function(){return Qg;});var Qg=function(_Vl){_inherits(Qg,_Vl);function Qg(){_classCallCheck(this,Qg);return _possibleConstructorReturn(this,(Qg.__proto__||Object.getPrototypeOf(Qg)).apply(this,arguments));}return Qg;}(Vl);Qg.builtinPlugins=[function(_zl52){_inherits(_class2,_zl52);function _class2(){_classCallCheck(this,_class2);return _possibleConstructorReturn(this,(_class2.__proto__||Object.getPrototypeOf(_class2)).apply(this,arguments));}_createClass(_class2,null,[{key:'requires',get:function get(){return[Hl,Ql,Xl,gd,Ud];}},{key:'pluginName',get:function get(){return"Essentials";}}]);return _class2;}(zl),Kd,function(_zl53){_inherits(_class3,_zl53);function _class3(){_classCallCheck(this,_class3);return _possibleConstructorReturn(this,(_class3.__proto__||Object.getPrototypeOf(_class3)).apply(this,arguments));}_createClass(_class3,[{key:'afterInit',value:function afterInit(){this._addListAutoformats(),this._addBasicStylesAutoformats(),this._addHeadingAutoformats(),this._addBlockQuoteAutoformats();}},{key:'_addListAutoformats',value:function _addListAutoformats(){var t=this.editor.commands;t.get("bulletedList")&&new Xd(this.editor,/^[*-]\s$/,"bulletedList"),t.get("numberedList")&&new Xd(this.editor,/^\d+[.|)]\s$/,"numberedList");}},{key:'_addBasicStylesAutoformats',value:function _addBasicStylesAutoformats(){var t=this.editor.commands;t.get("bold")&&(new tu(this.editor,/(\*\*)([^*]+)(\*\*)$/g,"bold"),new tu(this.editor,/(__)([^_]+)(__)$/g,"bold")),t.get("italic")&&(new tu(this.editor,/(?:^|[^*])(\*)([^*_]+)(\*)$/g,"italic"),new tu(this.editor,/(?:^|[^_])(_)([^_]+)(_)$/g,"italic")),t.get("code")&&new tu(this.editor,/(`)([^`]+)(`)$/g,"code");}},{key:'_addHeadingAutoformats',value:function _addHeadingAutoformats(){var _this296=this;var t=this.editor.commands.get("heading");t&&t.modelElements.filter(function(t){return t.match(/^heading[1-6]$/);}).forEach(function(t){var e=t[7],n=new RegExp('^(#{'+e+'})\\s$');new Xd(_this296.editor,n,function(){_this296.editor.execute("heading",{value:t});});});}},{key:'_addBlockQuoteAutoformats',value:function _addBlockQuoteAutoformats(){this.editor.commands.get("blockQuote")&&new Xd(this.editor,/^>\s$/,"blockQuote");}}],[{key:'pluginName',get:function get(){return"Autoformat";}}]);return _class3;}(zl),function(_zl54){_inherits(_class4,_zl54);function _class4(){_classCallCheck(this,_class4);return _possibleConstructorReturn(this,(_class4.__proto__||Object.getPrototypeOf(_class4)).apply(this,arguments));}_createClass(_class4,null,[{key:'requires',get:function get(){return[ou,cu];}},{key:'pluginName',get:function get(){return"Bold";}}]);return _class4;}(zl),function(_zl55){_inherits(_class5,_zl55);function _class5(){_classCallCheck(this,_class5);return _possibleConstructorReturn(this,(_class5.__proto__||Object.getPrototypeOf(_class5)).apply(this,arguments));}_createClass(_class5,null,[{key:'requires',get:function get(){return[du,mu];}},{key:'pluginName',get:function get(){return"Italic";}}]);return _class5;}(zl),function(_zl56){_inherits(_class6,_zl56);function _class6(){_classCallCheck(this,_class6);return _possibleConstructorReturn(this,(_class6.__proto__||Object.getPrototypeOf(_class6)).apply(this,arguments));}_createClass(_class6,null,[{key:'requires',get:function get(){return[ku,xu];}},{key:'pluginName',get:function get(){return"BlockQuote";}}]);return _class6;}(zl),function(_zl57){_inherits(_class7,_zl57);function _class7(){_classCallCheck(this,_class7);return _possibleConstructorReturn(this,(_class7.__proto__||Object.getPrototypeOf(_class7)).apply(this,arguments));}_createClass(_class7,null,[{key:'pluginName',get:function get(){return"CKFinder";}},{key:'requires',get:function get(){return[Iu,Tu,Kd];}}]);return _class7;}(zl),function(_zl58){_inherits(_class8,_zl58);function _class8(){_classCallCheck(this,_class8);return _possibleConstructorReturn(this,(_class8.__proto__||Object.getPrototypeOf(_class8)).apply(this,arguments));}_createClass(_class8,null,[{key:'requires',get:function get(){return[Vu,Uh,uf];}},{key:'pluginName',get:function get(){return"EasyImage";}}]);return _class8;}(zl),function(_zl59){_inherits(_class9,_zl59);function _class9(){_classCallCheck(this,_class9);return _possibleConstructorReturn(this,(_class9.__proto__||Object.getPrototypeOf(_class9)).apply(this,arguments));}_createClass(_class9,null,[{key:'requires',get:function get(){return[kf,Of];}},{key:'pluginName',get:function get(){return"Heading";}}]);return _class9;}(zl),Uh,function(_zl60){_inherits(_class10,_zl60);function _class10(){_classCallCheck(this,_class10);return _possibleConstructorReturn(this,(_class10.__proto__||Object.getPrototypeOf(_class10)).apply(this,arguments));}_createClass(_class10,null,[{key:'requires',get:function get(){return[Bf];}},{key:'pluginName',get:function get(){return"ImageCaption";}}]);return _class10;}(zl),function(_zl61){_inherits(_class11,_zl61);function _class11(){_classCallCheck(this,_class11);return _possibleConstructorReturn(this,(_class11.__proto__||Object.getPrototypeOf(_class11)).apply(this,arguments));}_createClass(_class11,null,[{key:'requires',get:function get(){return[rm,sm];}},{key:'pluginName',get:function get(){return"ImageStyle";}}]);return _class11;}(zl),function(_zl62){_inherits(_class12,_zl62);function _class12(){_classCallCheck(this,_class12);return _possibleConstructorReturn(this,(_class12.__proto__||Object.getPrototypeOf(_class12)).apply(this,arguments));}_createClass(_class12,[{key:'afterInit',value:function afterInit(){var t=this.editor;t.plugins.get(am).register("image",{items:t.config.get("image.toolbar")||[],visibleWhen:rh});}}],[{key:'requires',get:function get(){return[am];}},{key:'pluginName',get:function get(){return"ImageToolbar";}}]);return _class12;}(zl),uf,function(_zl63){_inherits(_class13,_zl63);function _class13(){_classCallCheck(this,_class13);return _possibleConstructorReturn(this,(_class13.__proto__||Object.getPrototypeOf(_class13)).apply(this,arguments));}_createClass(_class13,null,[{key:'requires',get:function get(){return[Cm,Lm];}},{key:'pluginName',get:function get(){return"Link";}}]);return _class13;}(zl),function(_zl64){_inherits(_class14,_zl64);function _class14(){_classCallCheck(this,_class14);return _possibleConstructorReturn(this,(_class14.__proto__||Object.getPrototypeOf(_class14)).apply(this,arguments));}_createClass(_class14,null,[{key:'requires',get:function get(){return[rp,up];}},{key:'pluginName',get:function get(){return"List";}}]);return _class14;}(zl),function(_zl65){_inherits(_class15,_zl65);function _class15(){_classCallCheck(this,_class15);return _possibleConstructorReturn(this,(_class15.__proto__||Object.getPrototypeOf(_class15)).apply(this,arguments));}_createClass(_class15,null,[{key:'requires',get:function get(){return[xp,Sp,Cp,mh];}},{key:'pluginName',get:function get(){return"MediaEmbed";}}]);return _class15;}(zl),mf,function(_zl66){_inherits(_class16,_zl66);function _class16(){_classCallCheck(this,_class16);return _possibleConstructorReturn(this,(_class16.__proto__||Object.getPrototypeOf(_class16)).apply(this,arguments));}_createClass(_class16,[{key:'init',value:function init(){var _this310=this;var t=this.editor;this.listenTo(t.plugins.get(Hl),"inputTransformation",function(t,e){var n=e.dataTransfer.getData("text/html");!0!==e.pasteFromOfficeProcessed&&function(t){return!(!t||!t.match(/<meta\s*name="?generator"?\s*content="?microsoft\s*word\s*\d+"?\/?>/gi)&&!t.match(/xmlns:o="urn:schemas-microsoft-com/gi));}(n)&&(e.content=_this310._normalizeWordInput(n,e.dataTransfer),e.pasteFromOfficeProcessed=!0);},{priority:"high"});}},{key:'_normalizeWordInput',value:function _normalizeWordInput(t,e){var _Ep=Ep(t),n=_Ep.body,i=_Ep.stylesString;return Np(n,i),Rp(n,e.getData("text/rtf")),n;}}],[{key:'pluginName',get:function get(){return"PasteFromOffice";}}]);return _class16;}(zl),function(_zl67){_inherits(_class17,_zl67);function _class17(){_classCallCheck(this,_class17);return _possibleConstructorReturn(this,(_class17.__proto__||Object.getPrototypeOf(_class17)).apply(this,arguments));}_createClass(_class17,null,[{key:'requires',get:function get(){return[Lg,$g,mh];}},{key:'pluginName',get:function get(){return"Table";}}]);return _class17;}(zl),function(_zl68){_inherits(_class18,_zl68);function _class18(){_classCallCheck(this,_class18);return _possibleConstructorReturn(this,(_class18.__proto__||Object.getPrototypeOf(_class18)).apply(this,arguments));}_createClass(_class18,[{key:'afterInit',value:function afterInit(){var t=this.editor,e=t.plugins.get(am),n=t.config.get("table.contentToolbar"),i=t.config.get("table.toolbar"),o=t.config.get("table.tableToolbar");i&&console.warn("`config.table.toolbar` is deprecated and will be removed in the next major release. Use `config.table.contentToolbar` instead."),(n||i)&&e.register("tableContent",{items:n||i,visibleWhen:Yp}),o&&e.register("table",{items:o,visibleWhen:Wp});}}],[{key:'requires',get:function get(){return[am];}},{key:'pluginName',get:function get(){return"TableToolbar";}}]);return _class18;}(zl)],Qg.defaultConfig={toolbar:{items:["heading","|","bold","italic","link","bulletedList","numberedList","imageUpload","blockQuote","insertTable","mediaEmbed","undo","redo"]},image:{toolbar:["imageStyle:full","imageStyle:side","|","imageTextAlternative"]},table:{contentToolbar:["tableColumn","tableRow","mergeTableCells"]},language:"en"};}]).default;});//# sourceMappingURL=ckeditor.js.map
/***/},/* 32 *//***/function(module,exports){module.exports={render:function render(){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:"col-sm-8 col-xs-12 scope-border-simple"},[_c('div',{staticClass:"container-center"},[_c('div',{staticClass:"form-group col-sm-12"},[_c('label',{attrs:{"for":"questionCode"}},[_vm._v(_vm._s(_vm._f("translate")('Code')))]),_vm._v(" "),_c('input',{directives:[{name:"model",rawName:"v-model",value:_vm.currentQuestionCode,expression:"currentQuestionCode"}],staticClass:"form-control",attrs:{"type":"text","id":"questionCode"},domProps:{"value":_vm.currentQuestionCode},on:{"input":function input($event){if($event.target.composing){return;}_vm.currentQuestionCode=$event.target.value;}}})]),_vm._v(" "),_c('ul',{staticClass:"nav nav-tabs",attrs:{"id":"editor-tabs-selectors","role":"tablist"}},_vm._l(_vm.$store.state.languages,function(language,index){return _c('li',{key:language,staticClass:"nav-item"},[_c('a',{staticClass:"nav-link",class:index==0?' active':'',attrs:{"id":language+'-tab',"href":'#'+language+'-tabpane'},on:{"click":function click($event){_vm.selectLanguage(language);}}},[_vm._v("\n                    "+_vm._s(_vm._f("translate")(language))+"\n                ")])]);})),_vm._v(" "),_c('div',{staticClass:"tab-content scope-set-min-height",attrs:{"id":"editor-tabs"}},_vm._l(_vm.$store.state.languages,function(language){return _c('div',{key:language,staticClass:"tab-pane",class:_vm.$store.state.activeLanguage==language?' active':'',attrs:{"role":"tabpanel","id":'#'+language+'-tabpane'}},[_c('div',{staticClass:"container-center"},[_c('div',{staticClass:"col-sm-12"},[_c('label',{staticClass:"col-sm-12"},[_vm._v(_vm._s(_vm._f("translate")('Question'))+":")]),_vm._v(" "),_c('ckeditor',{attrs:{"editor":_vm.editorQuestion,"value":_vm.$store.getters.currentQuestionI10NQuestion,"config":_vm.editorQuestionConfig},on:{"input":_vm.changeTriggered}})],1),_vm._v(" "),_c('div',{staticClass:"col-sm-12"},[_c('label',{staticClass:"col-sm-12"},[_vm._v(_vm._s(_vm._f("translate")('Help'))+":")]),_vm._v(" "),_c('ckeditor',{attrs:{"editor":_vm.editorHelp,"value":_vm.$store.getters.currentQuestionI10NHelp,"config":_vm.editorHelpConfig},on:{"input":_vm.changeTriggered}})],1),_vm._v(" "),_c('hr',{staticClass:"ls-space margin top-15 bottom-5"}),_vm._v(" "),_c('div',{staticClass:"col-sm-12"},[_c('button',{staticClass:"pull-right",on:{"click":function click($event){$event.preventDefault();_vm.previewActive=!_vm.previewActive;}}},[_vm._v("\n                            "+_vm._s(_vm.previewActive?"Hide Preview":"Show Preview")+"\n                        ")])]),_vm._v(" "),_c('div',{directives:[{name:"show",rawName:"v-show",value:_vm.previewActive,expression:"previewActive"}],staticClass:"scope-preview col-sm-12"},[_c('div',{domProps:{"innerHTML":_vm._s(_vm.previewContent)}})])])]);})),_vm._v(" "),_c('div',[_c('hr',{staticClass:"ls-space top-5"}),_vm._v(" "),_c('button',{on:{"click":function click($event){$event.preventDefault();_vm.debug=!_vm.debug;}}},[_vm._v("Show Debug")]),_vm._v(" "),_c('pre',{directives:[{name:"show",rawName:"v-show",value:_vm.debug,expression:"debug"}],staticClass:"scope-overflow-scroll"},[_vm._v("\n                #################   previewContent:\n                "+_vm._s(_vm.previewContent)+"\n\n                #################   currentQuestionI10NHelp:\n                "+_vm._s(_vm.$store.getters.currentQuestionI10NHelp)+"\n\n                #################   currentQuestionI10NQuestion:\n                "+_vm._s(_vm.$store.getters.currentQuestionI10NQuestion)+"\n\n                #################   $store.state.currentQuestionI10N[$store.state.activeLanguage]:\n                "+_vm._s(_vm.$store.state.currentQuestionI10N[_vm.$store.state.activeLanguage])+"\n\n                #################   languages:\n                "+_vm._s(_vm.$store.state.languages)+"\n\n                #################   currentQuestion:\n                "+_vm._s(_vm.$store.state.currentQuestion)+"\n\n                #################   currentQuestionI10N:\n                "+_vm._s(_vm.$store.state.currentQuestionI10N)+"\n\n                #################   questionAttributes:\n                "+_vm._s(_vm.$store.state.questionAttributes)+"\n\n                #################   survey:\n                "+_vm._s(_vm.$store.state.survey)+"\n            ")])])])]);},staticRenderFns:[]/***/};},/* 33 *//***/function(module,exports,__webpack_require__){function injectStyle(ssrContext){__webpack_require__(34);}var Component=__webpack_require__(5)(/* script */__webpack_require__(36),/* template */__webpack_require__(37),/* styles */injectStyle,/* scopeId */"data-v-df131e4a",/* moduleIdentifier (server only) */null);module.exports=Component.exports;/***/},/* 34 *//***/function(module,exports,__webpack_require__){// style-loader: Adds some css to the DOM by adding a <style> tag
// load the styles
var content=__webpack_require__(35);if(typeof content==='string')content=[[module.i,content,'']];if(content.locals)module.exports=content.locals;// add the styles to the DOM
var update=__webpack_require__(4)("4fa77e94",content,true);/***/},/* 35 *//***/function(module,exports,__webpack_require__){exports=module.exports=__webpack_require__(3)(undefined);// imports
// module
exports.push([module.i,".scope-set-min-height[data-v-df131e4a]{min-height:40vh}",""]);// exports
/***/},/* 36 *//***/function(module,__webpack_exports__,__webpack_require__){"use strict";Object.defineProperty(__webpack_exports__,"__esModule",{value:true});/* harmony default export */__webpack_exports__["default"]={name:'GeneralSettings',data:function data(){return{};}};/***/},/* 37 *//***/function(module,exports){module.exports={render:function render(){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:"col-sm-4 col-xs-12 scope-border-simple scope-set-min-height"});},staticRenderFns:[]/***/};},/* 38 *//***/function(module,exports,__webpack_require__){function injectStyle(ssrContext){__webpack_require__(39);}var Component=__webpack_require__(5)(/* script */__webpack_require__(41),/* template */__webpack_require__(42),/* styles */injectStyle,/* scopeId */"data-v-710006e5",/* moduleIdentifier (server only) */null);module.exports=Component.exports;/***/},/* 39 *//***/function(module,exports,__webpack_require__){// style-loader: Adds some css to the DOM by adding a <style> tag
// load the styles
var content=__webpack_require__(40);if(typeof content==='string')content=[[module.i,content,'']];if(content.locals)module.exports=content.locals;// add the styles to the DOM
var update=__webpack_require__(4)("b1cd8b8a",content,true);/***/},/* 40 *//***/function(module,exports,__webpack_require__){exports=module.exports=__webpack_require__(3)(undefined);// imports
// module
exports.push([module.i,".scope-min-height[data-v-710006e5]{height:10vh}.scope-border-simple[data-v-710006e5]{border:1px solid #cfcfcf}",""]);// exports
/***/},/* 41 *//***/function(module,__webpack_exports__,__webpack_require__){"use strict";Object.defineProperty(__webpack_exports__,"__esModule",{value:true});/* harmony default export */__webpack_exports__["default"]={name:'AdvancedSettings',data:function data(){return{};}};/***/},/* 42 *//***/function(module,exports){module.exports={render:function render(){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:"col-xs-12 scope-border-simple scope-min-height"});},staticRenderFns:[]/***/};},/* 43 *//***/function(module,exports){module.exports={render:function render(){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:"container-center"},[_vm.$store.getters.fullyLoaded?[_c('maineditor'),_vm._v(" "),_c('generalsettings'),_vm._v(" "),_c('advancedsettings')]:_vm._e()],2);},staticRenderFns:[]/***/};},/* 44 *//***/function(module,__webpack_exports__,__webpack_require__){"use strict";/* harmony import */var __WEBPACK_IMPORTED_MODULE_0_vue__=__webpack_require__(9);/* harmony import */var __WEBPACK_IMPORTED_MODULE_1_vuex__=__webpack_require__(45);/* harmony import */var __WEBPACK_IMPORTED_MODULE_2_vuex_persist__=__webpack_require__(46);/* harmony import */var __WEBPACK_IMPORTED_MODULE_2_vuex_persist___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_vuex_persist__);/* harmony import */var __WEBPACK_IMPORTED_MODULE_3_vue_localstorage__=__webpack_require__(48);/* harmony import */var __WEBPACK_IMPORTED_MODULE_3_vue_localstorage___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_vue_localstorage__);/* harmony import */var __WEBPACK_IMPORTED_MODULE_4__mutations__=__webpack_require__(50);/* harmony import */var __WEBPACK_IMPORTED_MODULE_5__actions__=__webpack_require__(76);/* harmony import */var __WEBPACK_IMPORTED_MODULE_6__getters__=__webpack_require__(78);__WEBPACK_IMPORTED_MODULE_0_vue__["a"/* default */].use(__WEBPACK_IMPORTED_MODULE_3_vue_localstorage___default.a);__WEBPACK_IMPORTED_MODULE_0_vue__["a"/* default */].use(__WEBPACK_IMPORTED_MODULE_1_vuex__["a"/* default */]);/* harmony default export */__webpack_exports__["a"]=function(questionId){var vuexLocal=new __WEBPACK_IMPORTED_MODULE_2_vuex_persist___default.a({key:'lsquestionedit_'+questionId,storage:window.localStorage});var statePreset={currentQuestionQuestion:'',currentQuestionHelp:'',currentQuestion:{},currentQuestionSettings:{},currentQuestionI10N:{},questionAttributes:{},questionImmutable:{},questionImmutableI10N:{},languages:[],activeLanguage:'',survey:{}};return new __WEBPACK_IMPORTED_MODULE_1_vuex__["a"/* default */].Store({state:statePreset,plugins:[vuexLocal.plugin],mutations:__WEBPACK_IMPORTED_MODULE_4__mutations__["a"/* default */],actions:__WEBPACK_IMPORTED_MODULE_5__actions__["a"/* default */],getters:__WEBPACK_IMPORTED_MODULE_6__getters__["a"/* default */]});};/***/},/* 45 *//***/function(module,__webpack_exports__,__webpack_require__){"use strict";/* unused harmony export Store *//* unused harmony export mapState *//* unused harmony export mapMutations *//* unused harmony export mapGetters *//* unused harmony export mapActions *//**
 * vuex v2.3.0
 * (c) 2017 Evan You
 * @license MIT
 */var applyMixin=function applyMixin(Vue){var version=Number(Vue.version.split('.')[0]);if(version>=2){var usesInit=Vue.config._lifecycleHooks.indexOf('init')>-1;Vue.mixin(usesInit?{init:vuexInit}:{beforeCreate:vuexInit});}else{// override init and inject vuex init procedure
// for 1.x backwards compatibility.
var _init=Vue.prototype._init;Vue.prototype._init=function(options){if(options===void 0)options={};options.init=options.init?[vuexInit].concat(options.init):vuexInit;_init.call(this,options);};}/**
   * Vuex init hook, injected into each instances init hooks list.
   */function vuexInit(){var options=this.$options;// store injection
if(options.store){this.$store=options.store;}else if(options.parent&&options.parent.$store){this.$store=options.parent.$store;}}};var devtoolHook=typeof window!=='undefined'&&window.__VUE_DEVTOOLS_GLOBAL_HOOK__;function devtoolPlugin(store){if(!devtoolHook){return;}store._devtoolHook=devtoolHook;devtoolHook.emit('vuex:init',store);devtoolHook.on('vuex:travel-to-state',function(targetState){store.replaceState(targetState);});store.subscribe(function(mutation,state){devtoolHook.emit('vuex:mutation',mutation,state);});}/**
 * Get the first item that pass the test
 * by second argument function
 *
 * @param {Array} list
 * @param {Function} f
 * @return {*}
 *//**
 * Deep copy the given object considering circular structure.
 * This function caches all nested objects and its copies.
 * If it detects circular structure, use cached copy to avoid infinite loop.
 *
 * @param {*} obj
 * @param {Array<Object>} cache
 * @return {*}
 *//**
 * forEach for object
 */function forEachValue(obj,fn){Object.keys(obj).forEach(function(key){return fn(obj[key],key);});}function isObject(obj){return obj!==null&&(typeof obj==='undefined'?'undefined':_typeof(obj))==='object';}function isPromise(val){return val&&typeof val.then==='function';}function assert(condition,msg){if(!condition){throw new Error("[vuex] "+msg);}}var Module=function Module(rawModule,runtime){this.runtime=runtime;this._children=Object.create(null);this._rawModule=rawModule;var rawState=rawModule.state;this.state=(typeof rawState==='function'?rawState():rawState)||{};};var prototypeAccessors$1={namespaced:{}};prototypeAccessors$1.namespaced.get=function(){return!!this._rawModule.namespaced;};Module.prototype.addChild=function addChild(key,module){this._children[key]=module;};Module.prototype.removeChild=function removeChild(key){delete this._children[key];};Module.prototype.getChild=function getChild(key){return this._children[key];};Module.prototype.update=function update(rawModule){this._rawModule.namespaced=rawModule.namespaced;if(rawModule.actions){this._rawModule.actions=rawModule.actions;}if(rawModule.mutations){this._rawModule.mutations=rawModule.mutations;}if(rawModule.getters){this._rawModule.getters=rawModule.getters;}};Module.prototype.forEachChild=function forEachChild(fn){forEachValue(this._children,fn);};Module.prototype.forEachGetter=function forEachGetter(fn){if(this._rawModule.getters){forEachValue(this._rawModule.getters,fn);}};Module.prototype.forEachAction=function forEachAction(fn){if(this._rawModule.actions){forEachValue(this._rawModule.actions,fn);}};Module.prototype.forEachMutation=function forEachMutation(fn){if(this._rawModule.mutations){forEachValue(this._rawModule.mutations,fn);}};Object.defineProperties(Module.prototype,prototypeAccessors$1);var ModuleCollection=function ModuleCollection(rawRootModule){var this$1=this;// register root module (Vuex.Store options)
this.root=new Module(rawRootModule,false);// register all nested modules
if(rawRootModule.modules){forEachValue(rawRootModule.modules,function(rawModule,key){this$1.register([key],rawModule,false);});}};ModuleCollection.prototype.get=function get(path){return path.reduce(function(module,key){return module.getChild(key);},this.root);};ModuleCollection.prototype.getNamespace=function getNamespace(path){var module=this.root;return path.reduce(function(namespace,key){module=module.getChild(key);return namespace+(module.namespaced?key+'/':'');},'');};ModuleCollection.prototype.update=function update$1(rawRootModule){update(this.root,rawRootModule);};ModuleCollection.prototype.register=function register(path,rawModule,runtime){var this$1=this;if(runtime===void 0)runtime=true;var parent=this.get(path.slice(0,-1));var newModule=new Module(rawModule,runtime);parent.addChild(path[path.length-1],newModule);// register nested modules
if(rawModule.modules){forEachValue(rawModule.modules,function(rawChildModule,key){this$1.register(path.concat(key),rawChildModule,runtime);});}};ModuleCollection.prototype.unregister=function unregister(path){var parent=this.get(path.slice(0,-1));var key=path[path.length-1];if(!parent.getChild(key).runtime){return;}parent.removeChild(key);};function update(targetModule,newModule){// update target module
targetModule.update(newModule);// update nested modules
if(newModule.modules){for(var key in newModule.modules){if(!targetModule.getChild(key)){console.warn("[vuex] trying to add a new module '"+key+"' on hot reloading, "+'manual reload is needed');return;}update(targetModule.getChild(key),newModule.modules[key]);}}}var Vue;// bind on install
var Store=function Store(options){var this$1=this;if(options===void 0)options={};assert(Vue,"must call Vue.use(Vuex) before creating a store instance.");assert(typeof Promise!=='undefined',"vuex requires a Promise polyfill in this browser.");var state=options.state;if(state===void 0)state={};var plugins=options.plugins;if(plugins===void 0)plugins=[];var strict=options.strict;if(strict===void 0)strict=false;// store internal state
this._committing=false;this._actions=Object.create(null);this._mutations=Object.create(null);this._wrappedGetters=Object.create(null);this._modules=new ModuleCollection(options);this._modulesNamespaceMap=Object.create(null);this._subscribers=[];this._watcherVM=new Vue();// bind commit and dispatch to self
var store=this;var ref=this;var dispatch=ref.dispatch;var commit=ref.commit;this.dispatch=function boundDispatch(type,payload){return dispatch.call(store,type,payload);};this.commit=function boundCommit(type,payload,options){return commit.call(store,type,payload,options);};// strict mode
this.strict=strict;// init root module.
// this also recursively registers all sub-modules
// and collects all module getters inside this._wrappedGetters
installModule(this,state,[],this._modules.root);// initialize the store vm, which is responsible for the reactivity
// (also registers _wrappedGetters as computed properties)
resetStoreVM(this,state);// apply plugins
plugins.concat(devtoolPlugin).forEach(function(plugin){return plugin(this$1);});};var prototypeAccessors={state:{}};prototypeAccessors.state.get=function(){return this._vm._data.$$state;};prototypeAccessors.state.set=function(v){assert(false,"Use store.replaceState() to explicit replace store state.");};Store.prototype.commit=function commit(_type,_payload,_options){var this$1=this;// check object-style commit
var ref=unifyObjectStyle(_type,_payload,_options);var type=ref.type;var payload=ref.payload;var options=ref.options;var mutation={type:type,payload:payload};var entry=this._mutations[type];if(!entry){console.error("[vuex] unknown mutation type: "+type);return;}this._withCommit(function(){entry.forEach(function commitIterator(handler){handler(payload);});});this._subscribers.forEach(function(sub){return sub(mutation,this$1.state);});if(options&&options.silent){console.warn("[vuex] mutation type: "+type+". Silent option has been removed. "+'Use the filter functionality in the vue-devtools');}};Store.prototype.dispatch=function dispatch(_type,_payload){// check object-style dispatch
var ref=unifyObjectStyle(_type,_payload);var type=ref.type;var payload=ref.payload;var entry=this._actions[type];if(!entry){console.error("[vuex] unknown action type: "+type);return;}return entry.length>1?Promise.all(entry.map(function(handler){return handler(payload);})):entry[0](payload);};Store.prototype.subscribe=function subscribe(fn){var subs=this._subscribers;if(subs.indexOf(fn)<0){subs.push(fn);}return function(){var i=subs.indexOf(fn);if(i>-1){subs.splice(i,1);}};};Store.prototype.watch=function watch(getter,cb,options){var this$1=this;assert(typeof getter==='function',"store.watch only accepts a function.");return this._watcherVM.$watch(function(){return getter(this$1.state,this$1.getters);},cb,options);};Store.prototype.replaceState=function replaceState(state){var this$1=this;this._withCommit(function(){this$1._vm._data.$$state=state;});};Store.prototype.registerModule=function registerModule(path,rawModule){if(typeof path==='string'){path=[path];}assert(Array.isArray(path),"module path must be a string or an Array.");this._modules.register(path,rawModule);installModule(this,this.state,path,this._modules.get(path));// reset store to update getters...
resetStoreVM(this,this.state);};Store.prototype.unregisterModule=function unregisterModule(path){var this$1=this;if(typeof path==='string'){path=[path];}assert(Array.isArray(path),"module path must be a string or an Array.");this._modules.unregister(path);this._withCommit(function(){var parentState=getNestedState(this$1.state,path.slice(0,-1));Vue.delete(parentState,path[path.length-1]);});resetStore(this);};Store.prototype.hotUpdate=function hotUpdate(newOptions){this._modules.update(newOptions);resetStore(this,true);};Store.prototype._withCommit=function _withCommit(fn){var committing=this._committing;this._committing=true;fn();this._committing=committing;};Object.defineProperties(Store.prototype,prototypeAccessors);function resetStore(store,hot){store._actions=Object.create(null);store._mutations=Object.create(null);store._wrappedGetters=Object.create(null);store._modulesNamespaceMap=Object.create(null);var state=store.state;// init all modules
installModule(store,state,[],store._modules.root,true);// reset vm
resetStoreVM(store,state,hot);}function resetStoreVM(store,state,hot){var oldVm=store._vm;// bind store public getters
store.getters={};var wrappedGetters=store._wrappedGetters;var computed={};forEachValue(wrappedGetters,function(fn,key){// use computed to leverage its lazy-caching mechanism
computed[key]=function(){return fn(store);};Object.defineProperty(store.getters,key,{get:function get(){return store._vm[key];},enumerable:true// for local getters
});});// use a Vue instance to store the state tree
// suppress warnings just in case the user has added
// some funky global mixins
var silent=Vue.config.silent;Vue.config.silent=true;store._vm=new Vue({data:{$$state:state},computed:computed});Vue.config.silent=silent;// enable strict mode for new vm
if(store.strict){enableStrictMode(store);}if(oldVm){if(hot){// dispatch changes in all subscribed watchers
// to force getter re-evaluation for hot reloading.
store._withCommit(function(){oldVm._data.$$state=null;});}Vue.nextTick(function(){return oldVm.$destroy();});}}function installModule(store,rootState,path,module,hot){var isRoot=!path.length;var namespace=store._modules.getNamespace(path);// register in namespace map
if(module.namespaced){store._modulesNamespaceMap[namespace]=module;}// set state
if(!isRoot&&!hot){var parentState=getNestedState(rootState,path.slice(0,-1));var moduleName=path[path.length-1];store._withCommit(function(){Vue.set(parentState,moduleName,module.state);});}var local=module.context=makeLocalContext(store,namespace,path);module.forEachMutation(function(mutation,key){var namespacedType=namespace+key;registerMutation(store,namespacedType,mutation,local);});module.forEachAction(function(action,key){var namespacedType=namespace+key;registerAction(store,namespacedType,action,local);});module.forEachGetter(function(getter,key){var namespacedType=namespace+key;registerGetter(store,namespacedType,getter,local);});module.forEachChild(function(child,key){installModule(store,rootState,path.concat(key),child,hot);});}/**
 * make localized dispatch, commit, getters and state
 * if there is no namespace, just use root ones
 */function makeLocalContext(store,namespace,path){var noNamespace=namespace==='';var local={dispatch:noNamespace?store.dispatch:function(_type,_payload,_options){var args=unifyObjectStyle(_type,_payload,_options);var payload=args.payload;var options=args.options;var type=args.type;if(!options||!options.root){type=namespace+type;if(!store._actions[type]){console.error("[vuex] unknown local action type: "+args.type+", global type: "+type);return;}}return store.dispatch(type,payload);},commit:noNamespace?store.commit:function(_type,_payload,_options){var args=unifyObjectStyle(_type,_payload,_options);var payload=args.payload;var options=args.options;var type=args.type;if(!options||!options.root){type=namespace+type;if(!store._mutations[type]){console.error("[vuex] unknown local mutation type: "+args.type+", global type: "+type);return;}}store.commit(type,payload,options);}};// getters and state object must be gotten lazily
// because they will be changed by vm update
Object.defineProperties(local,{getters:{get:noNamespace?function(){return store.getters;}:function(){return makeLocalGetters(store,namespace);}},state:{get:function get(){return getNestedState(store.state,path);}}});return local;}function makeLocalGetters(store,namespace){var gettersProxy={};var splitPos=namespace.length;Object.keys(store.getters).forEach(function(type){// skip if the target getter is not match this namespace
if(type.slice(0,splitPos)!==namespace){return;}// extract local getter type
var localType=type.slice(splitPos);// Add a port to the getters proxy.
// Define as getter property because
// we do not want to evaluate the getters in this time.
Object.defineProperty(gettersProxy,localType,{get:function get(){return store.getters[type];},enumerable:true});});return gettersProxy;}function registerMutation(store,type,handler,local){var entry=store._mutations[type]||(store._mutations[type]=[]);entry.push(function wrappedMutationHandler(payload){handler(local.state,payload);});}function registerAction(store,type,handler,local){var entry=store._actions[type]||(store._actions[type]=[]);entry.push(function wrappedActionHandler(payload,cb){var res=handler({dispatch:local.dispatch,commit:local.commit,getters:local.getters,state:local.state,rootGetters:store.getters,rootState:store.state},payload,cb);if(!isPromise(res)){res=Promise.resolve(res);}if(store._devtoolHook){return res.catch(function(err){store._devtoolHook.emit('vuex:error',err);throw err;});}else{return res;}});}function registerGetter(store,type,rawGetter,local){if(store._wrappedGetters[type]){console.error("[vuex] duplicate getter key: "+type);return;}store._wrappedGetters[type]=function wrappedGetter(store){return rawGetter(local.state,// local state
local.getters,// local getters
store.state,// root state
store.getters// root getters
);};}function enableStrictMode(store){store._vm.$watch(function(){return this._data.$$state;},function(){assert(store._committing,"Do not mutate vuex store state outside mutation handlers.");},{deep:true,sync:true});}function getNestedState(state,path){return path.length?path.reduce(function(state,key){return state[key];},state):state;}function unifyObjectStyle(type,payload,options){if(isObject(type)&&type.type){options=payload;payload=type;type=type.type;}assert(typeof type==='string',"Expects string as the type, but found "+(typeof type==='undefined'?'undefined':_typeof(type))+".");return{type:type,payload:payload,options:options};}function install(_Vue){if(Vue){console.error('[vuex] already installed. Vue.use(Vuex) should be called only once.');return;}Vue=_Vue;applyMixin(Vue);}// auto install in dist mode
if(typeof window!=='undefined'&&window.Vue){install(window.Vue);}var mapState=normalizeNamespace(function(namespace,states){var res={};normalizeMap(states).forEach(function(ref){var key=ref.key;var val=ref.val;res[key]=function mappedState(){var state=this.$store.state;var getters=this.$store.getters;if(namespace){var module=getModuleByNamespace(this.$store,'mapState',namespace);if(!module){return;}state=module.context.state;getters=module.context.getters;}return typeof val==='function'?val.call(this,state,getters):state[val];};// mark vuex getter for devtools
res[key].vuex=true;});return res;});var mapMutations=normalizeNamespace(function(namespace,mutations){var res={};normalizeMap(mutations).forEach(function(ref){var key=ref.key;var val=ref.val;val=namespace+val;res[key]=function mappedMutation(){var args=[],len=arguments.length;while(len--){args[len]=arguments[len];}if(namespace&&!getModuleByNamespace(this.$store,'mapMutations',namespace)){return;}return this.$store.commit.apply(this.$store,[val].concat(args));};});return res;});var mapGetters=normalizeNamespace(function(namespace,getters){var res={};normalizeMap(getters).forEach(function(ref){var key=ref.key;var val=ref.val;val=namespace+val;res[key]=function mappedGetter(){if(namespace&&!getModuleByNamespace(this.$store,'mapGetters',namespace)){return;}if(!(val in this.$store.getters)){console.error("[vuex] unknown getter: "+val);return;}return this.$store.getters[val];};// mark vuex getter for devtools
res[key].vuex=true;});return res;});var mapActions=normalizeNamespace(function(namespace,actions){var res={};normalizeMap(actions).forEach(function(ref){var key=ref.key;var val=ref.val;val=namespace+val;res[key]=function mappedAction(){var args=[],len=arguments.length;while(len--){args[len]=arguments[len];}if(namespace&&!getModuleByNamespace(this.$store,'mapActions',namespace)){return;}return this.$store.dispatch.apply(this.$store,[val].concat(args));};});return res;});function normalizeMap(map){return Array.isArray(map)?map.map(function(key){return{key:key,val:key};}):Object.keys(map).map(function(key){return{key:key,val:map[key]};});}function normalizeNamespace(fn){return function(namespace,map){if(typeof namespace!=='string'){map=namespace;namespace='';}else if(namespace.charAt(namespace.length-1)!=='/'){namespace+='/';}return fn(namespace,map);};}function getModuleByNamespace(store,helper,namespace){var module=store._modulesNamespaceMap[namespace];if(!module){console.error("[vuex] module namespace not found in "+helper+"(): "+namespace);}return module;}var index_esm={Store:Store,install:install,version:'2.3.0',mapState:mapState,mapMutations:mapMutations,mapGetters:mapGetters,mapActions:mapActions};/* harmony default export */__webpack_exports__["a"]=index_esm;/***/},/* 46 *//***/function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,'__esModule',{value:true});function _interopDefault(ex){return ex&&(typeof ex==='undefined'?'undefined':_typeof(ex))==='object'&&'default'in ex?ex['default']:ex;}var merge=_interopDefault(__webpack_require__(47));/**
 * Created by championswimmer on 22/07/17.
 */var MockStorage=/** @class */function(){function MockStorage(){}Object.defineProperty(MockStorage.prototype,"length",{get:function get(){return Object.keys(this).length;},enumerable:true,configurable:true});MockStorage.prototype.key=function(index){return Object.keys(this)[index];};MockStorage.prototype.setItem=function(key,data){this[key]=data.toString();};MockStorage.prototype.getItem=function(key){return this[key];};MockStorage.prototype.removeItem=function(key){delete this[key];};MockStorage.prototype.clear=function(){for(var _i=0,_a=Object.keys(this);_i<_a.length;_i++){var key=_a[_i];delete this[key];}};return MockStorage;}();// tslint:disable: variable-name
var SimplePromiseQueue=/** @class */function(){function SimplePromiseQueue(){this._queue=[];this._flushing=false;}SimplePromiseQueue.prototype.enqueue=function(promise){this._queue.push(promise);if(!this._flushing){return this.flushQueue();}return Promise.resolve();};SimplePromiseQueue.prototype.flushQueue=function(){var _this=this;this._flushing=true;var chain=function chain(){var nextTask=_this._queue.shift();if(nextTask){return nextTask.then(chain);}else{_this._flushing=false;}};return Promise.resolve(chain());};return SimplePromiseQueue;}();/**
 * Created by championswimmer on 18/07/17.
 *//**
 * A class that implements the vuex persistence.
 */var VuexPersistence=/** @class */function(){/**
     * Create a {@link VuexPersistence} object.
     * Use the <code>plugin</code> function of this class as a
     * Vuex plugin.
     * @param {PersistOptions} options
     */function VuexPersistence(options){var _this=this;// tslint:disable-next-line:variable-name
this._mutex=new SimplePromiseQueue();/**
         * Creates a subscriber on the store. automatically is used
         * when this is used a vuex plugin. Not for manual usage.
         * @param store
         */this.subscriber=function(store){return function(handler){return store.subscribe(handler);};};this.key=options.key!=null?options.key:'vuex';this.subscribed=false;this.storage=options.storage!=null?options.storage:new MockStorage();/**
         * How this works is -
         *  1. If there is options.reducer function, we use that, if not;
         *  2. We check options.modules;
         *    1. If there is no options.modules array, we use entire state in reducer
         *    2. Otherwise, we create a reducer that merges all those state modules that are
         *        defined in the options.modules[] array
         * @type {((state: S) => {}) | ((state: S) => S) | ((state: any) => {})}
         */this.reducer=options.reducer!=null?options.reducer:options.modules==null?function(state){return state;}:function(state){return options.modules.reduce(function(a,i){return merge(a,(_a={},_a[i]=state[i],_a));var _a;},{});};this.filter=options.filter!=null?options.filter:function(mutation){return true;};this.strictMode=options.strictMode||false;this.RESTORE_MUTATION=function RESTORE_MUTATION(state,savedState){state=merge(state,savedState);};this.asyncStorage=options.asyncStorage||false;var storageConfig=this.storage._config;this.asyncStorage=(storageConfig&&storageConfig.name)==='localforage';if(this.asyncStorage){/**
             * Async {@link #VuexPersistence.restoreState} implementation
             * @type {((key: string, storage?: Storage) => (Promise<S> | S)) | ((key: string, storage: AsyncStorage) => Promise<any>)}
             */this.restoreState=options.restoreState!=null?options.restoreState:function(key,storage){return storage.getItem(key).then(function(value){return typeof value==='string'// If string, parse, or else, just return
?JSON.parse(value||'{}'):value||{};});};/**
             * Async {@link #VuexPersistence.saveState} implementation
             * @type {((key: string, state: {}, storage?: Storage) => (Promise<void> | void)) | ((key: string, state: {}, storage?: Storage) => Promise<void>)}
             */this.saveState=options.saveState!=null?options.saveState:function(key,state,storage){return storage.setItem(key,// Second argument is state _object_ if localforage, stringified otherwise
(storage&&storage._config&&storage._config.name)==='localforage'?merge({},state):JSON.stringify(state));};/**
             * Async version of plugin
             * @param {Store<S>} store
             */this.plugin=function(store){_this.restoreState(_this.key,_this.storage).then(function(savedState){/**
                     * If in strict mode, do only via mutation
                     */if(_this.strictMode){store.commit('RESTORE_MUTATION',savedState);}else{store.replaceState(merge(store.state,savedState));}_this.subscriber(store)(function(mutation,state){if(_this.filter(mutation)){_this._mutex.enqueue(_this.saveState(_this.key,_this.reducer(state),_this.storage));}});_this.subscribed=true;});};}else{/**
             * Sync {@link #VuexPersistence.restoreState} implementation
             * @type {((key: string, storage?: Storage) => (Promise<S> | S)) | ((key: string, storage: Storage) => (any | string | {}))}
             */this.restoreState=options.restoreState!=null?options.restoreState:function(key,storage){var value=storage.getItem(key);if(typeof value==='string')return JSON.parse(value||'{}');else return value||{};};/**
             * Sync {@link #VuexPersistence.saveState} implementation
             * @type {((key: string, state: {}, storage?: Storage) => (Promise<void> | void)) | ((key: string, state: {}, storage?: Storage) => Promise<void>)}
             */this.saveState=options.saveState!=null?options.saveState:function(key,state,storage){return storage.setItem(key,// Second argument is state _object_ if localforage, stringified otherwise
JSON.stringify(state));};/**
             * Sync version of plugin
             * @param {Store<S>} store
             */this.plugin=function(store){var savedState=_this.restoreState(_this.key,_this.storage);if(_this.strictMode){store.commit('RESTORE_MUTATION',savedState);}else{store.replaceState(merge(store.state,savedState));}_this.subscriber(store)(function(mutation,state){_this.saveState(_this.key,_this.reducer(state),_this.storage);});_this.subscribed=true;};}}return VuexPersistence;}();exports.VuexPersistence=VuexPersistence;exports.MockStorage=MockStorage;exports['default']=VuexPersistence;//# sourceMappingURL=index.js.map
/***/},/* 47 *//***/function(module,exports,__webpack_require__){/* WEBPACK VAR INJECTION */(function(global,module){/**
 * lodash (Custom Build) <https://lodash.com/>
 * Build: `lodash modularize exports="npm" -o ./`
 * Copyright jQuery Foundation and other contributors <https://jquery.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 *//** Used as the size to enable large array optimizations. */var LARGE_ARRAY_SIZE=200;/** Used to stand-in for `undefined` hash values. */var HASH_UNDEFINED='__lodash_hash_undefined__';/** Used as references for various `Number` constants. */var MAX_SAFE_INTEGER=9007199254740991;/** `Object#toString` result references. */var argsTag='[object Arguments]',arrayTag='[object Array]',boolTag='[object Boolean]',dateTag='[object Date]',errorTag='[object Error]',funcTag='[object Function]',genTag='[object GeneratorFunction]',mapTag='[object Map]',numberTag='[object Number]',objectTag='[object Object]',promiseTag='[object Promise]',regexpTag='[object RegExp]',setTag='[object Set]',stringTag='[object String]',symbolTag='[object Symbol]',weakMapTag='[object WeakMap]';var arrayBufferTag='[object ArrayBuffer]',dataViewTag='[object DataView]',float32Tag='[object Float32Array]',float64Tag='[object Float64Array]',int8Tag='[object Int8Array]',int16Tag='[object Int16Array]',int32Tag='[object Int32Array]',uint8Tag='[object Uint8Array]',uint8ClampedTag='[object Uint8ClampedArray]',uint16Tag='[object Uint16Array]',uint32Tag='[object Uint32Array]';/**
 * Used to match `RegExp`
 * [syntax characters](http://ecma-international.org/ecma-262/7.0/#sec-patterns).
 */var reRegExpChar=/[\\^$.*+?()[\]{}|]/g;/** Used to match `RegExp` flags from their coerced string values. */var reFlags=/\w*$/;/** Used to detect host constructors (Safari). */var reIsHostCtor=/^\[object .+?Constructor\]$/;/** Used to detect unsigned integer values. */var reIsUint=/^(?:0|[1-9]\d*)$/;/** Used to identify `toStringTag` values of typed arrays. */var typedArrayTags={};typedArrayTags[float32Tag]=typedArrayTags[float64Tag]=typedArrayTags[int8Tag]=typedArrayTags[int16Tag]=typedArrayTags[int32Tag]=typedArrayTags[uint8Tag]=typedArrayTags[uint8ClampedTag]=typedArrayTags[uint16Tag]=typedArrayTags[uint32Tag]=true;typedArrayTags[argsTag]=typedArrayTags[arrayTag]=typedArrayTags[arrayBufferTag]=typedArrayTags[boolTag]=typedArrayTags[dataViewTag]=typedArrayTags[dateTag]=typedArrayTags[errorTag]=typedArrayTags[funcTag]=typedArrayTags[mapTag]=typedArrayTags[numberTag]=typedArrayTags[objectTag]=typedArrayTags[regexpTag]=typedArrayTags[setTag]=typedArrayTags[stringTag]=typedArrayTags[weakMapTag]=false;/** Used to identify `toStringTag` values supported by `_.clone`. */var cloneableTags={};cloneableTags[argsTag]=cloneableTags[arrayTag]=cloneableTags[arrayBufferTag]=cloneableTags[dataViewTag]=cloneableTags[boolTag]=cloneableTags[dateTag]=cloneableTags[float32Tag]=cloneableTags[float64Tag]=cloneableTags[int8Tag]=cloneableTags[int16Tag]=cloneableTags[int32Tag]=cloneableTags[mapTag]=cloneableTags[numberTag]=cloneableTags[objectTag]=cloneableTags[regexpTag]=cloneableTags[setTag]=cloneableTags[stringTag]=cloneableTags[symbolTag]=cloneableTags[uint8Tag]=cloneableTags[uint8ClampedTag]=cloneableTags[uint16Tag]=cloneableTags[uint32Tag]=true;cloneableTags[errorTag]=cloneableTags[funcTag]=cloneableTags[weakMapTag]=false;/** Detect free variable `global` from Node.js. */var freeGlobal=(typeof global==='undefined'?'undefined':_typeof(global))=='object'&&global&&global.Object===Object&&global;/** Detect free variable `self`. */var freeSelf=(typeof self==='undefined'?'undefined':_typeof(self))=='object'&&self&&self.Object===Object&&self;/** Used as a reference to the global object. */var root=freeGlobal||freeSelf||Function('return this')();/** Detect free variable `exports`. */var freeExports=(typeof exports==='undefined'?'undefined':_typeof(exports))=='object'&&exports&&!exports.nodeType&&exports;/** Detect free variable `module`. */var freeModule=freeExports&&(typeof module==='undefined'?'undefined':_typeof(module))=='object'&&module&&!module.nodeType&&module;/** Detect the popular CommonJS extension `module.exports`. */var moduleExports=freeModule&&freeModule.exports===freeExports;/** Detect free variable `process` from Node.js. */var freeProcess=moduleExports&&freeGlobal.process;/** Used to access faster Node.js helpers. */var nodeUtil=function(){try{return freeProcess&&freeProcess.binding('util');}catch(e){}}();/* Node.js helper references. */var nodeIsTypedArray=nodeUtil&&nodeUtil.isTypedArray;/**
 * Adds the key-value `pair` to `map`.
 *
 * @private
 * @param {Object} map The map to modify.
 * @param {Array} pair The key-value pair to add.
 * @returns {Object} Returns `map`.
 */function addMapEntry(map,pair){// Don't return `map.set` because it's not chainable in IE 11.
map.set(pair[0],pair[1]);return map;}/**
 * Adds `value` to `set`.
 *
 * @private
 * @param {Object} set The set to modify.
 * @param {*} value The value to add.
 * @returns {Object} Returns `set`.
 */function addSetEntry(set,value){// Don't return `set.add` because it's not chainable in IE 11.
set.add(value);return set;}/**
 * A faster alternative to `Function#apply`, this function invokes `func`
 * with the `this` binding of `thisArg` and the arguments of `args`.
 *
 * @private
 * @param {Function} func The function to invoke.
 * @param {*} thisArg The `this` binding of `func`.
 * @param {Array} args The arguments to invoke `func` with.
 * @returns {*} Returns the result of `func`.
 */function apply(func,thisArg,args){switch(args.length){case 0:return func.call(thisArg);case 1:return func.call(thisArg,args[0]);case 2:return func.call(thisArg,args[0],args[1]);case 3:return func.call(thisArg,args[0],args[1],args[2]);}return func.apply(thisArg,args);}/**
 * A specialized version of `_.forEach` for arrays without support for
 * iteratee shorthands.
 *
 * @private
 * @param {Array} [array] The array to iterate over.
 * @param {Function} iteratee The function invoked per iteration.
 * @returns {Array} Returns `array`.
 */function arrayEach(array,iteratee){var index=-1,length=array?array.length:0;while(++index<length){if(iteratee(array[index],index,array)===false){break;}}return array;}/**
 * Appends the elements of `values` to `array`.
 *
 * @private
 * @param {Array} array The array to modify.
 * @param {Array} values The values to append.
 * @returns {Array} Returns `array`.
 */function arrayPush(array,values){var index=-1,length=values.length,offset=array.length;while(++index<length){array[offset+index]=values[index];}return array;}/**
 * A specialized version of `_.reduce` for arrays without support for
 * iteratee shorthands.
 *
 * @private
 * @param {Array} [array] The array to iterate over.
 * @param {Function} iteratee The function invoked per iteration.
 * @param {*} [accumulator] The initial value.
 * @param {boolean} [initAccum] Specify using the first element of `array` as
 *  the initial value.
 * @returns {*} Returns the accumulated value.
 */function arrayReduce(array,iteratee,accumulator,initAccum){var index=-1,length=array?array.length:0;if(initAccum&&length){accumulator=array[++index];}while(++index<length){accumulator=iteratee(accumulator,array[index],index,array);}return accumulator;}/**
 * The base implementation of `_.times` without support for iteratee shorthands
 * or max array length checks.
 *
 * @private
 * @param {number} n The number of times to invoke `iteratee`.
 * @param {Function} iteratee The function invoked per iteration.
 * @returns {Array} Returns the array of results.
 */function baseTimes(n,iteratee){var index=-1,result=Array(n);while(++index<n){result[index]=iteratee(index);}return result;}/**
 * The base implementation of `_.unary` without support for storing metadata.
 *
 * @private
 * @param {Function} func The function to cap arguments for.
 * @returns {Function} Returns the new capped function.
 */function baseUnary(func){return function(value){return func(value);};}/**
 * Gets the value at `key` of `object`.
 *
 * @private
 * @param {Object} [object] The object to query.
 * @param {string} key The key of the property to get.
 * @returns {*} Returns the property value.
 */function getValue(object,key){return object==null?undefined:object[key];}/**
 * Checks if `value` is a host object in IE < 9.
 *
 * @private
 * @param {*} value The value to check.
 * @returns {boolean} Returns `true` if `value` is a host object, else `false`.
 */function isHostObject(value){// Many host objects are `Object` objects that can coerce to strings
// despite having improperly defined `toString` methods.
var result=false;if(value!=null&&typeof value.toString!='function'){try{result=!!(value+'');}catch(e){}}return result;}/**
 * Converts `map` to its key-value pairs.
 *
 * @private
 * @param {Object} map The map to convert.
 * @returns {Array} Returns the key-value pairs.
 */function mapToArray(map){var index=-1,result=Array(map.size);map.forEach(function(value,key){result[++index]=[key,value];});return result;}/**
 * Creates a unary function that invokes `func` with its argument transformed.
 *
 * @private
 * @param {Function} func The function to wrap.
 * @param {Function} transform The argument transform.
 * @returns {Function} Returns the new function.
 */function overArg(func,transform){return function(arg){return func(transform(arg));};}/**
 * Converts `set` to an array of its values.
 *
 * @private
 * @param {Object} set The set to convert.
 * @returns {Array} Returns the values.
 */function setToArray(set){var index=-1,result=Array(set.size);set.forEach(function(value){result[++index]=value;});return result;}/** Used for built-in method references. */var arrayProto=Array.prototype,funcProto=Function.prototype,objectProto=Object.prototype;/** Used to detect overreaching core-js shims. */var coreJsData=root['__core-js_shared__'];/** Used to detect methods masquerading as native. */var maskSrcKey=function(){var uid=/[^.]+$/.exec(coreJsData&&coreJsData.keys&&coreJsData.keys.IE_PROTO||'');return uid?'Symbol(src)_1.'+uid:'';}();/** Used to resolve the decompiled source of functions. */var funcToString=funcProto.toString;/** Used to check objects for own properties. */var hasOwnProperty=objectProto.hasOwnProperty;/** Used to infer the `Object` constructor. */var objectCtorString=funcToString.call(Object);/**
 * Used to resolve the
 * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)
 * of values.
 */var objectToString=objectProto.toString;/** Used to detect if a method is native. */var reIsNative=RegExp('^'+funcToString.call(hasOwnProperty).replace(reRegExpChar,'\\$&').replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,'$1.*?')+'$');/** Built-in value references. */var Buffer=moduleExports?root.Buffer:undefined,_Symbol3=root.Symbol,Uint8Array=root.Uint8Array,getPrototype=overArg(Object.getPrototypeOf,Object),objectCreate=Object.create,propertyIsEnumerable=objectProto.propertyIsEnumerable,splice=arrayProto.splice;/* Built-in method references for those with the same name as other `lodash` methods. */var nativeGetSymbols=Object.getOwnPropertySymbols,nativeIsBuffer=Buffer?Buffer.isBuffer:undefined,nativeKeys=overArg(Object.keys,Object),nativeMax=Math.max;/* Built-in method references that are verified to be native. */var DataView=getNative(root,'DataView'),Map=getNative(root,'Map'),Promise=getNative(root,'Promise'),Set=getNative(root,'Set'),WeakMap=getNative(root,'WeakMap'),nativeCreate=getNative(Object,'create');/** Used to detect maps, sets, and weakmaps. */var dataViewCtorString=toSource(DataView),mapCtorString=toSource(Map),promiseCtorString=toSource(Promise),setCtorString=toSource(Set),weakMapCtorString=toSource(WeakMap);/** Used to convert symbols to primitives and strings. */var symbolProto=_Symbol3?_Symbol3.prototype:undefined,symbolValueOf=symbolProto?symbolProto.valueOf:undefined;/**
 * Creates a hash object.
 *
 * @private
 * @constructor
 * @param {Array} [entries] The key-value pairs to cache.
 */function Hash(entries){var index=-1,length=entries?entries.length:0;this.clear();while(++index<length){var entry=entries[index];this.set(entry[0],entry[1]);}}/**
 * Removes all key-value entries from the hash.
 *
 * @private
 * @name clear
 * @memberOf Hash
 */function hashClear(){this.__data__=nativeCreate?nativeCreate(null):{};}/**
 * Removes `key` and its value from the hash.
 *
 * @private
 * @name delete
 * @memberOf Hash
 * @param {Object} hash The hash to modify.
 * @param {string} key The key of the value to remove.
 * @returns {boolean} Returns `true` if the entry was removed, else `false`.
 */function hashDelete(key){return this.has(key)&&delete this.__data__[key];}/**
 * Gets the hash value for `key`.
 *
 * @private
 * @name get
 * @memberOf Hash
 * @param {string} key The key of the value to get.
 * @returns {*} Returns the entry value.
 */function hashGet(key){var data=this.__data__;if(nativeCreate){var result=data[key];return result===HASH_UNDEFINED?undefined:result;}return hasOwnProperty.call(data,key)?data[key]:undefined;}/**
 * Checks if a hash value for `key` exists.
 *
 * @private
 * @name has
 * @memberOf Hash
 * @param {string} key The key of the entry to check.
 * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.
 */function hashHas(key){var data=this.__data__;return nativeCreate?data[key]!==undefined:hasOwnProperty.call(data,key);}/**
 * Sets the hash `key` to `value`.
 *
 * @private
 * @name set
 * @memberOf Hash
 * @param {string} key The key of the value to set.
 * @param {*} value The value to set.
 * @returns {Object} Returns the hash instance.
 */function hashSet(key,value){var data=this.__data__;data[key]=nativeCreate&&value===undefined?HASH_UNDEFINED:value;return this;}// Add methods to `Hash`.
Hash.prototype.clear=hashClear;Hash.prototype['delete']=hashDelete;Hash.prototype.get=hashGet;Hash.prototype.has=hashHas;Hash.prototype.set=hashSet;/**
 * Creates an list cache object.
 *
 * @private
 * @constructor
 * @param {Array} [entries] The key-value pairs to cache.
 */function ListCache(entries){var index=-1,length=entries?entries.length:0;this.clear();while(++index<length){var entry=entries[index];this.set(entry[0],entry[1]);}}/**
 * Removes all key-value entries from the list cache.
 *
 * @private
 * @name clear
 * @memberOf ListCache
 */function listCacheClear(){this.__data__=[];}/**
 * Removes `key` and its value from the list cache.
 *
 * @private
 * @name delete
 * @memberOf ListCache
 * @param {string} key The key of the value to remove.
 * @returns {boolean} Returns `true` if the entry was removed, else `false`.
 */function listCacheDelete(key){var data=this.__data__,index=assocIndexOf(data,key);if(index<0){return false;}var lastIndex=data.length-1;if(index==lastIndex){data.pop();}else{splice.call(data,index,1);}return true;}/**
 * Gets the list cache value for `key`.
 *
 * @private
 * @name get
 * @memberOf ListCache
 * @param {string} key The key of the value to get.
 * @returns {*} Returns the entry value.
 */function listCacheGet(key){var data=this.__data__,index=assocIndexOf(data,key);return index<0?undefined:data[index][1];}/**
 * Checks if a list cache value for `key` exists.
 *
 * @private
 * @name has
 * @memberOf ListCache
 * @param {string} key The key of the entry to check.
 * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.
 */function listCacheHas(key){return assocIndexOf(this.__data__,key)>-1;}/**
 * Sets the list cache `key` to `value`.
 *
 * @private
 * @name set
 * @memberOf ListCache
 * @param {string} key The key of the value to set.
 * @param {*} value The value to set.
 * @returns {Object} Returns the list cache instance.
 */function listCacheSet(key,value){var data=this.__data__,index=assocIndexOf(data,key);if(index<0){data.push([key,value]);}else{data[index][1]=value;}return this;}// Add methods to `ListCache`.
ListCache.prototype.clear=listCacheClear;ListCache.prototype['delete']=listCacheDelete;ListCache.prototype.get=listCacheGet;ListCache.prototype.has=listCacheHas;ListCache.prototype.set=listCacheSet;/**
 * Creates a map cache object to store key-value pairs.
 *
 * @private
 * @constructor
 * @param {Array} [entries] The key-value pairs to cache.
 */function MapCache(entries){var index=-1,length=entries?entries.length:0;this.clear();while(++index<length){var entry=entries[index];this.set(entry[0],entry[1]);}}/**
 * Removes all key-value entries from the map.
 *
 * @private
 * @name clear
 * @memberOf MapCache
 */function mapCacheClear(){this.__data__={'hash':new Hash(),'map':new(Map||ListCache)(),'string':new Hash()};}/**
 * Removes `key` and its value from the map.
 *
 * @private
 * @name delete
 * @memberOf MapCache
 * @param {string} key The key of the value to remove.
 * @returns {boolean} Returns `true` if the entry was removed, else `false`.
 */function mapCacheDelete(key){return getMapData(this,key)['delete'](key);}/**
 * Gets the map value for `key`.
 *
 * @private
 * @name get
 * @memberOf MapCache
 * @param {string} key The key of the value to get.
 * @returns {*} Returns the entry value.
 */function mapCacheGet(key){return getMapData(this,key).get(key);}/**
 * Checks if a map value for `key` exists.
 *
 * @private
 * @name has
 * @memberOf MapCache
 * @param {string} key The key of the entry to check.
 * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.
 */function mapCacheHas(key){return getMapData(this,key).has(key);}/**
 * Sets the map `key` to `value`.
 *
 * @private
 * @name set
 * @memberOf MapCache
 * @param {string} key The key of the value to set.
 * @param {*} value The value to set.
 * @returns {Object} Returns the map cache instance.
 */function mapCacheSet(key,value){getMapData(this,key).set(key,value);return this;}// Add methods to `MapCache`.
MapCache.prototype.clear=mapCacheClear;MapCache.prototype['delete']=mapCacheDelete;MapCache.prototype.get=mapCacheGet;MapCache.prototype.has=mapCacheHas;MapCache.prototype.set=mapCacheSet;/**
 * Creates a stack cache object to store key-value pairs.
 *
 * @private
 * @constructor
 * @param {Array} [entries] The key-value pairs to cache.
 */function Stack(entries){this.__data__=new ListCache(entries);}/**
 * Removes all key-value entries from the stack.
 *
 * @private
 * @name clear
 * @memberOf Stack
 */function stackClear(){this.__data__=new ListCache();}/**
 * Removes `key` and its value from the stack.
 *
 * @private
 * @name delete
 * @memberOf Stack
 * @param {string} key The key of the value to remove.
 * @returns {boolean} Returns `true` if the entry was removed, else `false`.
 */function stackDelete(key){return this.__data__['delete'](key);}/**
 * Gets the stack value for `key`.
 *
 * @private
 * @name get
 * @memberOf Stack
 * @param {string} key The key of the value to get.
 * @returns {*} Returns the entry value.
 */function stackGet(key){return this.__data__.get(key);}/**
 * Checks if a stack value for `key` exists.
 *
 * @private
 * @name has
 * @memberOf Stack
 * @param {string} key The key of the entry to check.
 * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.
 */function stackHas(key){return this.__data__.has(key);}/**
 * Sets the stack `key` to `value`.
 *
 * @private
 * @name set
 * @memberOf Stack
 * @param {string} key The key of the value to set.
 * @param {*} value The value to set.
 * @returns {Object} Returns the stack cache instance.
 */function stackSet(key,value){var cache=this.__data__;if(cache instanceof ListCache){var pairs=cache.__data__;if(!Map||pairs.length<LARGE_ARRAY_SIZE-1){pairs.push([key,value]);return this;}cache=this.__data__=new MapCache(pairs);}cache.set(key,value);return this;}// Add methods to `Stack`.
Stack.prototype.clear=stackClear;Stack.prototype['delete']=stackDelete;Stack.prototype.get=stackGet;Stack.prototype.has=stackHas;Stack.prototype.set=stackSet;/**
 * Creates an array of the enumerable property names of the array-like `value`.
 *
 * @private
 * @param {*} value The value to query.
 * @param {boolean} inherited Specify returning inherited property names.
 * @returns {Array} Returns the array of property names.
 */function arrayLikeKeys(value,inherited){// Safari 8.1 makes `arguments.callee` enumerable in strict mode.
// Safari 9 makes `arguments.length` enumerable in strict mode.
var result=isArray(value)||isArguments(value)?baseTimes(value.length,String):[];var length=result.length,skipIndexes=!!length;for(var key in value){if((inherited||hasOwnProperty.call(value,key))&&!(skipIndexes&&(key=='length'||isIndex(key,length)))){result.push(key);}}return result;}/**
 * This function is like `assignValue` except that it doesn't assign
 * `undefined` values.
 *
 * @private
 * @param {Object} object The object to modify.
 * @param {string} key The key of the property to assign.
 * @param {*} value The value to assign.
 */function assignMergeValue(object,key,value){if(value!==undefined&&!eq(object[key],value)||typeof key=='number'&&value===undefined&&!(key in object)){object[key]=value;}}/**
 * Assigns `value` to `key` of `object` if the existing value is not equivalent
 * using [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)
 * for equality comparisons.
 *
 * @private
 * @param {Object} object The object to modify.
 * @param {string} key The key of the property to assign.
 * @param {*} value The value to assign.
 */function assignValue(object,key,value){var objValue=object[key];if(!(hasOwnProperty.call(object,key)&&eq(objValue,value))||value===undefined&&!(key in object)){object[key]=value;}}/**
 * Gets the index at which the `key` is found in `array` of key-value pairs.
 *
 * @private
 * @param {Array} array The array to inspect.
 * @param {*} key The key to search for.
 * @returns {number} Returns the index of the matched value, else `-1`.
 */function assocIndexOf(array,key){var length=array.length;while(length--){if(eq(array[length][0],key)){return length;}}return-1;}/**
 * The base implementation of `_.assign` without support for multiple sources
 * or `customizer` functions.
 *
 * @private
 * @param {Object} object The destination object.
 * @param {Object} source The source object.
 * @returns {Object} Returns `object`.
 */function baseAssign(object,source){return object&&copyObject(source,keys(source),object);}/**
 * The base implementation of `_.clone` and `_.cloneDeep` which tracks
 * traversed objects.
 *
 * @private
 * @param {*} value The value to clone.
 * @param {boolean} [isDeep] Specify a deep clone.
 * @param {boolean} [isFull] Specify a clone including symbols.
 * @param {Function} [customizer] The function to customize cloning.
 * @param {string} [key] The key of `value`.
 * @param {Object} [object] The parent object of `value`.
 * @param {Object} [stack] Tracks traversed objects and their clone counterparts.
 * @returns {*} Returns the cloned value.
 */function baseClone(value,isDeep,isFull,customizer,key,object,stack){var result;if(customizer){result=object?customizer(value,key,object,stack):customizer(value);}if(result!==undefined){return result;}if(!isObject(value)){return value;}var isArr=isArray(value);if(isArr){result=initCloneArray(value);if(!isDeep){return copyArray(value,result);}}else{var tag=getTag(value),isFunc=tag==funcTag||tag==genTag;if(isBuffer(value)){return cloneBuffer(value,isDeep);}if(tag==objectTag||tag==argsTag||isFunc&&!object){if(isHostObject(value)){return object?value:{};}result=initCloneObject(isFunc?{}:value);if(!isDeep){return copySymbols(value,baseAssign(result,value));}}else{if(!cloneableTags[tag]){return object?value:{};}result=initCloneByTag(value,tag,baseClone,isDeep);}}// Check for circular references and return its corresponding clone.
stack||(stack=new Stack());var stacked=stack.get(value);if(stacked){return stacked;}stack.set(value,result);if(!isArr){var props=isFull?getAllKeys(value):keys(value);}arrayEach(props||value,function(subValue,key){if(props){key=subValue;subValue=value[key];}// Recursively populate clone (susceptible to call stack limits).
assignValue(result,key,baseClone(subValue,isDeep,isFull,customizer,key,value,stack));});return result;}/**
 * The base implementation of `_.create` without support for assigning
 * properties to the created object.
 *
 * @private
 * @param {Object} prototype The object to inherit from.
 * @returns {Object} Returns the new object.
 */function baseCreate(proto){return isObject(proto)?objectCreate(proto):{};}/**
 * The base implementation of `getAllKeys` and `getAllKeysIn` which uses
 * `keysFunc` and `symbolsFunc` to get the enumerable property names and
 * symbols of `object`.
 *
 * @private
 * @param {Object} object The object to query.
 * @param {Function} keysFunc The function to get the keys of `object`.
 * @param {Function} symbolsFunc The function to get the symbols of `object`.
 * @returns {Array} Returns the array of property names and symbols.
 */function baseGetAllKeys(object,keysFunc,symbolsFunc){var result=keysFunc(object);return isArray(object)?result:arrayPush(result,symbolsFunc(object));}/**
 * The base implementation of `getTag`.
 *
 * @private
 * @param {*} value The value to query.
 * @returns {string} Returns the `toStringTag`.
 */function baseGetTag(value){return objectToString.call(value);}/**
 * The base implementation of `_.isNative` without bad shim checks.
 *
 * @private
 * @param {*} value The value to check.
 * @returns {boolean} Returns `true` if `value` is a native function,
 *  else `false`.
 */function baseIsNative(value){if(!isObject(value)||isMasked(value)){return false;}var pattern=isFunction(value)||isHostObject(value)?reIsNative:reIsHostCtor;return pattern.test(toSource(value));}/**
 * The base implementation of `_.isTypedArray` without Node.js optimizations.
 *
 * @private
 * @param {*} value The value to check.
 * @returns {boolean} Returns `true` if `value` is a typed array, else `false`.
 */function baseIsTypedArray(value){return isObjectLike(value)&&isLength(value.length)&&!!typedArrayTags[objectToString.call(value)];}/**
 * The base implementation of `_.keys` which doesn't treat sparse arrays as dense.
 *
 * @private
 * @param {Object} object The object to query.
 * @returns {Array} Returns the array of property names.
 */function baseKeys(object){if(!isPrototype(object)){return nativeKeys(object);}var result=[];for(var key in Object(object)){if(hasOwnProperty.call(object,key)&&key!='constructor'){result.push(key);}}return result;}/**
 * The base implementation of `_.keysIn` which doesn't treat sparse arrays as dense.
 *
 * @private
 * @param {Object} object The object to query.
 * @returns {Array} Returns the array of property names.
 */function baseKeysIn(object){if(!isObject(object)){return nativeKeysIn(object);}var isProto=isPrototype(object),result=[];for(var key in object){if(!(key=='constructor'&&(isProto||!hasOwnProperty.call(object,key)))){result.push(key);}}return result;}/**
 * The base implementation of `_.merge` without support for multiple sources.
 *
 * @private
 * @param {Object} object The destination object.
 * @param {Object} source The source object.
 * @param {number} srcIndex The index of `source`.
 * @param {Function} [customizer] The function to customize merged values.
 * @param {Object} [stack] Tracks traversed source values and their merged
 *  counterparts.
 */function baseMerge(object,source,srcIndex,customizer,stack){if(object===source){return;}if(!(isArray(source)||isTypedArray(source))){var props=baseKeysIn(source);}arrayEach(props||source,function(srcValue,key){if(props){key=srcValue;srcValue=source[key];}if(isObject(srcValue)){stack||(stack=new Stack());baseMergeDeep(object,source,key,srcIndex,baseMerge,customizer,stack);}else{var newValue=customizer?customizer(object[key],srcValue,key+'',object,source,stack):undefined;if(newValue===undefined){newValue=srcValue;}assignMergeValue(object,key,newValue);}});}/**
 * A specialized version of `baseMerge` for arrays and objects which performs
 * deep merges and tracks traversed objects enabling objects with circular
 * references to be merged.
 *
 * @private
 * @param {Object} object The destination object.
 * @param {Object} source The source object.
 * @param {string} key The key of the value to merge.
 * @param {number} srcIndex The index of `source`.
 * @param {Function} mergeFunc The function to merge values.
 * @param {Function} [customizer] The function to customize assigned values.
 * @param {Object} [stack] Tracks traversed source values and their merged
 *  counterparts.
 */function baseMergeDeep(object,source,key,srcIndex,mergeFunc,customizer,stack){var objValue=object[key],srcValue=source[key],stacked=stack.get(srcValue);if(stacked){assignMergeValue(object,key,stacked);return;}var newValue=customizer?customizer(objValue,srcValue,key+'',object,source,stack):undefined;var isCommon=newValue===undefined;if(isCommon){newValue=srcValue;if(isArray(srcValue)||isTypedArray(srcValue)){if(isArray(objValue)){newValue=objValue;}else if(isArrayLikeObject(objValue)){newValue=copyArray(objValue);}else{isCommon=false;newValue=baseClone(srcValue,true);}}else if(isPlainObject(srcValue)||isArguments(srcValue)){if(isArguments(objValue)){newValue=toPlainObject(objValue);}else if(!isObject(objValue)||srcIndex&&isFunction(objValue)){isCommon=false;newValue=baseClone(srcValue,true);}else{newValue=objValue;}}else{isCommon=false;}}if(isCommon){// Recursively merge objects and arrays (susceptible to call stack limits).
stack.set(srcValue,newValue);mergeFunc(newValue,srcValue,srcIndex,customizer,stack);stack['delete'](srcValue);}assignMergeValue(object,key,newValue);}/**
 * The base implementation of `_.rest` which doesn't validate or coerce arguments.
 *
 * @private
 * @param {Function} func The function to apply a rest parameter to.
 * @param {number} [start=func.length-1] The start position of the rest parameter.
 * @returns {Function} Returns the new function.
 */function baseRest(func,start){start=nativeMax(start===undefined?func.length-1:start,0);return function(){var args=arguments,index=-1,length=nativeMax(args.length-start,0),array=Array(length);while(++index<length){array[index]=args[start+index];}index=-1;var otherArgs=Array(start+1);while(++index<start){otherArgs[index]=args[index];}otherArgs[start]=array;return apply(func,this,otherArgs);};}/**
 * Creates a clone of  `buffer`.
 *
 * @private
 * @param {Buffer} buffer The buffer to clone.
 * @param {boolean} [isDeep] Specify a deep clone.
 * @returns {Buffer} Returns the cloned buffer.
 */function cloneBuffer(buffer,isDeep){if(isDeep){return buffer.slice();}var result=new buffer.constructor(buffer.length);buffer.copy(result);return result;}/**
 * Creates a clone of `arrayBuffer`.
 *
 * @private
 * @param {ArrayBuffer} arrayBuffer The array buffer to clone.
 * @returns {ArrayBuffer} Returns the cloned array buffer.
 */function cloneArrayBuffer(arrayBuffer){var result=new arrayBuffer.constructor(arrayBuffer.byteLength);new Uint8Array(result).set(new Uint8Array(arrayBuffer));return result;}/**
 * Creates a clone of `dataView`.
 *
 * @private
 * @param {Object} dataView The data view to clone.
 * @param {boolean} [isDeep] Specify a deep clone.
 * @returns {Object} Returns the cloned data view.
 */function cloneDataView(dataView,isDeep){var buffer=isDeep?cloneArrayBuffer(dataView.buffer):dataView.buffer;return new dataView.constructor(buffer,dataView.byteOffset,dataView.byteLength);}/**
 * Creates a clone of `map`.
 *
 * @private
 * @param {Object} map The map to clone.
 * @param {Function} cloneFunc The function to clone values.
 * @param {boolean} [isDeep] Specify a deep clone.
 * @returns {Object} Returns the cloned map.
 */function cloneMap(map,isDeep,cloneFunc){var array=isDeep?cloneFunc(mapToArray(map),true):mapToArray(map);return arrayReduce(array,addMapEntry,new map.constructor());}/**
 * Creates a clone of `regexp`.
 *
 * @private
 * @param {Object} regexp The regexp to clone.
 * @returns {Object} Returns the cloned regexp.
 */function cloneRegExp(regexp){var result=new regexp.constructor(regexp.source,reFlags.exec(regexp));result.lastIndex=regexp.lastIndex;return result;}/**
 * Creates a clone of `set`.
 *
 * @private
 * @param {Object} set The set to clone.
 * @param {Function} cloneFunc The function to clone values.
 * @param {boolean} [isDeep] Specify a deep clone.
 * @returns {Object} Returns the cloned set.
 */function cloneSet(set,isDeep,cloneFunc){var array=isDeep?cloneFunc(setToArray(set),true):setToArray(set);return arrayReduce(array,addSetEntry,new set.constructor());}/**
 * Creates a clone of the `symbol` object.
 *
 * @private
 * @param {Object} symbol The symbol object to clone.
 * @returns {Object} Returns the cloned symbol object.
 */function cloneSymbol(symbol){return symbolValueOf?Object(symbolValueOf.call(symbol)):{};}/**
 * Creates a clone of `typedArray`.
 *
 * @private
 * @param {Object} typedArray The typed array to clone.
 * @param {boolean} [isDeep] Specify a deep clone.
 * @returns {Object} Returns the cloned typed array.
 */function cloneTypedArray(typedArray,isDeep){var buffer=isDeep?cloneArrayBuffer(typedArray.buffer):typedArray.buffer;return new typedArray.constructor(buffer,typedArray.byteOffset,typedArray.length);}/**
 * Copies the values of `source` to `array`.
 *
 * @private
 * @param {Array} source The array to copy values from.
 * @param {Array} [array=[]] The array to copy values to.
 * @returns {Array} Returns `array`.
 */function copyArray(source,array){var index=-1,length=source.length;array||(array=Array(length));while(++index<length){array[index]=source[index];}return array;}/**
 * Copies properties of `source` to `object`.
 *
 * @private
 * @param {Object} source The object to copy properties from.
 * @param {Array} props The property identifiers to copy.
 * @param {Object} [object={}] The object to copy properties to.
 * @param {Function} [customizer] The function to customize copied values.
 * @returns {Object} Returns `object`.
 */function copyObject(source,props,object,customizer){object||(object={});var index=-1,length=props.length;while(++index<length){var key=props[index];var newValue=customizer?customizer(object[key],source[key],key,object,source):undefined;assignValue(object,key,newValue===undefined?source[key]:newValue);}return object;}/**
 * Copies own symbol properties of `source` to `object`.
 *
 * @private
 * @param {Object} source The object to copy symbols from.
 * @param {Object} [object={}] The object to copy symbols to.
 * @returns {Object} Returns `object`.
 */function copySymbols(source,object){return copyObject(source,getSymbols(source),object);}/**
 * Creates a function like `_.assign`.
 *
 * @private
 * @param {Function} assigner The function to assign values.
 * @returns {Function} Returns the new assigner function.
 */function createAssigner(assigner){return baseRest(function(object,sources){var index=-1,length=sources.length,customizer=length>1?sources[length-1]:undefined,guard=length>2?sources[2]:undefined;customizer=assigner.length>3&&typeof customizer=='function'?(length--,customizer):undefined;if(guard&&isIterateeCall(sources[0],sources[1],guard)){customizer=length<3?undefined:customizer;length=1;}object=Object(object);while(++index<length){var source=sources[index];if(source){assigner(object,source,index,customizer);}}return object;});}/**
 * Creates an array of own enumerable property names and symbols of `object`.
 *
 * @private
 * @param {Object} object The object to query.
 * @returns {Array} Returns the array of property names and symbols.
 */function getAllKeys(object){return baseGetAllKeys(object,keys,getSymbols);}/**
 * Gets the data for `map`.
 *
 * @private
 * @param {Object} map The map to query.
 * @param {string} key The reference key.
 * @returns {*} Returns the map data.
 */function getMapData(map,key){var data=map.__data__;return isKeyable(key)?data[typeof key=='string'?'string':'hash']:data.map;}/**
 * Gets the native function at `key` of `object`.
 *
 * @private
 * @param {Object} object The object to query.
 * @param {string} key The key of the method to get.
 * @returns {*} Returns the function if it's native, else `undefined`.
 */function getNative(object,key){var value=getValue(object,key);return baseIsNative(value)?value:undefined;}/**
 * Creates an array of the own enumerable symbol properties of `object`.
 *
 * @private
 * @param {Object} object The object to query.
 * @returns {Array} Returns the array of symbols.
 */var getSymbols=nativeGetSymbols?overArg(nativeGetSymbols,Object):stubArray;/**
 * Gets the `toStringTag` of `value`.
 *
 * @private
 * @param {*} value The value to query.
 * @returns {string} Returns the `toStringTag`.
 */var getTag=baseGetTag;// Fallback for data views, maps, sets, and weak maps in IE 11,
// for data views in Edge < 14, and promises in Node.js.
if(DataView&&getTag(new DataView(new ArrayBuffer(1)))!=dataViewTag||Map&&getTag(new Map())!=mapTag||Promise&&getTag(Promise.resolve())!=promiseTag||Set&&getTag(new Set())!=setTag||WeakMap&&getTag(new WeakMap())!=weakMapTag){getTag=function getTag(value){var result=objectToString.call(value),Ctor=result==objectTag?value.constructor:undefined,ctorString=Ctor?toSource(Ctor):undefined;if(ctorString){switch(ctorString){case dataViewCtorString:return dataViewTag;case mapCtorString:return mapTag;case promiseCtorString:return promiseTag;case setCtorString:return setTag;case weakMapCtorString:return weakMapTag;}}return result;};}/**
 * Initializes an array clone.
 *
 * @private
 * @param {Array} array The array to clone.
 * @returns {Array} Returns the initialized clone.
 */function initCloneArray(array){var length=array.length,result=array.constructor(length);// Add properties assigned by `RegExp#exec`.
if(length&&typeof array[0]=='string'&&hasOwnProperty.call(array,'index')){result.index=array.index;result.input=array.input;}return result;}/**
 * Initializes an object clone.
 *
 * @private
 * @param {Object} object The object to clone.
 * @returns {Object} Returns the initialized clone.
 */function initCloneObject(object){return typeof object.constructor=='function'&&!isPrototype(object)?baseCreate(getPrototype(object)):{};}/**
 * Initializes an object clone based on its `toStringTag`.
 *
 * **Note:** This function only supports cloning values with tags of
 * `Boolean`, `Date`, `Error`, `Number`, `RegExp`, or `String`.
 *
 * @private
 * @param {Object} object The object to clone.
 * @param {string} tag The `toStringTag` of the object to clone.
 * @param {Function} cloneFunc The function to clone values.
 * @param {boolean} [isDeep] Specify a deep clone.
 * @returns {Object} Returns the initialized clone.
 */function initCloneByTag(object,tag,cloneFunc,isDeep){var Ctor=object.constructor;switch(tag){case arrayBufferTag:return cloneArrayBuffer(object);case boolTag:case dateTag:return new Ctor(+object);case dataViewTag:return cloneDataView(object,isDeep);case float32Tag:case float64Tag:case int8Tag:case int16Tag:case int32Tag:case uint8Tag:case uint8ClampedTag:case uint16Tag:case uint32Tag:return cloneTypedArray(object,isDeep);case mapTag:return cloneMap(object,isDeep,cloneFunc);case numberTag:case stringTag:return new Ctor(object);case regexpTag:return cloneRegExp(object);case setTag:return cloneSet(object,isDeep,cloneFunc);case symbolTag:return cloneSymbol(object);}}/**
 * Checks if `value` is a valid array-like index.
 *
 * @private
 * @param {*} value The value to check.
 * @param {number} [length=MAX_SAFE_INTEGER] The upper bounds of a valid index.
 * @returns {boolean} Returns `true` if `value` is a valid index, else `false`.
 */function isIndex(value,length){length=length==null?MAX_SAFE_INTEGER:length;return!!length&&(typeof value=='number'||reIsUint.test(value))&&value>-1&&value%1==0&&value<length;}/**
 * Checks if the given arguments are from an iteratee call.
 *
 * @private
 * @param {*} value The potential iteratee value argument.
 * @param {*} index The potential iteratee index or key argument.
 * @param {*} object The potential iteratee object argument.
 * @returns {boolean} Returns `true` if the arguments are from an iteratee call,
 *  else `false`.
 */function isIterateeCall(value,index,object){if(!isObject(object)){return false;}var type=typeof index==='undefined'?'undefined':_typeof(index);if(type=='number'?isArrayLike(object)&&isIndex(index,object.length):type=='string'&&index in object){return eq(object[index],value);}return false;}/**
 * Checks if `value` is suitable for use as unique object key.
 *
 * @private
 * @param {*} value The value to check.
 * @returns {boolean} Returns `true` if `value` is suitable, else `false`.
 */function isKeyable(value){var type=typeof value==='undefined'?'undefined':_typeof(value);return type=='string'||type=='number'||type=='symbol'||type=='boolean'?value!=='__proto__':value===null;}/**
 * Checks if `func` has its source masked.
 *
 * @private
 * @param {Function} func The function to check.
 * @returns {boolean} Returns `true` if `func` is masked, else `false`.
 */function isMasked(func){return!!maskSrcKey&&maskSrcKey in func;}/**
 * Checks if `value` is likely a prototype object.
 *
 * @private
 * @param {*} value The value to check.
 * @returns {boolean} Returns `true` if `value` is a prototype, else `false`.
 */function isPrototype(value){var Ctor=value&&value.constructor,proto=typeof Ctor=='function'&&Ctor.prototype||objectProto;return value===proto;}/**
 * This function is like
 * [`Object.keys`](http://ecma-international.org/ecma-262/7.0/#sec-object.keys)
 * except that it includes inherited enumerable properties.
 *
 * @private
 * @param {Object} object The object to query.
 * @returns {Array} Returns the array of property names.
 */function nativeKeysIn(object){var result=[];if(object!=null){for(var key in Object(object)){result.push(key);}}return result;}/**
 * Converts `func` to its source code.
 *
 * @private
 * @param {Function} func The function to process.
 * @returns {string} Returns the source code.
 */function toSource(func){if(func!=null){try{return funcToString.call(func);}catch(e){}try{return func+'';}catch(e){}}return'';}/**
 * Performs a
 * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)
 * comparison between two values to determine if they are equivalent.
 *
 * @static
 * @memberOf _
 * @since 4.0.0
 * @category Lang
 * @param {*} value The value to compare.
 * @param {*} other The other value to compare.
 * @returns {boolean} Returns `true` if the values are equivalent, else `false`.
 * @example
 *
 * var object = { 'a': 1 };
 * var other = { 'a': 1 };
 *
 * _.eq(object, object);
 * // => true
 *
 * _.eq(object, other);
 * // => false
 *
 * _.eq('a', 'a');
 * // => true
 *
 * _.eq('a', Object('a'));
 * // => false
 *
 * _.eq(NaN, NaN);
 * // => true
 */function eq(value,other){return value===other||value!==value&&other!==other;}/**
 * Checks if `value` is likely an `arguments` object.
 *
 * @static
 * @memberOf _
 * @since 0.1.0
 * @category Lang
 * @param {*} value The value to check.
 * @returns {boolean} Returns `true` if `value` is an `arguments` object,
 *  else `false`.
 * @example
 *
 * _.isArguments(function() { return arguments; }());
 * // => true
 *
 * _.isArguments([1, 2, 3]);
 * // => false
 */function isArguments(value){// Safari 8.1 makes `arguments.callee` enumerable in strict mode.
return isArrayLikeObject(value)&&hasOwnProperty.call(value,'callee')&&(!propertyIsEnumerable.call(value,'callee')||objectToString.call(value)==argsTag);}/**
 * Checks if `value` is classified as an `Array` object.
 *
 * @static
 * @memberOf _
 * @since 0.1.0
 * @category Lang
 * @param {*} value The value to check.
 * @returns {boolean} Returns `true` if `value` is an array, else `false`.
 * @example
 *
 * _.isArray([1, 2, 3]);
 * // => true
 *
 * _.isArray(document.body.children);
 * // => false
 *
 * _.isArray('abc');
 * // => false
 *
 * _.isArray(_.noop);
 * // => false
 */var isArray=Array.isArray;/**
 * Checks if `value` is array-like. A value is considered array-like if it's
 * not a function and has a `value.length` that's an integer greater than or
 * equal to `0` and less than or equal to `Number.MAX_SAFE_INTEGER`.
 *
 * @static
 * @memberOf _
 * @since 4.0.0
 * @category Lang
 * @param {*} value The value to check.
 * @returns {boolean} Returns `true` if `value` is array-like, else `false`.
 * @example
 *
 * _.isArrayLike([1, 2, 3]);
 * // => true
 *
 * _.isArrayLike(document.body.children);
 * // => true
 *
 * _.isArrayLike('abc');
 * // => true
 *
 * _.isArrayLike(_.noop);
 * // => false
 */function isArrayLike(value){return value!=null&&isLength(value.length)&&!isFunction(value);}/**
 * This method is like `_.isArrayLike` except that it also checks if `value`
 * is an object.
 *
 * @static
 * @memberOf _
 * @since 4.0.0
 * @category Lang
 * @param {*} value The value to check.
 * @returns {boolean} Returns `true` if `value` is an array-like object,
 *  else `false`.
 * @example
 *
 * _.isArrayLikeObject([1, 2, 3]);
 * // => true
 *
 * _.isArrayLikeObject(document.body.children);
 * // => true
 *
 * _.isArrayLikeObject('abc');
 * // => false
 *
 * _.isArrayLikeObject(_.noop);
 * // => false
 */function isArrayLikeObject(value){return isObjectLike(value)&&isArrayLike(value);}/**
 * Checks if `value` is a buffer.
 *
 * @static
 * @memberOf _
 * @since 4.3.0
 * @category Lang
 * @param {*} value The value to check.
 * @returns {boolean} Returns `true` if `value` is a buffer, else `false`.
 * @example
 *
 * _.isBuffer(new Buffer(2));
 * // => true
 *
 * _.isBuffer(new Uint8Array(2));
 * // => false
 */var isBuffer=nativeIsBuffer||stubFalse;/**
 * Checks if `value` is classified as a `Function` object.
 *
 * @static
 * @memberOf _
 * @since 0.1.0
 * @category Lang
 * @param {*} value The value to check.
 * @returns {boolean} Returns `true` if `value` is a function, else `false`.
 * @example
 *
 * _.isFunction(_);
 * // => true
 *
 * _.isFunction(/abc/);
 * // => false
 */function isFunction(value){// The use of `Object#toString` avoids issues with the `typeof` operator
// in Safari 8-9 which returns 'object' for typed array and other constructors.
var tag=isObject(value)?objectToString.call(value):'';return tag==funcTag||tag==genTag;}/**
 * Checks if `value` is a valid array-like length.
 *
 * **Note:** This method is loosely based on
 * [`ToLength`](http://ecma-international.org/ecma-262/7.0/#sec-tolength).
 *
 * @static
 * @memberOf _
 * @since 4.0.0
 * @category Lang
 * @param {*} value The value to check.
 * @returns {boolean} Returns `true` if `value` is a valid length, else `false`.
 * @example
 *
 * _.isLength(3);
 * // => true
 *
 * _.isLength(Number.MIN_VALUE);
 * // => false
 *
 * _.isLength(Infinity);
 * // => false
 *
 * _.isLength('3');
 * // => false
 */function isLength(value){return typeof value=='number'&&value>-1&&value%1==0&&value<=MAX_SAFE_INTEGER;}/**
 * Checks if `value` is the
 * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)
 * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)
 *
 * @static
 * @memberOf _
 * @since 0.1.0
 * @category Lang
 * @param {*} value The value to check.
 * @returns {boolean} Returns `true` if `value` is an object, else `false`.
 * @example
 *
 * _.isObject({});
 * // => true
 *
 * _.isObject([1, 2, 3]);
 * // => true
 *
 * _.isObject(_.noop);
 * // => true
 *
 * _.isObject(null);
 * // => false
 */function isObject(value){var type=typeof value==='undefined'?'undefined':_typeof(value);return!!value&&(type=='object'||type=='function');}/**
 * Checks if `value` is object-like. A value is object-like if it's not `null`
 * and has a `typeof` result of "object".
 *
 * @static
 * @memberOf _
 * @since 4.0.0
 * @category Lang
 * @param {*} value The value to check.
 * @returns {boolean} Returns `true` if `value` is object-like, else `false`.
 * @example
 *
 * _.isObjectLike({});
 * // => true
 *
 * _.isObjectLike([1, 2, 3]);
 * // => true
 *
 * _.isObjectLike(_.noop);
 * // => false
 *
 * _.isObjectLike(null);
 * // => false
 */function isObjectLike(value){return!!value&&(typeof value==='undefined'?'undefined':_typeof(value))=='object';}/**
 * Checks if `value` is a plain object, that is, an object created by the
 * `Object` constructor or one with a `[[Prototype]]` of `null`.
 *
 * @static
 * @memberOf _
 * @since 0.8.0
 * @category Lang
 * @param {*} value The value to check.
 * @returns {boolean} Returns `true` if `value` is a plain object, else `false`.
 * @example
 *
 * function Foo() {
 *   this.a = 1;
 * }
 *
 * _.isPlainObject(new Foo);
 * // => false
 *
 * _.isPlainObject([1, 2, 3]);
 * // => false
 *
 * _.isPlainObject({ 'x': 0, 'y': 0 });
 * // => true
 *
 * _.isPlainObject(Object.create(null));
 * // => true
 */function isPlainObject(value){if(!isObjectLike(value)||objectToString.call(value)!=objectTag||isHostObject(value)){return false;}var proto=getPrototype(value);if(proto===null){return true;}var Ctor=hasOwnProperty.call(proto,'constructor')&&proto.constructor;return typeof Ctor=='function'&&Ctor instanceof Ctor&&funcToString.call(Ctor)==objectCtorString;}/**
 * Checks if `value` is classified as a typed array.
 *
 * @static
 * @memberOf _
 * @since 3.0.0
 * @category Lang
 * @param {*} value The value to check.
 * @returns {boolean} Returns `true` if `value` is a typed array, else `false`.
 * @example
 *
 * _.isTypedArray(new Uint8Array);
 * // => true
 *
 * _.isTypedArray([]);
 * // => false
 */var isTypedArray=nodeIsTypedArray?baseUnary(nodeIsTypedArray):baseIsTypedArray;/**
 * Converts `value` to a plain object flattening inherited enumerable string
 * keyed properties of `value` to own properties of the plain object.
 *
 * @static
 * @memberOf _
 * @since 3.0.0
 * @category Lang
 * @param {*} value The value to convert.
 * @returns {Object} Returns the converted plain object.
 * @example
 *
 * function Foo() {
 *   this.b = 2;
 * }
 *
 * Foo.prototype.c = 3;
 *
 * _.assign({ 'a': 1 }, new Foo);
 * // => { 'a': 1, 'b': 2 }
 *
 * _.assign({ 'a': 1 }, _.toPlainObject(new Foo));
 * // => { 'a': 1, 'b': 2, 'c': 3 }
 */function toPlainObject(value){return copyObject(value,keysIn(value));}/**
 * Creates an array of the own enumerable property names of `object`.
 *
 * **Note:** Non-object values are coerced to objects. See the
 * [ES spec](http://ecma-international.org/ecma-262/7.0/#sec-object.keys)
 * for more details.
 *
 * @static
 * @since 0.1.0
 * @memberOf _
 * @category Object
 * @param {Object} object The object to query.
 * @returns {Array} Returns the array of property names.
 * @example
 *
 * function Foo() {
 *   this.a = 1;
 *   this.b = 2;
 * }
 *
 * Foo.prototype.c = 3;
 *
 * _.keys(new Foo);
 * // => ['a', 'b'] (iteration order is not guaranteed)
 *
 * _.keys('hi');
 * // => ['0', '1']
 */function keys(object){return isArrayLike(object)?arrayLikeKeys(object):baseKeys(object);}/**
 * Creates an array of the own and inherited enumerable property names of `object`.
 *
 * **Note:** Non-object values are coerced to objects.
 *
 * @static
 * @memberOf _
 * @since 3.0.0
 * @category Object
 * @param {Object} object The object to query.
 * @returns {Array} Returns the array of property names.
 * @example
 *
 * function Foo() {
 *   this.a = 1;
 *   this.b = 2;
 * }
 *
 * Foo.prototype.c = 3;
 *
 * _.keysIn(new Foo);
 * // => ['a', 'b', 'c'] (iteration order is not guaranteed)
 */function keysIn(object){return isArrayLike(object)?arrayLikeKeys(object,true):baseKeysIn(object);}/**
 * This method is like `_.assign` except that it recursively merges own and
 * inherited enumerable string keyed properties of source objects into the
 * destination object. Source properties that resolve to `undefined` are
 * skipped if a destination value exists. Array and plain object properties
 * are merged recursively. Other objects and value types are overridden by
 * assignment. Source objects are applied from left to right. Subsequent
 * sources overwrite property assignments of previous sources.
 *
 * **Note:** This method mutates `object`.
 *
 * @static
 * @memberOf _
 * @since 0.5.0
 * @category Object
 * @param {Object} object The destination object.
 * @param {...Object} [sources] The source objects.
 * @returns {Object} Returns `object`.
 * @example
 *
 * var object = {
 *   'a': [{ 'b': 2 }, { 'd': 4 }]
 * };
 *
 * var other = {
 *   'a': [{ 'c': 3 }, { 'e': 5 }]
 * };
 *
 * _.merge(object, other);
 * // => { 'a': [{ 'b': 2, 'c': 3 }, { 'd': 4, 'e': 5 }] }
 */var merge=createAssigner(function(object,source,srcIndex){baseMerge(object,source,srcIndex);});/**
 * This method returns a new empty array.
 *
 * @static
 * @memberOf _
 * @since 4.13.0
 * @category Util
 * @returns {Array} Returns the new empty array.
 * @example
 *
 * var arrays = _.times(2, _.stubArray);
 *
 * console.log(arrays);
 * // => [[], []]
 *
 * console.log(arrays[0] === arrays[1]);
 * // => false
 */function stubArray(){return[];}/**
 * This method returns `false`.
 *
 * @static
 * @memberOf _
 * @since 4.13.0
 * @category Util
 * @returns {boolean} Returns `false`.
 * @example
 *
 * _.times(2, _.stubFalse);
 * // => [false, false]
 */function stubFalse(){return false;}module.exports=merge;/* WEBPACK VAR INJECTION */}).call(exports,__webpack_require__(2),__webpack_require__(6)(module));/***/},/* 48 *//***/function(module,exports,__webpack_require__){/* WEBPACK VAR INJECTION */(function(process){/**
 * vue-local-storage v0.5.0
 * (c) 2017 Alexander Avakov
 * @license MIT
 */(function(global,factory){true?module.exports=factory():typeof define==='function'&&define.amd?define(factory):global.VueLocalStorage=factory();})(this,function(){'use strict';var VueLocalStorage=function VueLocalStorage(){this._properties={};};/**
 * Get value from localStorage
 *
 * @param {String} lsKey
 * @param {*} defaultValue
 * @returns {*}
 */VueLocalStorage.prototype.get=function get(lsKey,defaultValue){var this$1=this;if(defaultValue===void 0)defaultValue=null;if(window.localStorage[lsKey]){var type=String;for(var key in this$1._properties){if(key===lsKey){type=this$1._properties[key].type;break;}}return this._process(type,window.localStorage[lsKey]);}return defaultValue!==null?defaultValue:null;};/**
 * Set localStorage value
 *
 * @param {String} lsKey
 * @param {*} value
 * @returns {*}
 */VueLocalStorage.prototype.set=function set(lsKey,value){var this$1=this;for(var key in this$1._properties){var type=this$1._properties[key].type;if(key===lsKey&&[Array,Object].includes(type)){window.localStorage.setItem(lsKey,JSON.stringify(value));return value;}}window.localStorage.setItem(lsKey,value);return value;};/**
 * Remove value from localStorage
 *
 * @param {String} lsKey
 */VueLocalStorage.prototype.remove=function remove(lsKey){return window.localStorage.removeItem(lsKey);};/**
 * Add new property to localStorage
 *
 * @param {String} key
 * @param {function} type
 * @param {*} defaultValue
 */VueLocalStorage.prototype.addProperty=function addProperty(key,type,defaultValue){if(defaultValue===void 0)defaultValue=undefined;type=type||String;this._properties[key]={type:type};if(!window.localStorage[key]&&defaultValue!==null){window.localStorage.setItem(key,[Array,Object].includes(type)?JSON.stringify(defaultValue):defaultValue);}};/**
 * Process the value before return it from localStorage
 *
 * @param {String} type
 * @param {*} value
 * @returns {*}
 * @private
 */VueLocalStorage.prototype._process=function _process(type,value){switch(type){case Boolean:return value==='true';case Number:return parseInt(value,10);case Array:try{var array=JSON.parse(value);return Array.isArray(array)?array:[];}catch(e){return[];}case Object:try{return JSON.parse(value);}catch(e){return{};}default:return value;}};var VueLocalStorage$1=new VueLocalStorage();var index={/**
   * Install vue-local-storage plugin
   *
   * @param {Vue} Vue
   * @param {Object} options
   */install:function install(Vue,options){if(options===void 0)options={};if(typeof process!=='undefined'&&(process.server||process.SERVER_BUILD||process.env&&process.env.VUE_ENV==='server')){return;}try{var test='__vue-localstorage-test__';window.localStorage.setItem(test,test);window.localStorage.removeItem(test);}catch(e){console.error('Local storage is not supported');}var name=options.name||'localStorage';var bind=options.bind;Vue.mixin({beforeCreate:function beforeCreate(){var this$1=this;if(this.$options[name]){Object.keys(this.$options[name]).forEach(function(key){var config=this$1.$options[name][key];var ref=[config.type,config.default];var type=ref[0];var defaultValue=ref[1];VueLocalStorage$1.addProperty(key,type,defaultValue);var existingProp=Object.getOwnPropertyDescriptor(VueLocalStorage$1,key);if(!existingProp){var prop={get:function get(){return Vue.localStorage.get(key,defaultValue);},set:function set(val){return Vue.localStorage.set(key,val);},configurable:true};Object.defineProperty(VueLocalStorage$1,key,prop);Vue.util.defineReactive(VueLocalStorage$1,key,defaultValue);}else if(!Vue.config.silent){console.log(key+": is already defined and will be reused");}if((bind||config.bind)&&config.bind!==false){this$1.$options.computed=this$1.$options.computed||{};if(!this$1.$options.computed[key]){this$1.$options.computed[key]={get:function get(){return Vue.localStorage[key];},set:function set(val){Vue.localStorage[key]=val;}};}}});}}});Vue[name]=VueLocalStorage$1;Vue.prototype["$"+name]=VueLocalStorage$1;}};return index;});/* WEBPACK VAR INJECTION */}).call(exports,__webpack_require__(49));/***/},/* 49 *//***/function(module,exports){// shim for using process in browser
var process=module.exports={};// cached from whatever global is present so that test runners that stub it
// don't break things.  But we need to wrap it in a try catch in case it is
// wrapped in strict mode code which doesn't define any globals.  It's inside a
// function because try/catches deoptimize in certain engines.
var cachedSetTimeout;var cachedClearTimeout;function defaultSetTimout(){throw new Error('setTimeout has not been defined');}function defaultClearTimeout(){throw new Error('clearTimeout has not been defined');}(function(){try{if(typeof setTimeout==='function'){cachedSetTimeout=setTimeout;}else{cachedSetTimeout=defaultSetTimout;}}catch(e){cachedSetTimeout=defaultSetTimout;}try{if(typeof clearTimeout==='function'){cachedClearTimeout=clearTimeout;}else{cachedClearTimeout=defaultClearTimeout;}}catch(e){cachedClearTimeout=defaultClearTimeout;}})();function runTimeout(fun){if(cachedSetTimeout===setTimeout){//normal enviroments in sane situations
return setTimeout(fun,0);}// if setTimeout wasn't available but was latter defined
if((cachedSetTimeout===defaultSetTimout||!cachedSetTimeout)&&setTimeout){cachedSetTimeout=setTimeout;return setTimeout(fun,0);}try{// when when somebody has screwed with setTimeout but no I.E. maddness
return cachedSetTimeout(fun,0);}catch(e){try{// When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally
return cachedSetTimeout.call(null,fun,0);}catch(e){// same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error
return cachedSetTimeout.call(this,fun,0);}}}function runClearTimeout(marker){if(cachedClearTimeout===clearTimeout){//normal enviroments in sane situations
return clearTimeout(marker);}// if clearTimeout wasn't available but was latter defined
if((cachedClearTimeout===defaultClearTimeout||!cachedClearTimeout)&&clearTimeout){cachedClearTimeout=clearTimeout;return clearTimeout(marker);}try{// when when somebody has screwed with setTimeout but no I.E. maddness
return cachedClearTimeout(marker);}catch(e){try{// When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally
return cachedClearTimeout.call(null,marker);}catch(e){// same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.
// Some versions of I.E. have different rules for clearTimeout vs setTimeout
return cachedClearTimeout.call(this,marker);}}}var queue=[];var draining=false;var currentQueue;var queueIndex=-1;function cleanUpNextTick(){if(!draining||!currentQueue){return;}draining=false;if(currentQueue.length){queue=currentQueue.concat(queue);}else{queueIndex=-1;}if(queue.length){drainQueue();}}function drainQueue(){if(draining){return;}var timeout=runTimeout(cleanUpNextTick);draining=true;var len=queue.length;while(len){currentQueue=queue;queue=[];while(++queueIndex<len){if(currentQueue){currentQueue[queueIndex].run();}}queueIndex=-1;len=queue.length;}currentQueue=null;draining=false;runClearTimeout(timeout);}process.nextTick=function(fun){var args=new Array(arguments.length-1);if(arguments.length>1){for(var i=1;i<arguments.length;i++){args[i-1]=arguments[i];}}queue.push(new Item(fun,args));if(queue.length===1&&!draining){runTimeout(drainQueue);}};// v8 likes predictible objects
function Item(fun,array){this.fun=fun;this.array=array;}Item.prototype.run=function(){this.fun.apply(null,this.array);};process.title='browser';process.browser=true;process.env={};process.argv=[];process.version='';// empty string to avoid regexp issues
process.versions={};function noop(){}process.on=noop;process.addListener=noop;process.once=noop;process.off=noop;process.removeListener=noop;process.removeAllListeners=noop;process.emit=noop;process.prependListener=noop;process.prependOnceListener=noop;process.listeners=function(name){return[];};process.binding=function(name){throw new Error('process.binding is not supported');};process.cwd=function(){return'/';};process.chdir=function(dir){throw new Error('process.chdir is not supported');};process.umask=function(){return 0;};/***/},/* 50 *//***/function(module,__webpack_exports__,__webpack_require__){"use strict";/* harmony import */var __WEBPACK_IMPORTED_MODULE_0_lodash_isEmpty__=__webpack_require__(11);/* harmony import */var __WEBPACK_IMPORTED_MODULE_0_lodash_isEmpty___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_lodash_isEmpty__);/* harmony default export */__webpack_exports__["a"]={setCurrentQuestion:function setCurrentQuestion(state,newValue){state.currentQuestion=newValue;},setCurrentQuestionI10N:function setCurrentQuestionI10N(state,newValue){state.currentQuestionI10N=newValue;},updateCurrentQuestionI10NValue:function updateCurrentQuestionI10NValue(state,setObject){var newCurrentQuestionI10N=state.currentQuestionI10N;newCurrentQuestionI10N[state.activeLanguage][setObject.value]=setObject.newValue;state.currentQuestionI10N=newCurrentQuestionI10N;},setActiveLanguage:function setActiveLanguage(state,newValue){state.activeLanguage=newValue;},setLanguages:function setLanguages(state,newValue){state.languages=newValue;},setQuestionAttributes:function setQuestionAttributes(state,newValue){state.questionAttributes=newValue;},unsetQuestionImmutable:function unsetQuestionImmutable(state){state.questionImmutable={};},setQuestionImmutable:function setQuestionImmutable(state,newValue){if(__WEBPACK_IMPORTED_MODULE_0_lodash_isEmpty___default.a(state.questionImmutable)){state.questionImmutable=newValue;}},unsetQuestionImmutableI10N:function unsetQuestionImmutableI10N(state){state.questionImmutableI10N={};},setQuestionImmutableI10N:function setQuestionImmutableI10N(state,newValue){if(__WEBPACK_IMPORTED_MODULE_0_lodash_isEmpty___default.a(state.questionImmutableI10N)){state.questionImmutableI10N=newValue;}},setSurvey:function setSurvey(state,newValue){state.survey=newValue;}};/***/},/* 51 *//***/function(module,exports,__webpack_require__){var isPrototype=__webpack_require__(12),nativeKeys=__webpack_require__(52);/** Used for built-in method references. */var objectProto=Object.prototype;/** Used to check objects for own properties. */var hasOwnProperty=objectProto.hasOwnProperty;/**
 * The base implementation of `_.keys` which doesn't treat sparse arrays as dense.
 *
 * @private
 * @param {Object} object The object to query.
 * @returns {Array} Returns the array of property names.
 */function baseKeys(object){if(!isPrototype(object)){return nativeKeys(object);}var result=[];for(var key in Object(object)){if(hasOwnProperty.call(object,key)&&key!='constructor'){result.push(key);}}return result;}module.exports=baseKeys;/***/},/* 52 *//***/function(module,exports,__webpack_require__){var overArg=__webpack_require__(53);/* Built-in method references for those with the same name as other `lodash` methods. */var nativeKeys=overArg(Object.keys,Object);module.exports=nativeKeys;/***/},/* 53 *//***/function(module,exports){/**
 * Creates a unary function that invokes `func` with its argument transformed.
 *
 * @private
 * @param {Function} func The function to wrap.
 * @param {Function} transform The argument transform.
 * @returns {Function} Returns the new function.
 */function overArg(func,transform){return function(arg){return func(transform(arg));};}module.exports=overArg;/***/},/* 54 *//***/function(module,exports,__webpack_require__){var DataView=__webpack_require__(55),Map=__webpack_require__(62),Promise=__webpack_require__(63),Set=__webpack_require__(64),WeakMap=__webpack_require__(65),baseGetTag=__webpack_require__(7),toSource=__webpack_require__(17);/** `Object#toString` result references. */var mapTag='[object Map]',objectTag='[object Object]',promiseTag='[object Promise]',setTag='[object Set]',weakMapTag='[object WeakMap]';var dataViewTag='[object DataView]';/** Used to detect maps, sets, and weakmaps. */var dataViewCtorString=toSource(DataView),mapCtorString=toSource(Map),promiseCtorString=toSource(Promise),setCtorString=toSource(Set),weakMapCtorString=toSource(WeakMap);/**
 * Gets the `toStringTag` of `value`.
 *
 * @private
 * @param {*} value The value to query.
 * @returns {string} Returns the `toStringTag`.
 */var getTag=baseGetTag;// Fallback for data views, maps, sets, and weak maps in IE 11 and promises in Node.js < 6.
if(DataView&&getTag(new DataView(new ArrayBuffer(1)))!=dataViewTag||Map&&getTag(new Map())!=mapTag||Promise&&getTag(Promise.resolve())!=promiseTag||Set&&getTag(new Set())!=setTag||WeakMap&&getTag(new WeakMap())!=weakMapTag){getTag=function getTag(value){var result=baseGetTag(value),Ctor=result==objectTag?value.constructor:undefined,ctorString=Ctor?toSource(Ctor):'';if(ctorString){switch(ctorString){case dataViewCtorString:return dataViewTag;case mapCtorString:return mapTag;case promiseCtorString:return promiseTag;case setCtorString:return setTag;case weakMapCtorString:return weakMapTag;}}return result;};}module.exports=getTag;/***/},/* 55 *//***/function(module,exports,__webpack_require__){var getNative=__webpack_require__(1),root=__webpack_require__(0);/* Built-in method references that are verified to be native. */var DataView=getNative(root,'DataView');module.exports=DataView;/***/},/* 56 *//***/function(module,exports,__webpack_require__){var isFunction=__webpack_require__(13),isMasked=__webpack_require__(59),isObject=__webpack_require__(16),toSource=__webpack_require__(17);/**
 * Used to match `RegExp`
 * [syntax characters](http://ecma-international.org/ecma-262/7.0/#sec-patterns).
 */var reRegExpChar=/[\\^$.*+?()[\]{}|]/g;/** Used to detect host constructors (Safari). */var reIsHostCtor=/^\[object .+?Constructor\]$/;/** Used for built-in method references. */var funcProto=Function.prototype,objectProto=Object.prototype;/** Used to resolve the decompiled source of functions. */var funcToString=funcProto.toString;/** Used to check objects for own properties. */var hasOwnProperty=objectProto.hasOwnProperty;/** Used to detect if a method is native. */var reIsNative=RegExp('^'+funcToString.call(hasOwnProperty).replace(reRegExpChar,'\\$&').replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,'$1.*?')+'$');/**
 * The base implementation of `_.isNative` without bad shim checks.
 *
 * @private
 * @param {*} value The value to check.
 * @returns {boolean} Returns `true` if `value` is a native function,
 *  else `false`.
 */function baseIsNative(value){if(!isObject(value)||isMasked(value)){return false;}var pattern=isFunction(value)?reIsNative:reIsHostCtor;return pattern.test(toSource(value));}module.exports=baseIsNative;/***/},/* 57 *//***/function(module,exports,__webpack_require__){var _Symbol4=__webpack_require__(14);/** Used for built-in method references. */var objectProto=Object.prototype;/** Used to check objects for own properties. */var hasOwnProperty=objectProto.hasOwnProperty;/**
 * Used to resolve the
 * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)
 * of values.
 */var nativeObjectToString=objectProto.toString;/** Built-in value references. */var symToStringTag=_Symbol4?_Symbol4.toStringTag:undefined;/**
 * A specialized version of `baseGetTag` which ignores `Symbol.toStringTag` values.
 *
 * @private
 * @param {*} value The value to query.
 * @returns {string} Returns the raw `toStringTag`.
 */function getRawTag(value){var isOwn=hasOwnProperty.call(value,symToStringTag),tag=value[symToStringTag];try{value[symToStringTag]=undefined;var unmasked=true;}catch(e){}var result=nativeObjectToString.call(value);if(unmasked){if(isOwn){value[symToStringTag]=tag;}else{delete value[symToStringTag];}}return result;}module.exports=getRawTag;/***/},/* 58 *//***/function(module,exports){/** Used for built-in method references. */var objectProto=Object.prototype;/**
 * Used to resolve the
 * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)
 * of values.
 */var nativeObjectToString=objectProto.toString;/**
 * Converts `value` to a string using `Object.prototype.toString`.
 *
 * @private
 * @param {*} value The value to convert.
 * @returns {string} Returns the converted string.
 */function objectToString(value){return nativeObjectToString.call(value);}module.exports=objectToString;/***/},/* 59 *//***/function(module,exports,__webpack_require__){var coreJsData=__webpack_require__(60);/** Used to detect methods masquerading as native. */var maskSrcKey=function(){var uid=/[^.]+$/.exec(coreJsData&&coreJsData.keys&&coreJsData.keys.IE_PROTO||'');return uid?'Symbol(src)_1.'+uid:'';}();/**
 * Checks if `func` has its source masked.
 *
 * @private
 * @param {Function} func The function to check.
 * @returns {boolean} Returns `true` if `func` is masked, else `false`.
 */function isMasked(func){return!!maskSrcKey&&maskSrcKey in func;}module.exports=isMasked;/***/},/* 60 *//***/function(module,exports,__webpack_require__){var root=__webpack_require__(0);/** Used to detect overreaching core-js shims. */var coreJsData=root['__core-js_shared__'];module.exports=coreJsData;/***/},/* 61 *//***/function(module,exports){/**
 * Gets the value at `key` of `object`.
 *
 * @private
 * @param {Object} [object] The object to query.
 * @param {string} key The key of the property to get.
 * @returns {*} Returns the property value.
 */function getValue(object,key){return object==null?undefined:object[key];}module.exports=getValue;/***/},/* 62 *//***/function(module,exports,__webpack_require__){var getNative=__webpack_require__(1),root=__webpack_require__(0);/* Built-in method references that are verified to be native. */var Map=getNative(root,'Map');module.exports=Map;/***/},/* 63 *//***/function(module,exports,__webpack_require__){var getNative=__webpack_require__(1),root=__webpack_require__(0);/* Built-in method references that are verified to be native. */var Promise=getNative(root,'Promise');module.exports=Promise;/***/},/* 64 *//***/function(module,exports,__webpack_require__){var getNative=__webpack_require__(1),root=__webpack_require__(0);/* Built-in method references that are verified to be native. */var Set=getNative(root,'Set');module.exports=Set;/***/},/* 65 *//***/function(module,exports,__webpack_require__){var getNative=__webpack_require__(1),root=__webpack_require__(0);/* Built-in method references that are verified to be native. */var WeakMap=getNative(root,'WeakMap');module.exports=WeakMap;/***/},/* 66 *//***/function(module,exports,__webpack_require__){var baseIsArguments=__webpack_require__(67),isObjectLike=__webpack_require__(8);/** Used for built-in method references. */var objectProto=Object.prototype;/** Used to check objects for own properties. */var hasOwnProperty=objectProto.hasOwnProperty;/** Built-in value references. */var propertyIsEnumerable=objectProto.propertyIsEnumerable;/**
 * Checks if `value` is likely an `arguments` object.
 *
 * @static
 * @memberOf _
 * @since 0.1.0
 * @category Lang
 * @param {*} value The value to check.
 * @returns {boolean} Returns `true` if `value` is an `arguments` object,
 *  else `false`.
 * @example
 *
 * _.isArguments(function() { return arguments; }());
 * // => true
 *
 * _.isArguments([1, 2, 3]);
 * // => false
 */var isArguments=baseIsArguments(function(){return arguments;}())?baseIsArguments:function(value){return isObjectLike(value)&&hasOwnProperty.call(value,'callee')&&!propertyIsEnumerable.call(value,'callee');};module.exports=isArguments;/***/},/* 67 *//***/function(module,exports,__webpack_require__){var baseGetTag=__webpack_require__(7),isObjectLike=__webpack_require__(8);/** `Object#toString` result references. */var argsTag='[object Arguments]';/**
 * The base implementation of `_.isArguments`.
 *
 * @private
 * @param {*} value The value to check.
 * @returns {boolean} Returns `true` if `value` is an `arguments` object,
 */function baseIsArguments(value){return isObjectLike(value)&&baseGetTag(value)==argsTag;}module.exports=baseIsArguments;/***/},/* 68 *//***/function(module,exports){/**
 * Checks if `value` is classified as an `Array` object.
 *
 * @static
 * @memberOf _
 * @since 0.1.0
 * @category Lang
 * @param {*} value The value to check.
 * @returns {boolean} Returns `true` if `value` is an array, else `false`.
 * @example
 *
 * _.isArray([1, 2, 3]);
 * // => true
 *
 * _.isArray(document.body.children);
 * // => false
 *
 * _.isArray('abc');
 * // => false
 *
 * _.isArray(_.noop);
 * // => false
 */var isArray=Array.isArray;module.exports=isArray;/***/},/* 69 *//***/function(module,exports,__webpack_require__){var isFunction=__webpack_require__(13),isLength=__webpack_require__(18);/**
 * Checks if `value` is array-like. A value is considered array-like if it's
 * not a function and has a `value.length` that's an integer greater than or
 * equal to `0` and less than or equal to `Number.MAX_SAFE_INTEGER`.
 *
 * @static
 * @memberOf _
 * @since 4.0.0
 * @category Lang
 * @param {*} value The value to check.
 * @returns {boolean} Returns `true` if `value` is array-like, else `false`.
 * @example
 *
 * _.isArrayLike([1, 2, 3]);
 * // => true
 *
 * _.isArrayLike(document.body.children);
 * // => true
 *
 * _.isArrayLike('abc');
 * // => true
 *
 * _.isArrayLike(_.noop);
 * // => false
 */function isArrayLike(value){return value!=null&&isLength(value.length)&&!isFunction(value);}module.exports=isArrayLike;/***/},/* 70 *//***/function(module,exports,__webpack_require__){/* WEBPACK VAR INJECTION */(function(module){var root=__webpack_require__(0),stubFalse=__webpack_require__(71);/** Detect free variable `exports`. */var freeExports=(typeof exports==='undefined'?'undefined':_typeof(exports))=='object'&&exports&&!exports.nodeType&&exports;/** Detect free variable `module`. */var freeModule=freeExports&&(typeof module==='undefined'?'undefined':_typeof(module))=='object'&&module&&!module.nodeType&&module;/** Detect the popular CommonJS extension `module.exports`. */var moduleExports=freeModule&&freeModule.exports===freeExports;/** Built-in value references. */var Buffer=moduleExports?root.Buffer:undefined;/* Built-in method references for those with the same name as other `lodash` methods. */var nativeIsBuffer=Buffer?Buffer.isBuffer:undefined;/**
 * Checks if `value` is a buffer.
 *
 * @static
 * @memberOf _
 * @since 4.3.0
 * @category Lang
 * @param {*} value The value to check.
 * @returns {boolean} Returns `true` if `value` is a buffer, else `false`.
 * @example
 *
 * _.isBuffer(new Buffer(2));
 * // => true
 *
 * _.isBuffer(new Uint8Array(2));
 * // => false
 */var isBuffer=nativeIsBuffer||stubFalse;module.exports=isBuffer;/* WEBPACK VAR INJECTION */}).call(exports,__webpack_require__(6)(module));/***/},/* 71 *//***/function(module,exports){/**
 * This method returns `false`.
 *
 * @static
 * @memberOf _
 * @since 4.13.0
 * @category Util
 * @returns {boolean} Returns `false`.
 * @example
 *
 * _.times(2, _.stubFalse);
 * // => [false, false]
 */function stubFalse(){return false;}module.exports=stubFalse;/***/},/* 72 *//***/function(module,exports,__webpack_require__){var baseIsTypedArray=__webpack_require__(73),baseUnary=__webpack_require__(74),nodeUtil=__webpack_require__(75);/* Node.js helper references. */var nodeIsTypedArray=nodeUtil&&nodeUtil.isTypedArray;/**
 * Checks if `value` is classified as a typed array.
 *
 * @static
 * @memberOf _
 * @since 3.0.0
 * @category Lang
 * @param {*} value The value to check.
 * @returns {boolean} Returns `true` if `value` is a typed array, else `false`.
 * @example
 *
 * _.isTypedArray(new Uint8Array);
 * // => true
 *
 * _.isTypedArray([]);
 * // => false
 */var isTypedArray=nodeIsTypedArray?baseUnary(nodeIsTypedArray):baseIsTypedArray;module.exports=isTypedArray;/***/},/* 73 *//***/function(module,exports,__webpack_require__){var baseGetTag=__webpack_require__(7),isLength=__webpack_require__(18),isObjectLike=__webpack_require__(8);/** `Object#toString` result references. */var argsTag='[object Arguments]',arrayTag='[object Array]',boolTag='[object Boolean]',dateTag='[object Date]',errorTag='[object Error]',funcTag='[object Function]',mapTag='[object Map]',numberTag='[object Number]',objectTag='[object Object]',regexpTag='[object RegExp]',setTag='[object Set]',stringTag='[object String]',weakMapTag='[object WeakMap]';var arrayBufferTag='[object ArrayBuffer]',dataViewTag='[object DataView]',float32Tag='[object Float32Array]',float64Tag='[object Float64Array]',int8Tag='[object Int8Array]',int16Tag='[object Int16Array]',int32Tag='[object Int32Array]',uint8Tag='[object Uint8Array]',uint8ClampedTag='[object Uint8ClampedArray]',uint16Tag='[object Uint16Array]',uint32Tag='[object Uint32Array]';/** Used to identify `toStringTag` values of typed arrays. */var typedArrayTags={};typedArrayTags[float32Tag]=typedArrayTags[float64Tag]=typedArrayTags[int8Tag]=typedArrayTags[int16Tag]=typedArrayTags[int32Tag]=typedArrayTags[uint8Tag]=typedArrayTags[uint8ClampedTag]=typedArrayTags[uint16Tag]=typedArrayTags[uint32Tag]=true;typedArrayTags[argsTag]=typedArrayTags[arrayTag]=typedArrayTags[arrayBufferTag]=typedArrayTags[boolTag]=typedArrayTags[dataViewTag]=typedArrayTags[dateTag]=typedArrayTags[errorTag]=typedArrayTags[funcTag]=typedArrayTags[mapTag]=typedArrayTags[numberTag]=typedArrayTags[objectTag]=typedArrayTags[regexpTag]=typedArrayTags[setTag]=typedArrayTags[stringTag]=typedArrayTags[weakMapTag]=false;/**
 * The base implementation of `_.isTypedArray` without Node.js optimizations.
 *
 * @private
 * @param {*} value The value to check.
 * @returns {boolean} Returns `true` if `value` is a typed array, else `false`.
 */function baseIsTypedArray(value){return isObjectLike(value)&&isLength(value.length)&&!!typedArrayTags[baseGetTag(value)];}module.exports=baseIsTypedArray;/***/},/* 74 *//***/function(module,exports){/**
 * The base implementation of `_.unary` without support for storing metadata.
 *
 * @private
 * @param {Function} func The function to cap arguments for.
 * @returns {Function} Returns the new capped function.
 */function baseUnary(func){return function(value){return func(value);};}module.exports=baseUnary;/***/},/* 75 *//***/function(module,exports,__webpack_require__){/* WEBPACK VAR INJECTION */(function(module){var freeGlobal=__webpack_require__(15);/** Detect free variable `exports`. */var freeExports=(typeof exports==='undefined'?'undefined':_typeof(exports))=='object'&&exports&&!exports.nodeType&&exports;/** Detect free variable `module`. */var freeModule=freeExports&&(typeof module==='undefined'?'undefined':_typeof(module))=='object'&&module&&!module.nodeType&&module;/** Detect the popular CommonJS extension `module.exports`. */var moduleExports=freeModule&&freeModule.exports===freeExports;/** Detect free variable `process` from Node.js. */var freeProcess=moduleExports&&freeGlobal.process;/** Used to access faster Node.js helpers. */var nodeUtil=function(){try{return freeProcess&&freeProcess.binding&&freeProcess.binding('util');}catch(e){}}();module.exports=nodeUtil;/* WEBPACK VAR INJECTION */}).call(exports,__webpack_require__(6)(module));/***/},/* 76 *//***/function(module,__webpack_exports__,__webpack_require__){"use strict";/* harmony import */var __WEBPACK_IMPORTED_MODULE_0__mixins_runAjax_js__=__webpack_require__(10);/* harmony import */var __WEBPACK_IMPORTED_MODULE_1_lodash__=__webpack_require__(77);/* harmony import */var __WEBPACK_IMPORTED_MODULE_1_lodash___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_lodash__);/* harmony default export */__webpack_exports__["a"]={loadQuestion:function loadQuestion(context){__WEBPACK_IMPORTED_MODULE_0__mixins_runAjax_js__["a"/* default */].methods.$_get(window.QuestionEditData.connectorBaseUrl+'/getQuestionData',{'iQuestionId':window.QuestionEditData.qid}).then(function(result){context.commit('setCurrentQuestion',result.data.question);context.commit('setCurrentQuestionI10N',result.data.i10n);context.commit('unsetQuestionImmutable');context.commit('setQuestionImmutable',result.data.question);context.commit('unsetQuestionImmutableI10N');context.commit('setQuestionImmutableI10N',result.data.i10n);context.commit('setLanguages',__WEBPACK_IMPORTED_MODULE_1_lodash___default.a.map(result.data.i10n,function(value,language){return language;}));context.commit('setActiveLanguage',context.state.languages[0]);});__WEBPACK_IMPORTED_MODULE_0__mixins_runAjax_js__["a"/* default */].methods.$_get(window.QuestionEditData.connectorBaseUrl+'/getQuestionAttributeData',{'iQuestionId':window.QuestionEditData.qid}).then(function(result){context.commit('setQuestionAttributes',result.data);});}};/***/},/* 77 *//***/function(module,exports,__webpack_require__){/* WEBPACK VAR INJECTION */(function(global,module){var __WEBPACK_AMD_DEFINE_RESULT__;/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright JS Foundation and other contributors <https://js.foundation/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */;(function(){/** Used as a safe reference for `undefined` in pre-ES5 environments. */var undefined;/** Used as the semantic version number. */var VERSION='4.17.4';/** Used as the size to enable large array optimizations. */var LARGE_ARRAY_SIZE=200;/** Error message constants. */var CORE_ERROR_TEXT='Unsupported core-js use. Try https://npms.io/search?q=ponyfill.',FUNC_ERROR_TEXT='Expected a function';/** Used to stand-in for `undefined` hash values. */var HASH_UNDEFINED='__lodash_hash_undefined__';/** Used as the maximum memoize cache size. */var MAX_MEMOIZE_SIZE=500;/** Used as the internal argument placeholder. */var PLACEHOLDER='__lodash_placeholder__';/** Used to compose bitmasks for cloning. */var CLONE_DEEP_FLAG=1,CLONE_FLAT_FLAG=2,CLONE_SYMBOLS_FLAG=4;/** Used to compose bitmasks for value comparisons. */var COMPARE_PARTIAL_FLAG=1,COMPARE_UNORDERED_FLAG=2;/** Used to compose bitmasks for function metadata. */var WRAP_BIND_FLAG=1,WRAP_BIND_KEY_FLAG=2,WRAP_CURRY_BOUND_FLAG=4,WRAP_CURRY_FLAG=8,WRAP_CURRY_RIGHT_FLAG=16,WRAP_PARTIAL_FLAG=32,WRAP_PARTIAL_RIGHT_FLAG=64,WRAP_ARY_FLAG=128,WRAP_REARG_FLAG=256,WRAP_FLIP_FLAG=512;/** Used as default options for `_.truncate`. */var DEFAULT_TRUNC_LENGTH=30,DEFAULT_TRUNC_OMISSION='...';/** Used to detect hot functions by number of calls within a span of milliseconds. */var HOT_COUNT=800,HOT_SPAN=16;/** Used to indicate the type of lazy iteratees. */var LAZY_FILTER_FLAG=1,LAZY_MAP_FLAG=2,LAZY_WHILE_FLAG=3;/** Used as references for various `Number` constants. */var INFINITY=1/0,MAX_SAFE_INTEGER=9007199254740991,MAX_INTEGER=1.7976931348623157e+308,NAN=0/0;/** Used as references for the maximum length and index of an array. */var MAX_ARRAY_LENGTH=4294967295,MAX_ARRAY_INDEX=MAX_ARRAY_LENGTH-1,HALF_MAX_ARRAY_LENGTH=MAX_ARRAY_LENGTH>>>1;/** Used to associate wrap methods with their bit flags. */var wrapFlags=[['ary',WRAP_ARY_FLAG],['bind',WRAP_BIND_FLAG],['bindKey',WRAP_BIND_KEY_FLAG],['curry',WRAP_CURRY_FLAG],['curryRight',WRAP_CURRY_RIGHT_FLAG],['flip',WRAP_FLIP_FLAG],['partial',WRAP_PARTIAL_FLAG],['partialRight',WRAP_PARTIAL_RIGHT_FLAG],['rearg',WRAP_REARG_FLAG]];/** `Object#toString` result references. */var argsTag='[object Arguments]',arrayTag='[object Array]',asyncTag='[object AsyncFunction]',boolTag='[object Boolean]',dateTag='[object Date]',domExcTag='[object DOMException]',errorTag='[object Error]',funcTag='[object Function]',genTag='[object GeneratorFunction]',mapTag='[object Map]',numberTag='[object Number]',nullTag='[object Null]',objectTag='[object Object]',promiseTag='[object Promise]',proxyTag='[object Proxy]',regexpTag='[object RegExp]',setTag='[object Set]',stringTag='[object String]',symbolTag='[object Symbol]',undefinedTag='[object Undefined]',weakMapTag='[object WeakMap]',weakSetTag='[object WeakSet]';var arrayBufferTag='[object ArrayBuffer]',dataViewTag='[object DataView]',float32Tag='[object Float32Array]',float64Tag='[object Float64Array]',int8Tag='[object Int8Array]',int16Tag='[object Int16Array]',int32Tag='[object Int32Array]',uint8Tag='[object Uint8Array]',uint8ClampedTag='[object Uint8ClampedArray]',uint16Tag='[object Uint16Array]',uint32Tag='[object Uint32Array]';/** Used to match empty string literals in compiled template source. */var reEmptyStringLeading=/\b__p \+= '';/g,reEmptyStringMiddle=/\b(__p \+=) '' \+/g,reEmptyStringTrailing=/(__e\(.*?\)|\b__t\)) \+\n'';/g;/** Used to match HTML entities and HTML characters. */var reEscapedHtml=/&(?:amp|lt|gt|quot|#39);/g,reUnescapedHtml=/[&<>"']/g,reHasEscapedHtml=RegExp(reEscapedHtml.source),reHasUnescapedHtml=RegExp(reUnescapedHtml.source);/** Used to match template delimiters. */var reEscape=/<%-([\s\S]+?)%>/g,reEvaluate=/<%([\s\S]+?)%>/g,reInterpolate=/<%=([\s\S]+?)%>/g;/** Used to match property names within property paths. */var reIsDeepProp=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,reIsPlainProp=/^\w*$/,reLeadingDot=/^\./,rePropName=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g;/**
   * Used to match `RegExp`
   * [syntax characters](http://ecma-international.org/ecma-262/7.0/#sec-patterns).
   */var reRegExpChar=/[\\^$.*+?()[\]{}|]/g,reHasRegExpChar=RegExp(reRegExpChar.source);/** Used to match leading and trailing whitespace. */var reTrim=/^\s+|\s+$/g,reTrimStart=/^\s+/,reTrimEnd=/\s+$/;/** Used to match wrap detail comments. */var reWrapComment=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,reWrapDetails=/\{\n\/\* \[wrapped with (.+)\] \*/,reSplitDetails=/,? & /;/** Used to match words composed of alphanumeric characters. */var reAsciiWord=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g;/** Used to match backslashes in property paths. */var reEscapeChar=/\\(\\)?/g;/**
   * Used to match
   * [ES template delimiters](http://ecma-international.org/ecma-262/7.0/#sec-template-literal-lexical-components).
   */var reEsTemplate=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g;/** Used to match `RegExp` flags from their coerced string values. */var reFlags=/\w*$/;/** Used to detect bad signed hexadecimal string values. */var reIsBadHex=/^[-+]0x[0-9a-f]+$/i;/** Used to detect binary string values. */var reIsBinary=/^0b[01]+$/i;/** Used to detect host constructors (Safari). */var reIsHostCtor=/^\[object .+?Constructor\]$/;/** Used to detect octal string values. */var reIsOctal=/^0o[0-7]+$/i;/** Used to detect unsigned integer values. */var reIsUint=/^(?:0|[1-9]\d*)$/;/** Used to match Latin Unicode letters (excluding mathematical operators). */var reLatin=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g;/** Used to ensure capturing order of template delimiters. */var reNoMatch=/($^)/;/** Used to match unescaped characters in compiled string literals. */var reUnescapedString=/['\n\r\u2028\u2029\\]/g;/** Used to compose unicode character classes. */var rsAstralRange='\\ud800-\\udfff',rsComboMarksRange='\\u0300-\\u036f',reComboHalfMarksRange='\\ufe20-\\ufe2f',rsComboSymbolsRange='\\u20d0-\\u20ff',rsComboRange=rsComboMarksRange+reComboHalfMarksRange+rsComboSymbolsRange,rsDingbatRange='\\u2700-\\u27bf',rsLowerRange='a-z\\xdf-\\xf6\\xf8-\\xff',rsMathOpRange='\\xac\\xb1\\xd7\\xf7',rsNonCharRange='\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf',rsPunctuationRange='\\u2000-\\u206f',rsSpaceRange=' \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000',rsUpperRange='A-Z\\xc0-\\xd6\\xd8-\\xde',rsVarRange='\\ufe0e\\ufe0f',rsBreakRange=rsMathOpRange+rsNonCharRange+rsPunctuationRange+rsSpaceRange;/** Used to compose unicode capture groups. */var rsApos='[\'\u2019]',rsAstral='['+rsAstralRange+']',rsBreak='['+rsBreakRange+']',rsCombo='['+rsComboRange+']',rsDigits='\\d+',rsDingbat='['+rsDingbatRange+']',rsLower='['+rsLowerRange+']',rsMisc='[^'+rsAstralRange+rsBreakRange+rsDigits+rsDingbatRange+rsLowerRange+rsUpperRange+']',rsFitz='\\ud83c[\\udffb-\\udfff]',rsModifier='(?:'+rsCombo+'|'+rsFitz+')',rsNonAstral='[^'+rsAstralRange+']',rsRegional='(?:\\ud83c[\\udde6-\\uddff]){2}',rsSurrPair='[\\ud800-\\udbff][\\udc00-\\udfff]',rsUpper='['+rsUpperRange+']',rsZWJ='\\u200d';/** Used to compose unicode regexes. */var rsMiscLower='(?:'+rsLower+'|'+rsMisc+')',rsMiscUpper='(?:'+rsUpper+'|'+rsMisc+')',rsOptContrLower='(?:'+rsApos+'(?:d|ll|m|re|s|t|ve))?',rsOptContrUpper='(?:'+rsApos+'(?:D|LL|M|RE|S|T|VE))?',reOptMod=rsModifier+'?',rsOptVar='['+rsVarRange+']?',rsOptJoin='(?:'+rsZWJ+'(?:'+[rsNonAstral,rsRegional,rsSurrPair].join('|')+')'+rsOptVar+reOptMod+')*',rsOrdLower='\\d*(?:(?:1st|2nd|3rd|(?![123])\\dth)\\b)',rsOrdUpper='\\d*(?:(?:1ST|2ND|3RD|(?![123])\\dTH)\\b)',rsSeq=rsOptVar+reOptMod+rsOptJoin,rsEmoji='(?:'+[rsDingbat,rsRegional,rsSurrPair].join('|')+')'+rsSeq,rsSymbol='(?:'+[rsNonAstral+rsCombo+'?',rsCombo,rsRegional,rsSurrPair,rsAstral].join('|')+')';/** Used to match apostrophes. */var reApos=RegExp(rsApos,'g');/**
   * Used to match [combining diacritical marks](https://en.wikipedia.org/wiki/Combining_Diacritical_Marks) and
   * [combining diacritical marks for symbols](https://en.wikipedia.org/wiki/Combining_Diacritical_Marks_for_Symbols).
   */var reComboMark=RegExp(rsCombo,'g');/** Used to match [string symbols](https://mathiasbynens.be/notes/javascript-unicode). */var reUnicode=RegExp(rsFitz+'(?='+rsFitz+')|'+rsSymbol+rsSeq,'g');/** Used to match complex or compound words. */var reUnicodeWord=RegExp([rsUpper+'?'+rsLower+'+'+rsOptContrLower+'(?='+[rsBreak,rsUpper,'$'].join('|')+')',rsMiscUpper+'+'+rsOptContrUpper+'(?='+[rsBreak,rsUpper+rsMiscLower,'$'].join('|')+')',rsUpper+'?'+rsMiscLower+'+'+rsOptContrLower,rsUpper+'+'+rsOptContrUpper,rsOrdUpper,rsOrdLower,rsDigits,rsEmoji].join('|'),'g');/** Used to detect strings with [zero-width joiners or code points from the astral planes](http://eev.ee/blog/2015/09/12/dark-corners-of-unicode/). */var reHasUnicode=RegExp('['+rsZWJ+rsAstralRange+rsComboRange+rsVarRange+']');/** Used to detect strings that need a more robust regexp to match words. */var reHasUnicodeWord=/[a-z][A-Z]|[A-Z]{2,}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/;/** Used to assign default `context` object properties. */var contextProps=['Array','Buffer','DataView','Date','Error','Float32Array','Float64Array','Function','Int8Array','Int16Array','Int32Array','Map','Math','Object','Promise','RegExp','Set','String','Symbol','TypeError','Uint8Array','Uint8ClampedArray','Uint16Array','Uint32Array','WeakMap','_','clearTimeout','isFinite','parseInt','setTimeout'];/** Used to make template sourceURLs easier to identify. */var templateCounter=-1;/** Used to identify `toStringTag` values of typed arrays. */var typedArrayTags={};typedArrayTags[float32Tag]=typedArrayTags[float64Tag]=typedArrayTags[int8Tag]=typedArrayTags[int16Tag]=typedArrayTags[int32Tag]=typedArrayTags[uint8Tag]=typedArrayTags[uint8ClampedTag]=typedArrayTags[uint16Tag]=typedArrayTags[uint32Tag]=true;typedArrayTags[argsTag]=typedArrayTags[arrayTag]=typedArrayTags[arrayBufferTag]=typedArrayTags[boolTag]=typedArrayTags[dataViewTag]=typedArrayTags[dateTag]=typedArrayTags[errorTag]=typedArrayTags[funcTag]=typedArrayTags[mapTag]=typedArrayTags[numberTag]=typedArrayTags[objectTag]=typedArrayTags[regexpTag]=typedArrayTags[setTag]=typedArrayTags[stringTag]=typedArrayTags[weakMapTag]=false;/** Used to identify `toStringTag` values supported by `_.clone`. */var cloneableTags={};cloneableTags[argsTag]=cloneableTags[arrayTag]=cloneableTags[arrayBufferTag]=cloneableTags[dataViewTag]=cloneableTags[boolTag]=cloneableTags[dateTag]=cloneableTags[float32Tag]=cloneableTags[float64Tag]=cloneableTags[int8Tag]=cloneableTags[int16Tag]=cloneableTags[int32Tag]=cloneableTags[mapTag]=cloneableTags[numberTag]=cloneableTags[objectTag]=cloneableTags[regexpTag]=cloneableTags[setTag]=cloneableTags[stringTag]=cloneableTags[symbolTag]=cloneableTags[uint8Tag]=cloneableTags[uint8ClampedTag]=cloneableTags[uint16Tag]=cloneableTags[uint32Tag]=true;cloneableTags[errorTag]=cloneableTags[funcTag]=cloneableTags[weakMapTag]=false;/** Used to map Latin Unicode letters to basic Latin letters. */var deburredLetters={// Latin-1 Supplement block.
'\xc0':'A','\xc1':'A','\xc2':'A','\xc3':'A','\xc4':'A','\xc5':'A','\xe0':'a','\xe1':'a','\xe2':'a','\xe3':'a','\xe4':'a','\xe5':'a','\xc7':'C','\xe7':'c','\xd0':'D','\xf0':'d','\xc8':'E','\xc9':'E','\xca':'E','\xcb':'E','\xe8':'e','\xe9':'e','\xea':'e','\xeb':'e','\xcc':'I','\xcd':'I','\xce':'I','\xcf':'I','\xec':'i','\xed':'i','\xee':'i','\xef':'i','\xd1':'N','\xf1':'n','\xd2':'O','\xd3':'O','\xd4':'O','\xd5':'O','\xd6':'O','\xd8':'O','\xf2':'o','\xf3':'o','\xf4':'o','\xf5':'o','\xf6':'o','\xf8':'o','\xd9':'U','\xda':'U','\xdb':'U','\xdc':'U','\xf9':'u','\xfa':'u','\xfb':'u','\xfc':'u','\xdd':'Y','\xfd':'y','\xff':'y','\xc6':'Ae','\xe6':'ae','\xde':'Th','\xfe':'th','\xdf':'ss',// Latin Extended-A block.
'\u0100':'A','\u0102':'A','\u0104':'A','\u0101':'a','\u0103':'a','\u0105':'a','\u0106':'C','\u0108':'C','\u010A':'C','\u010C':'C','\u0107':'c','\u0109':'c','\u010B':'c','\u010D':'c','\u010E':'D','\u0110':'D','\u010F':'d','\u0111':'d','\u0112':'E','\u0114':'E','\u0116':'E','\u0118':'E','\u011A':'E','\u0113':'e','\u0115':'e','\u0117':'e','\u0119':'e','\u011B':'e','\u011C':'G','\u011E':'G','\u0120':'G','\u0122':'G','\u011D':'g','\u011F':'g','\u0121':'g','\u0123':'g','\u0124':'H','\u0126':'H','\u0125':'h','\u0127':'h','\u0128':'I','\u012A':'I','\u012C':'I','\u012E':'I','\u0130':'I','\u0129':'i','\u012B':'i','\u012D':'i','\u012F':'i','\u0131':'i','\u0134':'J','\u0135':'j','\u0136':'K','\u0137':'k','\u0138':'k','\u0139':'L','\u013B':'L','\u013D':'L','\u013F':'L','\u0141':'L','\u013A':'l','\u013C':'l','\u013E':'l','\u0140':'l','\u0142':'l','\u0143':'N','\u0145':'N','\u0147':'N','\u014A':'N','\u0144':'n','\u0146':'n','\u0148':'n','\u014B':'n','\u014C':'O','\u014E':'O','\u0150':'O','\u014D':'o','\u014F':'o','\u0151':'o','\u0154':'R','\u0156':'R','\u0158':'R','\u0155':'r','\u0157':'r','\u0159':'r','\u015A':'S','\u015C':'S','\u015E':'S','\u0160':'S','\u015B':'s','\u015D':'s','\u015F':'s','\u0161':'s','\u0162':'T','\u0164':'T','\u0166':'T','\u0163':'t','\u0165':'t','\u0167':'t','\u0168':'U','\u016A':'U','\u016C':'U','\u016E':'U','\u0170':'U','\u0172':'U','\u0169':'u','\u016B':'u','\u016D':'u','\u016F':'u','\u0171':'u','\u0173':'u','\u0174':'W','\u0175':'w','\u0176':'Y','\u0177':'y','\u0178':'Y','\u0179':'Z','\u017B':'Z','\u017D':'Z','\u017A':'z','\u017C':'z','\u017E':'z','\u0132':'IJ','\u0133':'ij','\u0152':'Oe','\u0153':'oe','\u0149':"'n",'\u017F':'s'};/** Used to map characters to HTML entities. */var htmlEscapes={'&':'&amp;','<':'&lt;','>':'&gt;','"':'&quot;',"'":'&#39;'};/** Used to map HTML entities to characters. */var htmlUnescapes={'&amp;':'&','&lt;':'<','&gt;':'>','&quot;':'"','&#39;':"'"};/** Used to escape characters for inclusion in compiled string literals. */var stringEscapes={'\\':'\\',"'":"'",'\n':'n','\r':'r','\u2028':'u2028','\u2029':'u2029'};/** Built-in method references without a dependency on `root`. */var freeParseFloat=parseFloat,freeParseInt=parseInt;/** Detect free variable `global` from Node.js. */var freeGlobal=(typeof global==='undefined'?'undefined':_typeof(global))=='object'&&global&&global.Object===Object&&global;/** Detect free variable `self`. */var freeSelf=(typeof self==='undefined'?'undefined':_typeof(self))=='object'&&self&&self.Object===Object&&self;/** Used as a reference to the global object. */var root=freeGlobal||freeSelf||Function('return this')();/** Detect free variable `exports`. */var freeExports=(typeof exports==='undefined'?'undefined':_typeof(exports))=='object'&&exports&&!exports.nodeType&&exports;/** Detect free variable `module`. */var freeModule=freeExports&&(typeof module==='undefined'?'undefined':_typeof(module))=='object'&&module&&!module.nodeType&&module;/** Detect the popular CommonJS extension `module.exports`. */var moduleExports=freeModule&&freeModule.exports===freeExports;/** Detect free variable `process` from Node.js. */var freeProcess=moduleExports&&freeGlobal.process;/** Used to access faster Node.js helpers. */var nodeUtil=function(){try{return freeProcess&&freeProcess.binding&&freeProcess.binding('util');}catch(e){}}();/* Node.js helper references. */var nodeIsArrayBuffer=nodeUtil&&nodeUtil.isArrayBuffer,nodeIsDate=nodeUtil&&nodeUtil.isDate,nodeIsMap=nodeUtil&&nodeUtil.isMap,nodeIsRegExp=nodeUtil&&nodeUtil.isRegExp,nodeIsSet=nodeUtil&&nodeUtil.isSet,nodeIsTypedArray=nodeUtil&&nodeUtil.isTypedArray;/*--------------------------------------------------------------------------*//**
   * Adds the key-value `pair` to `map`.
   *
   * @private
   * @param {Object} map The map to modify.
   * @param {Array} pair The key-value pair to add.
   * @returns {Object} Returns `map`.
   */function addMapEntry(map,pair){// Don't return `map.set` because it's not chainable in IE 11.
map.set(pair[0],pair[1]);return map;}/**
   * Adds `value` to `set`.
   *
   * @private
   * @param {Object} set The set to modify.
   * @param {*} value The value to add.
   * @returns {Object} Returns `set`.
   */function addSetEntry(set,value){// Don't return `set.add` because it's not chainable in IE 11.
set.add(value);return set;}/**
   * A faster alternative to `Function#apply`, this function invokes `func`
   * with the `this` binding of `thisArg` and the arguments of `args`.
   *
   * @private
   * @param {Function} func The function to invoke.
   * @param {*} thisArg The `this` binding of `func`.
   * @param {Array} args The arguments to invoke `func` with.
   * @returns {*} Returns the result of `func`.
   */function apply(func,thisArg,args){switch(args.length){case 0:return func.call(thisArg);case 1:return func.call(thisArg,args[0]);case 2:return func.call(thisArg,args[0],args[1]);case 3:return func.call(thisArg,args[0],args[1],args[2]);}return func.apply(thisArg,args);}/**
   * A specialized version of `baseAggregator` for arrays.
   *
   * @private
   * @param {Array} [array] The array to iterate over.
   * @param {Function} setter The function to set `accumulator` values.
   * @param {Function} iteratee The iteratee to transform keys.
   * @param {Object} accumulator The initial aggregated object.
   * @returns {Function} Returns `accumulator`.
   */function arrayAggregator(array,setter,iteratee,accumulator){var index=-1,length=array==null?0:array.length;while(++index<length){var value=array[index];setter(accumulator,value,iteratee(value),array);}return accumulator;}/**
   * A specialized version of `_.forEach` for arrays without support for
   * iteratee shorthands.
   *
   * @private
   * @param {Array} [array] The array to iterate over.
   * @param {Function} iteratee The function invoked per iteration.
   * @returns {Array} Returns `array`.
   */function arrayEach(array,iteratee){var index=-1,length=array==null?0:array.length;while(++index<length){if(iteratee(array[index],index,array)===false){break;}}return array;}/**
   * A specialized version of `_.forEachRight` for arrays without support for
   * iteratee shorthands.
   *
   * @private
   * @param {Array} [array] The array to iterate over.
   * @param {Function} iteratee The function invoked per iteration.
   * @returns {Array} Returns `array`.
   */function arrayEachRight(array,iteratee){var length=array==null?0:array.length;while(length--){if(iteratee(array[length],length,array)===false){break;}}return array;}/**
   * A specialized version of `_.every` for arrays without support for
   * iteratee shorthands.
   *
   * @private
   * @param {Array} [array] The array to iterate over.
   * @param {Function} predicate The function invoked per iteration.
   * @returns {boolean} Returns `true` if all elements pass the predicate check,
   *  else `false`.
   */function arrayEvery(array,predicate){var index=-1,length=array==null?0:array.length;while(++index<length){if(!predicate(array[index],index,array)){return false;}}return true;}/**
   * A specialized version of `_.filter` for arrays without support for
   * iteratee shorthands.
   *
   * @private
   * @param {Array} [array] The array to iterate over.
   * @param {Function} predicate The function invoked per iteration.
   * @returns {Array} Returns the new filtered array.
   */function arrayFilter(array,predicate){var index=-1,length=array==null?0:array.length,resIndex=0,result=[];while(++index<length){var value=array[index];if(predicate(value,index,array)){result[resIndex++]=value;}}return result;}/**
   * A specialized version of `_.includes` for arrays without support for
   * specifying an index to search from.
   *
   * @private
   * @param {Array} [array] The array to inspect.
   * @param {*} target The value to search for.
   * @returns {boolean} Returns `true` if `target` is found, else `false`.
   */function arrayIncludes(array,value){var length=array==null?0:array.length;return!!length&&baseIndexOf(array,value,0)>-1;}/**
   * This function is like `arrayIncludes` except that it accepts a comparator.
   *
   * @private
   * @param {Array} [array] The array to inspect.
   * @param {*} target The value to search for.
   * @param {Function} comparator The comparator invoked per element.
   * @returns {boolean} Returns `true` if `target` is found, else `false`.
   */function arrayIncludesWith(array,value,comparator){var index=-1,length=array==null?0:array.length;while(++index<length){if(comparator(value,array[index])){return true;}}return false;}/**
   * A specialized version of `_.map` for arrays without support for iteratee
   * shorthands.
   *
   * @private
   * @param {Array} [array] The array to iterate over.
   * @param {Function} iteratee The function invoked per iteration.
   * @returns {Array} Returns the new mapped array.
   */function arrayMap(array,iteratee){var index=-1,length=array==null?0:array.length,result=Array(length);while(++index<length){result[index]=iteratee(array[index],index,array);}return result;}/**
   * Appends the elements of `values` to `array`.
   *
   * @private
   * @param {Array} array The array to modify.
   * @param {Array} values The values to append.
   * @returns {Array} Returns `array`.
   */function arrayPush(array,values){var index=-1,length=values.length,offset=array.length;while(++index<length){array[offset+index]=values[index];}return array;}/**
   * A specialized version of `_.reduce` for arrays without support for
   * iteratee shorthands.
   *
   * @private
   * @param {Array} [array] The array to iterate over.
   * @param {Function} iteratee The function invoked per iteration.
   * @param {*} [accumulator] The initial value.
   * @param {boolean} [initAccum] Specify using the first element of `array` as
   *  the initial value.
   * @returns {*} Returns the accumulated value.
   */function arrayReduce(array,iteratee,accumulator,initAccum){var index=-1,length=array==null?0:array.length;if(initAccum&&length){accumulator=array[++index];}while(++index<length){accumulator=iteratee(accumulator,array[index],index,array);}return accumulator;}/**
   * A specialized version of `_.reduceRight` for arrays without support for
   * iteratee shorthands.
   *
   * @private
   * @param {Array} [array] The array to iterate over.
   * @param {Function} iteratee The function invoked per iteration.
   * @param {*} [accumulator] The initial value.
   * @param {boolean} [initAccum] Specify using the last element of `array` as
   *  the initial value.
   * @returns {*} Returns the accumulated value.
   */function arrayReduceRight(array,iteratee,accumulator,initAccum){var length=array==null?0:array.length;if(initAccum&&length){accumulator=array[--length];}while(length--){accumulator=iteratee(accumulator,array[length],length,array);}return accumulator;}/**
   * A specialized version of `_.some` for arrays without support for iteratee
   * shorthands.
   *
   * @private
   * @param {Array} [array] The array to iterate over.
   * @param {Function} predicate The function invoked per iteration.
   * @returns {boolean} Returns `true` if any element passes the predicate check,
   *  else `false`.
   */function arraySome(array,predicate){var index=-1,length=array==null?0:array.length;while(++index<length){if(predicate(array[index],index,array)){return true;}}return false;}/**
   * Gets the size of an ASCII `string`.
   *
   * @private
   * @param {string} string The string inspect.
   * @returns {number} Returns the string size.
   */var asciiSize=baseProperty('length');/**
   * Converts an ASCII `string` to an array.
   *
   * @private
   * @param {string} string The string to convert.
   * @returns {Array} Returns the converted array.
   */function asciiToArray(string){return string.split('');}/**
   * Splits an ASCII `string` into an array of its words.
   *
   * @private
   * @param {string} The string to inspect.
   * @returns {Array} Returns the words of `string`.
   */function asciiWords(string){return string.match(reAsciiWord)||[];}/**
   * The base implementation of methods like `_.findKey` and `_.findLastKey`,
   * without support for iteratee shorthands, which iterates over `collection`
   * using `eachFunc`.
   *
   * @private
   * @param {Array|Object} collection The collection to inspect.
   * @param {Function} predicate The function invoked per iteration.
   * @param {Function} eachFunc The function to iterate over `collection`.
   * @returns {*} Returns the found element or its key, else `undefined`.
   */function baseFindKey(collection,predicate,eachFunc){var result;eachFunc(collection,function(value,key,collection){if(predicate(value,key,collection)){result=key;return false;}});return result;}/**
   * The base implementation of `_.findIndex` and `_.findLastIndex` without
   * support for iteratee shorthands.
   *
   * @private
   * @param {Array} array The array to inspect.
   * @param {Function} predicate The function invoked per iteration.
   * @param {number} fromIndex The index to search from.
   * @param {boolean} [fromRight] Specify iterating from right to left.
   * @returns {number} Returns the index of the matched value, else `-1`.
   */function baseFindIndex(array,predicate,fromIndex,fromRight){var length=array.length,index=fromIndex+(fromRight?1:-1);while(fromRight?index--:++index<length){if(predicate(array[index],index,array)){return index;}}return-1;}/**
   * The base implementation of `_.indexOf` without `fromIndex` bounds checks.
   *
   * @private
   * @param {Array} array The array to inspect.
   * @param {*} value The value to search for.
   * @param {number} fromIndex The index to search from.
   * @returns {number} Returns the index of the matched value, else `-1`.
   */function baseIndexOf(array,value,fromIndex){return value===value?strictIndexOf(array,value,fromIndex):baseFindIndex(array,baseIsNaN,fromIndex);}/**
   * This function is like `baseIndexOf` except that it accepts a comparator.
   *
   * @private
   * @param {Array} array The array to inspect.
   * @param {*} value The value to search for.
   * @param {number} fromIndex The index to search from.
   * @param {Function} comparator The comparator invoked per element.
   * @returns {number} Returns the index of the matched value, else `-1`.
   */function baseIndexOfWith(array,value,fromIndex,comparator){var index=fromIndex-1,length=array.length;while(++index<length){if(comparator(array[index],value)){return index;}}return-1;}/**
   * The base implementation of `_.isNaN` without support for number objects.
   *
   * @private
   * @param {*} value The value to check.
   * @returns {boolean} Returns `true` if `value` is `NaN`, else `false`.
   */function baseIsNaN(value){return value!==value;}/**
   * The base implementation of `_.mean` and `_.meanBy` without support for
   * iteratee shorthands.
   *
   * @private
   * @param {Array} array The array to iterate over.
   * @param {Function} iteratee The function invoked per iteration.
   * @returns {number} Returns the mean.
   */function baseMean(array,iteratee){var length=array==null?0:array.length;return length?baseSum(array,iteratee)/length:NAN;}/**
   * The base implementation of `_.property` without support for deep paths.
   *
   * @private
   * @param {string} key The key of the property to get.
   * @returns {Function} Returns the new accessor function.
   */function baseProperty(key){return function(object){return object==null?undefined:object[key];};}/**
   * The base implementation of `_.propertyOf` without support for deep paths.
   *
   * @private
   * @param {Object} object The object to query.
   * @returns {Function} Returns the new accessor function.
   */function basePropertyOf(object){return function(key){return object==null?undefined:object[key];};}/**
   * The base implementation of `_.reduce` and `_.reduceRight`, without support
   * for iteratee shorthands, which iterates over `collection` using `eachFunc`.
   *
   * @private
   * @param {Array|Object} collection The collection to iterate over.
   * @param {Function} iteratee The function invoked per iteration.
   * @param {*} accumulator The initial value.
   * @param {boolean} initAccum Specify using the first or last element of
   *  `collection` as the initial value.
   * @param {Function} eachFunc The function to iterate over `collection`.
   * @returns {*} Returns the accumulated value.
   */function baseReduce(collection,iteratee,accumulator,initAccum,eachFunc){eachFunc(collection,function(value,index,collection){accumulator=initAccum?(initAccum=false,value):iteratee(accumulator,value,index,collection);});return accumulator;}/**
   * The base implementation of `_.sortBy` which uses `comparer` to define the
   * sort order of `array` and replaces criteria objects with their corresponding
   * values.
   *
   * @private
   * @param {Array} array The array to sort.
   * @param {Function} comparer The function to define sort order.
   * @returns {Array} Returns `array`.
   */function baseSortBy(array,comparer){var length=array.length;array.sort(comparer);while(length--){array[length]=array[length].value;}return array;}/**
   * The base implementation of `_.sum` and `_.sumBy` without support for
   * iteratee shorthands.
   *
   * @private
   * @param {Array} array The array to iterate over.
   * @param {Function} iteratee The function invoked per iteration.
   * @returns {number} Returns the sum.
   */function baseSum(array,iteratee){var result,index=-1,length=array.length;while(++index<length){var current=iteratee(array[index]);if(current!==undefined){result=result===undefined?current:result+current;}}return result;}/**
   * The base implementation of `_.times` without support for iteratee shorthands
   * or max array length checks.
   *
   * @private
   * @param {number} n The number of times to invoke `iteratee`.
   * @param {Function} iteratee The function invoked per iteration.
   * @returns {Array} Returns the array of results.
   */function baseTimes(n,iteratee){var index=-1,result=Array(n);while(++index<n){result[index]=iteratee(index);}return result;}/**
   * The base implementation of `_.toPairs` and `_.toPairsIn` which creates an array
   * of key-value pairs for `object` corresponding to the property names of `props`.
   *
   * @private
   * @param {Object} object The object to query.
   * @param {Array} props The property names to get values for.
   * @returns {Object} Returns the key-value pairs.
   */function baseToPairs(object,props){return arrayMap(props,function(key){return[key,object[key]];});}/**
   * The base implementation of `_.unary` without support for storing metadata.
   *
   * @private
   * @param {Function} func The function to cap arguments for.
   * @returns {Function} Returns the new capped function.
   */function baseUnary(func){return function(value){return func(value);};}/**
   * The base implementation of `_.values` and `_.valuesIn` which creates an
   * array of `object` property values corresponding to the property names
   * of `props`.
   *
   * @private
   * @param {Object} object The object to query.
   * @param {Array} props The property names to get values for.
   * @returns {Object} Returns the array of property values.
   */function baseValues(object,props){return arrayMap(props,function(key){return object[key];});}/**
   * Checks if a `cache` value for `key` exists.
   *
   * @private
   * @param {Object} cache The cache to query.
   * @param {string} key The key of the entry to check.
   * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.
   */function cacheHas(cache,key){return cache.has(key);}/**
   * Used by `_.trim` and `_.trimStart` to get the index of the first string symbol
   * that is not found in the character symbols.
   *
   * @private
   * @param {Array} strSymbols The string symbols to inspect.
   * @param {Array} chrSymbols The character symbols to find.
   * @returns {number} Returns the index of the first unmatched string symbol.
   */function charsStartIndex(strSymbols,chrSymbols){var index=-1,length=strSymbols.length;while(++index<length&&baseIndexOf(chrSymbols,strSymbols[index],0)>-1){}return index;}/**
   * Used by `_.trim` and `_.trimEnd` to get the index of the last string symbol
   * that is not found in the character symbols.
   *
   * @private
   * @param {Array} strSymbols The string symbols to inspect.
   * @param {Array} chrSymbols The character symbols to find.
   * @returns {number} Returns the index of the last unmatched string symbol.
   */function charsEndIndex(strSymbols,chrSymbols){var index=strSymbols.length;while(index--&&baseIndexOf(chrSymbols,strSymbols[index],0)>-1){}return index;}/**
   * Gets the number of `placeholder` occurrences in `array`.
   *
   * @private
   * @param {Array} array The array to inspect.
   * @param {*} placeholder The placeholder to search for.
   * @returns {number} Returns the placeholder count.
   */function countHolders(array,placeholder){var length=array.length,result=0;while(length--){if(array[length]===placeholder){++result;}}return result;}/**
   * Used by `_.deburr` to convert Latin-1 Supplement and Latin Extended-A
   * letters to basic Latin letters.
   *
   * @private
   * @param {string} letter The matched letter to deburr.
   * @returns {string} Returns the deburred letter.
   */var deburrLetter=basePropertyOf(deburredLetters);/**
   * Used by `_.escape` to convert characters to HTML entities.
   *
   * @private
   * @param {string} chr The matched character to escape.
   * @returns {string} Returns the escaped character.
   */var escapeHtmlChar=basePropertyOf(htmlEscapes);/**
   * Used by `_.template` to escape characters for inclusion in compiled string literals.
   *
   * @private
   * @param {string} chr The matched character to escape.
   * @returns {string} Returns the escaped character.
   */function escapeStringChar(chr){return'\\'+stringEscapes[chr];}/**
   * Gets the value at `key` of `object`.
   *
   * @private
   * @param {Object} [object] The object to query.
   * @param {string} key The key of the property to get.
   * @returns {*} Returns the property value.
   */function getValue(object,key){return object==null?undefined:object[key];}/**
   * Checks if `string` contains Unicode symbols.
   *
   * @private
   * @param {string} string The string to inspect.
   * @returns {boolean} Returns `true` if a symbol is found, else `false`.
   */function hasUnicode(string){return reHasUnicode.test(string);}/**
   * Checks if `string` contains a word composed of Unicode symbols.
   *
   * @private
   * @param {string} string The string to inspect.
   * @returns {boolean} Returns `true` if a word is found, else `false`.
   */function hasUnicodeWord(string){return reHasUnicodeWord.test(string);}/**
   * Converts `iterator` to an array.
   *
   * @private
   * @param {Object} iterator The iterator to convert.
   * @returns {Array} Returns the converted array.
   */function iteratorToArray(iterator){var data,result=[];while(!(data=iterator.next()).done){result.push(data.value);}return result;}/**
   * Converts `map` to its key-value pairs.
   *
   * @private
   * @param {Object} map The map to convert.
   * @returns {Array} Returns the key-value pairs.
   */function mapToArray(map){var index=-1,result=Array(map.size);map.forEach(function(value,key){result[++index]=[key,value];});return result;}/**
   * Creates a unary function that invokes `func` with its argument transformed.
   *
   * @private
   * @param {Function} func The function to wrap.
   * @param {Function} transform The argument transform.
   * @returns {Function} Returns the new function.
   */function overArg(func,transform){return function(arg){return func(transform(arg));};}/**
   * Replaces all `placeholder` elements in `array` with an internal placeholder
   * and returns an array of their indexes.
   *
   * @private
   * @param {Array} array The array to modify.
   * @param {*} placeholder The placeholder to replace.
   * @returns {Array} Returns the new array of placeholder indexes.
   */function replaceHolders(array,placeholder){var index=-1,length=array.length,resIndex=0,result=[];while(++index<length){var value=array[index];if(value===placeholder||value===PLACEHOLDER){array[index]=PLACEHOLDER;result[resIndex++]=index;}}return result;}/**
   * Converts `set` to an array of its values.
   *
   * @private
   * @param {Object} set The set to convert.
   * @returns {Array} Returns the values.
   */function setToArray(set){var index=-1,result=Array(set.size);set.forEach(function(value){result[++index]=value;});return result;}/**
   * Converts `set` to its value-value pairs.
   *
   * @private
   * @param {Object} set The set to convert.
   * @returns {Array} Returns the value-value pairs.
   */function setToPairs(set){var index=-1,result=Array(set.size);set.forEach(function(value){result[++index]=[value,value];});return result;}/**
   * A specialized version of `_.indexOf` which performs strict equality
   * comparisons of values, i.e. `===`.
   *
   * @private
   * @param {Array} array The array to inspect.
   * @param {*} value The value to search for.
   * @param {number} fromIndex The index to search from.
   * @returns {number} Returns the index of the matched value, else `-1`.
   */function strictIndexOf(array,value,fromIndex){var index=fromIndex-1,length=array.length;while(++index<length){if(array[index]===value){return index;}}return-1;}/**
   * A specialized version of `_.lastIndexOf` which performs strict equality
   * comparisons of values, i.e. `===`.
   *
   * @private
   * @param {Array} array The array to inspect.
   * @param {*} value The value to search for.
   * @param {number} fromIndex The index to search from.
   * @returns {number} Returns the index of the matched value, else `-1`.
   */function strictLastIndexOf(array,value,fromIndex){var index=fromIndex+1;while(index--){if(array[index]===value){return index;}}return index;}/**
   * Gets the number of symbols in `string`.
   *
   * @private
   * @param {string} string The string to inspect.
   * @returns {number} Returns the string size.
   */function stringSize(string){return hasUnicode(string)?unicodeSize(string):asciiSize(string);}/**
   * Converts `string` to an array.
   *
   * @private
   * @param {string} string The string to convert.
   * @returns {Array} Returns the converted array.
   */function stringToArray(string){return hasUnicode(string)?unicodeToArray(string):asciiToArray(string);}/**
   * Used by `_.unescape` to convert HTML entities to characters.
   *
   * @private
   * @param {string} chr The matched character to unescape.
   * @returns {string} Returns the unescaped character.
   */var unescapeHtmlChar=basePropertyOf(htmlUnescapes);/**
   * Gets the size of a Unicode `string`.
   *
   * @private
   * @param {string} string The string inspect.
   * @returns {number} Returns the string size.
   */function unicodeSize(string){var result=reUnicode.lastIndex=0;while(reUnicode.test(string)){++result;}return result;}/**
   * Converts a Unicode `string` to an array.
   *
   * @private
   * @param {string} string The string to convert.
   * @returns {Array} Returns the converted array.
   */function unicodeToArray(string){return string.match(reUnicode)||[];}/**
   * Splits a Unicode `string` into an array of its words.
   *
   * @private
   * @param {string} The string to inspect.
   * @returns {Array} Returns the words of `string`.
   */function unicodeWords(string){return string.match(reUnicodeWord)||[];}/*--------------------------------------------------------------------------*//**
   * Create a new pristine `lodash` function using the `context` object.
   *
   * @static
   * @memberOf _
   * @since 1.1.0
   * @category Util
   * @param {Object} [context=root] The context object.
   * @returns {Function} Returns a new `lodash` function.
   * @example
   *
   * _.mixin({ 'foo': _.constant('foo') });
   *
   * var lodash = _.runInContext();
   * lodash.mixin({ 'bar': lodash.constant('bar') });
   *
   * _.isFunction(_.foo);
   * // => true
   * _.isFunction(_.bar);
   * // => false
   *
   * lodash.isFunction(lodash.foo);
   * // => false
   * lodash.isFunction(lodash.bar);
   * // => true
   *
   * // Create a suped-up `defer` in Node.js.
   * var defer = _.runInContext({ 'setTimeout': setImmediate }).defer;
   */var runInContext=function runInContext(context){context=context==null?root:_.defaults(root.Object(),context,_.pick(root,contextProps));/** Built-in constructor references. */var Array=context.Array,Date=context.Date,Error=context.Error,Function=context.Function,Math=context.Math,Object=context.Object,RegExp=context.RegExp,String=context.String,TypeError=context.TypeError;/** Used for built-in method references. */var arrayProto=Array.prototype,funcProto=Function.prototype,objectProto=Object.prototype;/** Used to detect overreaching core-js shims. */var coreJsData=context['__core-js_shared__'];/** Used to resolve the decompiled source of functions. */var funcToString=funcProto.toString;/** Used to check objects for own properties. */var hasOwnProperty=objectProto.hasOwnProperty;/** Used to generate unique IDs. */var idCounter=0;/** Used to detect methods masquerading as native. */var maskSrcKey=function(){var uid=/[^.]+$/.exec(coreJsData&&coreJsData.keys&&coreJsData.keys.IE_PROTO||'');return uid?'Symbol(src)_1.'+uid:'';}();/**
     * Used to resolve the
     * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)
     * of values.
     */var nativeObjectToString=objectProto.toString;/** Used to infer the `Object` constructor. */var objectCtorString=funcToString.call(Object);/** Used to restore the original `_` reference in `_.noConflict`. */var oldDash=root._;/** Used to detect if a method is native. */var reIsNative=RegExp('^'+funcToString.call(hasOwnProperty).replace(reRegExpChar,'\\$&').replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,'$1.*?')+'$');/** Built-in value references. */var Buffer=moduleExports?context.Buffer:undefined,_Symbol5=context.Symbol,Uint8Array=context.Uint8Array,allocUnsafe=Buffer?Buffer.allocUnsafe:undefined,getPrototype=overArg(Object.getPrototypeOf,Object),objectCreate=Object.create,propertyIsEnumerable=objectProto.propertyIsEnumerable,splice=arrayProto.splice,spreadableSymbol=_Symbol5?_Symbol5.isConcatSpreadable:undefined,symIterator=_Symbol5?_Symbol5.iterator:undefined,symToStringTag=_Symbol5?_Symbol5.toStringTag:undefined;var defineProperty=function(){try{var func=getNative(Object,'defineProperty');func({},'',{});return func;}catch(e){}}();/** Mocked built-ins. */var ctxClearTimeout=context.clearTimeout!==root.clearTimeout&&context.clearTimeout,ctxNow=Date&&Date.now!==root.Date.now&&Date.now,ctxSetTimeout=context.setTimeout!==root.setTimeout&&context.setTimeout;/* Built-in method references for those with the same name as other `lodash` methods. */var nativeCeil=Math.ceil,nativeFloor=Math.floor,nativeGetSymbols=Object.getOwnPropertySymbols,nativeIsBuffer=Buffer?Buffer.isBuffer:undefined,nativeIsFinite=context.isFinite,nativeJoin=arrayProto.join,nativeKeys=overArg(Object.keys,Object),nativeMax=Math.max,nativeMin=Math.min,nativeNow=Date.now,nativeParseInt=context.parseInt,nativeRandom=Math.random,nativeReverse=arrayProto.reverse;/* Built-in method references that are verified to be native. */var DataView=getNative(context,'DataView'),Map=getNative(context,'Map'),Promise=getNative(context,'Promise'),Set=getNative(context,'Set'),WeakMap=getNative(context,'WeakMap'),nativeCreate=getNative(Object,'create');/** Used to store function metadata. */var metaMap=WeakMap&&new WeakMap();/** Used to lookup unminified function names. */var realNames={};/** Used to detect maps, sets, and weakmaps. */var dataViewCtorString=toSource(DataView),mapCtorString=toSource(Map),promiseCtorString=toSource(Promise),setCtorString=toSource(Set),weakMapCtorString=toSource(WeakMap);/** Used to convert symbols to primitives and strings. */var symbolProto=_Symbol5?_Symbol5.prototype:undefined,symbolValueOf=symbolProto?symbolProto.valueOf:undefined,symbolToString=symbolProto?symbolProto.toString:undefined;/*------------------------------------------------------------------------*//**
     * Creates a `lodash` object which wraps `value` to enable implicit method
     * chain sequences. Methods that operate on and return arrays, collections,
     * and functions can be chained together. Methods that retrieve a single value
     * or may return a primitive value will automatically end the chain sequence
     * and return the unwrapped value. Otherwise, the value must be unwrapped
     * with `_#value`.
     *
     * Explicit chain sequences, which must be unwrapped with `_#value`, may be
     * enabled using `_.chain`.
     *
     * The execution of chained methods is lazy, that is, it's deferred until
     * `_#value` is implicitly or explicitly called.
     *
     * Lazy evaluation allows several methods to support shortcut fusion.
     * Shortcut fusion is an optimization to merge iteratee calls; this avoids
     * the creation of intermediate arrays and can greatly reduce the number of
     * iteratee executions. Sections of a chain sequence qualify for shortcut
     * fusion if the section is applied to an array and iteratees accept only
     * one argument. The heuristic for whether a section qualifies for shortcut
     * fusion is subject to change.
     *
     * Chaining is supported in custom builds as long as the `_#value` method is
     * directly or indirectly included in the build.
     *
     * In addition to lodash methods, wrappers have `Array` and `String` methods.
     *
     * The wrapper `Array` methods are:
     * `concat`, `join`, `pop`, `push`, `shift`, `sort`, `splice`, and `unshift`
     *
     * The wrapper `String` methods are:
     * `replace` and `split`
     *
     * The wrapper methods that support shortcut fusion are:
     * `at`, `compact`, `drop`, `dropRight`, `dropWhile`, `filter`, `find`,
     * `findLast`, `head`, `initial`, `last`, `map`, `reject`, `reverse`, `slice`,
     * `tail`, `take`, `takeRight`, `takeRightWhile`, `takeWhile`, and `toArray`
     *
     * The chainable wrapper methods are:
     * `after`, `ary`, `assign`, `assignIn`, `assignInWith`, `assignWith`, `at`,
     * `before`, `bind`, `bindAll`, `bindKey`, `castArray`, `chain`, `chunk`,
     * `commit`, `compact`, `concat`, `conforms`, `constant`, `countBy`, `create`,
     * `curry`, `debounce`, `defaults`, `defaultsDeep`, `defer`, `delay`,
     * `difference`, `differenceBy`, `differenceWith`, `drop`, `dropRight`,
     * `dropRightWhile`, `dropWhile`, `extend`, `extendWith`, `fill`, `filter`,
     * `flatMap`, `flatMapDeep`, `flatMapDepth`, `flatten`, `flattenDeep`,
     * `flattenDepth`, `flip`, `flow`, `flowRight`, `fromPairs`, `functions`,
     * `functionsIn`, `groupBy`, `initial`, `intersection`, `intersectionBy`,
     * `intersectionWith`, `invert`, `invertBy`, `invokeMap`, `iteratee`, `keyBy`,
     * `keys`, `keysIn`, `map`, `mapKeys`, `mapValues`, `matches`, `matchesProperty`,
     * `memoize`, `merge`, `mergeWith`, `method`, `methodOf`, `mixin`, `negate`,
     * `nthArg`, `omit`, `omitBy`, `once`, `orderBy`, `over`, `overArgs`,
     * `overEvery`, `overSome`, `partial`, `partialRight`, `partition`, `pick`,
     * `pickBy`, `plant`, `property`, `propertyOf`, `pull`, `pullAll`, `pullAllBy`,
     * `pullAllWith`, `pullAt`, `push`, `range`, `rangeRight`, `rearg`, `reject`,
     * `remove`, `rest`, `reverse`, `sampleSize`, `set`, `setWith`, `shuffle`,
     * `slice`, `sort`, `sortBy`, `splice`, `spread`, `tail`, `take`, `takeRight`,
     * `takeRightWhile`, `takeWhile`, `tap`, `throttle`, `thru`, `toArray`,
     * `toPairs`, `toPairsIn`, `toPath`, `toPlainObject`, `transform`, `unary`,
     * `union`, `unionBy`, `unionWith`, `uniq`, `uniqBy`, `uniqWith`, `unset`,
     * `unshift`, `unzip`, `unzipWith`, `update`, `updateWith`, `values`,
     * `valuesIn`, `without`, `wrap`, `xor`, `xorBy`, `xorWith`, `zip`,
     * `zipObject`, `zipObjectDeep`, and `zipWith`
     *
     * The wrapper methods that are **not** chainable by default are:
     * `add`, `attempt`, `camelCase`, `capitalize`, `ceil`, `clamp`, `clone`,
     * `cloneDeep`, `cloneDeepWith`, `cloneWith`, `conformsTo`, `deburr`,
     * `defaultTo`, `divide`, `each`, `eachRight`, `endsWith`, `eq`, `escape`,
     * `escapeRegExp`, `every`, `find`, `findIndex`, `findKey`, `findLast`,
     * `findLastIndex`, `findLastKey`, `first`, `floor`, `forEach`, `forEachRight`,
     * `forIn`, `forInRight`, `forOwn`, `forOwnRight`, `get`, `gt`, `gte`, `has`,
     * `hasIn`, `head`, `identity`, `includes`, `indexOf`, `inRange`, `invoke`,
     * `isArguments`, `isArray`, `isArrayBuffer`, `isArrayLike`, `isArrayLikeObject`,
     * `isBoolean`, `isBuffer`, `isDate`, `isElement`, `isEmpty`, `isEqual`,
     * `isEqualWith`, `isError`, `isFinite`, `isFunction`, `isInteger`, `isLength`,
     * `isMap`, `isMatch`, `isMatchWith`, `isNaN`, `isNative`, `isNil`, `isNull`,
     * `isNumber`, `isObject`, `isObjectLike`, `isPlainObject`, `isRegExp`,
     * `isSafeInteger`, `isSet`, `isString`, `isUndefined`, `isTypedArray`,
     * `isWeakMap`, `isWeakSet`, `join`, `kebabCase`, `last`, `lastIndexOf`,
     * `lowerCase`, `lowerFirst`, `lt`, `lte`, `max`, `maxBy`, `mean`, `meanBy`,
     * `min`, `minBy`, `multiply`, `noConflict`, `noop`, `now`, `nth`, `pad`,
     * `padEnd`, `padStart`, `parseInt`, `pop`, `random`, `reduce`, `reduceRight`,
     * `repeat`, `result`, `round`, `runInContext`, `sample`, `shift`, `size`,
     * `snakeCase`, `some`, `sortedIndex`, `sortedIndexBy`, `sortedLastIndex`,
     * `sortedLastIndexBy`, `startCase`, `startsWith`, `stubArray`, `stubFalse`,
     * `stubObject`, `stubString`, `stubTrue`, `subtract`, `sum`, `sumBy`,
     * `template`, `times`, `toFinite`, `toInteger`, `toJSON`, `toLength`,
     * `toLower`, `toNumber`, `toSafeInteger`, `toString`, `toUpper`, `trim`,
     * `trimEnd`, `trimStart`, `truncate`, `unescape`, `uniqueId`, `upperCase`,
     * `upperFirst`, `value`, and `words`
     *
     * @name _
     * @constructor
     * @category Seq
     * @param {*} value The value to wrap in a `lodash` instance.
     * @returns {Object} Returns the new `lodash` wrapper instance.
     * @example
     *
     * function square(n) {
     *   return n * n;
     * }
     *
     * var wrapped = _([1, 2, 3]);
     *
     * // Returns an unwrapped value.
     * wrapped.reduce(_.add);
     * // => 6
     *
     * // Returns a wrapped value.
     * var squares = wrapped.map(square);
     *
     * _.isArray(squares);
     * // => false
     *
     * _.isArray(squares.value());
     * // => true
     */function lodash(value){if(isObjectLike(value)&&!isArray(value)&&!(value instanceof LazyWrapper)){if(value instanceof LodashWrapper){return value;}if(hasOwnProperty.call(value,'__wrapped__')){return wrapperClone(value);}}return new LodashWrapper(value);}/**
     * The base implementation of `_.create` without support for assigning
     * properties to the created object.
     *
     * @private
     * @param {Object} proto The object to inherit from.
     * @returns {Object} Returns the new object.
     */var baseCreate=function(){function object(){}return function(proto){if(!isObject(proto)){return{};}if(objectCreate){return objectCreate(proto);}object.prototype=proto;var result=new object();object.prototype=undefined;return result;};}();/**
     * The function whose prototype chain sequence wrappers inherit from.
     *
     * @private
     */function baseLodash(){}// No operation performed.
/**
     * The base constructor for creating `lodash` wrapper objects.
     *
     * @private
     * @param {*} value The value to wrap.
     * @param {boolean} [chainAll] Enable explicit method chain sequences.
     */function LodashWrapper(value,chainAll){this.__wrapped__=value;this.__actions__=[];this.__chain__=!!chainAll;this.__index__=0;this.__values__=undefined;}/**
     * By default, the template delimiters used by lodash are like those in
     * embedded Ruby (ERB) as well as ES2015 template strings. Change the
     * following template settings to use alternative delimiters.
     *
     * @static
     * @memberOf _
     * @type {Object}
     */lodash.templateSettings={/**
       * Used to detect `data` property values to be HTML-escaped.
       *
       * @memberOf _.templateSettings
       * @type {RegExp}
       */'escape':reEscape,/**
       * Used to detect code to be evaluated.
       *
       * @memberOf _.templateSettings
       * @type {RegExp}
       */'evaluate':reEvaluate,/**
       * Used to detect `data` property values to inject.
       *
       * @memberOf _.templateSettings
       * @type {RegExp}
       */'interpolate':reInterpolate,/**
       * Used to reference the data object in the template text.
       *
       * @memberOf _.templateSettings
       * @type {string}
       */'variable':'',/**
       * Used to import variables into the compiled template.
       *
       * @memberOf _.templateSettings
       * @type {Object}
       */'imports':{/**
         * A reference to the `lodash` function.
         *
         * @memberOf _.templateSettings.imports
         * @type {Function}
         */'_':lodash}};// Ensure wrappers are instances of `baseLodash`.
lodash.prototype=baseLodash.prototype;lodash.prototype.constructor=lodash;LodashWrapper.prototype=baseCreate(baseLodash.prototype);LodashWrapper.prototype.constructor=LodashWrapper;/*------------------------------------------------------------------------*//**
     * Creates a lazy wrapper object which wraps `value` to enable lazy evaluation.
     *
     * @private
     * @constructor
     * @param {*} value The value to wrap.
     */function LazyWrapper(value){this.__wrapped__=value;this.__actions__=[];this.__dir__=1;this.__filtered__=false;this.__iteratees__=[];this.__takeCount__=MAX_ARRAY_LENGTH;this.__views__=[];}/**
     * Creates a clone of the lazy wrapper object.
     *
     * @private
     * @name clone
     * @memberOf LazyWrapper
     * @returns {Object} Returns the cloned `LazyWrapper` object.
     */function lazyClone(){var result=new LazyWrapper(this.__wrapped__);result.__actions__=copyArray(this.__actions__);result.__dir__=this.__dir__;result.__filtered__=this.__filtered__;result.__iteratees__=copyArray(this.__iteratees__);result.__takeCount__=this.__takeCount__;result.__views__=copyArray(this.__views__);return result;}/**
     * Reverses the direction of lazy iteration.
     *
     * @private
     * @name reverse
     * @memberOf LazyWrapper
     * @returns {Object} Returns the new reversed `LazyWrapper` object.
     */function lazyReverse(){if(this.__filtered__){var result=new LazyWrapper(this);result.__dir__=-1;result.__filtered__=true;}else{result=this.clone();result.__dir__*=-1;}return result;}/**
     * Extracts the unwrapped value from its lazy wrapper.
     *
     * @private
     * @name value
     * @memberOf LazyWrapper
     * @returns {*} Returns the unwrapped value.
     */function lazyValue(){var array=this.__wrapped__.value(),dir=this.__dir__,isArr=isArray(array),isRight=dir<0,arrLength=isArr?array.length:0,view=getView(0,arrLength,this.__views__),start=view.start,end=view.end,length=end-start,index=isRight?end:start-1,iteratees=this.__iteratees__,iterLength=iteratees.length,resIndex=0,takeCount=nativeMin(length,this.__takeCount__);if(!isArr||!isRight&&arrLength==length&&takeCount==length){return baseWrapperValue(array,this.__actions__);}var result=[];outer:while(length--&&resIndex<takeCount){index+=dir;var iterIndex=-1,value=array[index];while(++iterIndex<iterLength){var data=iteratees[iterIndex],iteratee=data.iteratee,type=data.type,computed=iteratee(value);if(type==LAZY_MAP_FLAG){value=computed;}else if(!computed){if(type==LAZY_FILTER_FLAG){continue outer;}else{break outer;}}}result[resIndex++]=value;}return result;}// Ensure `LazyWrapper` is an instance of `baseLodash`.
LazyWrapper.prototype=baseCreate(baseLodash.prototype);LazyWrapper.prototype.constructor=LazyWrapper;/*------------------------------------------------------------------------*//**
     * Creates a hash object.
     *
     * @private
     * @constructor
     * @param {Array} [entries] The key-value pairs to cache.
     */function Hash(entries){var index=-1,length=entries==null?0:entries.length;this.clear();while(++index<length){var entry=entries[index];this.set(entry[0],entry[1]);}}/**
     * Removes all key-value entries from the hash.
     *
     * @private
     * @name clear
     * @memberOf Hash
     */function hashClear(){this.__data__=nativeCreate?nativeCreate(null):{};this.size=0;}/**
     * Removes `key` and its value from the hash.
     *
     * @private
     * @name delete
     * @memberOf Hash
     * @param {Object} hash The hash to modify.
     * @param {string} key The key of the value to remove.
     * @returns {boolean} Returns `true` if the entry was removed, else `false`.
     */function hashDelete(key){var result=this.has(key)&&delete this.__data__[key];this.size-=result?1:0;return result;}/**
     * Gets the hash value for `key`.
     *
     * @private
     * @name get
     * @memberOf Hash
     * @param {string} key The key of the value to get.
     * @returns {*} Returns the entry value.
     */function hashGet(key){var data=this.__data__;if(nativeCreate){var result=data[key];return result===HASH_UNDEFINED?undefined:result;}return hasOwnProperty.call(data,key)?data[key]:undefined;}/**
     * Checks if a hash value for `key` exists.
     *
     * @private
     * @name has
     * @memberOf Hash
     * @param {string} key The key of the entry to check.
     * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.
     */function hashHas(key){var data=this.__data__;return nativeCreate?data[key]!==undefined:hasOwnProperty.call(data,key);}/**
     * Sets the hash `key` to `value`.
     *
     * @private
     * @name set
     * @memberOf Hash
     * @param {string} key The key of the value to set.
     * @param {*} value The value to set.
     * @returns {Object} Returns the hash instance.
     */function hashSet(key,value){var data=this.__data__;this.size+=this.has(key)?0:1;data[key]=nativeCreate&&value===undefined?HASH_UNDEFINED:value;return this;}// Add methods to `Hash`.
Hash.prototype.clear=hashClear;Hash.prototype['delete']=hashDelete;Hash.prototype.get=hashGet;Hash.prototype.has=hashHas;Hash.prototype.set=hashSet;/*------------------------------------------------------------------------*//**
     * Creates an list cache object.
     *
     * @private
     * @constructor
     * @param {Array} [entries] The key-value pairs to cache.
     */function ListCache(entries){var index=-1,length=entries==null?0:entries.length;this.clear();while(++index<length){var entry=entries[index];this.set(entry[0],entry[1]);}}/**
     * Removes all key-value entries from the list cache.
     *
     * @private
     * @name clear
     * @memberOf ListCache
     */function listCacheClear(){this.__data__=[];this.size=0;}/**
     * Removes `key` and its value from the list cache.
     *
     * @private
     * @name delete
     * @memberOf ListCache
     * @param {string} key The key of the value to remove.
     * @returns {boolean} Returns `true` if the entry was removed, else `false`.
     */function listCacheDelete(key){var data=this.__data__,index=assocIndexOf(data,key);if(index<0){return false;}var lastIndex=data.length-1;if(index==lastIndex){data.pop();}else{splice.call(data,index,1);}--this.size;return true;}/**
     * Gets the list cache value for `key`.
     *
     * @private
     * @name get
     * @memberOf ListCache
     * @param {string} key The key of the value to get.
     * @returns {*} Returns the entry value.
     */function listCacheGet(key){var data=this.__data__,index=assocIndexOf(data,key);return index<0?undefined:data[index][1];}/**
     * Checks if a list cache value for `key` exists.
     *
     * @private
     * @name has
     * @memberOf ListCache
     * @param {string} key The key of the entry to check.
     * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.
     */function listCacheHas(key){return assocIndexOf(this.__data__,key)>-1;}/**
     * Sets the list cache `key` to `value`.
     *
     * @private
     * @name set
     * @memberOf ListCache
     * @param {string} key The key of the value to set.
     * @param {*} value The value to set.
     * @returns {Object} Returns the list cache instance.
     */function listCacheSet(key,value){var data=this.__data__,index=assocIndexOf(data,key);if(index<0){++this.size;data.push([key,value]);}else{data[index][1]=value;}return this;}// Add methods to `ListCache`.
ListCache.prototype.clear=listCacheClear;ListCache.prototype['delete']=listCacheDelete;ListCache.prototype.get=listCacheGet;ListCache.prototype.has=listCacheHas;ListCache.prototype.set=listCacheSet;/*------------------------------------------------------------------------*//**
     * Creates a map cache object to store key-value pairs.
     *
     * @private
     * @constructor
     * @param {Array} [entries] The key-value pairs to cache.
     */function MapCache(entries){var index=-1,length=entries==null?0:entries.length;this.clear();while(++index<length){var entry=entries[index];this.set(entry[0],entry[1]);}}/**
     * Removes all key-value entries from the map.
     *
     * @private
     * @name clear
     * @memberOf MapCache
     */function mapCacheClear(){this.size=0;this.__data__={'hash':new Hash(),'map':new(Map||ListCache)(),'string':new Hash()};}/**
     * Removes `key` and its value from the map.
     *
     * @private
     * @name delete
     * @memberOf MapCache
     * @param {string} key The key of the value to remove.
     * @returns {boolean} Returns `true` if the entry was removed, else `false`.
     */function mapCacheDelete(key){var result=getMapData(this,key)['delete'](key);this.size-=result?1:0;return result;}/**
     * Gets the map value for `key`.
     *
     * @private
     * @name get
     * @memberOf MapCache
     * @param {string} key The key of the value to get.
     * @returns {*} Returns the entry value.
     */function mapCacheGet(key){return getMapData(this,key).get(key);}/**
     * Checks if a map value for `key` exists.
     *
     * @private
     * @name has
     * @memberOf MapCache
     * @param {string} key The key of the entry to check.
     * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.
     */function mapCacheHas(key){return getMapData(this,key).has(key);}/**
     * Sets the map `key` to `value`.
     *
     * @private
     * @name set
     * @memberOf MapCache
     * @param {string} key The key of the value to set.
     * @param {*} value The value to set.
     * @returns {Object} Returns the map cache instance.
     */function mapCacheSet(key,value){var data=getMapData(this,key),size=data.size;data.set(key,value);this.size+=data.size==size?0:1;return this;}// Add methods to `MapCache`.
MapCache.prototype.clear=mapCacheClear;MapCache.prototype['delete']=mapCacheDelete;MapCache.prototype.get=mapCacheGet;MapCache.prototype.has=mapCacheHas;MapCache.prototype.set=mapCacheSet;/*------------------------------------------------------------------------*//**
     *
     * Creates an array cache object to store unique values.
     *
     * @private
     * @constructor
     * @param {Array} [values] The values to cache.
     */function SetCache(values){var index=-1,length=values==null?0:values.length;this.__data__=new MapCache();while(++index<length){this.add(values[index]);}}/**
     * Adds `value` to the array cache.
     *
     * @private
     * @name add
     * @memberOf SetCache
     * @alias push
     * @param {*} value The value to cache.
     * @returns {Object} Returns the cache instance.
     */function setCacheAdd(value){this.__data__.set(value,HASH_UNDEFINED);return this;}/**
     * Checks if `value` is in the array cache.
     *
     * @private
     * @name has
     * @memberOf SetCache
     * @param {*} value The value to search for.
     * @returns {number} Returns `true` if `value` is found, else `false`.
     */function setCacheHas(value){return this.__data__.has(value);}// Add methods to `SetCache`.
SetCache.prototype.add=SetCache.prototype.push=setCacheAdd;SetCache.prototype.has=setCacheHas;/*------------------------------------------------------------------------*//**
     * Creates a stack cache object to store key-value pairs.
     *
     * @private
     * @constructor
     * @param {Array} [entries] The key-value pairs to cache.
     */function Stack(entries){var data=this.__data__=new ListCache(entries);this.size=data.size;}/**
     * Removes all key-value entries from the stack.
     *
     * @private
     * @name clear
     * @memberOf Stack
     */function stackClear(){this.__data__=new ListCache();this.size=0;}/**
     * Removes `key` and its value from the stack.
     *
     * @private
     * @name delete
     * @memberOf Stack
     * @param {string} key The key of the value to remove.
     * @returns {boolean} Returns `true` if the entry was removed, else `false`.
     */function stackDelete(key){var data=this.__data__,result=data['delete'](key);this.size=data.size;return result;}/**
     * Gets the stack value for `key`.
     *
     * @private
     * @name get
     * @memberOf Stack
     * @param {string} key The key of the value to get.
     * @returns {*} Returns the entry value.
     */function stackGet(key){return this.__data__.get(key);}/**
     * Checks if a stack value for `key` exists.
     *
     * @private
     * @name has
     * @memberOf Stack
     * @param {string} key The key of the entry to check.
     * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.
     */function stackHas(key){return this.__data__.has(key);}/**
     * Sets the stack `key` to `value`.
     *
     * @private
     * @name set
     * @memberOf Stack
     * @param {string} key The key of the value to set.
     * @param {*} value The value to set.
     * @returns {Object} Returns the stack cache instance.
     */function stackSet(key,value){var data=this.__data__;if(data instanceof ListCache){var pairs=data.__data__;if(!Map||pairs.length<LARGE_ARRAY_SIZE-1){pairs.push([key,value]);this.size=++data.size;return this;}data=this.__data__=new MapCache(pairs);}data.set(key,value);this.size=data.size;return this;}// Add methods to `Stack`.
Stack.prototype.clear=stackClear;Stack.prototype['delete']=stackDelete;Stack.prototype.get=stackGet;Stack.prototype.has=stackHas;Stack.prototype.set=stackSet;/*------------------------------------------------------------------------*//**
     * Creates an array of the enumerable property names of the array-like `value`.
     *
     * @private
     * @param {*} value The value to query.
     * @param {boolean} inherited Specify returning inherited property names.
     * @returns {Array} Returns the array of property names.
     */function arrayLikeKeys(value,inherited){var isArr=isArray(value),isArg=!isArr&&isArguments(value),isBuff=!isArr&&!isArg&&isBuffer(value),isType=!isArr&&!isArg&&!isBuff&&isTypedArray(value),skipIndexes=isArr||isArg||isBuff||isType,result=skipIndexes?baseTimes(value.length,String):[],length=result.length;for(var key in value){if((inherited||hasOwnProperty.call(value,key))&&!(skipIndexes&&(// Safari 9 has enumerable `arguments.length` in strict mode.
key=='length'||// Node.js 0.10 has enumerable non-index properties on buffers.
isBuff&&(key=='offset'||key=='parent')||// PhantomJS 2 has enumerable non-index properties on typed arrays.
isType&&(key=='buffer'||key=='byteLength'||key=='byteOffset')||// Skip index properties.
isIndex(key,length)))){result.push(key);}}return result;}/**
     * A specialized version of `_.sample` for arrays.
     *
     * @private
     * @param {Array} array The array to sample.
     * @returns {*} Returns the random element.
     */function arraySample(array){var length=array.length;return length?array[baseRandom(0,length-1)]:undefined;}/**
     * A specialized version of `_.sampleSize` for arrays.
     *
     * @private
     * @param {Array} array The array to sample.
     * @param {number} n The number of elements to sample.
     * @returns {Array} Returns the random elements.
     */function arraySampleSize(array,n){return shuffleSelf(copyArray(array),baseClamp(n,0,array.length));}/**
     * A specialized version of `_.shuffle` for arrays.
     *
     * @private
     * @param {Array} array The array to shuffle.
     * @returns {Array} Returns the new shuffled array.
     */function arrayShuffle(array){return shuffleSelf(copyArray(array));}/**
     * This function is like `assignValue` except that it doesn't assign
     * `undefined` values.
     *
     * @private
     * @param {Object} object The object to modify.
     * @param {string} key The key of the property to assign.
     * @param {*} value The value to assign.
     */function assignMergeValue(object,key,value){if(value!==undefined&&!eq(object[key],value)||value===undefined&&!(key in object)){baseAssignValue(object,key,value);}}/**
     * Assigns `value` to `key` of `object` if the existing value is not equivalent
     * using [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)
     * for equality comparisons.
     *
     * @private
     * @param {Object} object The object to modify.
     * @param {string} key The key of the property to assign.
     * @param {*} value The value to assign.
     */function assignValue(object,key,value){var objValue=object[key];if(!(hasOwnProperty.call(object,key)&&eq(objValue,value))||value===undefined&&!(key in object)){baseAssignValue(object,key,value);}}/**
     * Gets the index at which the `key` is found in `array` of key-value pairs.
     *
     * @private
     * @param {Array} array The array to inspect.
     * @param {*} key The key to search for.
     * @returns {number} Returns the index of the matched value, else `-1`.
     */function assocIndexOf(array,key){var length=array.length;while(length--){if(eq(array[length][0],key)){return length;}}return-1;}/**
     * Aggregates elements of `collection` on `accumulator` with keys transformed
     * by `iteratee` and values set by `setter`.
     *
     * @private
     * @param {Array|Object} collection The collection to iterate over.
     * @param {Function} setter The function to set `accumulator` values.
     * @param {Function} iteratee The iteratee to transform keys.
     * @param {Object} accumulator The initial aggregated object.
     * @returns {Function} Returns `accumulator`.
     */function baseAggregator(collection,setter,iteratee,accumulator){baseEach(collection,function(value,key,collection){setter(accumulator,value,iteratee(value),collection);});return accumulator;}/**
     * The base implementation of `_.assign` without support for multiple sources
     * or `customizer` functions.
     *
     * @private
     * @param {Object} object The destination object.
     * @param {Object} source The source object.
     * @returns {Object} Returns `object`.
     */function baseAssign(object,source){return object&&copyObject(source,keys(source),object);}/**
     * The base implementation of `_.assignIn` without support for multiple sources
     * or `customizer` functions.
     *
     * @private
     * @param {Object} object The destination object.
     * @param {Object} source The source object.
     * @returns {Object} Returns `object`.
     */function baseAssignIn(object,source){return object&&copyObject(source,keysIn(source),object);}/**
     * The base implementation of `assignValue` and `assignMergeValue` without
     * value checks.
     *
     * @private
     * @param {Object} object The object to modify.
     * @param {string} key The key of the property to assign.
     * @param {*} value The value to assign.
     */function baseAssignValue(object,key,value){if(key=='__proto__'&&defineProperty){defineProperty(object,key,{'configurable':true,'enumerable':true,'value':value,'writable':true});}else{object[key]=value;}}/**
     * The base implementation of `_.at` without support for individual paths.
     *
     * @private
     * @param {Object} object The object to iterate over.
     * @param {string[]} paths The property paths to pick.
     * @returns {Array} Returns the picked elements.
     */function baseAt(object,paths){var index=-1,length=paths.length,result=Array(length),skip=object==null;while(++index<length){result[index]=skip?undefined:get(object,paths[index]);}return result;}/**
     * The base implementation of `_.clamp` which doesn't coerce arguments.
     *
     * @private
     * @param {number} number The number to clamp.
     * @param {number} [lower] The lower bound.
     * @param {number} upper The upper bound.
     * @returns {number} Returns the clamped number.
     */function baseClamp(number,lower,upper){if(number===number){if(upper!==undefined){number=number<=upper?number:upper;}if(lower!==undefined){number=number>=lower?number:lower;}}return number;}/**
     * The base implementation of `_.clone` and `_.cloneDeep` which tracks
     * traversed objects.
     *
     * @private
     * @param {*} value The value to clone.
     * @param {boolean} bitmask The bitmask flags.
     *  1 - Deep clone
     *  2 - Flatten inherited properties
     *  4 - Clone symbols
     * @param {Function} [customizer] The function to customize cloning.
     * @param {string} [key] The key of `value`.
     * @param {Object} [object] The parent object of `value`.
     * @param {Object} [stack] Tracks traversed objects and their clone counterparts.
     * @returns {*} Returns the cloned value.
     */function baseClone(value,bitmask,customizer,key,object,stack){var result,isDeep=bitmask&CLONE_DEEP_FLAG,isFlat=bitmask&CLONE_FLAT_FLAG,isFull=bitmask&CLONE_SYMBOLS_FLAG;if(customizer){result=object?customizer(value,key,object,stack):customizer(value);}if(result!==undefined){return result;}if(!isObject(value)){return value;}var isArr=isArray(value);if(isArr){result=initCloneArray(value);if(!isDeep){return copyArray(value,result);}}else{var tag=getTag(value),isFunc=tag==funcTag||tag==genTag;if(isBuffer(value)){return cloneBuffer(value,isDeep);}if(tag==objectTag||tag==argsTag||isFunc&&!object){result=isFlat||isFunc?{}:initCloneObject(value);if(!isDeep){return isFlat?copySymbolsIn(value,baseAssignIn(result,value)):copySymbols(value,baseAssign(result,value));}}else{if(!cloneableTags[tag]){return object?value:{};}result=initCloneByTag(value,tag,baseClone,isDeep);}}// Check for circular references and return its corresponding clone.
stack||(stack=new Stack());var stacked=stack.get(value);if(stacked){return stacked;}stack.set(value,result);var keysFunc=isFull?isFlat?getAllKeysIn:getAllKeys:isFlat?keysIn:keys;var props=isArr?undefined:keysFunc(value);arrayEach(props||value,function(subValue,key){if(props){key=subValue;subValue=value[key];}// Recursively populate clone (susceptible to call stack limits).
assignValue(result,key,baseClone(subValue,bitmask,customizer,key,value,stack));});return result;}/**
     * The base implementation of `_.conforms` which doesn't clone `source`.
     *
     * @private
     * @param {Object} source The object of property predicates to conform to.
     * @returns {Function} Returns the new spec function.
     */function baseConforms(source){var props=keys(source);return function(object){return baseConformsTo(object,source,props);};}/**
     * The base implementation of `_.conformsTo` which accepts `props` to check.
     *
     * @private
     * @param {Object} object The object to inspect.
     * @param {Object} source The object of property predicates to conform to.
     * @returns {boolean} Returns `true` if `object` conforms, else `false`.
     */function baseConformsTo(object,source,props){var length=props.length;if(object==null){return!length;}object=Object(object);while(length--){var key=props[length],predicate=source[key],value=object[key];if(value===undefined&&!(key in object)||!predicate(value)){return false;}}return true;}/**
     * The base implementation of `_.delay` and `_.defer` which accepts `args`
     * to provide to `func`.
     *
     * @private
     * @param {Function} func The function to delay.
     * @param {number} wait The number of milliseconds to delay invocation.
     * @param {Array} args The arguments to provide to `func`.
     * @returns {number|Object} Returns the timer id or timeout object.
     */function baseDelay(func,wait,args){if(typeof func!='function'){throw new TypeError(FUNC_ERROR_TEXT);}return setTimeout(function(){func.apply(undefined,args);},wait);}/**
     * The base implementation of methods like `_.difference` without support
     * for excluding multiple arrays or iteratee shorthands.
     *
     * @private
     * @param {Array} array The array to inspect.
     * @param {Array} values The values to exclude.
     * @param {Function} [iteratee] The iteratee invoked per element.
     * @param {Function} [comparator] The comparator invoked per element.
     * @returns {Array} Returns the new array of filtered values.
     */function baseDifference(array,values,iteratee,comparator){var index=-1,includes=arrayIncludes,isCommon=true,length=array.length,result=[],valuesLength=values.length;if(!length){return result;}if(iteratee){values=arrayMap(values,baseUnary(iteratee));}if(comparator){includes=arrayIncludesWith;isCommon=false;}else if(values.length>=LARGE_ARRAY_SIZE){includes=cacheHas;isCommon=false;values=new SetCache(values);}outer:while(++index<length){var value=array[index],computed=iteratee==null?value:iteratee(value);value=comparator||value!==0?value:0;if(isCommon&&computed===computed){var valuesIndex=valuesLength;while(valuesIndex--){if(values[valuesIndex]===computed){continue outer;}}result.push(value);}else if(!includes(values,computed,comparator)){result.push(value);}}return result;}/**
     * The base implementation of `_.forEach` without support for iteratee shorthands.
     *
     * @private
     * @param {Array|Object} collection The collection to iterate over.
     * @param {Function} iteratee The function invoked per iteration.
     * @returns {Array|Object} Returns `collection`.
     */var baseEach=createBaseEach(baseForOwn);/**
     * The base implementation of `_.forEachRight` without support for iteratee shorthands.
     *
     * @private
     * @param {Array|Object} collection The collection to iterate over.
     * @param {Function} iteratee The function invoked per iteration.
     * @returns {Array|Object} Returns `collection`.
     */var baseEachRight=createBaseEach(baseForOwnRight,true);/**
     * The base implementation of `_.every` without support for iteratee shorthands.
     *
     * @private
     * @param {Array|Object} collection The collection to iterate over.
     * @param {Function} predicate The function invoked per iteration.
     * @returns {boolean} Returns `true` if all elements pass the predicate check,
     *  else `false`
     */function baseEvery(collection,predicate){var result=true;baseEach(collection,function(value,index,collection){result=!!predicate(value,index,collection);return result;});return result;}/**
     * The base implementation of methods like `_.max` and `_.min` which accepts a
     * `comparator` to determine the extremum value.
     *
     * @private
     * @param {Array} array The array to iterate over.
     * @param {Function} iteratee The iteratee invoked per iteration.
     * @param {Function} comparator The comparator used to compare values.
     * @returns {*} Returns the extremum value.
     */function baseExtremum(array,iteratee,comparator){var index=-1,length=array.length;while(++index<length){var value=array[index],current=iteratee(value);if(current!=null&&(computed===undefined?current===current&&!isSymbol(current):comparator(current,computed))){var computed=current,result=value;}}return result;}/**
     * The base implementation of `_.fill` without an iteratee call guard.
     *
     * @private
     * @param {Array} array The array to fill.
     * @param {*} value The value to fill `array` with.
     * @param {number} [start=0] The start position.
     * @param {number} [end=array.length] The end position.
     * @returns {Array} Returns `array`.
     */function baseFill(array,value,start,end){var length=array.length;start=toInteger(start);if(start<0){start=-start>length?0:length+start;}end=end===undefined||end>length?length:toInteger(end);if(end<0){end+=length;}end=start>end?0:toLength(end);while(start<end){array[start++]=value;}return array;}/**
     * The base implementation of `_.filter` without support for iteratee shorthands.
     *
     * @private
     * @param {Array|Object} collection The collection to iterate over.
     * @param {Function} predicate The function invoked per iteration.
     * @returns {Array} Returns the new filtered array.
     */function baseFilter(collection,predicate){var result=[];baseEach(collection,function(value,index,collection){if(predicate(value,index,collection)){result.push(value);}});return result;}/**
     * The base implementation of `_.flatten` with support for restricting flattening.
     *
     * @private
     * @param {Array} array The array to flatten.
     * @param {number} depth The maximum recursion depth.
     * @param {boolean} [predicate=isFlattenable] The function invoked per iteration.
     * @param {boolean} [isStrict] Restrict to values that pass `predicate` checks.
     * @param {Array} [result=[]] The initial result value.
     * @returns {Array} Returns the new flattened array.
     */function baseFlatten(array,depth,predicate,isStrict,result){var index=-1,length=array.length;predicate||(predicate=isFlattenable);result||(result=[]);while(++index<length){var value=array[index];if(depth>0&&predicate(value)){if(depth>1){// Recursively flatten arrays (susceptible to call stack limits).
baseFlatten(value,depth-1,predicate,isStrict,result);}else{arrayPush(result,value);}}else if(!isStrict){result[result.length]=value;}}return result;}/**
     * The base implementation of `baseForOwn` which iterates over `object`
     * properties returned by `keysFunc` and invokes `iteratee` for each property.
     * Iteratee functions may exit iteration early by explicitly returning `false`.
     *
     * @private
     * @param {Object} object The object to iterate over.
     * @param {Function} iteratee The function invoked per iteration.
     * @param {Function} keysFunc The function to get the keys of `object`.
     * @returns {Object} Returns `object`.
     */var baseFor=createBaseFor();/**
     * This function is like `baseFor` except that it iterates over properties
     * in the opposite order.
     *
     * @private
     * @param {Object} object The object to iterate over.
     * @param {Function} iteratee The function invoked per iteration.
     * @param {Function} keysFunc The function to get the keys of `object`.
     * @returns {Object} Returns `object`.
     */var baseForRight=createBaseFor(true);/**
     * The base implementation of `_.forOwn` without support for iteratee shorthands.
     *
     * @private
     * @param {Object} object The object to iterate over.
     * @param {Function} iteratee The function invoked per iteration.
     * @returns {Object} Returns `object`.
     */function baseForOwn(object,iteratee){return object&&baseFor(object,iteratee,keys);}/**
     * The base implementation of `_.forOwnRight` without support for iteratee shorthands.
     *
     * @private
     * @param {Object} object The object to iterate over.
     * @param {Function} iteratee The function invoked per iteration.
     * @returns {Object} Returns `object`.
     */function baseForOwnRight(object,iteratee){return object&&baseForRight(object,iteratee,keys);}/**
     * The base implementation of `_.functions` which creates an array of
     * `object` function property names filtered from `props`.
     *
     * @private
     * @param {Object} object The object to inspect.
     * @param {Array} props The property names to filter.
     * @returns {Array} Returns the function names.
     */function baseFunctions(object,props){return arrayFilter(props,function(key){return isFunction(object[key]);});}/**
     * The base implementation of `_.get` without support for default values.
     *
     * @private
     * @param {Object} object The object to query.
     * @param {Array|string} path The path of the property to get.
     * @returns {*} Returns the resolved value.
     */function baseGet(object,path){path=castPath(path,object);var index=0,length=path.length;while(object!=null&&index<length){object=object[toKey(path[index++])];}return index&&index==length?object:undefined;}/**
     * The base implementation of `getAllKeys` and `getAllKeysIn` which uses
     * `keysFunc` and `symbolsFunc` to get the enumerable property names and
     * symbols of `object`.
     *
     * @private
     * @param {Object} object The object to query.
     * @param {Function} keysFunc The function to get the keys of `object`.
     * @param {Function} symbolsFunc The function to get the symbols of `object`.
     * @returns {Array} Returns the array of property names and symbols.
     */function baseGetAllKeys(object,keysFunc,symbolsFunc){var result=keysFunc(object);return isArray(object)?result:arrayPush(result,symbolsFunc(object));}/**
     * The base implementation of `getTag` without fallbacks for buggy environments.
     *
     * @private
     * @param {*} value The value to query.
     * @returns {string} Returns the `toStringTag`.
     */function baseGetTag(value){if(value==null){return value===undefined?undefinedTag:nullTag;}return symToStringTag&&symToStringTag in Object(value)?getRawTag(value):objectToString(value);}/**
     * The base implementation of `_.gt` which doesn't coerce arguments.
     *
     * @private
     * @param {*} value The value to compare.
     * @param {*} other The other value to compare.
     * @returns {boolean} Returns `true` if `value` is greater than `other`,
     *  else `false`.
     */function baseGt(value,other){return value>other;}/**
     * The base implementation of `_.has` without support for deep paths.
     *
     * @private
     * @param {Object} [object] The object to query.
     * @param {Array|string} key The key to check.
     * @returns {boolean} Returns `true` if `key` exists, else `false`.
     */function baseHas(object,key){return object!=null&&hasOwnProperty.call(object,key);}/**
     * The base implementation of `_.hasIn` without support for deep paths.
     *
     * @private
     * @param {Object} [object] The object to query.
     * @param {Array|string} key The key to check.
     * @returns {boolean} Returns `true` if `key` exists, else `false`.
     */function baseHasIn(object,key){return object!=null&&key in Object(object);}/**
     * The base implementation of `_.inRange` which doesn't coerce arguments.
     *
     * @private
     * @param {number} number The number to check.
     * @param {number} start The start of the range.
     * @param {number} end The end of the range.
     * @returns {boolean} Returns `true` if `number` is in the range, else `false`.
     */function baseInRange(number,start,end){return number>=nativeMin(start,end)&&number<nativeMax(start,end);}/**
     * The base implementation of methods like `_.intersection`, without support
     * for iteratee shorthands, that accepts an array of arrays to inspect.
     *
     * @private
     * @param {Array} arrays The arrays to inspect.
     * @param {Function} [iteratee] The iteratee invoked per element.
     * @param {Function} [comparator] The comparator invoked per element.
     * @returns {Array} Returns the new array of shared values.
     */function baseIntersection(arrays,iteratee,comparator){var includes=comparator?arrayIncludesWith:arrayIncludes,length=arrays[0].length,othLength=arrays.length,othIndex=othLength,caches=Array(othLength),maxLength=Infinity,result=[];while(othIndex--){var array=arrays[othIndex];if(othIndex&&iteratee){array=arrayMap(array,baseUnary(iteratee));}maxLength=nativeMin(array.length,maxLength);caches[othIndex]=!comparator&&(iteratee||length>=120&&array.length>=120)?new SetCache(othIndex&&array):undefined;}array=arrays[0];var index=-1,seen=caches[0];outer:while(++index<length&&result.length<maxLength){var value=array[index],computed=iteratee?iteratee(value):value;value=comparator||value!==0?value:0;if(!(seen?cacheHas(seen,computed):includes(result,computed,comparator))){othIndex=othLength;while(--othIndex){var cache=caches[othIndex];if(!(cache?cacheHas(cache,computed):includes(arrays[othIndex],computed,comparator))){continue outer;}}if(seen){seen.push(computed);}result.push(value);}}return result;}/**
     * The base implementation of `_.invert` and `_.invertBy` which inverts
     * `object` with values transformed by `iteratee` and set by `setter`.
     *
     * @private
     * @param {Object} object The object to iterate over.
     * @param {Function} setter The function to set `accumulator` values.
     * @param {Function} iteratee The iteratee to transform values.
     * @param {Object} accumulator The initial inverted object.
     * @returns {Function} Returns `accumulator`.
     */function baseInverter(object,setter,iteratee,accumulator){baseForOwn(object,function(value,key,object){setter(accumulator,iteratee(value),key,object);});return accumulator;}/**
     * The base implementation of `_.invoke` without support for individual
     * method arguments.
     *
     * @private
     * @param {Object} object The object to query.
     * @param {Array|string} path The path of the method to invoke.
     * @param {Array} args The arguments to invoke the method with.
     * @returns {*} Returns the result of the invoked method.
     */function baseInvoke(object,path,args){path=castPath(path,object);object=parent(object,path);var func=object==null?object:object[toKey(last(path))];return func==null?undefined:apply(func,object,args);}/**
     * The base implementation of `_.isArguments`.
     *
     * @private
     * @param {*} value The value to check.
     * @returns {boolean} Returns `true` if `value` is an `arguments` object,
     */function baseIsArguments(value){return isObjectLike(value)&&baseGetTag(value)==argsTag;}/**
     * The base implementation of `_.isArrayBuffer` without Node.js optimizations.
     *
     * @private
     * @param {*} value The value to check.
     * @returns {boolean} Returns `true` if `value` is an array buffer, else `false`.
     */function baseIsArrayBuffer(value){return isObjectLike(value)&&baseGetTag(value)==arrayBufferTag;}/**
     * The base implementation of `_.isDate` without Node.js optimizations.
     *
     * @private
     * @param {*} value The value to check.
     * @returns {boolean} Returns `true` if `value` is a date object, else `false`.
     */function baseIsDate(value){return isObjectLike(value)&&baseGetTag(value)==dateTag;}/**
     * The base implementation of `_.isEqual` which supports partial comparisons
     * and tracks traversed objects.
     *
     * @private
     * @param {*} value The value to compare.
     * @param {*} other The other value to compare.
     * @param {boolean} bitmask The bitmask flags.
     *  1 - Unordered comparison
     *  2 - Partial comparison
     * @param {Function} [customizer] The function to customize comparisons.
     * @param {Object} [stack] Tracks traversed `value` and `other` objects.
     * @returns {boolean} Returns `true` if the values are equivalent, else `false`.
     */function baseIsEqual(value,other,bitmask,customizer,stack){if(value===other){return true;}if(value==null||other==null||!isObjectLike(value)&&!isObjectLike(other)){return value!==value&&other!==other;}return baseIsEqualDeep(value,other,bitmask,customizer,baseIsEqual,stack);}/**
     * A specialized version of `baseIsEqual` for arrays and objects which performs
     * deep comparisons and tracks traversed objects enabling objects with circular
     * references to be compared.
     *
     * @private
     * @param {Object} object The object to compare.
     * @param {Object} other The other object to compare.
     * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.
     * @param {Function} customizer The function to customize comparisons.
     * @param {Function} equalFunc The function to determine equivalents of values.
     * @param {Object} [stack] Tracks traversed `object` and `other` objects.
     * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.
     */function baseIsEqualDeep(object,other,bitmask,customizer,equalFunc,stack){var objIsArr=isArray(object),othIsArr=isArray(other),objTag=objIsArr?arrayTag:getTag(object),othTag=othIsArr?arrayTag:getTag(other);objTag=objTag==argsTag?objectTag:objTag;othTag=othTag==argsTag?objectTag:othTag;var objIsObj=objTag==objectTag,othIsObj=othTag==objectTag,isSameTag=objTag==othTag;if(isSameTag&&isBuffer(object)){if(!isBuffer(other)){return false;}objIsArr=true;objIsObj=false;}if(isSameTag&&!objIsObj){stack||(stack=new Stack());return objIsArr||isTypedArray(object)?equalArrays(object,other,bitmask,customizer,equalFunc,stack):equalByTag(object,other,objTag,bitmask,customizer,equalFunc,stack);}if(!(bitmask&COMPARE_PARTIAL_FLAG)){var objIsWrapped=objIsObj&&hasOwnProperty.call(object,'__wrapped__'),othIsWrapped=othIsObj&&hasOwnProperty.call(other,'__wrapped__');if(objIsWrapped||othIsWrapped){var objUnwrapped=objIsWrapped?object.value():object,othUnwrapped=othIsWrapped?other.value():other;stack||(stack=new Stack());return equalFunc(objUnwrapped,othUnwrapped,bitmask,customizer,stack);}}if(!isSameTag){return false;}stack||(stack=new Stack());return equalObjects(object,other,bitmask,customizer,equalFunc,stack);}/**
     * The base implementation of `_.isMap` without Node.js optimizations.
     *
     * @private
     * @param {*} value The value to check.
     * @returns {boolean} Returns `true` if `value` is a map, else `false`.
     */function baseIsMap(value){return isObjectLike(value)&&getTag(value)==mapTag;}/**
     * The base implementation of `_.isMatch` without support for iteratee shorthands.
     *
     * @private
     * @param {Object} object The object to inspect.
     * @param {Object} source The object of property values to match.
     * @param {Array} matchData The property names, values, and compare flags to match.
     * @param {Function} [customizer] The function to customize comparisons.
     * @returns {boolean} Returns `true` if `object` is a match, else `false`.
     */function baseIsMatch(object,source,matchData,customizer){var index=matchData.length,length=index,noCustomizer=!customizer;if(object==null){return!length;}object=Object(object);while(index--){var data=matchData[index];if(noCustomizer&&data[2]?data[1]!==object[data[0]]:!(data[0]in object)){return false;}}while(++index<length){data=matchData[index];var key=data[0],objValue=object[key],srcValue=data[1];if(noCustomizer&&data[2]){if(objValue===undefined&&!(key in object)){return false;}}else{var stack=new Stack();if(customizer){var result=customizer(objValue,srcValue,key,object,source,stack);}if(!(result===undefined?baseIsEqual(srcValue,objValue,COMPARE_PARTIAL_FLAG|COMPARE_UNORDERED_FLAG,customizer,stack):result)){return false;}}}return true;}/**
     * The base implementation of `_.isNative` without bad shim checks.
     *
     * @private
     * @param {*} value The value to check.
     * @returns {boolean} Returns `true` if `value` is a native function,
     *  else `false`.
     */function baseIsNative(value){if(!isObject(value)||isMasked(value)){return false;}var pattern=isFunction(value)?reIsNative:reIsHostCtor;return pattern.test(toSource(value));}/**
     * The base implementation of `_.isRegExp` without Node.js optimizations.
     *
     * @private
     * @param {*} value The value to check.
     * @returns {boolean} Returns `true` if `value` is a regexp, else `false`.
     */function baseIsRegExp(value){return isObjectLike(value)&&baseGetTag(value)==regexpTag;}/**
     * The base implementation of `_.isSet` without Node.js optimizations.
     *
     * @private
     * @param {*} value The value to check.
     * @returns {boolean} Returns `true` if `value` is a set, else `false`.
     */function baseIsSet(value){return isObjectLike(value)&&getTag(value)==setTag;}/**
     * The base implementation of `_.isTypedArray` without Node.js optimizations.
     *
     * @private
     * @param {*} value The value to check.
     * @returns {boolean} Returns `true` if `value` is a typed array, else `false`.
     */function baseIsTypedArray(value){return isObjectLike(value)&&isLength(value.length)&&!!typedArrayTags[baseGetTag(value)];}/**
     * The base implementation of `_.iteratee`.
     *
     * @private
     * @param {*} [value=_.identity] The value to convert to an iteratee.
     * @returns {Function} Returns the iteratee.
     */function baseIteratee(value){// Don't store the `typeof` result in a variable to avoid a JIT bug in Safari 9.
// See https://bugs.webkit.org/show_bug.cgi?id=156034 for more details.
if(typeof value=='function'){return value;}if(value==null){return identity;}if((typeof value==='undefined'?'undefined':_typeof(value))=='object'){return isArray(value)?baseMatchesProperty(value[0],value[1]):baseMatches(value);}return property(value);}/**
     * The base implementation of `_.keys` which doesn't treat sparse arrays as dense.
     *
     * @private
     * @param {Object} object The object to query.
     * @returns {Array} Returns the array of property names.
     */function baseKeys(object){if(!isPrototype(object)){return nativeKeys(object);}var result=[];for(var key in Object(object)){if(hasOwnProperty.call(object,key)&&key!='constructor'){result.push(key);}}return result;}/**
     * The base implementation of `_.keysIn` which doesn't treat sparse arrays as dense.
     *
     * @private
     * @param {Object} object The object to query.
     * @returns {Array} Returns the array of property names.
     */function baseKeysIn(object){if(!isObject(object)){return nativeKeysIn(object);}var isProto=isPrototype(object),result=[];for(var key in object){if(!(key=='constructor'&&(isProto||!hasOwnProperty.call(object,key)))){result.push(key);}}return result;}/**
     * The base implementation of `_.lt` which doesn't coerce arguments.
     *
     * @private
     * @param {*} value The value to compare.
     * @param {*} other The other value to compare.
     * @returns {boolean} Returns `true` if `value` is less than `other`,
     *  else `false`.
     */function baseLt(value,other){return value<other;}/**
     * The base implementation of `_.map` without support for iteratee shorthands.
     *
     * @private
     * @param {Array|Object} collection The collection to iterate over.
     * @param {Function} iteratee The function invoked per iteration.
     * @returns {Array} Returns the new mapped array.
     */function baseMap(collection,iteratee){var index=-1,result=isArrayLike(collection)?Array(collection.length):[];baseEach(collection,function(value,key,collection){result[++index]=iteratee(value,key,collection);});return result;}/**
     * The base implementation of `_.matches` which doesn't clone `source`.
     *
     * @private
     * @param {Object} source The object of property values to match.
     * @returns {Function} Returns the new spec function.
     */function baseMatches(source){var matchData=getMatchData(source);if(matchData.length==1&&matchData[0][2]){return matchesStrictComparable(matchData[0][0],matchData[0][1]);}return function(object){return object===source||baseIsMatch(object,source,matchData);};}/**
     * The base implementation of `_.matchesProperty` which doesn't clone `srcValue`.
     *
     * @private
     * @param {string} path The path of the property to get.
     * @param {*} srcValue The value to match.
     * @returns {Function} Returns the new spec function.
     */function baseMatchesProperty(path,srcValue){if(isKey(path)&&isStrictComparable(srcValue)){return matchesStrictComparable(toKey(path),srcValue);}return function(object){var objValue=get(object,path);return objValue===undefined&&objValue===srcValue?hasIn(object,path):baseIsEqual(srcValue,objValue,COMPARE_PARTIAL_FLAG|COMPARE_UNORDERED_FLAG);};}/**
     * The base implementation of `_.merge` without support for multiple sources.
     *
     * @private
     * @param {Object} object The destination object.
     * @param {Object} source The source object.
     * @param {number} srcIndex The index of `source`.
     * @param {Function} [customizer] The function to customize merged values.
     * @param {Object} [stack] Tracks traversed source values and their merged
     *  counterparts.
     */function baseMerge(object,source,srcIndex,customizer,stack){if(object===source){return;}baseFor(source,function(srcValue,key){if(isObject(srcValue)){stack||(stack=new Stack());baseMergeDeep(object,source,key,srcIndex,baseMerge,customizer,stack);}else{var newValue=customizer?customizer(object[key],srcValue,key+'',object,source,stack):undefined;if(newValue===undefined){newValue=srcValue;}assignMergeValue(object,key,newValue);}},keysIn);}/**
     * A specialized version of `baseMerge` for arrays and objects which performs
     * deep merges and tracks traversed objects enabling objects with circular
     * references to be merged.
     *
     * @private
     * @param {Object} object The destination object.
     * @param {Object} source The source object.
     * @param {string} key The key of the value to merge.
     * @param {number} srcIndex The index of `source`.
     * @param {Function} mergeFunc The function to merge values.
     * @param {Function} [customizer] The function to customize assigned values.
     * @param {Object} [stack] Tracks traversed source values and their merged
     *  counterparts.
     */function baseMergeDeep(object,source,key,srcIndex,mergeFunc,customizer,stack){var objValue=object[key],srcValue=source[key],stacked=stack.get(srcValue);if(stacked){assignMergeValue(object,key,stacked);return;}var newValue=customizer?customizer(objValue,srcValue,key+'',object,source,stack):undefined;var isCommon=newValue===undefined;if(isCommon){var isArr=isArray(srcValue),isBuff=!isArr&&isBuffer(srcValue),isTyped=!isArr&&!isBuff&&isTypedArray(srcValue);newValue=srcValue;if(isArr||isBuff||isTyped){if(isArray(objValue)){newValue=objValue;}else if(isArrayLikeObject(objValue)){newValue=copyArray(objValue);}else if(isBuff){isCommon=false;newValue=cloneBuffer(srcValue,true);}else if(isTyped){isCommon=false;newValue=cloneTypedArray(srcValue,true);}else{newValue=[];}}else if(isPlainObject(srcValue)||isArguments(srcValue)){newValue=objValue;if(isArguments(objValue)){newValue=toPlainObject(objValue);}else if(!isObject(objValue)||srcIndex&&isFunction(objValue)){newValue=initCloneObject(srcValue);}}else{isCommon=false;}}if(isCommon){// Recursively merge objects and arrays (susceptible to call stack limits).
stack.set(srcValue,newValue);mergeFunc(newValue,srcValue,srcIndex,customizer,stack);stack['delete'](srcValue);}assignMergeValue(object,key,newValue);}/**
     * The base implementation of `_.nth` which doesn't coerce arguments.
     *
     * @private
     * @param {Array} array The array to query.
     * @param {number} n The index of the element to return.
     * @returns {*} Returns the nth element of `array`.
     */function baseNth(array,n){var length=array.length;if(!length){return;}n+=n<0?length:0;return isIndex(n,length)?array[n]:undefined;}/**
     * The base implementation of `_.orderBy` without param guards.
     *
     * @private
     * @param {Array|Object} collection The collection to iterate over.
     * @param {Function[]|Object[]|string[]} iteratees The iteratees to sort by.
     * @param {string[]} orders The sort orders of `iteratees`.
     * @returns {Array} Returns the new sorted array.
     */function baseOrderBy(collection,iteratees,orders){var index=-1;iteratees=arrayMap(iteratees.length?iteratees:[identity],baseUnary(getIteratee()));var result=baseMap(collection,function(value,key,collection){var criteria=arrayMap(iteratees,function(iteratee){return iteratee(value);});return{'criteria':criteria,'index':++index,'value':value};});return baseSortBy(result,function(object,other){return compareMultiple(object,other,orders);});}/**
     * The base implementation of `_.pick` without support for individual
     * property identifiers.
     *
     * @private
     * @param {Object} object The source object.
     * @param {string[]} paths The property paths to pick.
     * @returns {Object} Returns the new object.
     */function basePick(object,paths){return basePickBy(object,paths,function(value,path){return hasIn(object,path);});}/**
     * The base implementation of  `_.pickBy` without support for iteratee shorthands.
     *
     * @private
     * @param {Object} object The source object.
     * @param {string[]} paths The property paths to pick.
     * @param {Function} predicate The function invoked per property.
     * @returns {Object} Returns the new object.
     */function basePickBy(object,paths,predicate){var index=-1,length=paths.length,result={};while(++index<length){var path=paths[index],value=baseGet(object,path);if(predicate(value,path)){baseSet(result,castPath(path,object),value);}}return result;}/**
     * A specialized version of `baseProperty` which supports deep paths.
     *
     * @private
     * @param {Array|string} path The path of the property to get.
     * @returns {Function} Returns the new accessor function.
     */function basePropertyDeep(path){return function(object){return baseGet(object,path);};}/**
     * The base implementation of `_.pullAllBy` without support for iteratee
     * shorthands.
     *
     * @private
     * @param {Array} array The array to modify.
     * @param {Array} values The values to remove.
     * @param {Function} [iteratee] The iteratee invoked per element.
     * @param {Function} [comparator] The comparator invoked per element.
     * @returns {Array} Returns `array`.
     */function basePullAll(array,values,iteratee,comparator){var indexOf=comparator?baseIndexOfWith:baseIndexOf,index=-1,length=values.length,seen=array;if(array===values){values=copyArray(values);}if(iteratee){seen=arrayMap(array,baseUnary(iteratee));}while(++index<length){var fromIndex=0,value=values[index],computed=iteratee?iteratee(value):value;while((fromIndex=indexOf(seen,computed,fromIndex,comparator))>-1){if(seen!==array){splice.call(seen,fromIndex,1);}splice.call(array,fromIndex,1);}}return array;}/**
     * The base implementation of `_.pullAt` without support for individual
     * indexes or capturing the removed elements.
     *
     * @private
     * @param {Array} array The array to modify.
     * @param {number[]} indexes The indexes of elements to remove.
     * @returns {Array} Returns `array`.
     */function basePullAt(array,indexes){var length=array?indexes.length:0,lastIndex=length-1;while(length--){var index=indexes[length];if(length==lastIndex||index!==previous){var previous=index;if(isIndex(index)){splice.call(array,index,1);}else{baseUnset(array,index);}}}return array;}/**
     * The base implementation of `_.random` without support for returning
     * floating-point numbers.
     *
     * @private
     * @param {number} lower The lower bound.
     * @param {number} upper The upper bound.
     * @returns {number} Returns the random number.
     */function baseRandom(lower,upper){return lower+nativeFloor(nativeRandom()*(upper-lower+1));}/**
     * The base implementation of `_.range` and `_.rangeRight` which doesn't
     * coerce arguments.
     *
     * @private
     * @param {number} start The start of the range.
     * @param {number} end The end of the range.
     * @param {number} step The value to increment or decrement by.
     * @param {boolean} [fromRight] Specify iterating from right to left.
     * @returns {Array} Returns the range of numbers.
     */function baseRange(start,end,step,fromRight){var index=-1,length=nativeMax(nativeCeil((end-start)/(step||1)),0),result=Array(length);while(length--){result[fromRight?length:++index]=start;start+=step;}return result;}/**
     * The base implementation of `_.repeat` which doesn't coerce arguments.
     *
     * @private
     * @param {string} string The string to repeat.
     * @param {number} n The number of times to repeat the string.
     * @returns {string} Returns the repeated string.
     */function baseRepeat(string,n){var result='';if(!string||n<1||n>MAX_SAFE_INTEGER){return result;}// Leverage the exponentiation by squaring algorithm for a faster repeat.
// See https://en.wikipedia.org/wiki/Exponentiation_by_squaring for more details.
do{if(n%2){result+=string;}n=nativeFloor(n/2);if(n){string+=string;}}while(n);return result;}/**
     * The base implementation of `_.rest` which doesn't validate or coerce arguments.
     *
     * @private
     * @param {Function} func The function to apply a rest parameter to.
     * @param {number} [start=func.length-1] The start position of the rest parameter.
     * @returns {Function} Returns the new function.
     */function baseRest(func,start){return setToString(overRest(func,start,identity),func+'');}/**
     * The base implementation of `_.sample`.
     *
     * @private
     * @param {Array|Object} collection The collection to sample.
     * @returns {*} Returns the random element.
     */function baseSample(collection){return arraySample(values(collection));}/**
     * The base implementation of `_.sampleSize` without param guards.
     *
     * @private
     * @param {Array|Object} collection The collection to sample.
     * @param {number} n The number of elements to sample.
     * @returns {Array} Returns the random elements.
     */function baseSampleSize(collection,n){var array=values(collection);return shuffleSelf(array,baseClamp(n,0,array.length));}/**
     * The base implementation of `_.set`.
     *
     * @private
     * @param {Object} object The object to modify.
     * @param {Array|string} path The path of the property to set.
     * @param {*} value The value to set.
     * @param {Function} [customizer] The function to customize path creation.
     * @returns {Object} Returns `object`.
     */function baseSet(object,path,value,customizer){if(!isObject(object)){return object;}path=castPath(path,object);var index=-1,length=path.length,lastIndex=length-1,nested=object;while(nested!=null&&++index<length){var key=toKey(path[index]),newValue=value;if(index!=lastIndex){var objValue=nested[key];newValue=customizer?customizer(objValue,key,nested):undefined;if(newValue===undefined){newValue=isObject(objValue)?objValue:isIndex(path[index+1])?[]:{};}}assignValue(nested,key,newValue);nested=nested[key];}return object;}/**
     * The base implementation of `setData` without support for hot loop shorting.
     *
     * @private
     * @param {Function} func The function to associate metadata with.
     * @param {*} data The metadata.
     * @returns {Function} Returns `func`.
     */var baseSetData=!metaMap?identity:function(func,data){metaMap.set(func,data);return func;};/**
     * The base implementation of `setToString` without support for hot loop shorting.
     *
     * @private
     * @param {Function} func The function to modify.
     * @param {Function} string The `toString` result.
     * @returns {Function} Returns `func`.
     */var baseSetToString=!defineProperty?identity:function(func,string){return defineProperty(func,'toString',{'configurable':true,'enumerable':false,'value':constant(string),'writable':true});};/**
     * The base implementation of `_.shuffle`.
     *
     * @private
     * @param {Array|Object} collection The collection to shuffle.
     * @returns {Array} Returns the new shuffled array.
     */function baseShuffle(collection){return shuffleSelf(values(collection));}/**
     * The base implementation of `_.slice` without an iteratee call guard.
     *
     * @private
     * @param {Array} array The array to slice.
     * @param {number} [start=0] The start position.
     * @param {number} [end=array.length] The end position.
     * @returns {Array} Returns the slice of `array`.
     */function baseSlice(array,start,end){var index=-1,length=array.length;if(start<0){start=-start>length?0:length+start;}end=end>length?length:end;if(end<0){end+=length;}length=start>end?0:end-start>>>0;start>>>=0;var result=Array(length);while(++index<length){result[index]=array[index+start];}return result;}/**
     * The base implementation of `_.some` without support for iteratee shorthands.
     *
     * @private
     * @param {Array|Object} collection The collection to iterate over.
     * @param {Function} predicate The function invoked per iteration.
     * @returns {boolean} Returns `true` if any element passes the predicate check,
     *  else `false`.
     */function baseSome(collection,predicate){var result;baseEach(collection,function(value,index,collection){result=predicate(value,index,collection);return!result;});return!!result;}/**
     * The base implementation of `_.sortedIndex` and `_.sortedLastIndex` which
     * performs a binary search of `array` to determine the index at which `value`
     * should be inserted into `array` in order to maintain its sort order.
     *
     * @private
     * @param {Array} array The sorted array to inspect.
     * @param {*} value The value to evaluate.
     * @param {boolean} [retHighest] Specify returning the highest qualified index.
     * @returns {number} Returns the index at which `value` should be inserted
     *  into `array`.
     */function baseSortedIndex(array,value,retHighest){var low=0,high=array==null?low:array.length;if(typeof value=='number'&&value===value&&high<=HALF_MAX_ARRAY_LENGTH){while(low<high){var mid=low+high>>>1,computed=array[mid];if(computed!==null&&!isSymbol(computed)&&(retHighest?computed<=value:computed<value)){low=mid+1;}else{high=mid;}}return high;}return baseSortedIndexBy(array,value,identity,retHighest);}/**
     * The base implementation of `_.sortedIndexBy` and `_.sortedLastIndexBy`
     * which invokes `iteratee` for `value` and each element of `array` to compute
     * their sort ranking. The iteratee is invoked with one argument; (value).
     *
     * @private
     * @param {Array} array The sorted array to inspect.
     * @param {*} value The value to evaluate.
     * @param {Function} iteratee The iteratee invoked per element.
     * @param {boolean} [retHighest] Specify returning the highest qualified index.
     * @returns {number} Returns the index at which `value` should be inserted
     *  into `array`.
     */function baseSortedIndexBy(array,value,iteratee,retHighest){value=iteratee(value);var low=0,high=array==null?0:array.length,valIsNaN=value!==value,valIsNull=value===null,valIsSymbol=isSymbol(value),valIsUndefined=value===undefined;while(low<high){var mid=nativeFloor((low+high)/2),computed=iteratee(array[mid]),othIsDefined=computed!==undefined,othIsNull=computed===null,othIsReflexive=computed===computed,othIsSymbol=isSymbol(computed);if(valIsNaN){var setLow=retHighest||othIsReflexive;}else if(valIsUndefined){setLow=othIsReflexive&&(retHighest||othIsDefined);}else if(valIsNull){setLow=othIsReflexive&&othIsDefined&&(retHighest||!othIsNull);}else if(valIsSymbol){setLow=othIsReflexive&&othIsDefined&&!othIsNull&&(retHighest||!othIsSymbol);}else if(othIsNull||othIsSymbol){setLow=false;}else{setLow=retHighest?computed<=value:computed<value;}if(setLow){low=mid+1;}else{high=mid;}}return nativeMin(high,MAX_ARRAY_INDEX);}/**
     * The base implementation of `_.sortedUniq` and `_.sortedUniqBy` without
     * support for iteratee shorthands.
     *
     * @private
     * @param {Array} array The array to inspect.
     * @param {Function} [iteratee] The iteratee invoked per element.
     * @returns {Array} Returns the new duplicate free array.
     */function baseSortedUniq(array,iteratee){var index=-1,length=array.length,resIndex=0,result=[];while(++index<length){var value=array[index],computed=iteratee?iteratee(value):value;if(!index||!eq(computed,seen)){var seen=computed;result[resIndex++]=value===0?0:value;}}return result;}/**
     * The base implementation of `_.toNumber` which doesn't ensure correct
     * conversions of binary, hexadecimal, or octal string values.
     *
     * @private
     * @param {*} value The value to process.
     * @returns {number} Returns the number.
     */function baseToNumber(value){if(typeof value=='number'){return value;}if(isSymbol(value)){return NAN;}return+value;}/**
     * The base implementation of `_.toString` which doesn't convert nullish
     * values to empty strings.
     *
     * @private
     * @param {*} value The value to process.
     * @returns {string} Returns the string.
     */function baseToString(value){// Exit early for strings to avoid a performance hit in some environments.
if(typeof value=='string'){return value;}if(isArray(value)){// Recursively convert values (susceptible to call stack limits).
return arrayMap(value,baseToString)+'';}if(isSymbol(value)){return symbolToString?symbolToString.call(value):'';}var result=value+'';return result=='0'&&1/value==-INFINITY?'-0':result;}/**
     * The base implementation of `_.uniqBy` without support for iteratee shorthands.
     *
     * @private
     * @param {Array} array The array to inspect.
     * @param {Function} [iteratee] The iteratee invoked per element.
     * @param {Function} [comparator] The comparator invoked per element.
     * @returns {Array} Returns the new duplicate free array.
     */function baseUniq(array,iteratee,comparator){var index=-1,includes=arrayIncludes,length=array.length,isCommon=true,result=[],seen=result;if(comparator){isCommon=false;includes=arrayIncludesWith;}else if(length>=LARGE_ARRAY_SIZE){var set=iteratee?null:createSet(array);if(set){return setToArray(set);}isCommon=false;includes=cacheHas;seen=new SetCache();}else{seen=iteratee?[]:result;}outer:while(++index<length){var value=array[index],computed=iteratee?iteratee(value):value;value=comparator||value!==0?value:0;if(isCommon&&computed===computed){var seenIndex=seen.length;while(seenIndex--){if(seen[seenIndex]===computed){continue outer;}}if(iteratee){seen.push(computed);}result.push(value);}else if(!includes(seen,computed,comparator)){if(seen!==result){seen.push(computed);}result.push(value);}}return result;}/**
     * The base implementation of `_.unset`.
     *
     * @private
     * @param {Object} object The object to modify.
     * @param {Array|string} path The property path to unset.
     * @returns {boolean} Returns `true` if the property is deleted, else `false`.
     */function baseUnset(object,path){path=castPath(path,object);object=parent(object,path);return object==null||delete object[toKey(last(path))];}/**
     * The base implementation of `_.update`.
     *
     * @private
     * @param {Object} object The object to modify.
     * @param {Array|string} path The path of the property to update.
     * @param {Function} updater The function to produce the updated value.
     * @param {Function} [customizer] The function to customize path creation.
     * @returns {Object} Returns `object`.
     */function baseUpdate(object,path,updater,customizer){return baseSet(object,path,updater(baseGet(object,path)),customizer);}/**
     * The base implementation of methods like `_.dropWhile` and `_.takeWhile`
     * without support for iteratee shorthands.
     *
     * @private
     * @param {Array} array The array to query.
     * @param {Function} predicate The function invoked per iteration.
     * @param {boolean} [isDrop] Specify dropping elements instead of taking them.
     * @param {boolean} [fromRight] Specify iterating from right to left.
     * @returns {Array} Returns the slice of `array`.
     */function baseWhile(array,predicate,isDrop,fromRight){var length=array.length,index=fromRight?length:-1;while((fromRight?index--:++index<length)&&predicate(array[index],index,array)){}return isDrop?baseSlice(array,fromRight?0:index,fromRight?index+1:length):baseSlice(array,fromRight?index+1:0,fromRight?length:index);}/**
     * The base implementation of `wrapperValue` which returns the result of
     * performing a sequence of actions on the unwrapped `value`, where each
     * successive action is supplied the return value of the previous.
     *
     * @private
     * @param {*} value The unwrapped value.
     * @param {Array} actions Actions to perform to resolve the unwrapped value.
     * @returns {*} Returns the resolved value.
     */function baseWrapperValue(value,actions){var result=value;if(result instanceof LazyWrapper){result=result.value();}return arrayReduce(actions,function(result,action){return action.func.apply(action.thisArg,arrayPush([result],action.args));},result);}/**
     * The base implementation of methods like `_.xor`, without support for
     * iteratee shorthands, that accepts an array of arrays to inspect.
     *
     * @private
     * @param {Array} arrays The arrays to inspect.
     * @param {Function} [iteratee] The iteratee invoked per element.
     * @param {Function} [comparator] The comparator invoked per element.
     * @returns {Array} Returns the new array of values.
     */function baseXor(arrays,iteratee,comparator){var length=arrays.length;if(length<2){return length?baseUniq(arrays[0]):[];}var index=-1,result=Array(length);while(++index<length){var array=arrays[index],othIndex=-1;while(++othIndex<length){if(othIndex!=index){result[index]=baseDifference(result[index]||array,arrays[othIndex],iteratee,comparator);}}}return baseUniq(baseFlatten(result,1),iteratee,comparator);}/**
     * This base implementation of `_.zipObject` which assigns values using `assignFunc`.
     *
     * @private
     * @param {Array} props The property identifiers.
     * @param {Array} values The property values.
     * @param {Function} assignFunc The function to assign values.
     * @returns {Object} Returns the new object.
     */function baseZipObject(props,values,assignFunc){var index=-1,length=props.length,valsLength=values.length,result={};while(++index<length){var value=index<valsLength?values[index]:undefined;assignFunc(result,props[index],value);}return result;}/**
     * Casts `value` to an empty array if it's not an array like object.
     *
     * @private
     * @param {*} value The value to inspect.
     * @returns {Array|Object} Returns the cast array-like object.
     */function castArrayLikeObject(value){return isArrayLikeObject(value)?value:[];}/**
     * Casts `value` to `identity` if it's not a function.
     *
     * @private
     * @param {*} value The value to inspect.
     * @returns {Function} Returns cast function.
     */function castFunction(value){return typeof value=='function'?value:identity;}/**
     * Casts `value` to a path array if it's not one.
     *
     * @private
     * @param {*} value The value to inspect.
     * @param {Object} [object] The object to query keys on.
     * @returns {Array} Returns the cast property path array.
     */function castPath(value,object){if(isArray(value)){return value;}return isKey(value,object)?[value]:stringToPath(toString(value));}/**
     * A `baseRest` alias which can be replaced with `identity` by module
     * replacement plugins.
     *
     * @private
     * @type {Function}
     * @param {Function} func The function to apply a rest parameter to.
     * @returns {Function} Returns the new function.
     */var castRest=baseRest;/**
     * Casts `array` to a slice if it's needed.
     *
     * @private
     * @param {Array} array The array to inspect.
     * @param {number} start The start position.
     * @param {number} [end=array.length] The end position.
     * @returns {Array} Returns the cast slice.
     */function castSlice(array,start,end){var length=array.length;end=end===undefined?length:end;return!start&&end>=length?array:baseSlice(array,start,end);}/**
     * A simple wrapper around the global [`clearTimeout`](https://mdn.io/clearTimeout).
     *
     * @private
     * @param {number|Object} id The timer id or timeout object of the timer to clear.
     */var clearTimeout=ctxClearTimeout||function(id){return root.clearTimeout(id);};/**
     * Creates a clone of  `buffer`.
     *
     * @private
     * @param {Buffer} buffer The buffer to clone.
     * @param {boolean} [isDeep] Specify a deep clone.
     * @returns {Buffer} Returns the cloned buffer.
     */function cloneBuffer(buffer,isDeep){if(isDeep){return buffer.slice();}var length=buffer.length,result=allocUnsafe?allocUnsafe(length):new buffer.constructor(length);buffer.copy(result);return result;}/**
     * Creates a clone of `arrayBuffer`.
     *
     * @private
     * @param {ArrayBuffer} arrayBuffer The array buffer to clone.
     * @returns {ArrayBuffer} Returns the cloned array buffer.
     */function cloneArrayBuffer(arrayBuffer){var result=new arrayBuffer.constructor(arrayBuffer.byteLength);new Uint8Array(result).set(new Uint8Array(arrayBuffer));return result;}/**
     * Creates a clone of `dataView`.
     *
     * @private
     * @param {Object} dataView The data view to clone.
     * @param {boolean} [isDeep] Specify a deep clone.
     * @returns {Object} Returns the cloned data view.
     */function cloneDataView(dataView,isDeep){var buffer=isDeep?cloneArrayBuffer(dataView.buffer):dataView.buffer;return new dataView.constructor(buffer,dataView.byteOffset,dataView.byteLength);}/**
     * Creates a clone of `map`.
     *
     * @private
     * @param {Object} map The map to clone.
     * @param {Function} cloneFunc The function to clone values.
     * @param {boolean} [isDeep] Specify a deep clone.
     * @returns {Object} Returns the cloned map.
     */function cloneMap(map,isDeep,cloneFunc){var array=isDeep?cloneFunc(mapToArray(map),CLONE_DEEP_FLAG):mapToArray(map);return arrayReduce(array,addMapEntry,new map.constructor());}/**
     * Creates a clone of `regexp`.
     *
     * @private
     * @param {Object} regexp The regexp to clone.
     * @returns {Object} Returns the cloned regexp.
     */function cloneRegExp(regexp){var result=new regexp.constructor(regexp.source,reFlags.exec(regexp));result.lastIndex=regexp.lastIndex;return result;}/**
     * Creates a clone of `set`.
     *
     * @private
     * @param {Object} set The set to clone.
     * @param {Function} cloneFunc The function to clone values.
     * @param {boolean} [isDeep] Specify a deep clone.
     * @returns {Object} Returns the cloned set.
     */function cloneSet(set,isDeep,cloneFunc){var array=isDeep?cloneFunc(setToArray(set),CLONE_DEEP_FLAG):setToArray(set);return arrayReduce(array,addSetEntry,new set.constructor());}/**
     * Creates a clone of the `symbol` object.
     *
     * @private
     * @param {Object} symbol The symbol object to clone.
     * @returns {Object} Returns the cloned symbol object.
     */function cloneSymbol(symbol){return symbolValueOf?Object(symbolValueOf.call(symbol)):{};}/**
     * Creates a clone of `typedArray`.
     *
     * @private
     * @param {Object} typedArray The typed array to clone.
     * @param {boolean} [isDeep] Specify a deep clone.
     * @returns {Object} Returns the cloned typed array.
     */function cloneTypedArray(typedArray,isDeep){var buffer=isDeep?cloneArrayBuffer(typedArray.buffer):typedArray.buffer;return new typedArray.constructor(buffer,typedArray.byteOffset,typedArray.length);}/**
     * Compares values to sort them in ascending order.
     *
     * @private
     * @param {*} value The value to compare.
     * @param {*} other The other value to compare.
     * @returns {number} Returns the sort order indicator for `value`.
     */function compareAscending(value,other){if(value!==other){var valIsDefined=value!==undefined,valIsNull=value===null,valIsReflexive=value===value,valIsSymbol=isSymbol(value);var othIsDefined=other!==undefined,othIsNull=other===null,othIsReflexive=other===other,othIsSymbol=isSymbol(other);if(!othIsNull&&!othIsSymbol&&!valIsSymbol&&value>other||valIsSymbol&&othIsDefined&&othIsReflexive&&!othIsNull&&!othIsSymbol||valIsNull&&othIsDefined&&othIsReflexive||!valIsDefined&&othIsReflexive||!valIsReflexive){return 1;}if(!valIsNull&&!valIsSymbol&&!othIsSymbol&&value<other||othIsSymbol&&valIsDefined&&valIsReflexive&&!valIsNull&&!valIsSymbol||othIsNull&&valIsDefined&&valIsReflexive||!othIsDefined&&valIsReflexive||!othIsReflexive){return-1;}}return 0;}/**
     * Used by `_.orderBy` to compare multiple properties of a value to another
     * and stable sort them.
     *
     * If `orders` is unspecified, all values are sorted in ascending order. Otherwise,
     * specify an order of "desc" for descending or "asc" for ascending sort order
     * of corresponding values.
     *
     * @private
     * @param {Object} object The object to compare.
     * @param {Object} other The other object to compare.
     * @param {boolean[]|string[]} orders The order to sort by for each property.
     * @returns {number} Returns the sort order indicator for `object`.
     */function compareMultiple(object,other,orders){var index=-1,objCriteria=object.criteria,othCriteria=other.criteria,length=objCriteria.length,ordersLength=orders.length;while(++index<length){var result=compareAscending(objCriteria[index],othCriteria[index]);if(result){if(index>=ordersLength){return result;}var order=orders[index];return result*(order=='desc'?-1:1);}}// Fixes an `Array#sort` bug in the JS engine embedded in Adobe applications
// that causes it, under certain circumstances, to provide the same value for
// `object` and `other`. See https://github.com/jashkenas/underscore/pull/1247
// for more details.
//
// This also ensures a stable sort in V8 and other engines.
// See https://bugs.chromium.org/p/v8/issues/detail?id=90 for more details.
return object.index-other.index;}/**
     * Creates an array that is the composition of partially applied arguments,
     * placeholders, and provided arguments into a single array of arguments.
     *
     * @private
     * @param {Array} args The provided arguments.
     * @param {Array} partials The arguments to prepend to those provided.
     * @param {Array} holders The `partials` placeholder indexes.
     * @params {boolean} [isCurried] Specify composing for a curried function.
     * @returns {Array} Returns the new array of composed arguments.
     */function composeArgs(args,partials,holders,isCurried){var argsIndex=-1,argsLength=args.length,holdersLength=holders.length,leftIndex=-1,leftLength=partials.length,rangeLength=nativeMax(argsLength-holdersLength,0),result=Array(leftLength+rangeLength),isUncurried=!isCurried;while(++leftIndex<leftLength){result[leftIndex]=partials[leftIndex];}while(++argsIndex<holdersLength){if(isUncurried||argsIndex<argsLength){result[holders[argsIndex]]=args[argsIndex];}}while(rangeLength--){result[leftIndex++]=args[argsIndex++];}return result;}/**
     * This function is like `composeArgs` except that the arguments composition
     * is tailored for `_.partialRight`.
     *
     * @private
     * @param {Array} args The provided arguments.
     * @param {Array} partials The arguments to append to those provided.
     * @param {Array} holders The `partials` placeholder indexes.
     * @params {boolean} [isCurried] Specify composing for a curried function.
     * @returns {Array} Returns the new array of composed arguments.
     */function composeArgsRight(args,partials,holders,isCurried){var argsIndex=-1,argsLength=args.length,holdersIndex=-1,holdersLength=holders.length,rightIndex=-1,rightLength=partials.length,rangeLength=nativeMax(argsLength-holdersLength,0),result=Array(rangeLength+rightLength),isUncurried=!isCurried;while(++argsIndex<rangeLength){result[argsIndex]=args[argsIndex];}var offset=argsIndex;while(++rightIndex<rightLength){result[offset+rightIndex]=partials[rightIndex];}while(++holdersIndex<holdersLength){if(isUncurried||argsIndex<argsLength){result[offset+holders[holdersIndex]]=args[argsIndex++];}}return result;}/**
     * Copies the values of `source` to `array`.
     *
     * @private
     * @param {Array} source The array to copy values from.
     * @param {Array} [array=[]] The array to copy values to.
     * @returns {Array} Returns `array`.
     */function copyArray(source,array){var index=-1,length=source.length;array||(array=Array(length));while(++index<length){array[index]=source[index];}return array;}/**
     * Copies properties of `source` to `object`.
     *
     * @private
     * @param {Object} source The object to copy properties from.
     * @param {Array} props The property identifiers to copy.
     * @param {Object} [object={}] The object to copy properties to.
     * @param {Function} [customizer] The function to customize copied values.
     * @returns {Object} Returns `object`.
     */function copyObject(source,props,object,customizer){var isNew=!object;object||(object={});var index=-1,length=props.length;while(++index<length){var key=props[index];var newValue=customizer?customizer(object[key],source[key],key,object,source):undefined;if(newValue===undefined){newValue=source[key];}if(isNew){baseAssignValue(object,key,newValue);}else{assignValue(object,key,newValue);}}return object;}/**
     * Copies own symbols of `source` to `object`.
     *
     * @private
     * @param {Object} source The object to copy symbols from.
     * @param {Object} [object={}] The object to copy symbols to.
     * @returns {Object} Returns `object`.
     */function copySymbols(source,object){return copyObject(source,getSymbols(source),object);}/**
     * Copies own and inherited symbols of `source` to `object`.
     *
     * @private
     * @param {Object} source The object to copy symbols from.
     * @param {Object} [object={}] The object to copy symbols to.
     * @returns {Object} Returns `object`.
     */function copySymbolsIn(source,object){return copyObject(source,getSymbolsIn(source),object);}/**
     * Creates a function like `_.groupBy`.
     *
     * @private
     * @param {Function} setter The function to set accumulator values.
     * @param {Function} [initializer] The accumulator object initializer.
     * @returns {Function} Returns the new aggregator function.
     */function createAggregator(setter,initializer){return function(collection,iteratee){var func=isArray(collection)?arrayAggregator:baseAggregator,accumulator=initializer?initializer():{};return func(collection,setter,getIteratee(iteratee,2),accumulator);};}/**
     * Creates a function like `_.assign`.
     *
     * @private
     * @param {Function} assigner The function to assign values.
     * @returns {Function} Returns the new assigner function.
     */function createAssigner(assigner){return baseRest(function(object,sources){var index=-1,length=sources.length,customizer=length>1?sources[length-1]:undefined,guard=length>2?sources[2]:undefined;customizer=assigner.length>3&&typeof customizer=='function'?(length--,customizer):undefined;if(guard&&isIterateeCall(sources[0],sources[1],guard)){customizer=length<3?undefined:customizer;length=1;}object=Object(object);while(++index<length){var source=sources[index];if(source){assigner(object,source,index,customizer);}}return object;});}/**
     * Creates a `baseEach` or `baseEachRight` function.
     *
     * @private
     * @param {Function} eachFunc The function to iterate over a collection.
     * @param {boolean} [fromRight] Specify iterating from right to left.
     * @returns {Function} Returns the new base function.
     */function createBaseEach(eachFunc,fromRight){return function(collection,iteratee){if(collection==null){return collection;}if(!isArrayLike(collection)){return eachFunc(collection,iteratee);}var length=collection.length,index=fromRight?length:-1,iterable=Object(collection);while(fromRight?index--:++index<length){if(iteratee(iterable[index],index,iterable)===false){break;}}return collection;};}/**
     * Creates a base function for methods like `_.forIn` and `_.forOwn`.
     *
     * @private
     * @param {boolean} [fromRight] Specify iterating from right to left.
     * @returns {Function} Returns the new base function.
     */function createBaseFor(fromRight){return function(object,iteratee,keysFunc){var index=-1,iterable=Object(object),props=keysFunc(object),length=props.length;while(length--){var key=props[fromRight?length:++index];if(iteratee(iterable[key],key,iterable)===false){break;}}return object;};}/**
     * Creates a function that wraps `func` to invoke it with the optional `this`
     * binding of `thisArg`.
     *
     * @private
     * @param {Function} func The function to wrap.
     * @param {number} bitmask The bitmask flags. See `createWrap` for more details.
     * @param {*} [thisArg] The `this` binding of `func`.
     * @returns {Function} Returns the new wrapped function.
     */function createBind(func,bitmask,thisArg){var isBind=bitmask&WRAP_BIND_FLAG,Ctor=createCtor(func);function wrapper(){var fn=this&&this!==root&&this instanceof wrapper?Ctor:func;return fn.apply(isBind?thisArg:this,arguments);}return wrapper;}/**
     * Creates a function like `_.lowerFirst`.
     *
     * @private
     * @param {string} methodName The name of the `String` case method to use.
     * @returns {Function} Returns the new case function.
     */function createCaseFirst(methodName){return function(string){string=toString(string);var strSymbols=hasUnicode(string)?stringToArray(string):undefined;var chr=strSymbols?strSymbols[0]:string.charAt(0);var trailing=strSymbols?castSlice(strSymbols,1).join(''):string.slice(1);return chr[methodName]()+trailing;};}/**
     * Creates a function like `_.camelCase`.
     *
     * @private
     * @param {Function} callback The function to combine each word.
     * @returns {Function} Returns the new compounder function.
     */function createCompounder(callback){return function(string){return arrayReduce(words(deburr(string).replace(reApos,'')),callback,'');};}/**
     * Creates a function that produces an instance of `Ctor` regardless of
     * whether it was invoked as part of a `new` expression or by `call` or `apply`.
     *
     * @private
     * @param {Function} Ctor The constructor to wrap.
     * @returns {Function} Returns the new wrapped function.
     */function createCtor(Ctor){return function(){// Use a `switch` statement to work with class constructors. See
// http://ecma-international.org/ecma-262/7.0/#sec-ecmascript-function-objects-call-thisargument-argumentslist
// for more details.
var args=arguments;switch(args.length){case 0:return new Ctor();case 1:return new Ctor(args[0]);case 2:return new Ctor(args[0],args[1]);case 3:return new Ctor(args[0],args[1],args[2]);case 4:return new Ctor(args[0],args[1],args[2],args[3]);case 5:return new Ctor(args[0],args[1],args[2],args[3],args[4]);case 6:return new Ctor(args[0],args[1],args[2],args[3],args[4],args[5]);case 7:return new Ctor(args[0],args[1],args[2],args[3],args[4],args[5],args[6]);}var thisBinding=baseCreate(Ctor.prototype),result=Ctor.apply(thisBinding,args);// Mimic the constructor's `return` behavior.
// See https://es5.github.io/#x13.2.2 for more details.
return isObject(result)?result:thisBinding;};}/**
     * Creates a function that wraps `func` to enable currying.
     *
     * @private
     * @param {Function} func The function to wrap.
     * @param {number} bitmask The bitmask flags. See `createWrap` for more details.
     * @param {number} arity The arity of `func`.
     * @returns {Function} Returns the new wrapped function.
     */function createCurry(func,bitmask,arity){var Ctor=createCtor(func);function wrapper(){var length=arguments.length,args=Array(length),index=length,placeholder=getHolder(wrapper);while(index--){args[index]=arguments[index];}var holders=length<3&&args[0]!==placeholder&&args[length-1]!==placeholder?[]:replaceHolders(args,placeholder);length-=holders.length;if(length<arity){return createRecurry(func,bitmask,createHybrid,wrapper.placeholder,undefined,args,holders,undefined,undefined,arity-length);}var fn=this&&this!==root&&this instanceof wrapper?Ctor:func;return apply(fn,this,args);}return wrapper;}/**
     * Creates a `_.find` or `_.findLast` function.
     *
     * @private
     * @param {Function} findIndexFunc The function to find the collection index.
     * @returns {Function} Returns the new find function.
     */function createFind(findIndexFunc){return function(collection,predicate,fromIndex){var iterable=Object(collection);if(!isArrayLike(collection)){var iteratee=getIteratee(predicate,3);collection=keys(collection);predicate=function predicate(key){return iteratee(iterable[key],key,iterable);};}var index=findIndexFunc(collection,predicate,fromIndex);return index>-1?iterable[iteratee?collection[index]:index]:undefined;};}/**
     * Creates a `_.flow` or `_.flowRight` function.
     *
     * @private
     * @param {boolean} [fromRight] Specify iterating from right to left.
     * @returns {Function} Returns the new flow function.
     */function createFlow(fromRight){return flatRest(function(funcs){var length=funcs.length,index=length,prereq=LodashWrapper.prototype.thru;if(fromRight){funcs.reverse();}while(index--){var func=funcs[index];if(typeof func!='function'){throw new TypeError(FUNC_ERROR_TEXT);}if(prereq&&!wrapper&&getFuncName(func)=='wrapper'){var wrapper=new LodashWrapper([],true);}}index=wrapper?index:length;while(++index<length){func=funcs[index];var funcName=getFuncName(func),data=funcName=='wrapper'?getData(func):undefined;if(data&&isLaziable(data[0])&&data[1]==(WRAP_ARY_FLAG|WRAP_CURRY_FLAG|WRAP_PARTIAL_FLAG|WRAP_REARG_FLAG)&&!data[4].length&&data[9]==1){wrapper=wrapper[getFuncName(data[0])].apply(wrapper,data[3]);}else{wrapper=func.length==1&&isLaziable(func)?wrapper[funcName]():wrapper.thru(func);}}return function(){var args=arguments,value=args[0];if(wrapper&&args.length==1&&isArray(value)){return wrapper.plant(value).value();}var index=0,result=length?funcs[index].apply(this,args):value;while(++index<length){result=funcs[index].call(this,result);}return result;};});}/**
     * Creates a function that wraps `func` to invoke it with optional `this`
     * binding of `thisArg`, partial application, and currying.
     *
     * @private
     * @param {Function|string} func The function or method name to wrap.
     * @param {number} bitmask The bitmask flags. See `createWrap` for more details.
     * @param {*} [thisArg] The `this` binding of `func`.
     * @param {Array} [partials] The arguments to prepend to those provided to
     *  the new function.
     * @param {Array} [holders] The `partials` placeholder indexes.
     * @param {Array} [partialsRight] The arguments to append to those provided
     *  to the new function.
     * @param {Array} [holdersRight] The `partialsRight` placeholder indexes.
     * @param {Array} [argPos] The argument positions of the new function.
     * @param {number} [ary] The arity cap of `func`.
     * @param {number} [arity] The arity of `func`.
     * @returns {Function} Returns the new wrapped function.
     */function createHybrid(func,bitmask,thisArg,partials,holders,partialsRight,holdersRight,argPos,ary,arity){var isAry=bitmask&WRAP_ARY_FLAG,isBind=bitmask&WRAP_BIND_FLAG,isBindKey=bitmask&WRAP_BIND_KEY_FLAG,isCurried=bitmask&(WRAP_CURRY_FLAG|WRAP_CURRY_RIGHT_FLAG),isFlip=bitmask&WRAP_FLIP_FLAG,Ctor=isBindKey?undefined:createCtor(func);function wrapper(){var length=arguments.length,args=Array(length),index=length;while(index--){args[index]=arguments[index];}if(isCurried){var placeholder=getHolder(wrapper),holdersCount=countHolders(args,placeholder);}if(partials){args=composeArgs(args,partials,holders,isCurried);}if(partialsRight){args=composeArgsRight(args,partialsRight,holdersRight,isCurried);}length-=holdersCount;if(isCurried&&length<arity){var newHolders=replaceHolders(args,placeholder);return createRecurry(func,bitmask,createHybrid,wrapper.placeholder,thisArg,args,newHolders,argPos,ary,arity-length);}var thisBinding=isBind?thisArg:this,fn=isBindKey?thisBinding[func]:func;length=args.length;if(argPos){args=reorder(args,argPos);}else if(isFlip&&length>1){args.reverse();}if(isAry&&ary<length){args.length=ary;}if(this&&this!==root&&this instanceof wrapper){fn=Ctor||createCtor(fn);}return fn.apply(thisBinding,args);}return wrapper;}/**
     * Creates a function like `_.invertBy`.
     *
     * @private
     * @param {Function} setter The function to set accumulator values.
     * @param {Function} toIteratee The function to resolve iteratees.
     * @returns {Function} Returns the new inverter function.
     */function createInverter(setter,toIteratee){return function(object,iteratee){return baseInverter(object,setter,toIteratee(iteratee),{});};}/**
     * Creates a function that performs a mathematical operation on two values.
     *
     * @private
     * @param {Function} operator The function to perform the operation.
     * @param {number} [defaultValue] The value used for `undefined` arguments.
     * @returns {Function} Returns the new mathematical operation function.
     */function createMathOperation(operator,defaultValue){return function(value,other){var result;if(value===undefined&&other===undefined){return defaultValue;}if(value!==undefined){result=value;}if(other!==undefined){if(result===undefined){return other;}if(typeof value=='string'||typeof other=='string'){value=baseToString(value);other=baseToString(other);}else{value=baseToNumber(value);other=baseToNumber(other);}result=operator(value,other);}return result;};}/**
     * Creates a function like `_.over`.
     *
     * @private
     * @param {Function} arrayFunc The function to iterate over iteratees.
     * @returns {Function} Returns the new over function.
     */function createOver(arrayFunc){return flatRest(function(iteratees){iteratees=arrayMap(iteratees,baseUnary(getIteratee()));return baseRest(function(args){var thisArg=this;return arrayFunc(iteratees,function(iteratee){return apply(iteratee,thisArg,args);});});});}/**
     * Creates the padding for `string` based on `length`. The `chars` string
     * is truncated if the number of characters exceeds `length`.
     *
     * @private
     * @param {number} length The padding length.
     * @param {string} [chars=' '] The string used as padding.
     * @returns {string} Returns the padding for `string`.
     */function createPadding(length,chars){chars=chars===undefined?' ':baseToString(chars);var charsLength=chars.length;if(charsLength<2){return charsLength?baseRepeat(chars,length):chars;}var result=baseRepeat(chars,nativeCeil(length/stringSize(chars)));return hasUnicode(chars)?castSlice(stringToArray(result),0,length).join(''):result.slice(0,length);}/**
     * Creates a function that wraps `func` to invoke it with the `this` binding
     * of `thisArg` and `partials` prepended to the arguments it receives.
     *
     * @private
     * @param {Function} func The function to wrap.
     * @param {number} bitmask The bitmask flags. See `createWrap` for more details.
     * @param {*} thisArg The `this` binding of `func`.
     * @param {Array} partials The arguments to prepend to those provided to
     *  the new function.
     * @returns {Function} Returns the new wrapped function.
     */function createPartial(func,bitmask,thisArg,partials){var isBind=bitmask&WRAP_BIND_FLAG,Ctor=createCtor(func);function wrapper(){var argsIndex=-1,argsLength=arguments.length,leftIndex=-1,leftLength=partials.length,args=Array(leftLength+argsLength),fn=this&&this!==root&&this instanceof wrapper?Ctor:func;while(++leftIndex<leftLength){args[leftIndex]=partials[leftIndex];}while(argsLength--){args[leftIndex++]=arguments[++argsIndex];}return apply(fn,isBind?thisArg:this,args);}return wrapper;}/**
     * Creates a `_.range` or `_.rangeRight` function.
     *
     * @private
     * @param {boolean} [fromRight] Specify iterating from right to left.
     * @returns {Function} Returns the new range function.
     */function createRange(fromRight){return function(start,end,step){if(step&&typeof step!='number'&&isIterateeCall(start,end,step)){end=step=undefined;}// Ensure the sign of `-0` is preserved.
start=toFinite(start);if(end===undefined){end=start;start=0;}else{end=toFinite(end);}step=step===undefined?start<end?1:-1:toFinite(step);return baseRange(start,end,step,fromRight);};}/**
     * Creates a function that performs a relational operation on two values.
     *
     * @private
     * @param {Function} operator The function to perform the operation.
     * @returns {Function} Returns the new relational operation function.
     */function createRelationalOperation(operator){return function(value,other){if(!(typeof value=='string'&&typeof other=='string')){value=toNumber(value);other=toNumber(other);}return operator(value,other);};}/**
     * Creates a function that wraps `func` to continue currying.
     *
     * @private
     * @param {Function} func The function to wrap.
     * @param {number} bitmask The bitmask flags. See `createWrap` for more details.
     * @param {Function} wrapFunc The function to create the `func` wrapper.
     * @param {*} placeholder The placeholder value.
     * @param {*} [thisArg] The `this` binding of `func`.
     * @param {Array} [partials] The arguments to prepend to those provided to
     *  the new function.
     * @param {Array} [holders] The `partials` placeholder indexes.
     * @param {Array} [argPos] The argument positions of the new function.
     * @param {number} [ary] The arity cap of `func`.
     * @param {number} [arity] The arity of `func`.
     * @returns {Function} Returns the new wrapped function.
     */function createRecurry(func,bitmask,wrapFunc,placeholder,thisArg,partials,holders,argPos,ary,arity){var isCurry=bitmask&WRAP_CURRY_FLAG,newHolders=isCurry?holders:undefined,newHoldersRight=isCurry?undefined:holders,newPartials=isCurry?partials:undefined,newPartialsRight=isCurry?undefined:partials;bitmask|=isCurry?WRAP_PARTIAL_FLAG:WRAP_PARTIAL_RIGHT_FLAG;bitmask&=~(isCurry?WRAP_PARTIAL_RIGHT_FLAG:WRAP_PARTIAL_FLAG);if(!(bitmask&WRAP_CURRY_BOUND_FLAG)){bitmask&=~(WRAP_BIND_FLAG|WRAP_BIND_KEY_FLAG);}var newData=[func,bitmask,thisArg,newPartials,newHolders,newPartialsRight,newHoldersRight,argPos,ary,arity];var result=wrapFunc.apply(undefined,newData);if(isLaziable(func)){setData(result,newData);}result.placeholder=placeholder;return setWrapToString(result,func,bitmask);}/**
     * Creates a function like `_.round`.
     *
     * @private
     * @param {string} methodName The name of the `Math` method to use when rounding.
     * @returns {Function} Returns the new round function.
     */function createRound(methodName){var func=Math[methodName];return function(number,precision){number=toNumber(number);precision=precision==null?0:nativeMin(toInteger(precision),292);if(precision){// Shift with exponential notation to avoid floating-point issues.
// See [MDN](https://mdn.io/round#Examples) for more details.
var pair=(toString(number)+'e').split('e'),value=func(pair[0]+'e'+(+pair[1]+precision));pair=(toString(value)+'e').split('e');return+(pair[0]+'e'+(+pair[1]-precision));}return func(number);};}/**
     * Creates a set object of `values`.
     *
     * @private
     * @param {Array} values The values to add to the set.
     * @returns {Object} Returns the new set.
     */var createSet=!(Set&&1/setToArray(new Set([,-0]))[1]==INFINITY)?noop:function(values){return new Set(values);};/**
     * Creates a `_.toPairs` or `_.toPairsIn` function.
     *
     * @private
     * @param {Function} keysFunc The function to get the keys of a given object.
     * @returns {Function} Returns the new pairs function.
     */function createToPairs(keysFunc){return function(object){var tag=getTag(object);if(tag==mapTag){return mapToArray(object);}if(tag==setTag){return setToPairs(object);}return baseToPairs(object,keysFunc(object));};}/**
     * Creates a function that either curries or invokes `func` with optional
     * `this` binding and partially applied arguments.
     *
     * @private
     * @param {Function|string} func The function or method name to wrap.
     * @param {number} bitmask The bitmask flags.
     *    1 - `_.bind`
     *    2 - `_.bindKey`
     *    4 - `_.curry` or `_.curryRight` of a bound function
     *    8 - `_.curry`
     *   16 - `_.curryRight`
     *   32 - `_.partial`
     *   64 - `_.partialRight`
     *  128 - `_.rearg`
     *  256 - `_.ary`
     *  512 - `_.flip`
     * @param {*} [thisArg] The `this` binding of `func`.
     * @param {Array} [partials] The arguments to be partially applied.
     * @param {Array} [holders] The `partials` placeholder indexes.
     * @param {Array} [argPos] The argument positions of the new function.
     * @param {number} [ary] The arity cap of `func`.
     * @param {number} [arity] The arity of `func`.
     * @returns {Function} Returns the new wrapped function.
     */function createWrap(func,bitmask,thisArg,partials,holders,argPos,ary,arity){var isBindKey=bitmask&WRAP_BIND_KEY_FLAG;if(!isBindKey&&typeof func!='function'){throw new TypeError(FUNC_ERROR_TEXT);}var length=partials?partials.length:0;if(!length){bitmask&=~(WRAP_PARTIAL_FLAG|WRAP_PARTIAL_RIGHT_FLAG);partials=holders=undefined;}ary=ary===undefined?ary:nativeMax(toInteger(ary),0);arity=arity===undefined?arity:toInteger(arity);length-=holders?holders.length:0;if(bitmask&WRAP_PARTIAL_RIGHT_FLAG){var partialsRight=partials,holdersRight=holders;partials=holders=undefined;}var data=isBindKey?undefined:getData(func);var newData=[func,bitmask,thisArg,partials,holders,partialsRight,holdersRight,argPos,ary,arity];if(data){mergeData(newData,data);}func=newData[0];bitmask=newData[1];thisArg=newData[2];partials=newData[3];holders=newData[4];arity=newData[9]=newData[9]===undefined?isBindKey?0:func.length:nativeMax(newData[9]-length,0);if(!arity&&bitmask&(WRAP_CURRY_FLAG|WRAP_CURRY_RIGHT_FLAG)){bitmask&=~(WRAP_CURRY_FLAG|WRAP_CURRY_RIGHT_FLAG);}if(!bitmask||bitmask==WRAP_BIND_FLAG){var result=createBind(func,bitmask,thisArg);}else if(bitmask==WRAP_CURRY_FLAG||bitmask==WRAP_CURRY_RIGHT_FLAG){result=createCurry(func,bitmask,arity);}else if((bitmask==WRAP_PARTIAL_FLAG||bitmask==(WRAP_BIND_FLAG|WRAP_PARTIAL_FLAG))&&!holders.length){result=createPartial(func,bitmask,thisArg,partials);}else{result=createHybrid.apply(undefined,newData);}var setter=data?baseSetData:setData;return setWrapToString(setter(result,newData),func,bitmask);}/**
     * Used by `_.defaults` to customize its `_.assignIn` use to assign properties
     * of source objects to the destination object for all destination properties
     * that resolve to `undefined`.
     *
     * @private
     * @param {*} objValue The destination value.
     * @param {*} srcValue The source value.
     * @param {string} key The key of the property to assign.
     * @param {Object} object The parent object of `objValue`.
     * @returns {*} Returns the value to assign.
     */function customDefaultsAssignIn(objValue,srcValue,key,object){if(objValue===undefined||eq(objValue,objectProto[key])&&!hasOwnProperty.call(object,key)){return srcValue;}return objValue;}/**
     * Used by `_.defaultsDeep` to customize its `_.merge` use to merge source
     * objects into destination objects that are passed thru.
     *
     * @private
     * @param {*} objValue The destination value.
     * @param {*} srcValue The source value.
     * @param {string} key The key of the property to merge.
     * @param {Object} object The parent object of `objValue`.
     * @param {Object} source The parent object of `srcValue`.
     * @param {Object} [stack] Tracks traversed source values and their merged
     *  counterparts.
     * @returns {*} Returns the value to assign.
     */function customDefaultsMerge(objValue,srcValue,key,object,source,stack){if(isObject(objValue)&&isObject(srcValue)){// Recursively merge objects and arrays (susceptible to call stack limits).
stack.set(srcValue,objValue);baseMerge(objValue,srcValue,undefined,customDefaultsMerge,stack);stack['delete'](srcValue);}return objValue;}/**
     * Used by `_.omit` to customize its `_.cloneDeep` use to only clone plain
     * objects.
     *
     * @private
     * @param {*} value The value to inspect.
     * @param {string} key The key of the property to inspect.
     * @returns {*} Returns the uncloned value or `undefined` to defer cloning to `_.cloneDeep`.
     */function customOmitClone(value){return isPlainObject(value)?undefined:value;}/**
     * A specialized version of `baseIsEqualDeep` for arrays with support for
     * partial deep comparisons.
     *
     * @private
     * @param {Array} array The array to compare.
     * @param {Array} other The other array to compare.
     * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.
     * @param {Function} customizer The function to customize comparisons.
     * @param {Function} equalFunc The function to determine equivalents of values.
     * @param {Object} stack Tracks traversed `array` and `other` objects.
     * @returns {boolean} Returns `true` if the arrays are equivalent, else `false`.
     */function equalArrays(array,other,bitmask,customizer,equalFunc,stack){var isPartial=bitmask&COMPARE_PARTIAL_FLAG,arrLength=array.length,othLength=other.length;if(arrLength!=othLength&&!(isPartial&&othLength>arrLength)){return false;}// Assume cyclic values are equal.
var stacked=stack.get(array);if(stacked&&stack.get(other)){return stacked==other;}var index=-1,result=true,seen=bitmask&COMPARE_UNORDERED_FLAG?new SetCache():undefined;stack.set(array,other);stack.set(other,array);// Ignore non-index properties.
while(++index<arrLength){var arrValue=array[index],othValue=other[index];if(customizer){var compared=isPartial?customizer(othValue,arrValue,index,other,array,stack):customizer(arrValue,othValue,index,array,other,stack);}if(compared!==undefined){if(compared){continue;}result=false;break;}// Recursively compare arrays (susceptible to call stack limits).
if(seen){if(!arraySome(other,function(othValue,othIndex){if(!cacheHas(seen,othIndex)&&(arrValue===othValue||equalFunc(arrValue,othValue,bitmask,customizer,stack))){return seen.push(othIndex);}})){result=false;break;}}else if(!(arrValue===othValue||equalFunc(arrValue,othValue,bitmask,customizer,stack))){result=false;break;}}stack['delete'](array);stack['delete'](other);return result;}/**
     * A specialized version of `baseIsEqualDeep` for comparing objects of
     * the same `toStringTag`.
     *
     * **Note:** This function only supports comparing values with tags of
     * `Boolean`, `Date`, `Error`, `Number`, `RegExp`, or `String`.
     *
     * @private
     * @param {Object} object The object to compare.
     * @param {Object} other The other object to compare.
     * @param {string} tag The `toStringTag` of the objects to compare.
     * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.
     * @param {Function} customizer The function to customize comparisons.
     * @param {Function} equalFunc The function to determine equivalents of values.
     * @param {Object} stack Tracks traversed `object` and `other` objects.
     * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.
     */function equalByTag(object,other,tag,bitmask,customizer,equalFunc,stack){switch(tag){case dataViewTag:if(object.byteLength!=other.byteLength||object.byteOffset!=other.byteOffset){return false;}object=object.buffer;other=other.buffer;case arrayBufferTag:if(object.byteLength!=other.byteLength||!equalFunc(new Uint8Array(object),new Uint8Array(other))){return false;}return true;case boolTag:case dateTag:case numberTag:// Coerce booleans to `1` or `0` and dates to milliseconds.
// Invalid dates are coerced to `NaN`.
return eq(+object,+other);case errorTag:return object.name==other.name&&object.message==other.message;case regexpTag:case stringTag:// Coerce regexes to strings and treat strings, primitives and objects,
// as equal. See http://www.ecma-international.org/ecma-262/7.0/#sec-regexp.prototype.tostring
// for more details.
return object==other+'';case mapTag:var convert=mapToArray;case setTag:var isPartial=bitmask&COMPARE_PARTIAL_FLAG;convert||(convert=setToArray);if(object.size!=other.size&&!isPartial){return false;}// Assume cyclic values are equal.
var stacked=stack.get(object);if(stacked){return stacked==other;}bitmask|=COMPARE_UNORDERED_FLAG;// Recursively compare objects (susceptible to call stack limits).
stack.set(object,other);var result=equalArrays(convert(object),convert(other),bitmask,customizer,equalFunc,stack);stack['delete'](object);return result;case symbolTag:if(symbolValueOf){return symbolValueOf.call(object)==symbolValueOf.call(other);}}return false;}/**
     * A specialized version of `baseIsEqualDeep` for objects with support for
     * partial deep comparisons.
     *
     * @private
     * @param {Object} object The object to compare.
     * @param {Object} other The other object to compare.
     * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.
     * @param {Function} customizer The function to customize comparisons.
     * @param {Function} equalFunc The function to determine equivalents of values.
     * @param {Object} stack Tracks traversed `object` and `other` objects.
     * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.
     */function equalObjects(object,other,bitmask,customizer,equalFunc,stack){var isPartial=bitmask&COMPARE_PARTIAL_FLAG,objProps=getAllKeys(object),objLength=objProps.length,othProps=getAllKeys(other),othLength=othProps.length;if(objLength!=othLength&&!isPartial){return false;}var index=objLength;while(index--){var key=objProps[index];if(!(isPartial?key in other:hasOwnProperty.call(other,key))){return false;}}// Assume cyclic values are equal.
var stacked=stack.get(object);if(stacked&&stack.get(other)){return stacked==other;}var result=true;stack.set(object,other);stack.set(other,object);var skipCtor=isPartial;while(++index<objLength){key=objProps[index];var objValue=object[key],othValue=other[key];if(customizer){var compared=isPartial?customizer(othValue,objValue,key,other,object,stack):customizer(objValue,othValue,key,object,other,stack);}// Recursively compare objects (susceptible to call stack limits).
if(!(compared===undefined?objValue===othValue||equalFunc(objValue,othValue,bitmask,customizer,stack):compared)){result=false;break;}skipCtor||(skipCtor=key=='constructor');}if(result&&!skipCtor){var objCtor=object.constructor,othCtor=other.constructor;// Non `Object` object instances with different constructors are not equal.
if(objCtor!=othCtor&&'constructor'in object&&'constructor'in other&&!(typeof objCtor=='function'&&objCtor instanceof objCtor&&typeof othCtor=='function'&&othCtor instanceof othCtor)){result=false;}}stack['delete'](object);stack['delete'](other);return result;}/**
     * A specialized version of `baseRest` which flattens the rest array.
     *
     * @private
     * @param {Function} func The function to apply a rest parameter to.
     * @returns {Function} Returns the new function.
     */function flatRest(func){return setToString(overRest(func,undefined,flatten),func+'');}/**
     * Creates an array of own enumerable property names and symbols of `object`.
     *
     * @private
     * @param {Object} object The object to query.
     * @returns {Array} Returns the array of property names and symbols.
     */function getAllKeys(object){return baseGetAllKeys(object,keys,getSymbols);}/**
     * Creates an array of own and inherited enumerable property names and
     * symbols of `object`.
     *
     * @private
     * @param {Object} object The object to query.
     * @returns {Array} Returns the array of property names and symbols.
     */function getAllKeysIn(object){return baseGetAllKeys(object,keysIn,getSymbolsIn);}/**
     * Gets metadata for `func`.
     *
     * @private
     * @param {Function} func The function to query.
     * @returns {*} Returns the metadata for `func`.
     */var getData=!metaMap?noop:function(func){return metaMap.get(func);};/**
     * Gets the name of `func`.
     *
     * @private
     * @param {Function} func The function to query.
     * @returns {string} Returns the function name.
     */function getFuncName(func){var result=func.name+'',array=realNames[result],length=hasOwnProperty.call(realNames,result)?array.length:0;while(length--){var data=array[length],otherFunc=data.func;if(otherFunc==null||otherFunc==func){return data.name;}}return result;}/**
     * Gets the argument placeholder value for `func`.
     *
     * @private
     * @param {Function} func The function to inspect.
     * @returns {*} Returns the placeholder value.
     */function getHolder(func){var object=hasOwnProperty.call(lodash,'placeholder')?lodash:func;return object.placeholder;}/**
     * Gets the appropriate "iteratee" function. If `_.iteratee` is customized,
     * this function returns the custom method, otherwise it returns `baseIteratee`.
     * If arguments are provided, the chosen function is invoked with them and
     * its result is returned.
     *
     * @private
     * @param {*} [value] The value to convert to an iteratee.
     * @param {number} [arity] The arity of the created iteratee.
     * @returns {Function} Returns the chosen function or its result.
     */function getIteratee(){var result=lodash.iteratee||iteratee;result=result===iteratee?baseIteratee:result;return arguments.length?result(arguments[0],arguments[1]):result;}/**
     * Gets the data for `map`.
     *
     * @private
     * @param {Object} map The map to query.
     * @param {string} key The reference key.
     * @returns {*} Returns the map data.
     */function getMapData(map,key){var data=map.__data__;return isKeyable(key)?data[typeof key=='string'?'string':'hash']:data.map;}/**
     * Gets the property names, values, and compare flags of `object`.
     *
     * @private
     * @param {Object} object The object to query.
     * @returns {Array} Returns the match data of `object`.
     */function getMatchData(object){var result=keys(object),length=result.length;while(length--){var key=result[length],value=object[key];result[length]=[key,value,isStrictComparable(value)];}return result;}/**
     * Gets the native function at `key` of `object`.
     *
     * @private
     * @param {Object} object The object to query.
     * @param {string} key The key of the method to get.
     * @returns {*} Returns the function if it's native, else `undefined`.
     */function getNative(object,key){var value=getValue(object,key);return baseIsNative(value)?value:undefined;}/**
     * A specialized version of `baseGetTag` which ignores `Symbol.toStringTag` values.
     *
     * @private
     * @param {*} value The value to query.
     * @returns {string} Returns the raw `toStringTag`.
     */function getRawTag(value){var isOwn=hasOwnProperty.call(value,symToStringTag),tag=value[symToStringTag];try{value[symToStringTag]=undefined;var unmasked=true;}catch(e){}var result=nativeObjectToString.call(value);if(unmasked){if(isOwn){value[symToStringTag]=tag;}else{delete value[symToStringTag];}}return result;}/**
     * Creates an array of the own enumerable symbols of `object`.
     *
     * @private
     * @param {Object} object The object to query.
     * @returns {Array} Returns the array of symbols.
     */var getSymbols=!nativeGetSymbols?stubArray:function(object){if(object==null){return[];}object=Object(object);return arrayFilter(nativeGetSymbols(object),function(symbol){return propertyIsEnumerable.call(object,symbol);});};/**
     * Creates an array of the own and inherited enumerable symbols of `object`.
     *
     * @private
     * @param {Object} object The object to query.
     * @returns {Array} Returns the array of symbols.
     */var getSymbolsIn=!nativeGetSymbols?stubArray:function(object){var result=[];while(object){arrayPush(result,getSymbols(object));object=getPrototype(object);}return result;};/**
     * Gets the `toStringTag` of `value`.
     *
     * @private
     * @param {*} value The value to query.
     * @returns {string} Returns the `toStringTag`.
     */var getTag=baseGetTag;// Fallback for data views, maps, sets, and weak maps in IE 11 and promises in Node.js < 6.
if(DataView&&getTag(new DataView(new ArrayBuffer(1)))!=dataViewTag||Map&&getTag(new Map())!=mapTag||Promise&&getTag(Promise.resolve())!=promiseTag||Set&&getTag(new Set())!=setTag||WeakMap&&getTag(new WeakMap())!=weakMapTag){getTag=function getTag(value){var result=baseGetTag(value),Ctor=result==objectTag?value.constructor:undefined,ctorString=Ctor?toSource(Ctor):'';if(ctorString){switch(ctorString){case dataViewCtorString:return dataViewTag;case mapCtorString:return mapTag;case promiseCtorString:return promiseTag;case setCtorString:return setTag;case weakMapCtorString:return weakMapTag;}}return result;};}/**
     * Gets the view, applying any `transforms` to the `start` and `end` positions.
     *
     * @private
     * @param {number} start The start of the view.
     * @param {number} end The end of the view.
     * @param {Array} transforms The transformations to apply to the view.
     * @returns {Object} Returns an object containing the `start` and `end`
     *  positions of the view.
     */function getView(start,end,transforms){var index=-1,length=transforms.length;while(++index<length){var data=transforms[index],size=data.size;switch(data.type){case'drop':start+=size;break;case'dropRight':end-=size;break;case'take':end=nativeMin(end,start+size);break;case'takeRight':start=nativeMax(start,end-size);break;}}return{'start':start,'end':end};}/**
     * Extracts wrapper details from the `source` body comment.
     *
     * @private
     * @param {string} source The source to inspect.
     * @returns {Array} Returns the wrapper details.
     */function getWrapDetails(source){var match=source.match(reWrapDetails);return match?match[1].split(reSplitDetails):[];}/**
     * Checks if `path` exists on `object`.
     *
     * @private
     * @param {Object} object The object to query.
     * @param {Array|string} path The path to check.
     * @param {Function} hasFunc The function to check properties.
     * @returns {boolean} Returns `true` if `path` exists, else `false`.
     */function hasPath(object,path,hasFunc){path=castPath(path,object);var index=-1,length=path.length,result=false;while(++index<length){var key=toKey(path[index]);if(!(result=object!=null&&hasFunc(object,key))){break;}object=object[key];}if(result||++index!=length){return result;}length=object==null?0:object.length;return!!length&&isLength(length)&&isIndex(key,length)&&(isArray(object)||isArguments(object));}/**
     * Initializes an array clone.
     *
     * @private
     * @param {Array} array The array to clone.
     * @returns {Array} Returns the initialized clone.
     */function initCloneArray(array){var length=array.length,result=array.constructor(length);// Add properties assigned by `RegExp#exec`.
if(length&&typeof array[0]=='string'&&hasOwnProperty.call(array,'index')){result.index=array.index;result.input=array.input;}return result;}/**
     * Initializes an object clone.
     *
     * @private
     * @param {Object} object The object to clone.
     * @returns {Object} Returns the initialized clone.
     */function initCloneObject(object){return typeof object.constructor=='function'&&!isPrototype(object)?baseCreate(getPrototype(object)):{};}/**
     * Initializes an object clone based on its `toStringTag`.
     *
     * **Note:** This function only supports cloning values with tags of
     * `Boolean`, `Date`, `Error`, `Number`, `RegExp`, or `String`.
     *
     * @private
     * @param {Object} object The object to clone.
     * @param {string} tag The `toStringTag` of the object to clone.
     * @param {Function} cloneFunc The function to clone values.
     * @param {boolean} [isDeep] Specify a deep clone.
     * @returns {Object} Returns the initialized clone.
     */function initCloneByTag(object,tag,cloneFunc,isDeep){var Ctor=object.constructor;switch(tag){case arrayBufferTag:return cloneArrayBuffer(object);case boolTag:case dateTag:return new Ctor(+object);case dataViewTag:return cloneDataView(object,isDeep);case float32Tag:case float64Tag:case int8Tag:case int16Tag:case int32Tag:case uint8Tag:case uint8ClampedTag:case uint16Tag:case uint32Tag:return cloneTypedArray(object,isDeep);case mapTag:return cloneMap(object,isDeep,cloneFunc);case numberTag:case stringTag:return new Ctor(object);case regexpTag:return cloneRegExp(object);case setTag:return cloneSet(object,isDeep,cloneFunc);case symbolTag:return cloneSymbol(object);}}/**
     * Inserts wrapper `details` in a comment at the top of the `source` body.
     *
     * @private
     * @param {string} source The source to modify.
     * @returns {Array} details The details to insert.
     * @returns {string} Returns the modified source.
     */function insertWrapDetails(source,details){var length=details.length;if(!length){return source;}var lastIndex=length-1;details[lastIndex]=(length>1?'& ':'')+details[lastIndex];details=details.join(length>2?', ':' ');return source.replace(reWrapComment,'{\n/* [wrapped with '+details+'] */\n');}/**
     * Checks if `value` is a flattenable `arguments` object or array.
     *
     * @private
     * @param {*} value The value to check.
     * @returns {boolean} Returns `true` if `value` is flattenable, else `false`.
     */function isFlattenable(value){return isArray(value)||isArguments(value)||!!(spreadableSymbol&&value&&value[spreadableSymbol]);}/**
     * Checks if `value` is a valid array-like index.
     *
     * @private
     * @param {*} value The value to check.
     * @param {number} [length=MAX_SAFE_INTEGER] The upper bounds of a valid index.
     * @returns {boolean} Returns `true` if `value` is a valid index, else `false`.
     */function isIndex(value,length){length=length==null?MAX_SAFE_INTEGER:length;return!!length&&(typeof value=='number'||reIsUint.test(value))&&value>-1&&value%1==0&&value<length;}/**
     * Checks if the given arguments are from an iteratee call.
     *
     * @private
     * @param {*} value The potential iteratee value argument.
     * @param {*} index The potential iteratee index or key argument.
     * @param {*} object The potential iteratee object argument.
     * @returns {boolean} Returns `true` if the arguments are from an iteratee call,
     *  else `false`.
     */function isIterateeCall(value,index,object){if(!isObject(object)){return false;}var type=typeof index==='undefined'?'undefined':_typeof(index);if(type=='number'?isArrayLike(object)&&isIndex(index,object.length):type=='string'&&index in object){return eq(object[index],value);}return false;}/**
     * Checks if `value` is a property name and not a property path.
     *
     * @private
     * @param {*} value The value to check.
     * @param {Object} [object] The object to query keys on.
     * @returns {boolean} Returns `true` if `value` is a property name, else `false`.
     */function isKey(value,object){if(isArray(value)){return false;}var type=typeof value==='undefined'?'undefined':_typeof(value);if(type=='number'||type=='symbol'||type=='boolean'||value==null||isSymbol(value)){return true;}return reIsPlainProp.test(value)||!reIsDeepProp.test(value)||object!=null&&value in Object(object);}/**
     * Checks if `value` is suitable for use as unique object key.
     *
     * @private
     * @param {*} value The value to check.
     * @returns {boolean} Returns `true` if `value` is suitable, else `false`.
     */function isKeyable(value){var type=typeof value==='undefined'?'undefined':_typeof(value);return type=='string'||type=='number'||type=='symbol'||type=='boolean'?value!=='__proto__':value===null;}/**
     * Checks if `func` has a lazy counterpart.
     *
     * @private
     * @param {Function} func The function to check.
     * @returns {boolean} Returns `true` if `func` has a lazy counterpart,
     *  else `false`.
     */function isLaziable(func){var funcName=getFuncName(func),other=lodash[funcName];if(typeof other!='function'||!(funcName in LazyWrapper.prototype)){return false;}if(func===other){return true;}var data=getData(other);return!!data&&func===data[0];}/**
     * Checks if `func` has its source masked.
     *
     * @private
     * @param {Function} func The function to check.
     * @returns {boolean} Returns `true` if `func` is masked, else `false`.
     */function isMasked(func){return!!maskSrcKey&&maskSrcKey in func;}/**
     * Checks if `func` is capable of being masked.
     *
     * @private
     * @param {*} value The value to check.
     * @returns {boolean} Returns `true` if `func` is maskable, else `false`.
     */var isMaskable=coreJsData?isFunction:stubFalse;/**
     * Checks if `value` is likely a prototype object.
     *
     * @private
     * @param {*} value The value to check.
     * @returns {boolean} Returns `true` if `value` is a prototype, else `false`.
     */function isPrototype(value){var Ctor=value&&value.constructor,proto=typeof Ctor=='function'&&Ctor.prototype||objectProto;return value===proto;}/**
     * Checks if `value` is suitable for strict equality comparisons, i.e. `===`.
     *
     * @private
     * @param {*} value The value to check.
     * @returns {boolean} Returns `true` if `value` if suitable for strict
     *  equality comparisons, else `false`.
     */function isStrictComparable(value){return value===value&&!isObject(value);}/**
     * A specialized version of `matchesProperty` for source values suitable
     * for strict equality comparisons, i.e. `===`.
     *
     * @private
     * @param {string} key The key of the property to get.
     * @param {*} srcValue The value to match.
     * @returns {Function} Returns the new spec function.
     */function matchesStrictComparable(key,srcValue){return function(object){if(object==null){return false;}return object[key]===srcValue&&(srcValue!==undefined||key in Object(object));};}/**
     * A specialized version of `_.memoize` which clears the memoized function's
     * cache when it exceeds `MAX_MEMOIZE_SIZE`.
     *
     * @private
     * @param {Function} func The function to have its output memoized.
     * @returns {Function} Returns the new memoized function.
     */function memoizeCapped(func){var result=memoize(func,function(key){if(cache.size===MAX_MEMOIZE_SIZE){cache.clear();}return key;});var cache=result.cache;return result;}/**
     * Merges the function metadata of `source` into `data`.
     *
     * Merging metadata reduces the number of wrappers used to invoke a function.
     * This is possible because methods like `_.bind`, `_.curry`, and `_.partial`
     * may be applied regardless of execution order. Methods like `_.ary` and
     * `_.rearg` modify function arguments, making the order in which they are
     * executed important, preventing the merging of metadata. However, we make
     * an exception for a safe combined case where curried functions have `_.ary`
     * and or `_.rearg` applied.
     *
     * @private
     * @param {Array} data The destination metadata.
     * @param {Array} source The source metadata.
     * @returns {Array} Returns `data`.
     */function mergeData(data,source){var bitmask=data[1],srcBitmask=source[1],newBitmask=bitmask|srcBitmask,isCommon=newBitmask<(WRAP_BIND_FLAG|WRAP_BIND_KEY_FLAG|WRAP_ARY_FLAG);var isCombo=srcBitmask==WRAP_ARY_FLAG&&bitmask==WRAP_CURRY_FLAG||srcBitmask==WRAP_ARY_FLAG&&bitmask==WRAP_REARG_FLAG&&data[7].length<=source[8]||srcBitmask==(WRAP_ARY_FLAG|WRAP_REARG_FLAG)&&source[7].length<=source[8]&&bitmask==WRAP_CURRY_FLAG;// Exit early if metadata can't be merged.
if(!(isCommon||isCombo)){return data;}// Use source `thisArg` if available.
if(srcBitmask&WRAP_BIND_FLAG){data[2]=source[2];// Set when currying a bound function.
newBitmask|=bitmask&WRAP_BIND_FLAG?0:WRAP_CURRY_BOUND_FLAG;}// Compose partial arguments.
var value=source[3];if(value){var partials=data[3];data[3]=partials?composeArgs(partials,value,source[4]):value;data[4]=partials?replaceHolders(data[3],PLACEHOLDER):source[4];}// Compose partial right arguments.
value=source[5];if(value){partials=data[5];data[5]=partials?composeArgsRight(partials,value,source[6]):value;data[6]=partials?replaceHolders(data[5],PLACEHOLDER):source[6];}// Use source `argPos` if available.
value=source[7];if(value){data[7]=value;}// Use source `ary` if it's smaller.
if(srcBitmask&WRAP_ARY_FLAG){data[8]=data[8]==null?source[8]:nativeMin(data[8],source[8]);}// Use source `arity` if one is not provided.
if(data[9]==null){data[9]=source[9];}// Use source `func` and merge bitmasks.
data[0]=source[0];data[1]=newBitmask;return data;}/**
     * This function is like
     * [`Object.keys`](http://ecma-international.org/ecma-262/7.0/#sec-object.keys)
     * except that it includes inherited enumerable properties.
     *
     * @private
     * @param {Object} object The object to query.
     * @returns {Array} Returns the array of property names.
     */function nativeKeysIn(object){var result=[];if(object!=null){for(var key in Object(object)){result.push(key);}}return result;}/**
     * Converts `value` to a string using `Object.prototype.toString`.
     *
     * @private
     * @param {*} value The value to convert.
     * @returns {string} Returns the converted string.
     */function objectToString(value){return nativeObjectToString.call(value);}/**
     * A specialized version of `baseRest` which transforms the rest array.
     *
     * @private
     * @param {Function} func The function to apply a rest parameter to.
     * @param {number} [start=func.length-1] The start position of the rest parameter.
     * @param {Function} transform The rest array transform.
     * @returns {Function} Returns the new function.
     */function overRest(func,start,transform){start=nativeMax(start===undefined?func.length-1:start,0);return function(){var args=arguments,index=-1,length=nativeMax(args.length-start,0),array=Array(length);while(++index<length){array[index]=args[start+index];}index=-1;var otherArgs=Array(start+1);while(++index<start){otherArgs[index]=args[index];}otherArgs[start]=transform(array);return apply(func,this,otherArgs);};}/**
     * Gets the parent value at `path` of `object`.
     *
     * @private
     * @param {Object} object The object to query.
     * @param {Array} path The path to get the parent value of.
     * @returns {*} Returns the parent value.
     */function parent(object,path){return path.length<2?object:baseGet(object,baseSlice(path,0,-1));}/**
     * Reorder `array` according to the specified indexes where the element at
     * the first index is assigned as the first element, the element at
     * the second index is assigned as the second element, and so on.
     *
     * @private
     * @param {Array} array The array to reorder.
     * @param {Array} indexes The arranged array indexes.
     * @returns {Array} Returns `array`.
     */function reorder(array,indexes){var arrLength=array.length,length=nativeMin(indexes.length,arrLength),oldArray=copyArray(array);while(length--){var index=indexes[length];array[length]=isIndex(index,arrLength)?oldArray[index]:undefined;}return array;}/**
     * Sets metadata for `func`.
     *
     * **Note:** If this function becomes hot, i.e. is invoked a lot in a short
     * period of time, it will trip its breaker and transition to an identity
     * function to avoid garbage collection pauses in V8. See
     * [V8 issue 2070](https://bugs.chromium.org/p/v8/issues/detail?id=2070)
     * for more details.
     *
     * @private
     * @param {Function} func The function to associate metadata with.
     * @param {*} data The metadata.
     * @returns {Function} Returns `func`.
     */var setData=shortOut(baseSetData);/**
     * A simple wrapper around the global [`setTimeout`](https://mdn.io/setTimeout).
     *
     * @private
     * @param {Function} func The function to delay.
     * @param {number} wait The number of milliseconds to delay invocation.
     * @returns {number|Object} Returns the timer id or timeout object.
     */var setTimeout=ctxSetTimeout||function(func,wait){return root.setTimeout(func,wait);};/**
     * Sets the `toString` method of `func` to return `string`.
     *
     * @private
     * @param {Function} func The function to modify.
     * @param {Function} string The `toString` result.
     * @returns {Function} Returns `func`.
     */var setToString=shortOut(baseSetToString);/**
     * Sets the `toString` method of `wrapper` to mimic the source of `reference`
     * with wrapper details in a comment at the top of the source body.
     *
     * @private
     * @param {Function} wrapper The function to modify.
     * @param {Function} reference The reference function.
     * @param {number} bitmask The bitmask flags. See `createWrap` for more details.
     * @returns {Function} Returns `wrapper`.
     */function setWrapToString(wrapper,reference,bitmask){var source=reference+'';return setToString(wrapper,insertWrapDetails(source,updateWrapDetails(getWrapDetails(source),bitmask)));}/**
     * Creates a function that'll short out and invoke `identity` instead
     * of `func` when it's called `HOT_COUNT` or more times in `HOT_SPAN`
     * milliseconds.
     *
     * @private
     * @param {Function} func The function to restrict.
     * @returns {Function} Returns the new shortable function.
     */function shortOut(func){var count=0,lastCalled=0;return function(){var stamp=nativeNow(),remaining=HOT_SPAN-(stamp-lastCalled);lastCalled=stamp;if(remaining>0){if(++count>=HOT_COUNT){return arguments[0];}}else{count=0;}return func.apply(undefined,arguments);};}/**
     * A specialized version of `_.shuffle` which mutates and sets the size of `array`.
     *
     * @private
     * @param {Array} array The array to shuffle.
     * @param {number} [size=array.length] The size of `array`.
     * @returns {Array} Returns `array`.
     */function shuffleSelf(array,size){var index=-1,length=array.length,lastIndex=length-1;size=size===undefined?length:size;while(++index<size){var rand=baseRandom(index,lastIndex),value=array[rand];array[rand]=array[index];array[index]=value;}array.length=size;return array;}/**
     * Converts `string` to a property path array.
     *
     * @private
     * @param {string} string The string to convert.
     * @returns {Array} Returns the property path array.
     */var stringToPath=memoizeCapped(function(string){var result=[];if(reLeadingDot.test(string)){result.push('');}string.replace(rePropName,function(match,number,quote,string){result.push(quote?string.replace(reEscapeChar,'$1'):number||match);});return result;});/**
     * Converts `value` to a string key if it's not a string or symbol.
     *
     * @private
     * @param {*} value The value to inspect.
     * @returns {string|symbol} Returns the key.
     */function toKey(value){if(typeof value=='string'||isSymbol(value)){return value;}var result=value+'';return result=='0'&&1/value==-INFINITY?'-0':result;}/**
     * Converts `func` to its source code.
     *
     * @private
     * @param {Function} func The function to convert.
     * @returns {string} Returns the source code.
     */function toSource(func){if(func!=null){try{return funcToString.call(func);}catch(e){}try{return func+'';}catch(e){}}return'';}/**
     * Updates wrapper `details` based on `bitmask` flags.
     *
     * @private
     * @returns {Array} details The details to modify.
     * @param {number} bitmask The bitmask flags. See `createWrap` for more details.
     * @returns {Array} Returns `details`.
     */function updateWrapDetails(details,bitmask){arrayEach(wrapFlags,function(pair){var value='_.'+pair[0];if(bitmask&pair[1]&&!arrayIncludes(details,value)){details.push(value);}});return details.sort();}/**
     * Creates a clone of `wrapper`.
     *
     * @private
     * @param {Object} wrapper The wrapper to clone.
     * @returns {Object} Returns the cloned wrapper.
     */function wrapperClone(wrapper){if(wrapper instanceof LazyWrapper){return wrapper.clone();}var result=new LodashWrapper(wrapper.__wrapped__,wrapper.__chain__);result.__actions__=copyArray(wrapper.__actions__);result.__index__=wrapper.__index__;result.__values__=wrapper.__values__;return result;}/*------------------------------------------------------------------------*//**
     * Creates an array of elements split into groups the length of `size`.
     * If `array` can't be split evenly, the final chunk will be the remaining
     * elements.
     *
     * @static
     * @memberOf _
     * @since 3.0.0
     * @category Array
     * @param {Array} array The array to process.
     * @param {number} [size=1] The length of each chunk
     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.
     * @returns {Array} Returns the new array of chunks.
     * @example
     *
     * _.chunk(['a', 'b', 'c', 'd'], 2);
     * // => [['a', 'b'], ['c', 'd']]
     *
     * _.chunk(['a', 'b', 'c', 'd'], 3);
     * // => [['a', 'b', 'c'], ['d']]
     */function chunk(array,size,guard){if(guard?isIterateeCall(array,size,guard):size===undefined){size=1;}else{size=nativeMax(toInteger(size),0);}var length=array==null?0:array.length;if(!length||size<1){return[];}var index=0,resIndex=0,result=Array(nativeCeil(length/size));while(index<length){result[resIndex++]=baseSlice(array,index,index+=size);}return result;}/**
     * Creates an array with all falsey values removed. The values `false`, `null`,
     * `0`, `""`, `undefined`, and `NaN` are falsey.
     *
     * @static
     * @memberOf _
     * @since 0.1.0
     * @category Array
     * @param {Array} array The array to compact.
     * @returns {Array} Returns the new array of filtered values.
     * @example
     *
     * _.compact([0, 1, false, 2, '', 3]);
     * // => [1, 2, 3]
     */function compact(array){var index=-1,length=array==null?0:array.length,resIndex=0,result=[];while(++index<length){var value=array[index];if(value){result[resIndex++]=value;}}return result;}/**
     * Creates a new array concatenating `array` with any additional arrays
     * and/or values.
     *
     * @static
     * @memberOf _
     * @since 4.0.0
     * @category Array
     * @param {Array} array The array to concatenate.
     * @param {...*} [values] The values to concatenate.
     * @returns {Array} Returns the new concatenated array.
     * @example
     *
     * var array = [1];
     * var other = _.concat(array, 2, [3], [[4]]);
     *
     * console.log(other);
     * // => [1, 2, 3, [4]]
     *
     * console.log(array);
     * // => [1]
     */function concat(){var length=arguments.length;if(!length){return[];}var args=Array(length-1),array=arguments[0],index=length;while(index--){args[index-1]=arguments[index];}return arrayPush(isArray(array)?copyArray(array):[array],baseFlatten(args,1));}/**
     * Creates an array of `array` values not included in the other given arrays
     * using [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)
     * for equality comparisons. The order and references of result values are
     * determined by the first array.
     *
     * **Note:** Unlike `_.pullAll`, this method returns a new array.
     *
     * @static
     * @memberOf _
     * @since 0.1.0
     * @category Array
     * @param {Array} array The array to inspect.
     * @param {...Array} [values] The values to exclude.
     * @returns {Array} Returns the new array of filtered values.
     * @see _.without, _.xor
     * @example
     *
     * _.difference([2, 1], [2, 3]);
     * // => [1]
     */var difference=baseRest(function(array,values){return isArrayLikeObject(array)?baseDifference(array,baseFlatten(values,1,isArrayLikeObject,true)):[];});/**
     * This method is like `_.difference` except that it accepts `iteratee` which
     * is invoked for each element of `array` and `values` to generate the criterion
     * by which they're compared. The order and references of result values are
     * determined by the first array. The iteratee is invoked with one argument:
     * (value).
     *
     * **Note:** Unlike `_.pullAllBy`, this method returns a new array.
     *
     * @static
     * @memberOf _
     * @since 4.0.0
     * @category Array
     * @param {Array} array The array to inspect.
     * @param {...Array} [values] The values to exclude.
     * @param {Function} [iteratee=_.identity] The iteratee invoked per element.
     * @returns {Array} Returns the new array of filtered values.
     * @example
     *
     * _.differenceBy([2.1, 1.2], [2.3, 3.4], Math.floor);
     * // => [1.2]
     *
     * // The `_.property` iteratee shorthand.
     * _.differenceBy([{ 'x': 2 }, { 'x': 1 }], [{ 'x': 1 }], 'x');
     * // => [{ 'x': 2 }]
     */var differenceBy=baseRest(function(array,values){var iteratee=last(values);if(isArrayLikeObject(iteratee)){iteratee=undefined;}return isArrayLikeObject(array)?baseDifference(array,baseFlatten(values,1,isArrayLikeObject,true),getIteratee(iteratee,2)):[];});/**
     * This method is like `_.difference` except that it accepts `comparator`
     * which is invoked to compare elements of `array` to `values`. The order and
     * references of result values are determined by the first array. The comparator
     * is invoked with two arguments: (arrVal, othVal).
     *
     * **Note:** Unlike `_.pullAllWith`, this method returns a new array.
     *
     * @static
     * @memberOf _
     * @since 4.0.0
     * @category Array
     * @param {Array} array The array to inspect.
     * @param {...Array} [values] The values to exclude.
     * @param {Function} [comparator] The comparator invoked per element.
     * @returns {Array} Returns the new array of filtered values.
     * @example
     *
     * var objects = [{ 'x': 1, 'y': 2 }, { 'x': 2, 'y': 1 }];
     *
     * _.differenceWith(objects, [{ 'x': 1, 'y': 2 }], _.isEqual);
     * // => [{ 'x': 2, 'y': 1 }]
     */var differenceWith=baseRest(function(array,values){var comparator=last(values);if(isArrayLikeObject(comparator)){comparator=undefined;}return isArrayLikeObject(array)?baseDifference(array,baseFlatten(values,1,isArrayLikeObject,true),undefined,comparator):[];});/**
     * Creates a slice of `array` with `n` elements dropped from the beginning.
     *
     * @static
     * @memberOf _
     * @since 0.5.0
     * @category Array
     * @param {Array} array The array to query.
     * @param {number} [n=1] The number of elements to drop.
     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.
     * @returns {Array} Returns the slice of `array`.
     * @example
     *
     * _.drop([1, 2, 3]);
     * // => [2, 3]
     *
     * _.drop([1, 2, 3], 2);
     * // => [3]
     *
     * _.drop([1, 2, 3], 5);
     * // => []
     *
     * _.drop([1, 2, 3], 0);
     * // => [1, 2, 3]
     */function drop(array,n,guard){var length=array==null?0:array.length;if(!length){return[];}n=guard||n===undefined?1:toInteger(n);return baseSlice(array,n<0?0:n,length);}/**
     * Creates a slice of `array` with `n` elements dropped from the end.
     *
     * @static
     * @memberOf _
     * @since 3.0.0
     * @category Array
     * @param {Array} array The array to query.
     * @param {number} [n=1] The number of elements to drop.
     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.
     * @returns {Array} Returns the slice of `array`.
     * @example
     *
     * _.dropRight([1, 2, 3]);
     * // => [1, 2]
     *
     * _.dropRight([1, 2, 3], 2);
     * // => [1]
     *
     * _.dropRight([1, 2, 3], 5);
     * // => []
     *
     * _.dropRight([1, 2, 3], 0);
     * // => [1, 2, 3]
     */function dropRight(array,n,guard){var length=array==null?0:array.length;if(!length){return[];}n=guard||n===undefined?1:toInteger(n);n=length-n;return baseSlice(array,0,n<0?0:n);}/**
     * Creates a slice of `array` excluding elements dropped from the end.
     * Elements are dropped until `predicate` returns falsey. The predicate is
     * invoked with three arguments: (value, index, array).
     *
     * @static
     * @memberOf _
     * @since 3.0.0
     * @category Array
     * @param {Array} array The array to query.
     * @param {Function} [predicate=_.identity] The function invoked per iteration.
     * @returns {Array} Returns the slice of `array`.
     * @example
     *
     * var users = [
     *   { 'user': 'barney',  'active': true },
     *   { 'user': 'fred',    'active': false },
     *   { 'user': 'pebbles', 'active': false }
     * ];
     *
     * _.dropRightWhile(users, function(o) { return !o.active; });
     * // => objects for ['barney']
     *
     * // The `_.matches` iteratee shorthand.
     * _.dropRightWhile(users, { 'user': 'pebbles', 'active': false });
     * // => objects for ['barney', 'fred']
     *
     * // The `_.matchesProperty` iteratee shorthand.
     * _.dropRightWhile(users, ['active', false]);
     * // => objects for ['barney']
     *
     * // The `_.property` iteratee shorthand.
     * _.dropRightWhile(users, 'active');
     * // => objects for ['barney', 'fred', 'pebbles']
     */function dropRightWhile(array,predicate){return array&&array.length?baseWhile(array,getIteratee(predicate,3),true,true):[];}/**
     * Creates a slice of `array` excluding elements dropped from the beginning.
     * Elements are dropped until `predicate` returns falsey. The predicate is
     * invoked with three arguments: (value, index, array).
     *
     * @static
     * @memberOf _
     * @since 3.0.0
     * @category Array
     * @param {Array} array The array to query.
     * @param {Function} [predicate=_.identity] The function invoked per iteration.
     * @returns {Array} Returns the slice of `array`.
     * @example
     *
     * var users = [
     *   { 'user': 'barney',  'active': false },
     *   { 'user': 'fred',    'active': false },
     *   { 'user': 'pebbles', 'active': true }
     * ];
     *
     * _.dropWhile(users, function(o) { return !o.active; });
     * // => objects for ['pebbles']
     *
     * // The `_.matches` iteratee shorthand.
     * _.dropWhile(users, { 'user': 'barney', 'active': false });
     * // => objects for ['fred', 'pebbles']
     *
     * // The `_.matchesProperty` iteratee shorthand.
     * _.dropWhile(users, ['active', false]);
     * // => objects for ['pebbles']
     *
     * // The `_.property` iteratee shorthand.
     * _.dropWhile(users, 'active');
     * // => objects for ['barney', 'fred', 'pebbles']
     */function dropWhile(array,predicate){return array&&array.length?baseWhile(array,getIteratee(predicate,3),true):[];}/**
     * Fills elements of `array` with `value` from `start` up to, but not
     * including, `end`.
     *
     * **Note:** This method mutates `array`.
     *
     * @static
     * @memberOf _
     * @since 3.2.0
     * @category Array
     * @param {Array} array The array to fill.
     * @param {*} value The value to fill `array` with.
     * @param {number} [start=0] The start position.
     * @param {number} [end=array.length] The end position.
     * @returns {Array} Returns `array`.
     * @example
     *
     * var array = [1, 2, 3];
     *
     * _.fill(array, 'a');
     * console.log(array);
     * // => ['a', 'a', 'a']
     *
     * _.fill(Array(3), 2);
     * // => [2, 2, 2]
     *
     * _.fill([4, 6, 8, 10], '*', 1, 3);
     * // => [4, '*', '*', 10]
     */function fill(array,value,start,end){var length=array==null?0:array.length;if(!length){return[];}if(start&&typeof start!='number'&&isIterateeCall(array,value,start)){start=0;end=length;}return baseFill(array,value,start,end);}/**
     * This method is like `_.find` except that it returns the index of the first
     * element `predicate` returns truthy for instead of the element itself.
     *
     * @static
     * @memberOf _
     * @since 1.1.0
     * @category Array
     * @param {Array} array The array to inspect.
     * @param {Function} [predicate=_.identity] The function invoked per iteration.
     * @param {number} [fromIndex=0] The index to search from.
     * @returns {number} Returns the index of the found element, else `-1`.
     * @example
     *
     * var users = [
     *   { 'user': 'barney',  'active': false },
     *   { 'user': 'fred',    'active': false },
     *   { 'user': 'pebbles', 'active': true }
     * ];
     *
     * _.findIndex(users, function(o) { return o.user == 'barney'; });
     * // => 0
     *
     * // The `_.matches` iteratee shorthand.
     * _.findIndex(users, { 'user': 'fred', 'active': false });
     * // => 1
     *
     * // The `_.matchesProperty` iteratee shorthand.
     * _.findIndex(users, ['active', false]);
     * // => 0
     *
     * // The `_.property` iteratee shorthand.
     * _.findIndex(users, 'active');
     * // => 2
     */function findIndex(array,predicate,fromIndex){var length=array==null?0:array.length;if(!length){return-1;}var index=fromIndex==null?0:toInteger(fromIndex);if(index<0){index=nativeMax(length+index,0);}return baseFindIndex(array,getIteratee(predicate,3),index);}/**
     * This method is like `_.findIndex` except that it iterates over elements
     * of `collection` from right to left.
     *
     * @static
     * @memberOf _
     * @since 2.0.0
     * @category Array
     * @param {Array} array The array to inspect.
     * @param {Function} [predicate=_.identity] The function invoked per iteration.
     * @param {number} [fromIndex=array.length-1] The index to search from.
     * @returns {number} Returns the index of the found element, else `-1`.
     * @example
     *
     * var users = [
     *   { 'user': 'barney',  'active': true },
     *   { 'user': 'fred',    'active': false },
     *   { 'user': 'pebbles', 'active': false }
     * ];
     *
     * _.findLastIndex(users, function(o) { return o.user == 'pebbles'; });
     * // => 2
     *
     * // The `_.matches` iteratee shorthand.
     * _.findLastIndex(users, { 'user': 'barney', 'active': true });
     * // => 0
     *
     * // The `_.matchesProperty` iteratee shorthand.
     * _.findLastIndex(users, ['active', false]);
     * // => 2
     *
     * // The `_.property` iteratee shorthand.
     * _.findLastIndex(users, 'active');
     * // => 0
     */function findLastIndex(array,predicate,fromIndex){var length=array==null?0:array.length;if(!length){return-1;}var index=length-1;if(fromIndex!==undefined){index=toInteger(fromIndex);index=fromIndex<0?nativeMax(length+index,0):nativeMin(index,length-1);}return baseFindIndex(array,getIteratee(predicate,3),index,true);}/**
     * Flattens `array` a single level deep.
     *
     * @static
     * @memberOf _
     * @since 0.1.0
     * @category Array
     * @param {Array} array The array to flatten.
     * @returns {Array} Returns the new flattened array.
     * @example
     *
     * _.flatten([1, [2, [3, [4]], 5]]);
     * // => [1, 2, [3, [4]], 5]
     */function flatten(array){var length=array==null?0:array.length;return length?baseFlatten(array,1):[];}/**
     * Recursively flattens `array`.
     *
     * @static
     * @memberOf _
     * @since 3.0.0
     * @category Array
     * @param {Array} array The array to flatten.
     * @returns {Array} Returns the new flattened array.
     * @example
     *
     * _.flattenDeep([1, [2, [3, [4]], 5]]);
     * // => [1, 2, 3, 4, 5]
     */function flattenDeep(array){var length=array==null?0:array.length;return length?baseFlatten(array,INFINITY):[];}/**
     * Recursively flatten `array` up to `depth` times.
     *
     * @static
     * @memberOf _
     * @since 4.4.0
     * @category Array
     * @param {Array} array The array to flatten.
     * @param {number} [depth=1] The maximum recursion depth.
     * @returns {Array} Returns the new flattened array.
     * @example
     *
     * var array = [1, [2, [3, [4]], 5]];
     *
     * _.flattenDepth(array, 1);
     * // => [1, 2, [3, [4]], 5]
     *
     * _.flattenDepth(array, 2);
     * // => [1, 2, 3, [4], 5]
     */function flattenDepth(array,depth){var length=array==null?0:array.length;if(!length){return[];}depth=depth===undefined?1:toInteger(depth);return baseFlatten(array,depth);}/**
     * The inverse of `_.toPairs`; this method returns an object composed
     * from key-value `pairs`.
     *
     * @static
     * @memberOf _
     * @since 4.0.0
     * @category Array
     * @param {Array} pairs The key-value pairs.
     * @returns {Object} Returns the new object.
     * @example
     *
     * _.fromPairs([['a', 1], ['b', 2]]);
     * // => { 'a': 1, 'b': 2 }
     */function fromPairs(pairs){var index=-1,length=pairs==null?0:pairs.length,result={};while(++index<length){var pair=pairs[index];result[pair[0]]=pair[1];}return result;}/**
     * Gets the first element of `array`.
     *
     * @static
     * @memberOf _
     * @since 0.1.0
     * @alias first
     * @category Array
     * @param {Array} array The array to query.
     * @returns {*} Returns the first element of `array`.
     * @example
     *
     * _.head([1, 2, 3]);
     * // => 1
     *
     * _.head([]);
     * // => undefined
     */function head(array){return array&&array.length?array[0]:undefined;}/**
     * Gets the index at which the first occurrence of `value` is found in `array`
     * using [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)
     * for equality comparisons. If `fromIndex` is negative, it's used as the
     * offset from the end of `array`.
     *
     * @static
     * @memberOf _
     * @since 0.1.0
     * @category Array
     * @param {Array} array The array to inspect.
     * @param {*} value The value to search for.
     * @param {number} [fromIndex=0] The index to search from.
     * @returns {number} Returns the index of the matched value, else `-1`.
     * @example
     *
     * _.indexOf([1, 2, 1, 2], 2);
     * // => 1
     *
     * // Search from the `fromIndex`.
     * _.indexOf([1, 2, 1, 2], 2, 2);
     * // => 3
     */function indexOf(array,value,fromIndex){var length=array==null?0:array.length;if(!length){return-1;}var index=fromIndex==null?0:toInteger(fromIndex);if(index<0){index=nativeMax(length+index,0);}return baseIndexOf(array,value,index);}/**
     * Gets all but the last element of `array`.
     *
     * @static
     * @memberOf _
     * @since 0.1.0
     * @category Array
     * @param {Array} array The array to query.
     * @returns {Array} Returns the slice of `array`.
     * @example
     *
     * _.initial([1, 2, 3]);
     * // => [1, 2]
     */function initial(array){var length=array==null?0:array.length;return length?baseSlice(array,0,-1):[];}/**
     * Creates an array of unique values that are included in all given arrays
     * using [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)
     * for equality comparisons. The order and references of result values are
     * determined by the first array.
     *
     * @static
     * @memberOf _
     * @since 0.1.0
     * @category Array
     * @param {...Array} [arrays] The arrays to inspect.
     * @returns {Array} Returns the new array of intersecting values.
     * @example
     *
     * _.intersection([2, 1], [2, 3]);
     * // => [2]
     */var intersection=baseRest(function(arrays){var mapped=arrayMap(arrays,castArrayLikeObject);return mapped.length&&mapped[0]===arrays[0]?baseIntersection(mapped):[];});/**
     * This method is like `_.intersection` except that it accepts `iteratee`
     * which is invoked for each element of each `arrays` to generate the criterion
     * by which they're compared. The order and references of result values are
     * determined by the first array. The iteratee is invoked with one argument:
     * (value).
     *
     * @static
     * @memberOf _
     * @since 4.0.0
     * @category Array
     * @param {...Array} [arrays] The arrays to inspect.
     * @param {Function} [iteratee=_.identity] The iteratee invoked per element.
     * @returns {Array} Returns the new array of intersecting values.
     * @example
     *
     * _.intersectionBy([2.1, 1.2], [2.3, 3.4], Math.floor);
     * // => [2.1]
     *
     * // The `_.property` iteratee shorthand.
     * _.intersectionBy([{ 'x': 1 }], [{ 'x': 2 }, { 'x': 1 }], 'x');
     * // => [{ 'x': 1 }]
     */var intersectionBy=baseRest(function(arrays){var iteratee=last(arrays),mapped=arrayMap(arrays,castArrayLikeObject);if(iteratee===last(mapped)){iteratee=undefined;}else{mapped.pop();}return mapped.length&&mapped[0]===arrays[0]?baseIntersection(mapped,getIteratee(iteratee,2)):[];});/**
     * This method is like `_.intersection` except that it accepts `comparator`
     * which is invoked to compare elements of `arrays`. The order and references
     * of result values are determined by the first array. The comparator is
     * invoked with two arguments: (arrVal, othVal).
     *
     * @static
     * @memberOf _
     * @since 4.0.0
     * @category Array
     * @param {...Array} [arrays] The arrays to inspect.
     * @param {Function} [comparator] The comparator invoked per element.
     * @returns {Array} Returns the new array of intersecting values.
     * @example
     *
     * var objects = [{ 'x': 1, 'y': 2 }, { 'x': 2, 'y': 1 }];
     * var others = [{ 'x': 1, 'y': 1 }, { 'x': 1, 'y': 2 }];
     *
     * _.intersectionWith(objects, others, _.isEqual);
     * // => [{ 'x': 1, 'y': 2 }]
     */var intersectionWith=baseRest(function(arrays){var comparator=last(arrays),mapped=arrayMap(arrays,castArrayLikeObject);comparator=typeof comparator=='function'?comparator:undefined;if(comparator){mapped.pop();}return mapped.length&&mapped[0]===arrays[0]?baseIntersection(mapped,undefined,comparator):[];});/**
     * Converts all elements in `array` into a string separated by `separator`.
     *
     * @static
     * @memberOf _
     * @since 4.0.0
     * @category Array
     * @param {Array} array The array to convert.
     * @param {string} [separator=','] The element separator.
     * @returns {string} Returns the joined string.
     * @example
     *
     * _.join(['a', 'b', 'c'], '~');
     * // => 'a~b~c'
     */function join(array,separator){return array==null?'':nativeJoin.call(array,separator);}/**
     * Gets the last element of `array`.
     *
     * @static
     * @memberOf _
     * @since 0.1.0
     * @category Array
     * @param {Array} array The array to query.
     * @returns {*} Returns the last element of `array`.
     * @example
     *
     * _.last([1, 2, 3]);
     * // => 3
     */function last(array){var length=array==null?0:array.length;return length?array[length-1]:undefined;}/**
     * This method is like `_.indexOf` except that it iterates over elements of
     * `array` from right to left.
     *
     * @static
     * @memberOf _
     * @since 0.1.0
     * @category Array
     * @param {Array} array The array to inspect.
     * @param {*} value The value to search for.
     * @param {number} [fromIndex=array.length-1] The index to search from.
     * @returns {number} Returns the index of the matched value, else `-1`.
     * @example
     *
     * _.lastIndexOf([1, 2, 1, 2], 2);
     * // => 3
     *
     * // Search from the `fromIndex`.
     * _.lastIndexOf([1, 2, 1, 2], 2, 2);
     * // => 1
     */function lastIndexOf(array,value,fromIndex){var length=array==null?0:array.length;if(!length){return-1;}var index=length;if(fromIndex!==undefined){index=toInteger(fromIndex);index=index<0?nativeMax(length+index,0):nativeMin(index,length-1);}return value===value?strictLastIndexOf(array,value,index):baseFindIndex(array,baseIsNaN,index,true);}/**
     * Gets the element at index `n` of `array`. If `n` is negative, the nth
     * element from the end is returned.
     *
     * @static
     * @memberOf _
     * @since 4.11.0
     * @category Array
     * @param {Array} array The array to query.
     * @param {number} [n=0] The index of the element to return.
     * @returns {*} Returns the nth element of `array`.
     * @example
     *
     * var array = ['a', 'b', 'c', 'd'];
     *
     * _.nth(array, 1);
     * // => 'b'
     *
     * _.nth(array, -2);
     * // => 'c';
     */function nth(array,n){return array&&array.length?baseNth(array,toInteger(n)):undefined;}/**
     * Removes all given values from `array` using
     * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)
     * for equality comparisons.
     *
     * **Note:** Unlike `_.without`, this method mutates `array`. Use `_.remove`
     * to remove elements from an array by predicate.
     *
     * @static
     * @memberOf _
     * @since 2.0.0
     * @category Array
     * @param {Array} array The array to modify.
     * @param {...*} [values] The values to remove.
     * @returns {Array} Returns `array`.
     * @example
     *
     * var array = ['a', 'b', 'c', 'a', 'b', 'c'];
     *
     * _.pull(array, 'a', 'c');
     * console.log(array);
     * // => ['b', 'b']
     */var pull=baseRest(pullAll);/**
     * This method is like `_.pull` except that it accepts an array of values to remove.
     *
     * **Note:** Unlike `_.difference`, this method mutates `array`.
     *
     * @static
     * @memberOf _
     * @since 4.0.0
     * @category Array
     * @param {Array} array The array to modify.
     * @param {Array} values The values to remove.
     * @returns {Array} Returns `array`.
     * @example
     *
     * var array = ['a', 'b', 'c', 'a', 'b', 'c'];
     *
     * _.pullAll(array, ['a', 'c']);
     * console.log(array);
     * // => ['b', 'b']
     */function pullAll(array,values){return array&&array.length&&values&&values.length?basePullAll(array,values):array;}/**
     * This method is like `_.pullAll` except that it accepts `iteratee` which is
     * invoked for each element of `array` and `values` to generate the criterion
     * by which they're compared. The iteratee is invoked with one argument: (value).
     *
     * **Note:** Unlike `_.differenceBy`, this method mutates `array`.
     *
     * @static
     * @memberOf _
     * @since 4.0.0
     * @category Array
     * @param {Array} array The array to modify.
     * @param {Array} values The values to remove.
     * @param {Function} [iteratee=_.identity] The iteratee invoked per element.
     * @returns {Array} Returns `array`.
     * @example
     *
     * var array = [{ 'x': 1 }, { 'x': 2 }, { 'x': 3 }, { 'x': 1 }];
     *
     * _.pullAllBy(array, [{ 'x': 1 }, { 'x': 3 }], 'x');
     * console.log(array);
     * // => [{ 'x': 2 }]
     */function pullAllBy(array,values,iteratee){return array&&array.length&&values&&values.length?basePullAll(array,values,getIteratee(iteratee,2)):array;}/**
     * This method is like `_.pullAll` except that it accepts `comparator` which
     * is invoked to compare elements of `array` to `values`. The comparator is
     * invoked with two arguments: (arrVal, othVal).
     *
     * **Note:** Unlike `_.differenceWith`, this method mutates `array`.
     *
     * @static
     * @memberOf _
     * @since 4.6.0
     * @category Array
     * @param {Array} array The array to modify.
     * @param {Array} values The values to remove.
     * @param {Function} [comparator] The comparator invoked per element.
     * @returns {Array} Returns `array`.
     * @example
     *
     * var array = [{ 'x': 1, 'y': 2 }, { 'x': 3, 'y': 4 }, { 'x': 5, 'y': 6 }];
     *
     * _.pullAllWith(array, [{ 'x': 3, 'y': 4 }], _.isEqual);
     * console.log(array);
     * // => [{ 'x': 1, 'y': 2 }, { 'x': 5, 'y': 6 }]
     */function pullAllWith(array,values,comparator){return array&&array.length&&values&&values.length?basePullAll(array,values,undefined,comparator):array;}/**
     * Removes elements from `array` corresponding to `indexes` and returns an
     * array of removed elements.
     *
     * **Note:** Unlike `_.at`, this method mutates `array`.
     *
     * @static
     * @memberOf _
     * @since 3.0.0
     * @category Array
     * @param {Array} array The array to modify.
     * @param {...(number|number[])} [indexes] The indexes of elements to remove.
     * @returns {Array} Returns the new array of removed elements.
     * @example
     *
     * var array = ['a', 'b', 'c', 'd'];
     * var pulled = _.pullAt(array, [1, 3]);
     *
     * console.log(array);
     * // => ['a', 'c']
     *
     * console.log(pulled);
     * // => ['b', 'd']
     */var pullAt=flatRest(function(array,indexes){var length=array==null?0:array.length,result=baseAt(array,indexes);basePullAt(array,arrayMap(indexes,function(index){return isIndex(index,length)?+index:index;}).sort(compareAscending));return result;});/**
     * Removes all elements from `array` that `predicate` returns truthy for
     * and returns an array of the removed elements. The predicate is invoked
     * with three arguments: (value, index, array).
     *
     * **Note:** Unlike `_.filter`, this method mutates `array`. Use `_.pull`
     * to pull elements from an array by value.
     *
     * @static
     * @memberOf _
     * @since 2.0.0
     * @category Array
     * @param {Array} array The array to modify.
     * @param {Function} [predicate=_.identity] The function invoked per iteration.
     * @returns {Array} Returns the new array of removed elements.
     * @example
     *
     * var array = [1, 2, 3, 4];
     * var evens = _.remove(array, function(n) {
     *   return n % 2 == 0;
     * });
     *
     * console.log(array);
     * // => [1, 3]
     *
     * console.log(evens);
     * // => [2, 4]
     */function remove(array,predicate){var result=[];if(!(array&&array.length)){return result;}var index=-1,indexes=[],length=array.length;predicate=getIteratee(predicate,3);while(++index<length){var value=array[index];if(predicate(value,index,array)){result.push(value);indexes.push(index);}}basePullAt(array,indexes);return result;}/**
     * Reverses `array` so that the first element becomes the last, the second
     * element becomes the second to last, and so on.
     *
     * **Note:** This method mutates `array` and is based on
     * [`Array#reverse`](https://mdn.io/Array/reverse).
     *
     * @static
     * @memberOf _
     * @since 4.0.0
     * @category Array
     * @param {Array} array The array to modify.
     * @returns {Array} Returns `array`.
     * @example
     *
     * var array = [1, 2, 3];
     *
     * _.reverse(array);
     * // => [3, 2, 1]
     *
     * console.log(array);
     * // => [3, 2, 1]
     */function reverse(array){return array==null?array:nativeReverse.call(array);}/**
     * Creates a slice of `array` from `start` up to, but not including, `end`.
     *
     * **Note:** This method is used instead of
     * [`Array#slice`](https://mdn.io/Array/slice) to ensure dense arrays are
     * returned.
     *
     * @static
     * @memberOf _
     * @since 3.0.0
     * @category Array
     * @param {Array} array The array to slice.
     * @param {number} [start=0] The start position.
     * @param {number} [end=array.length] The end position.
     * @returns {Array} Returns the slice of `array`.
     */function slice(array,start,end){var length=array==null?0:array.length;if(!length){return[];}if(end&&typeof end!='number'&&isIterateeCall(array,start,end)){start=0;end=length;}else{start=start==null?0:toInteger(start);end=end===undefined?length:toInteger(end);}return baseSlice(array,start,end);}/**
     * Uses a binary search to determine the lowest index at which `value`
     * should be inserted into `array` in order to maintain its sort order.
     *
     * @static
     * @memberOf _
     * @since 0.1.0
     * @category Array
     * @param {Array} array The sorted array to inspect.
     * @param {*} value The value to evaluate.
     * @returns {number} Returns the index at which `value` should be inserted
     *  into `array`.
     * @example
     *
     * _.sortedIndex([30, 50], 40);
     * // => 1
     */function sortedIndex(array,value){return baseSortedIndex(array,value);}/**
     * This method is like `_.sortedIndex` except that it accepts `iteratee`
     * which is invoked for `value` and each element of `array` to compute their
     * sort ranking. The iteratee is invoked with one argument: (value).
     *
     * @static
     * @memberOf _
     * @since 4.0.0
     * @category Array
     * @param {Array} array The sorted array to inspect.
     * @param {*} value The value to evaluate.
     * @param {Function} [iteratee=_.identity] The iteratee invoked per element.
     * @returns {number} Returns the index at which `value` should be inserted
     *  into `array`.
     * @example
     *
     * var objects = [{ 'x': 4 }, { 'x': 5 }];
     *
     * _.sortedIndexBy(objects, { 'x': 4 }, function(o) { return o.x; });
     * // => 0
     *
     * // The `_.property` iteratee shorthand.
     * _.sortedIndexBy(objects, { 'x': 4 }, 'x');
     * // => 0
     */function sortedIndexBy(array,value,iteratee){return baseSortedIndexBy(array,value,getIteratee(iteratee,2));}/**
     * This method is like `_.indexOf` except that it performs a binary
     * search on a sorted `array`.
     *
     * @static
     * @memberOf _
     * @since 4.0.0
     * @category Array
     * @param {Array} array The array to inspect.
     * @param {*} value The value to search for.
     * @returns {number} Returns the index of the matched value, else `-1`.
     * @example
     *
     * _.sortedIndexOf([4, 5, 5, 5, 6], 5);
     * // => 1
     */function sortedIndexOf(array,value){var length=array==null?0:array.length;if(length){var index=baseSortedIndex(array,value);if(index<length&&eq(array[index],value)){return index;}}return-1;}/**
     * This method is like `_.sortedIndex` except that it returns the highest
     * index at which `value` should be inserted into `array` in order to
     * maintain its sort order.
     *
     * @static
     * @memberOf _
     * @since 3.0.0
     * @category Array
     * @param {Array} array The sorted array to inspect.
     * @param {*} value The value to evaluate.
     * @returns {number} Returns the index at which `value` should be inserted
     *  into `array`.
     * @example
     *
     * _.sortedLastIndex([4, 5, 5, 5, 6], 5);
     * // => 4
     */function sortedLastIndex(array,value){return baseSortedIndex(array,value,true);}/**
     * This method is like `_.sortedLastIndex` except that it accepts `iteratee`
     * which is invoked for `value` and each element of `array` to compute their
     * sort ranking. The iteratee is invoked with one argument: (value).
     *
     * @static
     * @memberOf _
     * @since 4.0.0
     * @category Array
     * @param {Array} array The sorted array to inspect.
     * @param {*} value The value to evaluate.
     * @param {Function} [iteratee=_.identity] The iteratee invoked per element.
     * @returns {number} Returns the index at which `value` should be inserted
     *  into `array`.
     * @example
     *
     * var objects = [{ 'x': 4 }, { 'x': 5 }];
     *
     * _.sortedLastIndexBy(objects, { 'x': 4 }, function(o) { return o.x; });
     * // => 1
     *
     * // The `_.property` iteratee shorthand.
     * _.sortedLastIndexBy(objects, { 'x': 4 }, 'x');
     * // => 1
     */function sortedLastIndexBy(array,value,iteratee){return baseSortedIndexBy(array,value,getIteratee(iteratee,2),true);}/**
     * This method is like `_.lastIndexOf` except that it performs a binary
     * search on a sorted `array`.
     *
     * @static
     * @memberOf _
     * @since 4.0.0
     * @category Array
     * @param {Array} array The array to inspect.
     * @param {*} value The value to search for.
     * @returns {number} Returns the index of the matched value, else `-1`.
     * @example
     *
     * _.sortedLastIndexOf([4, 5, 5, 5, 6], 5);
     * // => 3
     */function sortedLastIndexOf(array,value){var length=array==null?0:array.length;if(length){var index=baseSortedIndex(array,value,true)-1;if(eq(array[index],value)){return index;}}return-1;}/**
     * This method is like `_.uniq` except that it's designed and optimized
     * for sorted arrays.
     *
     * @static
     * @memberOf _
     * @since 4.0.0
     * @category Array
     * @param {Array} array The array to inspect.
     * @returns {Array} Returns the new duplicate free array.
     * @example
     *
     * _.sortedUniq([1, 1, 2]);
     * // => [1, 2]
     */function sortedUniq(array){return array&&array.length?baseSortedUniq(array):[];}/**
     * This method is like `_.uniqBy` except that it's designed and optimized
     * for sorted arrays.
     *
     * @static
     * @memberOf _
     * @since 4.0.0
     * @category Array
     * @param {Array} array The array to inspect.
     * @param {Function} [iteratee] The iteratee invoked per element.
     * @returns {Array} Returns the new duplicate free array.
     * @example
     *
     * _.sortedUniqBy([1.1, 1.2, 2.3, 2.4], Math.floor);
     * // => [1.1, 2.3]
     */function sortedUniqBy(array,iteratee){return array&&array.length?baseSortedUniq(array,getIteratee(iteratee,2)):[];}/**
     * Gets all but the first element of `array`.
     *
     * @static
     * @memberOf _
     * @since 4.0.0
     * @category Array
     * @param {Array} array The array to query.
     * @returns {Array} Returns the slice of `array`.
     * @example
     *
     * _.tail([1, 2, 3]);
     * // => [2, 3]
     */function tail(array){var length=array==null?0:array.length;return length?baseSlice(array,1,length):[];}/**
     * Creates a slice of `array` with `n` elements taken from the beginning.
     *
     * @static
     * @memberOf _
     * @since 0.1.0
     * @category Array
     * @param {Array} array The array to query.
     * @param {number} [n=1] The number of elements to take.
     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.
     * @returns {Array} Returns the slice of `array`.
     * @example
     *
     * _.take([1, 2, 3]);
     * // => [1]
     *
     * _.take([1, 2, 3], 2);
     * // => [1, 2]
     *
     * _.take([1, 2, 3], 5);
     * // => [1, 2, 3]
     *
     * _.take([1, 2, 3], 0);
     * // => []
     */function take(array,n,guard){if(!(array&&array.length)){return[];}n=guard||n===undefined?1:toInteger(n);return baseSlice(array,0,n<0?0:n);}/**
     * Creates a slice of `array` with `n` elements taken from the end.
     *
     * @static
     * @memberOf _
     * @since 3.0.0
     * @category Array
     * @param {Array} array The array to query.
     * @param {number} [n=1] The number of elements to take.
     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.
     * @returns {Array} Returns the slice of `array`.
     * @example
     *
     * _.takeRight([1, 2, 3]);
     * // => [3]
     *
     * _.takeRight([1, 2, 3], 2);
     * // => [2, 3]
     *
     * _.takeRight([1, 2, 3], 5);
     * // => [1, 2, 3]
     *
     * _.takeRight([1, 2, 3], 0);
     * // => []
     */function takeRight(array,n,guard){var length=array==null?0:array.length;if(!length){return[];}n=guard||n===undefined?1:toInteger(n);n=length-n;return baseSlice(array,n<0?0:n,length);}/**
     * Creates a slice of `array` with elements taken from the end. Elements are
     * taken until `predicate` returns falsey. The predicate is invoked with
     * three arguments: (value, index, array).
     *
     * @static
     * @memberOf _
     * @since 3.0.0
     * @category Array
     * @param {Array} array The array to query.
     * @param {Function} [predicate=_.identity] The function invoked per iteration.
     * @returns {Array} Returns the slice of `array`.
     * @example
     *
     * var users = [
     *   { 'user': 'barney',  'active': true },
     *   { 'user': 'fred',    'active': false },
     *   { 'user': 'pebbles', 'active': false }
     * ];
     *
     * _.takeRightWhile(users, function(o) { return !o.active; });
     * // => objects for ['fred', 'pebbles']
     *
     * // The `_.matches` iteratee shorthand.
     * _.takeRightWhile(users, { 'user': 'pebbles', 'active': false });
     * // => objects for ['pebbles']
     *
     * // The `_.matchesProperty` iteratee shorthand.
     * _.takeRightWhile(users, ['active', false]);
     * // => objects for ['fred', 'pebbles']
     *
     * // The `_.property` iteratee shorthand.
     * _.takeRightWhile(users, 'active');
     * // => []
     */function takeRightWhile(array,predicate){return array&&array.length?baseWhile(array,getIteratee(predicate,3),false,true):[];}/**
     * Creates a slice of `array` with elements taken from the beginning. Elements
     * are taken until `predicate` returns falsey. The predicate is invoked with
     * three arguments: (value, index, array).
     *
     * @static
     * @memberOf _
     * @since 3.0.0
     * @category Array
     * @param {Array} array The array to query.
     * @param {Function} [predicate=_.identity] The function invoked per iteration.
     * @returns {Array} Returns the slice of `array`.
     * @example
     *
     * var users = [
     *   { 'user': 'barney',  'active': false },
     *   { 'user': 'fred',    'active': false },
     *   { 'user': 'pebbles', 'active': true }
     * ];
     *
     * _.takeWhile(users, function(o) { return !o.active; });
     * // => objects for ['barney', 'fred']
     *
     * // The `_.matches` iteratee shorthand.
     * _.takeWhile(users, { 'user': 'barney', 'active': false });
     * // => objects for ['barney']
     *
     * // The `_.matchesProperty` iteratee shorthand.
     * _.takeWhile(users, ['active', false]);
     * // => objects for ['barney', 'fred']
     *
     * // The `_.property` iteratee shorthand.
     * _.takeWhile(users, 'active');
     * // => []
     */function takeWhile(array,predicate){return array&&array.length?baseWhile(array,getIteratee(predicate,3)):[];}/**
     * Creates an array of unique values, in order, from all given arrays using
     * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)
     * for equality comparisons.
     *
     * @static
     * @memberOf _
     * @since 0.1.0
     * @category Array
     * @param {...Array} [arrays] The arrays to inspect.
     * @returns {Array} Returns the new array of combined values.
     * @example
     *
     * _.union([2], [1, 2]);
     * // => [2, 1]
     */var union=baseRest(function(arrays){return baseUniq(baseFlatten(arrays,1,isArrayLikeObject,true));});/**
     * This method is like `_.union` except that it accepts `iteratee` which is
     * invoked for each element of each `arrays` to generate the criterion by
     * which uniqueness is computed. Result values are chosen from the first
     * array in which the value occurs. The iteratee is invoked with one argument:
     * (value).
     *
     * @static
     * @memberOf _
     * @since 4.0.0
     * @category Array
     * @param {...Array} [arrays] The arrays to inspect.
     * @param {Function} [iteratee=_.identity] The iteratee invoked per element.
     * @returns {Array} Returns the new array of combined values.
     * @example
     *
     * _.unionBy([2.1], [1.2, 2.3], Math.floor);
     * // => [2.1, 1.2]
     *
     * // The `_.property` iteratee shorthand.
     * _.unionBy([{ 'x': 1 }], [{ 'x': 2 }, { 'x': 1 }], 'x');
     * // => [{ 'x': 1 }, { 'x': 2 }]
     */var unionBy=baseRest(function(arrays){var iteratee=last(arrays);if(isArrayLikeObject(iteratee)){iteratee=undefined;}return baseUniq(baseFlatten(arrays,1,isArrayLikeObject,true),getIteratee(iteratee,2));});/**
     * This method is like `_.union` except that it accepts `comparator` which
     * is invoked to compare elements of `arrays`. Result values are chosen from
     * the first array in which the value occurs. The comparator is invoked
     * with two arguments: (arrVal, othVal).
     *
     * @static
     * @memberOf _
     * @since 4.0.0
     * @category Array
     * @param {...Array} [arrays] The arrays to inspect.
     * @param {Function} [comparator] The comparator invoked per element.
     * @returns {Array} Returns the new array of combined values.
     * @example
     *
     * var objects = [{ 'x': 1, 'y': 2 }, { 'x': 2, 'y': 1 }];
     * var others = [{ 'x': 1, 'y': 1 }, { 'x': 1, 'y': 2 }];
     *
     * _.unionWith(objects, others, _.isEqual);
     * // => [{ 'x': 1, 'y': 2 }, { 'x': 2, 'y': 1 }, { 'x': 1, 'y': 1 }]
     */var unionWith=baseRest(function(arrays){var comparator=last(arrays);comparator=typeof comparator=='function'?comparator:undefined;return baseUniq(baseFlatten(arrays,1,isArrayLikeObject,true),undefined,comparator);});/**
     * Creates a duplicate-free version of an array, using
     * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)
     * for equality comparisons, in which only the first occurrence of each element
     * is kept. The order of result values is determined by the order they occur
     * in the array.
     *
     * @static
     * @memberOf _
     * @since 0.1.0
     * @category Array
     * @param {Array} array The array to inspect.
     * @returns {Array} Returns the new duplicate free array.
     * @example
     *
     * _.uniq([2, 1, 2]);
     * // => [2, 1]
     */function uniq(array){return array&&array.length?baseUniq(array):[];}/**
     * This method is like `_.uniq` except that it accepts `iteratee` which is
     * invoked for each element in `array` to generate the criterion by which
     * uniqueness is computed. The order of result values is determined by the
     * order they occur in the array. The iteratee is invoked with one argument:
     * (value).
     *
     * @static
     * @memberOf _
     * @since 4.0.0
     * @category Array
     * @param {Array} array The array to inspect.
     * @param {Function} [iteratee=_.identity] The iteratee invoked per element.
     * @returns {Array} Returns the new duplicate free array.
     * @example
     *
     * _.uniqBy([2.1, 1.2, 2.3], Math.floor);
     * // => [2.1, 1.2]
     *
     * // The `_.property` iteratee shorthand.
     * _.uniqBy([{ 'x': 1 }, { 'x': 2 }, { 'x': 1 }], 'x');
     * // => [{ 'x': 1 }, { 'x': 2 }]
     */function uniqBy(array,iteratee){return array&&array.length?baseUniq(array,getIteratee(iteratee,2)):[];}/**
     * This method is like `_.uniq` except that it accepts `comparator` which
     * is invoked to compare elements of `array`. The order of result values is
     * determined by the order they occur in the array.The comparator is invoked
     * with two arguments: (arrVal, othVal).
     *
     * @static
     * @memberOf _
     * @since 4.0.0
     * @category Array
     * @param {Array} array The array to inspect.
     * @param {Function} [comparator] The comparator invoked per element.
     * @returns {Array} Returns the new duplicate free array.
     * @example
     *
     * var objects = [{ 'x': 1, 'y': 2 }, { 'x': 2, 'y': 1 }, { 'x': 1, 'y': 2 }];
     *
     * _.uniqWith(objects, _.isEqual);
     * // => [{ 'x': 1, 'y': 2 }, { 'x': 2, 'y': 1 }]
     */function uniqWith(array,comparator){comparator=typeof comparator=='function'?comparator:undefined;return array&&array.length?baseUniq(array,undefined,comparator):[];}/**
     * This method is like `_.zip` except that it accepts an array of grouped
     * elements and creates an array regrouping the elements to their pre-zip
     * configuration.
     *
     * @static
     * @memberOf _
     * @since 1.2.0
     * @category Array
     * @param {Array} array The array of grouped elements to process.
     * @returns {Array} Returns the new array of regrouped elements.
     * @example
     *
     * var zipped = _.zip(['a', 'b'], [1, 2], [true, false]);
     * // => [['a', 1, true], ['b', 2, false]]
     *
     * _.unzip(zipped);
     * // => [['a', 'b'], [1, 2], [true, false]]
     */function unzip(array){if(!(array&&array.length)){return[];}var length=0;array=arrayFilter(array,function(group){if(isArrayLikeObject(group)){length=nativeMax(group.length,length);return true;}});return baseTimes(length,function(index){return arrayMap(array,baseProperty(index));});}/**
     * This method is like `_.unzip` except that it accepts `iteratee` to specify
     * how regrouped values should be combined. The iteratee is invoked with the
     * elements of each group: (...group).
     *
     * @static
     * @memberOf _
     * @since 3.8.0
     * @category Array
     * @param {Array} array The array of grouped elements to process.
     * @param {Function} [iteratee=_.identity] The function to combine
     *  regrouped values.
     * @returns {Array} Returns the new array of regrouped elements.
     * @example
     *
     * var zipped = _.zip([1, 2], [10, 20], [100, 200]);
     * // => [[1, 10, 100], [2, 20, 200]]
     *
     * _.unzipWith(zipped, _.add);
     * // => [3, 30, 300]
     */function unzipWith(array,iteratee){if(!(array&&array.length)){return[];}var result=unzip(array);if(iteratee==null){return result;}return arrayMap(result,function(group){return apply(iteratee,undefined,group);});}/**
     * Creates an array excluding all given values using
     * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)
     * for equality comparisons.
     *
     * **Note:** Unlike `_.pull`, this method returns a new array.
     *
     * @static
     * @memberOf _
     * @since 0.1.0
     * @category Array
     * @param {Array} array The array to inspect.
     * @param {...*} [values] The values to exclude.
     * @returns {Array} Returns the new array of filtered values.
     * @see _.difference, _.xor
     * @example
     *
     * _.without([2, 1, 2, 3], 1, 2);
     * // => [3]
     */var without=baseRest(function(array,values){return isArrayLikeObject(array)?baseDifference(array,values):[];});/**
     * Creates an array of unique values that is the
     * [symmetric difference](https://en.wikipedia.org/wiki/Symmetric_difference)
     * of the given arrays. The order of result values is determined by the order
     * they occur in the arrays.
     *
     * @static
     * @memberOf _
     * @since 2.4.0
     * @category Array
     * @param {...Array} [arrays] The arrays to inspect.
     * @returns {Array} Returns the new array of filtered values.
     * @see _.difference, _.without
     * @example
     *
     * _.xor([2, 1], [2, 3]);
     * // => [1, 3]
     */var xor=baseRest(function(arrays){return baseXor(arrayFilter(arrays,isArrayLikeObject));});/**
     * This method is like `_.xor` except that it accepts `iteratee` which is
     * invoked for each element of each `arrays` to generate the criterion by
     * which by which they're compared. The order of result values is determined
     * by the order they occur in the arrays. The iteratee is invoked with one
     * argument: (value).
     *
     * @static
     * @memberOf _
     * @since 4.0.0
     * @category Array
     * @param {...Array} [arrays] The arrays to inspect.
     * @param {Function} [iteratee=_.identity] The iteratee invoked per element.
     * @returns {Array} Returns the new array of filtered values.
     * @example
     *
     * _.xorBy([2.1, 1.2], [2.3, 3.4], Math.floor);
     * // => [1.2, 3.4]
     *
     * // The `_.property` iteratee shorthand.
     * _.xorBy([{ 'x': 1 }], [{ 'x': 2 }, { 'x': 1 }], 'x');
     * // => [{ 'x': 2 }]
     */var xorBy=baseRest(function(arrays){var iteratee=last(arrays);if(isArrayLikeObject(iteratee)){iteratee=undefined;}return baseXor(arrayFilter(arrays,isArrayLikeObject),getIteratee(iteratee,2));});/**
     * This method is like `_.xor` except that it accepts `comparator` which is
     * invoked to compare elements of `arrays`. The order of result values is
     * determined by the order they occur in the arrays. The comparator is invoked
     * with two arguments: (arrVal, othVal).
     *
     * @static
     * @memberOf _
     * @since 4.0.0
     * @category Array
     * @param {...Array} [arrays] The arrays to inspect.
     * @param {Function} [comparator] The comparator invoked per element.
     * @returns {Array} Returns the new array of filtered values.
     * @example
     *
     * var objects = [{ 'x': 1, 'y': 2 }, { 'x': 2, 'y': 1 }];
     * var others = [{ 'x': 1, 'y': 1 }, { 'x': 1, 'y': 2 }];
     *
     * _.xorWith(objects, others, _.isEqual);
     * // => [{ 'x': 2, 'y': 1 }, { 'x': 1, 'y': 1 }]
     */var xorWith=baseRest(function(arrays){var comparator=last(arrays);comparator=typeof comparator=='function'?comparator:undefined;return baseXor(arrayFilter(arrays,isArrayLikeObject),undefined,comparator);});/**
     * Creates an array of grouped elements, the first of which contains the
     * first elements of the given arrays, the second of which contains the
     * second elements of the given arrays, and so on.
     *
     * @static
     * @memberOf _
     * @since 0.1.0
     * @category Array
     * @param {...Array} [arrays] The arrays to process.
     * @returns {Array} Returns the new array of grouped elements.
     * @example
     *
     * _.zip(['a', 'b'], [1, 2], [true, false]);
     * // => [['a', 1, true], ['b', 2, false]]
     */var zip=baseRest(unzip);/**
     * This method is like `_.fromPairs` except that it accepts two arrays,
     * one of property identifiers and one of corresponding values.
     *
     * @static
     * @memberOf _
     * @since 0.4.0
     * @category Array
     * @param {Array} [props=[]] The property identifiers.
     * @param {Array} [values=[]] The property values.
     * @returns {Object} Returns the new object.
     * @example
     *
     * _.zipObject(['a', 'b'], [1, 2]);
     * // => { 'a': 1, 'b': 2 }
     */function zipObject(props,values){return baseZipObject(props||[],values||[],assignValue);}/**
     * This method is like `_.zipObject` except that it supports property paths.
     *
     * @static
     * @memberOf _
     * @since 4.1.0
     * @category Array
     * @param {Array} [props=[]] The property identifiers.
     * @param {Array} [values=[]] The property values.
     * @returns {Object} Returns the new object.
     * @example
     *
     * _.zipObjectDeep(['a.b[0].c', 'a.b[1].d'], [1, 2]);
     * // => { 'a': { 'b': [{ 'c': 1 }, { 'd': 2 }] } }
     */function zipObjectDeep(props,values){return baseZipObject(props||[],values||[],baseSet);}/**
     * This method is like `_.zip` except that it accepts `iteratee` to specify
     * how grouped values should be combined. The iteratee is invoked with the
     * elements of each group: (...group).
     *
     * @static
     * @memberOf _
     * @since 3.8.0
     * @category Array
     * @param {...Array} [arrays] The arrays to process.
     * @param {Function} [iteratee=_.identity] The function to combine
     *  grouped values.
     * @returns {Array} Returns the new array of grouped elements.
     * @example
     *
     * _.zipWith([1, 2], [10, 20], [100, 200], function(a, b, c) {
     *   return a + b + c;
     * });
     * // => [111, 222]
     */var zipWith=baseRest(function(arrays){var length=arrays.length,iteratee=length>1?arrays[length-1]:undefined;iteratee=typeof iteratee=='function'?(arrays.pop(),iteratee):undefined;return unzipWith(arrays,iteratee);});/*------------------------------------------------------------------------*//**
     * Creates a `lodash` wrapper instance that wraps `value` with explicit method
     * chain sequences enabled. The result of such sequences must be unwrapped
     * with `_#value`.
     *
     * @static
     * @memberOf _
     * @since 1.3.0
     * @category Seq
     * @param {*} value The value to wrap.
     * @returns {Object} Returns the new `lodash` wrapper instance.
     * @example
     *
     * var users = [
     *   { 'user': 'barney',  'age': 36 },
     *   { 'user': 'fred',    'age': 40 },
     *   { 'user': 'pebbles', 'age': 1 }
     * ];
     *
     * var youngest = _
     *   .chain(users)
     *   .sortBy('age')
     *   .map(function(o) {
     *     return o.user + ' is ' + o.age;
     *   })
     *   .head()
     *   .value();
     * // => 'pebbles is 1'
     */function chain(value){var result=lodash(value);result.__chain__=true;return result;}/**
     * This method invokes `interceptor` and returns `value`. The interceptor
     * is invoked with one argument; (value). The purpose of this method is to
     * "tap into" a method chain sequence in order to modify intermediate results.
     *
     * @static
     * @memberOf _
     * @since 0.1.0
     * @category Seq
     * @param {*} value The value to provide to `interceptor`.
     * @param {Function} interceptor The function to invoke.
     * @returns {*} Returns `value`.
     * @example
     *
     * _([1, 2, 3])
     *  .tap(function(array) {
     *    // Mutate input array.
     *    array.pop();
     *  })
     *  .reverse()
     *  .value();
     * // => [2, 1]
     */function tap(value,interceptor){interceptor(value);return value;}/**
     * This method is like `_.tap` except that it returns the result of `interceptor`.
     * The purpose of this method is to "pass thru" values replacing intermediate
     * results in a method chain sequence.
     *
     * @static
     * @memberOf _
     * @since 3.0.0
     * @category Seq
     * @param {*} value The value to provide to `interceptor`.
     * @param {Function} interceptor The function to invoke.
     * @returns {*} Returns the result of `interceptor`.
     * @example
     *
     * _('  abc  ')
     *  .chain()
     *  .trim()
     *  .thru(function(value) {
     *    return [value];
     *  })
     *  .value();
     * // => ['abc']
     */function thru(value,interceptor){return interceptor(value);}/**
     * This method is the wrapper version of `_.at`.
     *
     * @name at
     * @memberOf _
     * @since 1.0.0
     * @category Seq
     * @param {...(string|string[])} [paths] The property paths to pick.
     * @returns {Object} Returns the new `lodash` wrapper instance.
     * @example
     *
     * var object = { 'a': [{ 'b': { 'c': 3 } }, 4] };
     *
     * _(object).at(['a[0].b.c', 'a[1]']).value();
     * // => [3, 4]
     */var wrapperAt=flatRest(function(paths){var length=paths.length,start=length?paths[0]:0,value=this.__wrapped__,interceptor=function interceptor(object){return baseAt(object,paths);};if(length>1||this.__actions__.length||!(value instanceof LazyWrapper)||!isIndex(start)){return this.thru(interceptor);}value=value.slice(start,+start+(length?1:0));value.__actions__.push({'func':thru,'args':[interceptor],'thisArg':undefined});return new LodashWrapper(value,this.__chain__).thru(function(array){if(length&&!array.length){array.push(undefined);}return array;});});/**
     * Creates a `lodash` wrapper instance with explicit method chain sequences enabled.
     *
     * @name chain
     * @memberOf _
     * @since 0.1.0
     * @category Seq
     * @returns {Object} Returns the new `lodash` wrapper instance.
     * @example
     *
     * var users = [
     *   { 'user': 'barney', 'age': 36 },
     *   { 'user': 'fred',   'age': 40 }
     * ];
     *
     * // A sequence without explicit chaining.
     * _(users).head();
     * // => { 'user': 'barney', 'age': 36 }
     *
     * // A sequence with explicit chaining.
     * _(users)
     *   .chain()
     *   .head()
     *   .pick('user')
     *   .value();
     * // => { 'user': 'barney' }
     */function wrapperChain(){return chain(this);}/**
     * Executes the chain sequence and returns the wrapped result.
     *
     * @name commit
     * @memberOf _
     * @since 3.2.0
     * @category Seq
     * @returns {Object} Returns the new `lodash` wrapper instance.
     * @example
     *
     * var array = [1, 2];
     * var wrapped = _(array).push(3);
     *
     * console.log(array);
     * // => [1, 2]
     *
     * wrapped = wrapped.commit();
     * console.log(array);
     * // => [1, 2, 3]
     *
     * wrapped.last();
     * // => 3
     *
     * console.log(array);
     * // => [1, 2, 3]
     */function wrapperCommit(){return new LodashWrapper(this.value(),this.__chain__);}/**
     * Gets the next value on a wrapped object following the
     * [iterator protocol](https://mdn.io/iteration_protocols#iterator).
     *
     * @name next
     * @memberOf _
     * @since 4.0.0
     * @category Seq
     * @returns {Object} Returns the next iterator value.
     * @example
     *
     * var wrapped = _([1, 2]);
     *
     * wrapped.next();
     * // => { 'done': false, 'value': 1 }
     *
     * wrapped.next();
     * // => { 'done': false, 'value': 2 }
     *
     * wrapped.next();
     * // => { 'done': true, 'value': undefined }
     */function wrapperNext(){if(this.__values__===undefined){this.__values__=toArray(this.value());}var done=this.__index__>=this.__values__.length,value=done?undefined:this.__values__[this.__index__++];return{'done':done,'value':value};}/**
     * Enables the wrapper to be iterable.
     *
     * @name Symbol.iterator
     * @memberOf _
     * @since 4.0.0
     * @category Seq
     * @returns {Object} Returns the wrapper object.
     * @example
     *
     * var wrapped = _([1, 2]);
     *
     * wrapped[Symbol.iterator]() === wrapped;
     * // => true
     *
     * Array.from(wrapped);
     * // => [1, 2]
     */function wrapperToIterator(){return this;}/**
     * Creates a clone of the chain sequence planting `value` as the wrapped value.
     *
     * @name plant
     * @memberOf _
     * @since 3.2.0
     * @category Seq
     * @param {*} value The value to plant.
     * @returns {Object} Returns the new `lodash` wrapper instance.
     * @example
     *
     * function square(n) {
     *   return n * n;
     * }
     *
     * var wrapped = _([1, 2]).map(square);
     * var other = wrapped.plant([3, 4]);
     *
     * other.value();
     * // => [9, 16]
     *
     * wrapped.value();
     * // => [1, 4]
     */function wrapperPlant(value){var result,parent=this;while(parent instanceof baseLodash){var clone=wrapperClone(parent);clone.__index__=0;clone.__values__=undefined;if(result){previous.__wrapped__=clone;}else{result=clone;}var previous=clone;parent=parent.__wrapped__;}previous.__wrapped__=value;return result;}/**
     * This method is the wrapper version of `_.reverse`.
     *
     * **Note:** This method mutates the wrapped array.
     *
     * @name reverse
     * @memberOf _
     * @since 0.1.0
     * @category Seq
     * @returns {Object} Returns the new `lodash` wrapper instance.
     * @example
     *
     * var array = [1, 2, 3];
     *
     * _(array).reverse().value()
     * // => [3, 2, 1]
     *
     * console.log(array);
     * // => [3, 2, 1]
     */function wrapperReverse(){var value=this.__wrapped__;if(value instanceof LazyWrapper){var wrapped=value;if(this.__actions__.length){wrapped=new LazyWrapper(this);}wrapped=wrapped.reverse();wrapped.__actions__.push({'func':thru,'args':[reverse],'thisArg':undefined});return new LodashWrapper(wrapped,this.__chain__);}return this.thru(reverse);}/**
     * Executes the chain sequence to resolve the unwrapped value.
     *
     * @name value
     * @memberOf _
     * @since 0.1.0
     * @alias toJSON, valueOf
     * @category Seq
     * @returns {*} Returns the resolved unwrapped value.
     * @example
     *
     * _([1, 2, 3]).value();
     * // => [1, 2, 3]
     */function wrapperValue(){return baseWrapperValue(this.__wrapped__,this.__actions__);}/*------------------------------------------------------------------------*//**
     * Creates an object composed of keys generated from the results of running
     * each element of `collection` thru `iteratee`. The corresponding value of
     * each key is the number of times the key was returned by `iteratee`. The
     * iteratee is invoked with one argument: (value).
     *
     * @static
     * @memberOf _
     * @since 0.5.0
     * @category Collection
     * @param {Array|Object} collection The collection to iterate over.
     * @param {Function} [iteratee=_.identity] The iteratee to transform keys.
     * @returns {Object} Returns the composed aggregate object.
     * @example
     *
     * _.countBy([6.1, 4.2, 6.3], Math.floor);
     * // => { '4': 1, '6': 2 }
     *
     * // The `_.property` iteratee shorthand.
     * _.countBy(['one', 'two', 'three'], 'length');
     * // => { '3': 2, '5': 1 }
     */var countBy=createAggregator(function(result,value,key){if(hasOwnProperty.call(result,key)){++result[key];}else{baseAssignValue(result,key,1);}});/**
     * Checks if `predicate` returns truthy for **all** elements of `collection`.
     * Iteration is stopped once `predicate` returns falsey. The predicate is
     * invoked with three arguments: (value, index|key, collection).
     *
     * **Note:** This method returns `true` for
     * [empty collections](https://en.wikipedia.org/wiki/Empty_set) because
     * [everything is true](https://en.wikipedia.org/wiki/Vacuous_truth) of
     * elements of empty collections.
     *
     * @static
     * @memberOf _
     * @since 0.1.0
     * @category Collection
     * @param {Array|Object} collection The collection to iterate over.
     * @param {Function} [predicate=_.identity] The function invoked per iteration.
     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.
     * @returns {boolean} Returns `true` if all elements pass the predicate check,
     *  else `false`.
     * @example
     *
     * _.every([true, 1, null, 'yes'], Boolean);
     * // => false
     *
     * var users = [
     *   { 'user': 'barney', 'age': 36, 'active': false },
     *   { 'user': 'fred',   'age': 40, 'active': false }
     * ];
     *
     * // The `_.matches` iteratee shorthand.
     * _.every(users, { 'user': 'barney', 'active': false });
     * // => false
     *
     * // The `_.matchesProperty` iteratee shorthand.
     * _.every(users, ['active', false]);
     * // => true
     *
     * // The `_.property` iteratee shorthand.
     * _.every(users, 'active');
     * // => false
     */function every(collection,predicate,guard){var func=isArray(collection)?arrayEvery:baseEvery;if(guard&&isIterateeCall(collection,predicate,guard)){predicate=undefined;}return func(collection,getIteratee(predicate,3));}/**
     * Iterates over elements of `collection`, returning an array of all elements
     * `predicate` returns truthy for. The predicate is invoked with three
     * arguments: (value, index|key, collection).
     *
     * **Note:** Unlike `_.remove`, this method returns a new array.
     *
     * @static
     * @memberOf _
     * @since 0.1.0
     * @category Collection
     * @param {Array|Object} collection The collection to iterate over.
     * @param {Function} [predicate=_.identity] The function invoked per iteration.
     * @returns {Array} Returns the new filtered array.
     * @see _.reject
     * @example
     *
     * var users = [
     *   { 'user': 'barney', 'age': 36, 'active': true },
     *   { 'user': 'fred',   'age': 40, 'active': false }
     * ];
     *
     * _.filter(users, function(o) { return !o.active; });
     * // => objects for ['fred']
     *
     * // The `_.matches` iteratee shorthand.
     * _.filter(users, { 'age': 36, 'active': true });
     * // => objects for ['barney']
     *
     * // The `_.matchesProperty` iteratee shorthand.
     * _.filter(users, ['active', false]);
     * // => objects for ['fred']
     *
     * // The `_.property` iteratee shorthand.
     * _.filter(users, 'active');
     * // => objects for ['barney']
     */function filter(collection,predicate){var func=isArray(collection)?arrayFilter:baseFilter;return func(collection,getIteratee(predicate,3));}/**
     * Iterates over elements of `collection`, returning the first element
     * `predicate` returns truthy for. The predicate is invoked with three
     * arguments: (value, index|key, collection).
     *
     * @static
     * @memberOf _
     * @since 0.1.0
     * @category Collection
     * @param {Array|Object} collection The collection to inspect.
     * @param {Function} [predicate=_.identity] The function invoked per iteration.
     * @param {number} [fromIndex=0] The index to search from.
     * @returns {*} Returns the matched element, else `undefined`.
     * @example
     *
     * var users = [
     *   { 'user': 'barney',  'age': 36, 'active': true },
     *   { 'user': 'fred',    'age': 40, 'active': false },
     *   { 'user': 'pebbles', 'age': 1,  'active': true }
     * ];
     *
     * _.find(users, function(o) { return o.age < 40; });
     * // => object for 'barney'
     *
     * // The `_.matches` iteratee shorthand.
     * _.find(users, { 'age': 1, 'active': true });
     * // => object for 'pebbles'
     *
     * // The `_.matchesProperty` iteratee shorthand.
     * _.find(users, ['active', false]);
     * // => object for 'fred'
     *
     * // The `_.property` iteratee shorthand.
     * _.find(users, 'active');
     * // => object for 'barney'
     */var find=createFind(findIndex);/**
     * This method is like `_.find` except that it iterates over elements of
     * `collection` from right to left.
     *
     * @static
     * @memberOf _
     * @since 2.0.0
     * @category Collection
     * @param {Array|Object} collection The collection to inspect.
     * @param {Function} [predicate=_.identity] The function invoked per iteration.
     * @param {number} [fromIndex=collection.length-1] The index to search from.
     * @returns {*} Returns the matched element, else `undefined`.
     * @example
     *
     * _.findLast([1, 2, 3, 4], function(n) {
     *   return n % 2 == 1;
     * });
     * // => 3
     */var findLast=createFind(findLastIndex);/**
     * Creates a flattened array of values by running each element in `collection`
     * thru `iteratee` and flattening the mapped results. The iteratee is invoked
     * with three arguments: (value, index|key, collection).
     *
     * @static
     * @memberOf _
     * @since 4.0.0
     * @category Collection
     * @param {Array|Object} collection The collection to iterate over.
     * @param {Function} [iteratee=_.identity] The function invoked per iteration.
     * @returns {Array} Returns the new flattened array.
     * @example
     *
     * function duplicate(n) {
     *   return [n, n];
     * }
     *
     * _.flatMap([1, 2], duplicate);
     * // => [1, 1, 2, 2]
     */function flatMap(collection,iteratee){return baseFlatten(map(collection,iteratee),1);}/**
     * This method is like `_.flatMap` except that it recursively flattens the
     * mapped results.
     *
     * @static
     * @memberOf _
     * @since 4.7.0
     * @category Collection
     * @param {Array|Object} collection The collection to iterate over.
     * @param {Function} [iteratee=_.identity] The function invoked per iteration.
     * @returns {Array} Returns the new flattened array.
     * @example
     *
     * function duplicate(n) {
     *   return [[[n, n]]];
     * }
     *
     * _.flatMapDeep([1, 2], duplicate);
     * // => [1, 1, 2, 2]
     */function flatMapDeep(collection,iteratee){return baseFlatten(map(collection,iteratee),INFINITY);}/**
     * This method is like `_.flatMap` except that it recursively flattens the
     * mapped results up to `depth` times.
     *
     * @static
     * @memberOf _
     * @since 4.7.0
     * @category Collection
     * @param {Array|Object} collection The collection to iterate over.
     * @param {Function} [iteratee=_.identity] The function invoked per iteration.
     * @param {number} [depth=1] The maximum recursion depth.
     * @returns {Array} Returns the new flattened array.
     * @example
     *
     * function duplicate(n) {
     *   return [[[n, n]]];
     * }
     *
     * _.flatMapDepth([1, 2], duplicate, 2);
     * // => [[1, 1], [2, 2]]
     */function flatMapDepth(collection,iteratee,depth){depth=depth===undefined?1:toInteger(depth);return baseFlatten(map(collection,iteratee),depth);}/**
     * Iterates over elements of `collection` and invokes `iteratee` for each element.
     * The iteratee is invoked with three arguments: (value, index|key, collection).
     * Iteratee functions may exit iteration early by explicitly returning `false`.
     *
     * **Note:** As with other "Collections" methods, objects with a "length"
     * property are iterated like arrays. To avoid this behavior use `_.forIn`
     * or `_.forOwn` for object iteration.
     *
     * @static
     * @memberOf _
     * @since 0.1.0
     * @alias each
     * @category Collection
     * @param {Array|Object} collection The collection to iterate over.
     * @param {Function} [iteratee=_.identity] The function invoked per iteration.
     * @returns {Array|Object} Returns `collection`.
     * @see _.forEachRight
     * @example
     *
     * _.forEach([1, 2], function(value) {
     *   console.log(value);
     * });
     * // => Logs `1` then `2`.
     *
     * _.forEach({ 'a': 1, 'b': 2 }, function(value, key) {
     *   console.log(key);
     * });
     * // => Logs 'a' then 'b' (iteration order is not guaranteed).
     */function forEach(collection,iteratee){var func=isArray(collection)?arrayEach:baseEach;return func(collection,getIteratee(iteratee,3));}/**
     * This method is like `_.forEach` except that it iterates over elements of
     * `collection` from right to left.
     *
     * @static
     * @memberOf _
     * @since 2.0.0
     * @alias eachRight
     * @category Collection
     * @param {Array|Object} collection The collection to iterate over.
     * @param {Function} [iteratee=_.identity] The function invoked per iteration.
     * @returns {Array|Object} Returns `collection`.
     * @see _.forEach
     * @example
     *
     * _.forEachRight([1, 2], function(value) {
     *   console.log(value);
     * });
     * // => Logs `2` then `1`.
     */function forEachRight(collection,iteratee){var func=isArray(collection)?arrayEachRight:baseEachRight;return func(collection,getIteratee(iteratee,3));}/**
     * Creates an object composed of keys generated from the results of running
     * each element of `collection` thru `iteratee`. The order of grouped values
     * is determined by the order they occur in `collection`. The corresponding
     * value of each key is an array of elements responsible for generating the
     * key. The iteratee is invoked with one argument: (value).
     *
     * @static
     * @memberOf _
     * @since 0.1.0
     * @category Collection
     * @param {Array|Object} collection The collection to iterate over.
     * @param {Function} [iteratee=_.identity] The iteratee to transform keys.
     * @returns {Object} Returns the composed aggregate object.
     * @example
     *
     * _.groupBy([6.1, 4.2, 6.3], Math.floor);
     * // => { '4': [4.2], '6': [6.1, 6.3] }
     *
     * // The `_.property` iteratee shorthand.
     * _.groupBy(['one', 'two', 'three'], 'length');
     * // => { '3': ['one', 'two'], '5': ['three'] }
     */var groupBy=createAggregator(function(result,value,key){if(hasOwnProperty.call(result,key)){result[key].push(value);}else{baseAssignValue(result,key,[value]);}});/**
     * Checks if `value` is in `collection`. If `collection` is a string, it's
     * checked for a substring of `value`, otherwise
     * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)
     * is used for equality comparisons. If `fromIndex` is negative, it's used as
     * the offset from the end of `collection`.
     *
     * @static
     * @memberOf _
     * @since 0.1.0
     * @category Collection
     * @param {Array|Object|string} collection The collection to inspect.
     * @param {*} value The value to search for.
     * @param {number} [fromIndex=0] The index to search from.
     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.reduce`.
     * @returns {boolean} Returns `true` if `value` is found, else `false`.
     * @example
     *
     * _.includes([1, 2, 3], 1);
     * // => true
     *
     * _.includes([1, 2, 3], 1, 2);
     * // => false
     *
     * _.includes({ 'a': 1, 'b': 2 }, 1);
     * // => true
     *
     * _.includes('abcd', 'bc');
     * // => true
     */function includes(collection,value,fromIndex,guard){collection=isArrayLike(collection)?collection:values(collection);fromIndex=fromIndex&&!guard?toInteger(fromIndex):0;var length=collection.length;if(fromIndex<0){fromIndex=nativeMax(length+fromIndex,0);}return isString(collection)?fromIndex<=length&&collection.indexOf(value,fromIndex)>-1:!!length&&baseIndexOf(collection,value,fromIndex)>-1;}/**
     * Invokes the method at `path` of each element in `collection`, returning
     * an array of the results of each invoked method. Any additional arguments
     * are provided to each invoked method. If `path` is a function, it's invoked
     * for, and `this` bound to, each element in `collection`.
     *
     * @static
     * @memberOf _
     * @since 4.0.0
     * @category Collection
     * @param {Array|Object} collection The collection to iterate over.
     * @param {Array|Function|string} path The path of the method to invoke or
     *  the function invoked per iteration.
     * @param {...*} [args] The arguments to invoke each method with.
     * @returns {Array} Returns the array of results.
     * @example
     *
     * _.invokeMap([[5, 1, 7], [3, 2, 1]], 'sort');
     * // => [[1, 5, 7], [1, 2, 3]]
     *
     * _.invokeMap([123, 456], String.prototype.split, '');
     * // => [['1', '2', '3'], ['4', '5', '6']]
     */var invokeMap=baseRest(function(collection,path,args){var index=-1,isFunc=typeof path=='function',result=isArrayLike(collection)?Array(collection.length):[];baseEach(collection,function(value){result[++index]=isFunc?apply(path,value,args):baseInvoke(value,path,args);});return result;});/**
     * Creates an object composed of keys generated from the results of running
     * each element of `collection` thru `iteratee`. The corresponding value of
     * each key is the last element responsible for generating the key. The
     * iteratee is invoked with one argument: (value).
     *
     * @static
     * @memberOf _
     * @since 4.0.0
     * @category Collection
     * @param {Array|Object} collection The collection to iterate over.
     * @param {Function} [iteratee=_.identity] The iteratee to transform keys.
     * @returns {Object} Returns the composed aggregate object.
     * @example
     *
     * var array = [
     *   { 'dir': 'left', 'code': 97 },
     *   { 'dir': 'right', 'code': 100 }
     * ];
     *
     * _.keyBy(array, function(o) {
     *   return String.fromCharCode(o.code);
     * });
     * // => { 'a': { 'dir': 'left', 'code': 97 }, 'd': { 'dir': 'right', 'code': 100 } }
     *
     * _.keyBy(array, 'dir');
     * // => { 'left': { 'dir': 'left', 'code': 97 }, 'right': { 'dir': 'right', 'code': 100 } }
     */var keyBy=createAggregator(function(result,value,key){baseAssignValue(result,key,value);});/**
     * Creates an array of values by running each element in `collection` thru
     * `iteratee`. The iteratee is invoked with three arguments:
     * (value, index|key, collection).
     *
     * Many lodash methods are guarded to work as iteratees for methods like
     * `_.every`, `_.filter`, `_.map`, `_.mapValues`, `_.reject`, and `_.some`.
     *
     * The guarded methods are:
     * `ary`, `chunk`, `curry`, `curryRight`, `drop`, `dropRight`, `every`,
     * `fill`, `invert`, `parseInt`, `random`, `range`, `rangeRight`, `repeat`,
     * `sampleSize`, `slice`, `some`, `sortBy`, `split`, `take`, `takeRight`,
     * `template`, `trim`, `trimEnd`, `trimStart`, and `words`
     *
     * @static
     * @memberOf _
     * @since 0.1.0
     * @category Collection
     * @param {Array|Object} collection The collection to iterate over.
     * @param {Function} [iteratee=_.identity] The function invoked per iteration.
     * @returns {Array} Returns the new mapped array.
     * @example
     *
     * function square(n) {
     *   return n * n;
     * }
     *
     * _.map([4, 8], square);
     * // => [16, 64]
     *
     * _.map({ 'a': 4, 'b': 8 }, square);
     * // => [16, 64] (iteration order is not guaranteed)
     *
     * var users = [
     *   { 'user': 'barney' },
     *   { 'user': 'fred' }
     * ];
     *
     * // The `_.property` iteratee shorthand.
     * _.map(users, 'user');
     * // => ['barney', 'fred']
     */function map(collection,iteratee){var func=isArray(collection)?arrayMap:baseMap;return func(collection,getIteratee(iteratee,3));}/**
     * This method is like `_.sortBy` except that it allows specifying the sort
     * orders of the iteratees to sort by. If `orders` is unspecified, all values
     * are sorted in ascending order. Otherwise, specify an order of "desc" for
     * descending or "asc" for ascending sort order of corresponding values.
     *
     * @static
     * @memberOf _
     * @since 4.0.0
     * @category Collection
     * @param {Array|Object} collection The collection to iterate over.
     * @param {Array[]|Function[]|Object[]|string[]} [iteratees=[_.identity]]
     *  The iteratees to sort by.
     * @param {string[]} [orders] The sort orders of `iteratees`.
     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.reduce`.
     * @returns {Array} Returns the new sorted array.
     * @example
     *
     * var users = [
     *   { 'user': 'fred',   'age': 48 },
     *   { 'user': 'barney', 'age': 34 },
     *   { 'user': 'fred',   'age': 40 },
     *   { 'user': 'barney', 'age': 36 }
     * ];
     *
     * // Sort by `user` in ascending order and by `age` in descending order.
     * _.orderBy(users, ['user', 'age'], ['asc', 'desc']);
     * // => objects for [['barney', 36], ['barney', 34], ['fred', 48], ['fred', 40]]
     */function orderBy(collection,iteratees,orders,guard){if(collection==null){return[];}if(!isArray(iteratees)){iteratees=iteratees==null?[]:[iteratees];}orders=guard?undefined:orders;if(!isArray(orders)){orders=orders==null?[]:[orders];}return baseOrderBy(collection,iteratees,orders);}/**
     * Creates an array of elements split into two groups, the first of which
     * contains elements `predicate` returns truthy for, the second of which
     * contains elements `predicate` returns falsey for. The predicate is
     * invoked with one argument: (value).
     *
     * @static
     * @memberOf _
     * @since 3.0.0
     * @category Collection
     * @param {Array|Object} collection The collection to iterate over.
     * @param {Function} [predicate=_.identity] The function invoked per iteration.
     * @returns {Array} Returns the array of grouped elements.
     * @example
     *
     * var users = [
     *   { 'user': 'barney',  'age': 36, 'active': false },
     *   { 'user': 'fred',    'age': 40, 'active': true },
     *   { 'user': 'pebbles', 'age': 1,  'active': false }
     * ];
     *
     * _.partition(users, function(o) { return o.active; });
     * // => objects for [['fred'], ['barney', 'pebbles']]
     *
     * // The `_.matches` iteratee shorthand.
     * _.partition(users, { 'age': 1, 'active': false });
     * // => objects for [['pebbles'], ['barney', 'fred']]
     *
     * // The `_.matchesProperty` iteratee shorthand.
     * _.partition(users, ['active', false]);
     * // => objects for [['barney', 'pebbles'], ['fred']]
     *
     * // The `_.property` iteratee shorthand.
     * _.partition(users, 'active');
     * // => objects for [['fred'], ['barney', 'pebbles']]
     */var partition=createAggregator(function(result,value,key){result[key?0:1].push(value);},function(){return[[],[]];});/**
     * Reduces `collection` to a value which is the accumulated result of running
     * each element in `collection` thru `iteratee`, where each successive
     * invocation is supplied the return value of the previous. If `accumulator`
     * is not given, the first element of `collection` is used as the initial
     * value. The iteratee is invoked with four arguments:
     * (accumulator, value, index|key, collection).
     *
     * Many lodash methods are guarded to work as iteratees for methods like
     * `_.reduce`, `_.reduceRight`, and `_.transform`.
     *
     * The guarded methods are:
     * `assign`, `defaults`, `defaultsDeep`, `includes`, `merge`, `orderBy`,
     * and `sortBy`
     *
     * @static
     * @memberOf _
     * @since 0.1.0
     * @category Collection
     * @param {Array|Object} collection The collection to iterate over.
     * @param {Function} [iteratee=_.identity] The function invoked per iteration.
     * @param {*} [accumulator] The initial value.
     * @returns {*} Returns the accumulated value.
     * @see _.reduceRight
     * @example
     *
     * _.reduce([1, 2], function(sum, n) {
     *   return sum + n;
     * }, 0);
     * // => 3
     *
     * _.reduce({ 'a': 1, 'b': 2, 'c': 1 }, function(result, value, key) {
     *   (result[value] || (result[value] = [])).push(key);
     *   return result;
     * }, {});
     * // => { '1': ['a', 'c'], '2': ['b'] } (iteration order is not guaranteed)
     */function reduce(collection,iteratee,accumulator){var func=isArray(collection)?arrayReduce:baseReduce,initAccum=arguments.length<3;return func(collection,getIteratee(iteratee,4),accumulator,initAccum,baseEach);}/**
     * This method is like `_.reduce` except that it iterates over elements of
     * `collection` from right to left.
     *
     * @static
     * @memberOf _
     * @since 0.1.0
     * @category Collection
     * @param {Array|Object} collection The collection to iterate over.
     * @param {Function} [iteratee=_.identity] The function invoked per iteration.
     * @param {*} [accumulator] The initial value.
     * @returns {*} Returns the accumulated value.
     * @see _.reduce
     * @example
     *
     * var array = [[0, 1], [2, 3], [4, 5]];
     *
     * _.reduceRight(array, function(flattened, other) {
     *   return flattened.concat(other);
     * }, []);
     * // => [4, 5, 2, 3, 0, 1]
     */function reduceRight(collection,iteratee,accumulator){var func=isArray(collection)?arrayReduceRight:baseReduce,initAccum=arguments.length<3;return func(collection,getIteratee(iteratee,4),accumulator,initAccum,baseEachRight);}/**
     * The opposite of `_.filter`; this method returns the elements of `collection`
     * that `predicate` does **not** return truthy for.
     *
     * @static
     * @memberOf _
     * @since 0.1.0
     * @category Collection
     * @param {Array|Object} collection The collection to iterate over.
     * @param {Function} [predicate=_.identity] The function invoked per iteration.
     * @returns {Array} Returns the new filtered array.
     * @see _.filter
     * @example
     *
     * var users = [
     *   { 'user': 'barney', 'age': 36, 'active': false },
     *   { 'user': 'fred',   'age': 40, 'active': true }
     * ];
     *
     * _.reject(users, function(o) { return !o.active; });
     * // => objects for ['fred']
     *
     * // The `_.matches` iteratee shorthand.
     * _.reject(users, { 'age': 40, 'active': true });
     * // => objects for ['barney']
     *
     * // The `_.matchesProperty` iteratee shorthand.
     * _.reject(users, ['active', false]);
     * // => objects for ['fred']
     *
     * // The `_.property` iteratee shorthand.
     * _.reject(users, 'active');
     * // => objects for ['barney']
     */function reject(collection,predicate){var func=isArray(collection)?arrayFilter:baseFilter;return func(collection,negate(getIteratee(predicate,3)));}/**
     * Gets a random element from `collection`.
     *
     * @static
     * @memberOf _
     * @since 2.0.0
     * @category Collection
     * @param {Array|Object} collection The collection to sample.
     * @returns {*} Returns the random element.
     * @example
     *
     * _.sample([1, 2, 3, 4]);
     * // => 2
     */function sample(collection){var func=isArray(collection)?arraySample:baseSample;return func(collection);}/**
     * Gets `n` random elements at unique keys from `collection` up to the
     * size of `collection`.
     *
     * @static
     * @memberOf _
     * @since 4.0.0
     * @category Collection
     * @param {Array|Object} collection The collection to sample.
     * @param {number} [n=1] The number of elements to sample.
     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.
     * @returns {Array} Returns the random elements.
     * @example
     *
     * _.sampleSize([1, 2, 3], 2);
     * // => [3, 1]
     *
     * _.sampleSize([1, 2, 3], 4);
     * // => [2, 3, 1]
     */function sampleSize(collection,n,guard){if(guard?isIterateeCall(collection,n,guard):n===undefined){n=1;}else{n=toInteger(n);}var func=isArray(collection)?arraySampleSize:baseSampleSize;return func(collection,n);}/**
     * Creates an array of shuffled values, using a version of the
     * [Fisher-Yates shuffle](https://en.wikipedia.org/wiki/Fisher-Yates_shuffle).
     *
     * @static
     * @memberOf _
     * @since 0.1.0
     * @category Collection
     * @param {Array|Object} collection The collection to shuffle.
     * @returns {Array} Returns the new shuffled array.
     * @example
     *
     * _.shuffle([1, 2, 3, 4]);
     * // => [4, 1, 3, 2]
     */function shuffle(collection){var func=isArray(collection)?arrayShuffle:baseShuffle;return func(collection);}/**
     * Gets the size of `collection` by returning its length for array-like
     * values or the number of own enumerable string keyed properties for objects.
     *
     * @static
     * @memberOf _
     * @since 0.1.0
     * @category Collection
     * @param {Array|Object|string} collection The collection to inspect.
     * @returns {number} Returns the collection size.
     * @example
     *
     * _.size([1, 2, 3]);
     * // => 3
     *
     * _.size({ 'a': 1, 'b': 2 });
     * // => 2
     *
     * _.size('pebbles');
     * // => 7
     */function size(collection){if(collection==null){return 0;}if(isArrayLike(collection)){return isString(collection)?stringSize(collection):collection.length;}var tag=getTag(collection);if(tag==mapTag||tag==setTag){return collection.size;}return baseKeys(collection).length;}/**
     * Checks if `predicate` returns truthy for **any** element of `collection`.
     * Iteration is stopped once `predicate` returns truthy. The predicate is
     * invoked with three arguments: (value, index|key, collection).
     *
     * @static
     * @memberOf _
     * @since 0.1.0
     * @category Collection
     * @param {Array|Object} collection The collection to iterate over.
     * @param {Function} [predicate=_.identity] The function invoked per iteration.
     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.
     * @returns {boolean} Returns `true` if any element passes the predicate check,
     *  else `false`.
     * @example
     *
     * _.some([null, 0, 'yes', false], Boolean);
     * // => true
     *
     * var users = [
     *   { 'user': 'barney', 'active': true },
     *   { 'user': 'fred',   'active': false }
     * ];
     *
     * // The `_.matches` iteratee shorthand.
     * _.some(users, { 'user': 'barney', 'active': false });
     * // => false
     *
     * // The `_.matchesProperty` iteratee shorthand.
     * _.some(users, ['active', false]);
     * // => true
     *
     * // The `_.property` iteratee shorthand.
     * _.some(users, 'active');
     * // => true
     */function some(collection,predicate,guard){var func=isArray(collection)?arraySome:baseSome;if(guard&&isIterateeCall(collection,predicate,guard)){predicate=undefined;}return func(collection,getIteratee(predicate,3));}/**
     * Creates an array of elements, sorted in ascending order by the results of
     * running each element in a collection thru each iteratee. This method
     * performs a stable sort, that is, it preserves the original sort order of
     * equal elements. The iteratees are invoked with one argument: (value).
     *
     * @static
     * @memberOf _
     * @since 0.1.0
     * @category Collection
     * @param {Array|Object} collection The collection to iterate over.
     * @param {...(Function|Function[])} [iteratees=[_.identity]]
     *  The iteratees to sort by.
     * @returns {Array} Returns the new sorted array.
     * @example
     *
     * var users = [
     *   { 'user': 'fred',   'age': 48 },
     *   { 'user': 'barney', 'age': 36 },
     *   { 'user': 'fred',   'age': 40 },
     *   { 'user': 'barney', 'age': 34 }
     * ];
     *
     * _.sortBy(users, [function(o) { return o.user; }]);
     * // => objects for [['barney', 36], ['barney', 34], ['fred', 48], ['fred', 40]]
     *
     * _.sortBy(users, ['user', 'age']);
     * // => objects for [['barney', 34], ['barney', 36], ['fred', 40], ['fred', 48]]
     */var sortBy=baseRest(function(collection,iteratees){if(collection==null){return[];}var length=iteratees.length;if(length>1&&isIterateeCall(collection,iteratees[0],iteratees[1])){iteratees=[];}else if(length>2&&isIterateeCall(iteratees[0],iteratees[1],iteratees[2])){iteratees=[iteratees[0]];}return baseOrderBy(collection,baseFlatten(iteratees,1),[]);});/*------------------------------------------------------------------------*//**
     * Gets the timestamp of the number of milliseconds that have elapsed since
     * the Unix epoch (1 January 1970 00:00:00 UTC).
     *
     * @static
     * @memberOf _
     * @since 2.4.0
     * @category Date
     * @returns {number} Returns the timestamp.
     * @example
     *
     * _.defer(function(stamp) {
     *   console.log(_.now() - stamp);
     * }, _.now());
     * // => Logs the number of milliseconds it took for the deferred invocation.
     */var now=ctxNow||function(){return root.Date.now();};/*------------------------------------------------------------------------*//**
     * The opposite of `_.before`; this method creates a function that invokes
     * `func` once it's called `n` or more times.
     *
     * @static
     * @memberOf _
     * @since 0.1.0
     * @category Function
     * @param {number} n The number of calls before `func` is invoked.
     * @param {Function} func The function to restrict.
     * @returns {Function} Returns the new restricted function.
     * @example
     *
     * var saves = ['profile', 'settings'];
     *
     * var done = _.after(saves.length, function() {
     *   console.log('done saving!');
     * });
     *
     * _.forEach(saves, function(type) {
     *   asyncSave({ 'type': type, 'complete': done });
     * });
     * // => Logs 'done saving!' after the two async saves have completed.
     */function after(n,func){if(typeof func!='function'){throw new TypeError(FUNC_ERROR_TEXT);}n=toInteger(n);return function(){if(--n<1){return func.apply(this,arguments);}};}/**
     * Creates a function that invokes `func`, with up to `n` arguments,
     * ignoring any additional arguments.
     *
     * @static
     * @memberOf _
     * @since 3.0.0
     * @category Function
     * @param {Function} func The function to cap arguments for.
     * @param {number} [n=func.length] The arity cap.
     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.
     * @returns {Function} Returns the new capped function.
     * @example
     *
     * _.map(['6', '8', '10'], _.ary(parseInt, 1));
     * // => [6, 8, 10]
     */function ary(func,n,guard){n=guard?undefined:n;n=func&&n==null?func.length:n;return createWrap(func,WRAP_ARY_FLAG,undefined,undefined,undefined,undefined,n);}/**
     * Creates a function that invokes `func`, with the `this` binding and arguments
     * of the created function, while it's called less than `n` times. Subsequent
     * calls to the created function return the result of the last `func` invocation.
     *
     * @static
     * @memberOf _
     * @since 3.0.0
     * @category Function
     * @param {number} n The number of calls at which `func` is no longer invoked.
     * @param {Function} func The function to restrict.
     * @returns {Function} Returns the new restricted function.
     * @example
     *
     * jQuery(element).on('click', _.before(5, addContactToList));
     * // => Allows adding up to 4 contacts to the list.
     */function before(n,func){var result;if(typeof func!='function'){throw new TypeError(FUNC_ERROR_TEXT);}n=toInteger(n);return function(){if(--n>0){result=func.apply(this,arguments);}if(n<=1){func=undefined;}return result;};}/**
     * Creates a function that invokes `func` with the `this` binding of `thisArg`
     * and `partials` prepended to the arguments it receives.
     *
     * The `_.bind.placeholder` value, which defaults to `_` in monolithic builds,
     * may be used as a placeholder for partially applied arguments.
     *
     * **Note:** Unlike native `Function#bind`, this method doesn't set the "length"
     * property of bound functions.
     *
     * @static
     * @memberOf _
     * @since 0.1.0
     * @category Function
     * @param {Function} func The function to bind.
     * @param {*} thisArg The `this` binding of `func`.
     * @param {...*} [partials] The arguments to be partially applied.
     * @returns {Function} Returns the new bound function.
     * @example
     *
     * function greet(greeting, punctuation) {
     *   return greeting + ' ' + this.user + punctuation;
     * }
     *
     * var object = { 'user': 'fred' };
     *
     * var bound = _.bind(greet, object, 'hi');
     * bound('!');
     * // => 'hi fred!'
     *
     * // Bound with placeholders.
     * var bound = _.bind(greet, object, _, '!');
     * bound('hi');
     * // => 'hi fred!'
     */var bind=baseRest(function(func,thisArg,partials){var bitmask=WRAP_BIND_FLAG;if(partials.length){var holders=replaceHolders(partials,getHolder(bind));bitmask|=WRAP_PARTIAL_FLAG;}return createWrap(func,bitmask,thisArg,partials,holders);});/**
     * Creates a function that invokes the method at `object[key]` with `partials`
     * prepended to the arguments it receives.
     *
     * This method differs from `_.bind` by allowing bound functions to reference
     * methods that may be redefined or don't yet exist. See
     * [Peter Michaux's article](http://peter.michaux.ca/articles/lazy-function-definition-pattern)
     * for more details.
     *
     * The `_.bindKey.placeholder` value, which defaults to `_` in monolithic
     * builds, may be used as a placeholder for partially applied arguments.
     *
     * @static
     * @memberOf _
     * @since 0.10.0
     * @category Function
     * @param {Object} object The object to invoke the method on.
     * @param {string} key The key of the method.
     * @param {...*} [partials] The arguments to be partially applied.
     * @returns {Function} Returns the new bound function.
     * @example
     *
     * var object = {
     *   'user': 'fred',
     *   'greet': function(greeting, punctuation) {
     *     return greeting + ' ' + this.user + punctuation;
     *   }
     * };
     *
     * var bound = _.bindKey(object, 'greet', 'hi');
     * bound('!');
     * // => 'hi fred!'
     *
     * object.greet = function(greeting, punctuation) {
     *   return greeting + 'ya ' + this.user + punctuation;
     * };
     *
     * bound('!');
     * // => 'hiya fred!'
     *
     * // Bound with placeholders.
     * var bound = _.bindKey(object, 'greet', _, '!');
     * bound('hi');
     * // => 'hiya fred!'
     */var bindKey=baseRest(function(object,key,partials){var bitmask=WRAP_BIND_FLAG|WRAP_BIND_KEY_FLAG;if(partials.length){var holders=replaceHolders(partials,getHolder(bindKey));bitmask|=WRAP_PARTIAL_FLAG;}return createWrap(key,bitmask,object,partials,holders);});/**
     * Creates a function that accepts arguments of `func` and either invokes
     * `func` returning its result, if at least `arity` number of arguments have
     * been provided, or returns a function that accepts the remaining `func`
     * arguments, and so on. The arity of `func` may be specified if `func.length`
     * is not sufficient.
     *
     * The `_.curry.placeholder` value, which defaults to `_` in monolithic builds,
     * may be used as a placeholder for provided arguments.
     *
     * **Note:** This method doesn't set the "length" property of curried functions.
     *
     * @static
     * @memberOf _
     * @since 2.0.0
     * @category Function
     * @param {Function} func The function to curry.
     * @param {number} [arity=func.length] The arity of `func`.
     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.
     * @returns {Function} Returns the new curried function.
     * @example
     *
     * var abc = function(a, b, c) {
     *   return [a, b, c];
     * };
     *
     * var curried = _.curry(abc);
     *
     * curried(1)(2)(3);
     * // => [1, 2, 3]
     *
     * curried(1, 2)(3);
     * // => [1, 2, 3]
     *
     * curried(1, 2, 3);
     * // => [1, 2, 3]
     *
     * // Curried with placeholders.
     * curried(1)(_, 3)(2);
     * // => [1, 2, 3]
     */function curry(func,arity,guard){arity=guard?undefined:arity;var result=createWrap(func,WRAP_CURRY_FLAG,undefined,undefined,undefined,undefined,undefined,arity);result.placeholder=curry.placeholder;return result;}/**
     * This method is like `_.curry` except that arguments are applied to `func`
     * in the manner of `_.partialRight` instead of `_.partial`.
     *
     * The `_.curryRight.placeholder` value, which defaults to `_` in monolithic
     * builds, may be used as a placeholder for provided arguments.
     *
     * **Note:** This method doesn't set the "length" property of curried functions.
     *
     * @static
     * @memberOf _
     * @since 3.0.0
     * @category Function
     * @param {Function} func The function to curry.
     * @param {number} [arity=func.length] The arity of `func`.
     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.
     * @returns {Function} Returns the new curried function.
     * @example
     *
     * var abc = function(a, b, c) {
     *   return [a, b, c];
     * };
     *
     * var curried = _.curryRight(abc);
     *
     * curried(3)(2)(1);
     * // => [1, 2, 3]
     *
     * curried(2, 3)(1);
     * // => [1, 2, 3]
     *
     * curried(1, 2, 3);
     * // => [1, 2, 3]
     *
     * // Curried with placeholders.
     * curried(3)(1, _)(2);
     * // => [1, 2, 3]
     */function curryRight(func,arity,guard){arity=guard?undefined:arity;var result=createWrap(func,WRAP_CURRY_RIGHT_FLAG,undefined,undefined,undefined,undefined,undefined,arity);result.placeholder=curryRight.placeholder;return result;}/**
     * Creates a debounced function that delays invoking `func` until after `wait`
     * milliseconds have elapsed since the last time the debounced function was
     * invoked. The debounced function comes with a `cancel` method to cancel
     * delayed `func` invocations and a `flush` method to immediately invoke them.
     * Provide `options` to indicate whether `func` should be invoked on the
     * leading and/or trailing edge of the `wait` timeout. The `func` is invoked
     * with the last arguments provided to the debounced function. Subsequent
     * calls to the debounced function return the result of the last `func`
     * invocation.
     *
     * **Note:** If `leading` and `trailing` options are `true`, `func` is
     * invoked on the trailing edge of the timeout only if the debounced function
     * is invoked more than once during the `wait` timeout.
     *
     * If `wait` is `0` and `leading` is `false`, `func` invocation is deferred
     * until to the next tick, similar to `setTimeout` with a timeout of `0`.
     *
     * See [David Corbacho's article](https://css-tricks.com/debouncing-throttling-explained-examples/)
     * for details over the differences between `_.debounce` and `_.throttle`.
     *
     * @static
     * @memberOf _
     * @since 0.1.0
     * @category Function
     * @param {Function} func The function to debounce.
     * @param {number} [wait=0] The number of milliseconds to delay.
     * @param {Object} [options={}] The options object.
     * @param {boolean} [options.leading=false]
     *  Specify invoking on the leading edge of the timeout.
     * @param {number} [options.maxWait]
     *  The maximum time `func` is allowed to be delayed before it's invoked.
     * @param {boolean} [options.trailing=true]
     *  Specify invoking on the trailing edge of the timeout.
     * @returns {Function} Returns the new debounced function.
     * @example
     *
     * // Avoid costly calculations while the window size is in flux.
     * jQuery(window).on('resize', _.debounce(calculateLayout, 150));
     *
     * // Invoke `sendMail` when clicked, debouncing subsequent calls.
     * jQuery(element).on('click', _.debounce(sendMail, 300, {
     *   'leading': true,
     *   'trailing': false
     * }));
     *
     * // Ensure `batchLog` is invoked once after 1 second of debounced calls.
     * var debounced = _.debounce(batchLog, 250, { 'maxWait': 1000 });
     * var source = new EventSource('/stream');
     * jQuery(source).on('message', debounced);
     *
     * // Cancel the trailing debounced invocation.
     * jQuery(window).on('popstate', debounced.cancel);
     */function debounce(func,wait,options){var lastArgs,lastThis,maxWait,result,timerId,lastCallTime,lastInvokeTime=0,leading=false,maxing=false,trailing=true;if(typeof func!='function'){throw new TypeError(FUNC_ERROR_TEXT);}wait=toNumber(wait)||0;if(isObject(options)){leading=!!options.leading;maxing='maxWait'in options;maxWait=maxing?nativeMax(toNumber(options.maxWait)||0,wait):maxWait;trailing='trailing'in options?!!options.trailing:trailing;}function invokeFunc(time){var args=lastArgs,thisArg=lastThis;lastArgs=lastThis=undefined;lastInvokeTime=time;result=func.apply(thisArg,args);return result;}function leadingEdge(time){// Reset any `maxWait` timer.
lastInvokeTime=time;// Start the timer for the trailing edge.
timerId=setTimeout(timerExpired,wait);// Invoke the leading edge.
return leading?invokeFunc(time):result;}function remainingWait(time){var timeSinceLastCall=time-lastCallTime,timeSinceLastInvoke=time-lastInvokeTime,result=wait-timeSinceLastCall;return maxing?nativeMin(result,maxWait-timeSinceLastInvoke):result;}function shouldInvoke(time){var timeSinceLastCall=time-lastCallTime,timeSinceLastInvoke=time-lastInvokeTime;// Either this is the first call, activity has stopped and we're at the
// trailing edge, the system time has gone backwards and we're treating
// it as the trailing edge, or we've hit the `maxWait` limit.
return lastCallTime===undefined||timeSinceLastCall>=wait||timeSinceLastCall<0||maxing&&timeSinceLastInvoke>=maxWait;}function timerExpired(){var time=now();if(shouldInvoke(time)){return trailingEdge(time);}// Restart the timer.
timerId=setTimeout(timerExpired,remainingWait(time));}function trailingEdge(time){timerId=undefined;// Only invoke if we have `lastArgs` which means `func` has been
// debounced at least once.
if(trailing&&lastArgs){return invokeFunc(time);}lastArgs=lastThis=undefined;return result;}function cancel(){if(timerId!==undefined){clearTimeout(timerId);}lastInvokeTime=0;lastArgs=lastCallTime=lastThis=timerId=undefined;}function flush(){return timerId===undefined?result:trailingEdge(now());}function debounced(){var time=now(),isInvoking=shouldInvoke(time);lastArgs=arguments;lastThis=this;lastCallTime=time;if(isInvoking){if(timerId===undefined){return leadingEdge(lastCallTime);}if(maxing){// Handle invocations in a tight loop.
timerId=setTimeout(timerExpired,wait);return invokeFunc(lastCallTime);}}if(timerId===undefined){timerId=setTimeout(timerExpired,wait);}return result;}debounced.cancel=cancel;debounced.flush=flush;return debounced;}/**
     * Defers invoking the `func` until the current call stack has cleared. Any
     * additional arguments are provided to `func` when it's invoked.
     *
     * @static
     * @memberOf _
     * @since 0.1.0
     * @category Function
     * @param {Function} func The function to defer.
     * @param {...*} [args] The arguments to invoke `func` with.
     * @returns {number} Returns the timer id.
     * @example
     *
     * _.defer(function(text) {
     *   console.log(text);
     * }, 'deferred');
     * // => Logs 'deferred' after one millisecond.
     */var defer=baseRest(function(func,args){return baseDelay(func,1,args);});/**
     * Invokes `func` after `wait` milliseconds. Any additional arguments are
     * provided to `func` when it's invoked.
     *
     * @static
     * @memberOf _
     * @since 0.1.0
     * @category Function
     * @param {Function} func The function to delay.
     * @param {number} wait The number of milliseconds to delay invocation.
     * @param {...*} [args] The arguments to invoke `func` with.
     * @returns {number} Returns the timer id.
     * @example
     *
     * _.delay(function(text) {
     *   console.log(text);
     * }, 1000, 'later');
     * // => Logs 'later' after one second.
     */var delay=baseRest(function(func,wait,args){return baseDelay(func,toNumber(wait)||0,args);});/**
     * Creates a function that invokes `func` with arguments reversed.
     *
     * @static
     * @memberOf _
     * @since 4.0.0
     * @category Function
     * @param {Function} func The function to flip arguments for.
     * @returns {Function} Returns the new flipped function.
     * @example
     *
     * var flipped = _.flip(function() {
     *   return _.toArray(arguments);
     * });
     *
     * flipped('a', 'b', 'c', 'd');
     * // => ['d', 'c', 'b', 'a']
     */function flip(func){return createWrap(func,WRAP_FLIP_FLAG);}/**
     * Creates a function that memoizes the result of `func`. If `resolver` is
     * provided, it determines the cache key for storing the result based on the
     * arguments provided to the memoized function. By default, the first argument
     * provided to the memoized function is used as the map cache key. The `func`
     * is invoked with the `this` binding of the memoized function.
     *
     * **Note:** The cache is exposed as the `cache` property on the memoized
     * function. Its creation may be customized by replacing the `_.memoize.Cache`
     * constructor with one whose instances implement the
     * [`Map`](http://ecma-international.org/ecma-262/7.0/#sec-properties-of-the-map-prototype-object)
     * method interface of `clear`, `delete`, `get`, `has`, and `set`.
     *
     * @static
     * @memberOf _
     * @since 0.1.0
     * @category Function
     * @param {Function} func The function to have its output memoized.
     * @param {Function} [resolver] The function to resolve the cache key.
     * @returns {Function} Returns the new memoized function.
     * @example
     *
     * var object = { 'a': 1, 'b': 2 };
     * var other = { 'c': 3, 'd': 4 };
     *
     * var values = _.memoize(_.values);
     * values(object);
     * // => [1, 2]
     *
     * values(other);
     * // => [3, 4]
     *
     * object.a = 2;
     * values(object);
     * // => [1, 2]
     *
     * // Modify the result cache.
     * values.cache.set(object, ['a', 'b']);
     * values(object);
     * // => ['a', 'b']
     *
     * // Replace `_.memoize.Cache`.
     * _.memoize.Cache = WeakMap;
     */function memoize(func,resolver){if(typeof func!='function'||resolver!=null&&typeof resolver!='function'){throw new TypeError(FUNC_ERROR_TEXT);}var memoized=function memoized(){var args=arguments,key=resolver?resolver.apply(this,args):args[0],cache=memoized.cache;if(cache.has(key)){return cache.get(key);}var result=func.apply(this,args);memoized.cache=cache.set(key,result)||cache;return result;};memoized.cache=new(memoize.Cache||MapCache)();return memoized;}// Expose `MapCache`.
memoize.Cache=MapCache;/**
     * Creates a function that negates the result of the predicate `func`. The
     * `func` predicate is invoked with the `this` binding and arguments of the
     * created function.
     *
     * @static
     * @memberOf _
     * @since 3.0.0
     * @category Function
     * @param {Function} predicate The predicate to negate.
     * @returns {Function} Returns the new negated function.
     * @example
     *
     * function isEven(n) {
     *   return n % 2 == 0;
     * }
     *
     * _.filter([1, 2, 3, 4, 5, 6], _.negate(isEven));
     * // => [1, 3, 5]
     */function negate(predicate){if(typeof predicate!='function'){throw new TypeError(FUNC_ERROR_TEXT);}return function(){var args=arguments;switch(args.length){case 0:return!predicate.call(this);case 1:return!predicate.call(this,args[0]);case 2:return!predicate.call(this,args[0],args[1]);case 3:return!predicate.call(this,args[0],args[1],args[2]);}return!predicate.apply(this,args);};}/**
     * Creates a function that is restricted to invoking `func` once. Repeat calls
     * to the function return the value of the first invocation. The `func` is
     * invoked with the `this` binding and arguments of the created function.
     *
     * @static
     * @memberOf _
     * @since 0.1.0
     * @category Function
     * @param {Function} func The function to restrict.
     * @returns {Function} Returns the new restricted function.
     * @example
     *
     * var initialize = _.once(createApplication);
     * initialize();
     * initialize();
     * // => `createApplication` is invoked once
     */function once(func){return before(2,func);}/**
     * Creates a function that invokes `func` with its arguments transformed.
     *
     * @static
     * @since 4.0.0
     * @memberOf _
     * @category Function
     * @param {Function} func The function to wrap.
     * @param {...(Function|Function[])} [transforms=[_.identity]]
     *  The argument transforms.
     * @returns {Function} Returns the new function.
     * @example
     *
     * function doubled(n) {
     *   return n * 2;
     * }
     *
     * function square(n) {
     *   return n * n;
     * }
     *
     * var func = _.overArgs(function(x, y) {
     *   return [x, y];
     * }, [square, doubled]);
     *
     * func(9, 3);
     * // => [81, 6]
     *
     * func(10, 5);
     * // => [100, 10]
     */var overArgs=castRest(function(func,transforms){transforms=transforms.length==1&&isArray(transforms[0])?arrayMap(transforms[0],baseUnary(getIteratee())):arrayMap(baseFlatten(transforms,1),baseUnary(getIteratee()));var funcsLength=transforms.length;return baseRest(function(args){var index=-1,length=nativeMin(args.length,funcsLength);while(++index<length){args[index]=transforms[index].call(this,args[index]);}return apply(func,this,args);});});/**
     * Creates a function that invokes `func` with `partials` prepended to the
     * arguments it receives. This method is like `_.bind` except it does **not**
     * alter the `this` binding.
     *
     * The `_.partial.placeholder` value, which defaults to `_` in monolithic
     * builds, may be used as a placeholder for partially applied arguments.
     *
     * **Note:** This method doesn't set the "length" property of partially
     * applied functions.
     *
     * @static
     * @memberOf _
     * @since 0.2.0
     * @category Function
     * @param {Function} func The function to partially apply arguments to.
     * @param {...*} [partials] The arguments to be partially applied.
     * @returns {Function} Returns the new partially applied function.
     * @example
     *
     * function greet(greeting, name) {
     *   return greeting + ' ' + name;
     * }
     *
     * var sayHelloTo = _.partial(greet, 'hello');
     * sayHelloTo('fred');
     * // => 'hello fred'
     *
     * // Partially applied with placeholders.
     * var greetFred = _.partial(greet, _, 'fred');
     * greetFred('hi');
     * // => 'hi fred'
     */var partial=baseRest(function(func,partials){var holders=replaceHolders(partials,getHolder(partial));return createWrap(func,WRAP_PARTIAL_FLAG,undefined,partials,holders);});/**
     * This method is like `_.partial` except that partially applied arguments
     * are appended to the arguments it receives.
     *
     * The `_.partialRight.placeholder` value, which defaults to `_` in monolithic
     * builds, may be used as a placeholder for partially applied arguments.
     *
     * **Note:** This method doesn't set the "length" property of partially
     * applied functions.
     *
     * @static
     * @memberOf _
     * @since 1.0.0
     * @category Function
     * @param {Function} func The function to partially apply arguments to.
     * @param {...*} [partials] The arguments to be partially applied.
     * @returns {Function} Returns the new partially applied function.
     * @example
     *
     * function greet(greeting, name) {
     *   return greeting + ' ' + name;
     * }
     *
     * var greetFred = _.partialRight(greet, 'fred');
     * greetFred('hi');
     * // => 'hi fred'
     *
     * // Partially applied with placeholders.
     * var sayHelloTo = _.partialRight(greet, 'hello', _);
     * sayHelloTo('fred');
     * // => 'hello fred'
     */var partialRight=baseRest(function(func,partials){var holders=replaceHolders(partials,getHolder(partialRight));return createWrap(func,WRAP_PARTIAL_RIGHT_FLAG,undefined,partials,holders);});/**
     * Creates a function that invokes `func` with arguments arranged according
     * to the specified `indexes` where the argument value at the first index is
     * provided as the first argument, the argument value at the second index is
     * provided as the second argument, and so on.
     *
     * @static
     * @memberOf _
     * @since 3.0.0
     * @category Function
     * @param {Function} func The function to rearrange arguments for.
     * @param {...(number|number[])} indexes The arranged argument indexes.
     * @returns {Function} Returns the new function.
     * @example
     *
     * var rearged = _.rearg(function(a, b, c) {
     *   return [a, b, c];
     * }, [2, 0, 1]);
     *
     * rearged('b', 'c', 'a')
     * // => ['a', 'b', 'c']
     */var rearg=flatRest(function(func,indexes){return createWrap(func,WRAP_REARG_FLAG,undefined,undefined,undefined,indexes);});/**
     * Creates a function that invokes `func` with the `this` binding of the
     * created function and arguments from `start` and beyond provided as
     * an array.
     *
     * **Note:** This method is based on the
     * [rest parameter](https://mdn.io/rest_parameters).
     *
     * @static
     * @memberOf _
     * @since 4.0.0
     * @category Function
     * @param {Function} func The function to apply a rest parameter to.
     * @param {number} [start=func.length-1] The start position of the rest parameter.
     * @returns {Function} Returns the new function.
     * @example
     *
     * var say = _.rest(function(what, names) {
     *   return what + ' ' + _.initial(names).join(', ') +
     *     (_.size(names) > 1 ? ', & ' : '') + _.last(names);
     * });
     *
     * say('hello', 'fred', 'barney', 'pebbles');
     * // => 'hello fred, barney, & pebbles'
     */function rest(func,start){if(typeof func!='function'){throw new TypeError(FUNC_ERROR_TEXT);}start=start===undefined?start:toInteger(start);return baseRest(func,start);}/**
     * Creates a function that invokes `func` with the `this` binding of the
     * create function and an array of arguments much like
     * [`Function#apply`](http://www.ecma-international.org/ecma-262/7.0/#sec-function.prototype.apply).
     *
     * **Note:** This method is based on the
     * [spread operator](https://mdn.io/spread_operator).
     *
     * @static
     * @memberOf _
     * @since 3.2.0
     * @category Function
     * @param {Function} func The function to spread arguments over.
     * @param {number} [start=0] The start position of the spread.
     * @returns {Function} Returns the new function.
     * @example
     *
     * var say = _.spread(function(who, what) {
     *   return who + ' says ' + what;
     * });
     *
     * say(['fred', 'hello']);
     * // => 'fred says hello'
     *
     * var numbers = Promise.all([
     *   Promise.resolve(40),
     *   Promise.resolve(36)
     * ]);
     *
     * numbers.then(_.spread(function(x, y) {
     *   return x + y;
     * }));
     * // => a Promise of 76
     */function spread(func,start){if(typeof func!='function'){throw new TypeError(FUNC_ERROR_TEXT);}start=start==null?0:nativeMax(toInteger(start),0);return baseRest(function(args){var array=args[start],otherArgs=castSlice(args,0,start);if(array){arrayPush(otherArgs,array);}return apply(func,this,otherArgs);});}/**
     * Creates a throttled function that only invokes `func` at most once per
     * every `wait` milliseconds. The throttled function comes with a `cancel`
     * method to cancel delayed `func` invocations and a `flush` method to
     * immediately invoke them. Provide `options` to indicate whether `func`
     * should be invoked on the leading and/or trailing edge of the `wait`
     * timeout. The `func` is invoked with the last arguments provided to the
     * throttled function. Subsequent calls to the throttled function return the
     * result of the last `func` invocation.
     *
     * **Note:** If `leading` and `trailing` options are `true`, `func` is
     * invoked on the trailing edge of the timeout only if the throttled function
     * is invoked more than once during the `wait` timeout.
     *
     * If `wait` is `0` and `leading` is `false`, `func` invocation is deferred
     * until to the next tick, similar to `setTimeout` with a timeout of `0`.
     *
     * See [David Corbacho's article](https://css-tricks.com/debouncing-throttling-explained-examples/)
     * for details over the differences between `_.throttle` and `_.debounce`.
     *
     * @static
     * @memberOf _
     * @since 0.1.0
     * @category Function
     * @param {Function} func The function to throttle.
     * @param {number} [wait=0] The number of milliseconds to throttle invocations to.
     * @param {Object} [options={}] The options object.
     * @param {boolean} [options.leading=true]
     *  Specify invoking on the leading edge of the timeout.
     * @param {boolean} [options.trailing=true]
     *  Specify invoking on the trailing edge of the timeout.
     * @returns {Function} Returns the new throttled function.
     * @example
     *
     * // Avoid excessively updating the position while scrolling.
     * jQuery(window).on('scroll', _.throttle(updatePosition, 100));
     *
     * // Invoke `renewToken` when the click event is fired, but not more than once every 5 minutes.
     * var throttled = _.throttle(renewToken, 300000, { 'trailing': false });
     * jQuery(element).on('click', throttled);
     *
     * // Cancel the trailing throttled invocation.
     * jQuery(window).on('popstate', throttled.cancel);
     */function throttle(func,wait,options){var leading=true,trailing=true;if(typeof func!='function'){throw new TypeError(FUNC_ERROR_TEXT);}if(isObject(options)){leading='leading'in options?!!options.leading:leading;trailing='trailing'in options?!!options.trailing:trailing;}return debounce(func,wait,{'leading':leading,'maxWait':wait,'trailing':trailing});}/**
     * Creates a function that accepts up to one argument, ignoring any
     * additional arguments.
     *
     * @static
     * @memberOf _
     * @since 4.0.0
     * @category Function
     * @param {Function} func The function to cap arguments for.
     * @returns {Function} Returns the new capped function.
     * @example
     *
     * _.map(['6', '8', '10'], _.unary(parseInt));
     * // => [6, 8, 10]
     */function unary(func){return ary(func,1);}/**
     * Creates a function that provides `value` to `wrapper` as its first
     * argument. Any additional arguments provided to the function are appended
     * to those provided to the `wrapper`. The wrapper is invoked with the `this`
     * binding of the created function.
     *
     * @static
     * @memberOf _
     * @since 0.1.0
     * @category Function
     * @param {*} value The value to wrap.
     * @param {Function} [wrapper=identity] The wrapper function.
     * @returns {Function} Returns the new function.
     * @example
     *
     * var p = _.wrap(_.escape, function(func, text) {
     *   return '<p>' + func(text) + '</p>';
     * });
     *
     * p('fred, barney, & pebbles');
     * // => '<p>fred, barney, &amp; pebbles</p>'
     */function wrap(value,wrapper){return partial(castFunction(wrapper),value);}/*------------------------------------------------------------------------*//**
     * Casts `value` as an array if it's not one.
     *
     * @static
     * @memberOf _
     * @since 4.4.0
     * @category Lang
     * @param {*} value The value to inspect.
     * @returns {Array} Returns the cast array.
     * @example
     *
     * _.castArray(1);
     * // => [1]
     *
     * _.castArray({ 'a': 1 });
     * // => [{ 'a': 1 }]
     *
     * _.castArray('abc');
     * // => ['abc']
     *
     * _.castArray(null);
     * // => [null]
     *
     * _.castArray(undefined);
     * // => [undefined]
     *
     * _.castArray();
     * // => []
     *
     * var array = [1, 2, 3];
     * console.log(_.castArray(array) === array);
     * // => true
     */function castArray(){if(!arguments.length){return[];}var value=arguments[0];return isArray(value)?value:[value];}/**
     * Creates a shallow clone of `value`.
     *
     * **Note:** This method is loosely based on the
     * [structured clone algorithm](https://mdn.io/Structured_clone_algorithm)
     * and supports cloning arrays, array buffers, booleans, date objects, maps,
     * numbers, `Object` objects, regexes, sets, strings, symbols, and typed
     * arrays. The own enumerable properties of `arguments` objects are cloned
     * as plain objects. An empty object is returned for uncloneable values such
     * as error objects, functions, DOM nodes, and WeakMaps.
     *
     * @static
     * @memberOf _
     * @since 0.1.0
     * @category Lang
     * @param {*} value The value to clone.
     * @returns {*} Returns the cloned value.
     * @see _.cloneDeep
     * @example
     *
     * var objects = [{ 'a': 1 }, { 'b': 2 }];
     *
     * var shallow = _.clone(objects);
     * console.log(shallow[0] === objects[0]);
     * // => true
     */function clone(value){return baseClone(value,CLONE_SYMBOLS_FLAG);}/**
     * This method is like `_.clone` except that it accepts `customizer` which
     * is invoked to produce the cloned value. If `customizer` returns `undefined`,
     * cloning is handled by the method instead. The `customizer` is invoked with
     * up to four arguments; (value [, index|key, object, stack]).
     *
     * @static
     * @memberOf _
     * @since 4.0.0
     * @category Lang
     * @param {*} value The value to clone.
     * @param {Function} [customizer] The function to customize cloning.
     * @returns {*} Returns the cloned value.
     * @see _.cloneDeepWith
     * @example
     *
     * function customizer(value) {
     *   if (_.isElement(value)) {
     *     return value.cloneNode(false);
     *   }
     * }
     *
     * var el = _.cloneWith(document.body, customizer);
     *
     * console.log(el === document.body);
     * // => false
     * console.log(el.nodeName);
     * // => 'BODY'
     * console.log(el.childNodes.length);
     * // => 0
     */function cloneWith(value,customizer){customizer=typeof customizer=='function'?customizer:undefined;return baseClone(value,CLONE_SYMBOLS_FLAG,customizer);}/**
     * This method is like `_.clone` except that it recursively clones `value`.
     *
     * @static
     * @memberOf _
     * @since 1.0.0
     * @category Lang
     * @param {*} value The value to recursively clone.
     * @returns {*} Returns the deep cloned value.
     * @see _.clone
     * @example
     *
     * var objects = [{ 'a': 1 }, { 'b': 2 }];
     *
     * var deep = _.cloneDeep(objects);
     * console.log(deep[0] === objects[0]);
     * // => false
     */function cloneDeep(value){return baseClone(value,CLONE_DEEP_FLAG|CLONE_SYMBOLS_FLAG);}/**
     * This method is like `_.cloneWith` except that it recursively clones `value`.
     *
     * @static
     * @memberOf _
     * @since 4.0.0
     * @category Lang
     * @param {*} value The value to recursively clone.
     * @param {Function} [customizer] The function to customize cloning.
     * @returns {*} Returns the deep cloned value.
     * @see _.cloneWith
     * @example
     *
     * function customizer(value) {
     *   if (_.isElement(value)) {
     *     return value.cloneNode(true);
     *   }
     * }
     *
     * var el = _.cloneDeepWith(document.body, customizer);
     *
     * console.log(el === document.body);
     * // => false
     * console.log(el.nodeName);
     * // => 'BODY'
     * console.log(el.childNodes.length);
     * // => 20
     */function cloneDeepWith(value,customizer){customizer=typeof customizer=='function'?customizer:undefined;return baseClone(value,CLONE_DEEP_FLAG|CLONE_SYMBOLS_FLAG,customizer);}/**
     * Checks if `object` conforms to `source` by invoking the predicate
     * properties of `source` with the corresponding property values of `object`.
     *
     * **Note:** This method is equivalent to `_.conforms` when `source` is
     * partially applied.
     *
     * @static
     * @memberOf _
     * @since 4.14.0
     * @category Lang
     * @param {Object} object The object to inspect.
     * @param {Object} source The object of property predicates to conform to.
     * @returns {boolean} Returns `true` if `object` conforms, else `false`.
     * @example
     *
     * var object = { 'a': 1, 'b': 2 };
     *
     * _.conformsTo(object, { 'b': function(n) { return n > 1; } });
     * // => true
     *
     * _.conformsTo(object, { 'b': function(n) { return n > 2; } });
     * // => false
     */function conformsTo(object,source){return source==null||baseConformsTo(object,source,keys(source));}/**
     * Performs a
     * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)
     * comparison between two values to determine if they are equivalent.
     *
     * @static
     * @memberOf _
     * @since 4.0.0
     * @category Lang
     * @param {*} value The value to compare.
     * @param {*} other The other value to compare.
     * @returns {boolean} Returns `true` if the values are equivalent, else `false`.
     * @example
     *
     * var object = { 'a': 1 };
     * var other = { 'a': 1 };
     *
     * _.eq(object, object);
     * // => true
     *
     * _.eq(object, other);
     * // => false
     *
     * _.eq('a', 'a');
     * // => true
     *
     * _.eq('a', Object('a'));
     * // => false
     *
     * _.eq(NaN, NaN);
     * // => true
     */function eq(value,other){return value===other||value!==value&&other!==other;}/**
     * Checks if `value` is greater than `other`.
     *
     * @static
     * @memberOf _
     * @since 3.9.0
     * @category Lang
     * @param {*} value The value to compare.
     * @param {*} other The other value to compare.
     * @returns {boolean} Returns `true` if `value` is greater than `other`,
     *  else `false`.
     * @see _.lt
     * @example
     *
     * _.gt(3, 1);
     * // => true
     *
     * _.gt(3, 3);
     * // => false
     *
     * _.gt(1, 3);
     * // => false
     */var gt=createRelationalOperation(baseGt);/**
     * Checks if `value` is greater than or equal to `other`.
     *
     * @static
     * @memberOf _
     * @since 3.9.0
     * @category Lang
     * @param {*} value The value to compare.
     * @param {*} other The other value to compare.
     * @returns {boolean} Returns `true` if `value` is greater than or equal to
     *  `other`, else `false`.
     * @see _.lte
     * @example
     *
     * _.gte(3, 1);
     * // => true
     *
     * _.gte(3, 3);
     * // => true
     *
     * _.gte(1, 3);
     * // => false
     */var gte=createRelationalOperation(function(value,other){return value>=other;});/**
     * Checks if `value` is likely an `arguments` object.
     *
     * @static
     * @memberOf _
     * @since 0.1.0
     * @category Lang
     * @param {*} value The value to check.
     * @returns {boolean} Returns `true` if `value` is an `arguments` object,
     *  else `false`.
     * @example
     *
     * _.isArguments(function() { return arguments; }());
     * // => true
     *
     * _.isArguments([1, 2, 3]);
     * // => false
     */var isArguments=baseIsArguments(function(){return arguments;}())?baseIsArguments:function(value){return isObjectLike(value)&&hasOwnProperty.call(value,'callee')&&!propertyIsEnumerable.call(value,'callee');};/**
     * Checks if `value` is classified as an `Array` object.
     *
     * @static
     * @memberOf _
     * @since 0.1.0
     * @category Lang
     * @param {*} value The value to check.
     * @returns {boolean} Returns `true` if `value` is an array, else `false`.
     * @example
     *
     * _.isArray([1, 2, 3]);
     * // => true
     *
     * _.isArray(document.body.children);
     * // => false
     *
     * _.isArray('abc');
     * // => false
     *
     * _.isArray(_.noop);
     * // => false
     */var isArray=Array.isArray;/**
     * Checks if `value` is classified as an `ArrayBuffer` object.
     *
     * @static
     * @memberOf _
     * @since 4.3.0
     * @category Lang
     * @param {*} value The value to check.
     * @returns {boolean} Returns `true` if `value` is an array buffer, else `false`.
     * @example
     *
     * _.isArrayBuffer(new ArrayBuffer(2));
     * // => true
     *
     * _.isArrayBuffer(new Array(2));
     * // => false
     */var isArrayBuffer=nodeIsArrayBuffer?baseUnary(nodeIsArrayBuffer):baseIsArrayBuffer;/**
     * Checks if `value` is array-like. A value is considered array-like if it's
     * not a function and has a `value.length` that's an integer greater than or
     * equal to `0` and less than or equal to `Number.MAX_SAFE_INTEGER`.
     *
     * @static
     * @memberOf _
     * @since 4.0.0
     * @category Lang
     * @param {*} value The value to check.
     * @returns {boolean} Returns `true` if `value` is array-like, else `false`.
     * @example
     *
     * _.isArrayLike([1, 2, 3]);
     * // => true
     *
     * _.isArrayLike(document.body.children);
     * // => true
     *
     * _.isArrayLike('abc');
     * // => true
     *
     * _.isArrayLike(_.noop);
     * // => false
     */function isArrayLike(value){return value!=null&&isLength(value.length)&&!isFunction(value);}/**
     * This method is like `_.isArrayLike` except that it also checks if `value`
     * is an object.
     *
     * @static
     * @memberOf _
     * @since 4.0.0
     * @category Lang
     * @param {*} value The value to check.
     * @returns {boolean} Returns `true` if `value` is an array-like object,
     *  else `false`.
     * @example
     *
     * _.isArrayLikeObject([1, 2, 3]);
     * // => true
     *
     * _.isArrayLikeObject(document.body.children);
     * // => true
     *
     * _.isArrayLikeObject('abc');
     * // => false
     *
     * _.isArrayLikeObject(_.noop);
     * // => false
     */function isArrayLikeObject(value){return isObjectLike(value)&&isArrayLike(value);}/**
     * Checks if `value` is classified as a boolean primitive or object.
     *
     * @static
     * @memberOf _
     * @since 0.1.0
     * @category Lang
     * @param {*} value The value to check.
     * @returns {boolean} Returns `true` if `value` is a boolean, else `false`.
     * @example
     *
     * _.isBoolean(false);
     * // => true
     *
     * _.isBoolean(null);
     * // => false
     */function isBoolean(value){return value===true||value===false||isObjectLike(value)&&baseGetTag(value)==boolTag;}/**
     * Checks if `value` is a buffer.
     *
     * @static
     * @memberOf _
     * @since 4.3.0
     * @category Lang
     * @param {*} value The value to check.
     * @returns {boolean} Returns `true` if `value` is a buffer, else `false`.
     * @example
     *
     * _.isBuffer(new Buffer(2));
     * // => true
     *
     * _.isBuffer(new Uint8Array(2));
     * // => false
     */var isBuffer=nativeIsBuffer||stubFalse;/**
     * Checks if `value` is classified as a `Date` object.
     *
     * @static
     * @memberOf _
     * @since 0.1.0
     * @category Lang
     * @param {*} value The value to check.
     * @returns {boolean} Returns `true` if `value` is a date object, else `false`.
     * @example
     *
     * _.isDate(new Date);
     * // => true
     *
     * _.isDate('Mon April 23 2012');
     * // => false
     */var isDate=nodeIsDate?baseUnary(nodeIsDate):baseIsDate;/**
     * Checks if `value` is likely a DOM element.
     *
     * @static
     * @memberOf _
     * @since 0.1.0
     * @category Lang
     * @param {*} value The value to check.
     * @returns {boolean} Returns `true` if `value` is a DOM element, else `false`.
     * @example
     *
     * _.isElement(document.body);
     * // => true
     *
     * _.isElement('<body>');
     * // => false
     */function isElement(value){return isObjectLike(value)&&value.nodeType===1&&!isPlainObject(value);}/**
     * Checks if `value` is an empty object, collection, map, or set.
     *
     * Objects are considered empty if they have no own enumerable string keyed
     * properties.
     *
     * Array-like values such as `arguments` objects, arrays, buffers, strings, or
     * jQuery-like collections are considered empty if they have a `length` of `0`.
     * Similarly, maps and sets are considered empty if they have a `size` of `0`.
     *
     * @static
     * @memberOf _
     * @since 0.1.0
     * @category Lang
     * @param {*} value The value to check.
     * @returns {boolean} Returns `true` if `value` is empty, else `false`.
     * @example
     *
     * _.isEmpty(null);
     * // => true
     *
     * _.isEmpty(true);
     * // => true
     *
     * _.isEmpty(1);
     * // => true
     *
     * _.isEmpty([1, 2, 3]);
     * // => false
     *
     * _.isEmpty({ 'a': 1 });
     * // => false
     */function isEmpty(value){if(value==null){return true;}if(isArrayLike(value)&&(isArray(value)||typeof value=='string'||typeof value.splice=='function'||isBuffer(value)||isTypedArray(value)||isArguments(value))){return!value.length;}var tag=getTag(value);if(tag==mapTag||tag==setTag){return!value.size;}if(isPrototype(value)){return!baseKeys(value).length;}for(var key in value){if(hasOwnProperty.call(value,key)){return false;}}return true;}/**
     * Performs a deep comparison between two values to determine if they are
     * equivalent.
     *
     * **Note:** This method supports comparing arrays, array buffers, booleans,
     * date objects, error objects, maps, numbers, `Object` objects, regexes,
     * sets, strings, symbols, and typed arrays. `Object` objects are compared
     * by their own, not inherited, enumerable properties. Functions and DOM
     * nodes are compared by strict equality, i.e. `===`.
     *
     * @static
     * @memberOf _
     * @since 0.1.0
     * @category Lang
     * @param {*} value The value to compare.
     * @param {*} other The other value to compare.
     * @returns {boolean} Returns `true` if the values are equivalent, else `false`.
     * @example
     *
     * var object = { 'a': 1 };
     * var other = { 'a': 1 };
     *
     * _.isEqual(object, other);
     * // => true
     *
     * object === other;
     * // => false
     */function isEqual(value,other){return baseIsEqual(value,other);}/**
     * This method is like `_.isEqual` except that it accepts `customizer` which
     * is invoked to compare values. If `customizer` returns `undefined`, comparisons
     * are handled by the method instead. The `customizer` is invoked with up to
     * six arguments: (objValue, othValue [, index|key, object, other, stack]).
     *
     * @static
     * @memberOf _
     * @since 4.0.0
     * @category Lang
     * @param {*} value The value to compare.
     * @param {*} other The other value to compare.
     * @param {Function} [customizer] The function to customize comparisons.
     * @returns {boolean} Returns `true` if the values are equivalent, else `false`.
     * @example
     *
     * function isGreeting(value) {
     *   return /^h(?:i|ello)$/.test(value);
     * }
     *
     * function customizer(objValue, othValue) {
     *   if (isGreeting(objValue) && isGreeting(othValue)) {
     *     return true;
     *   }
     * }
     *
     * var array = ['hello', 'goodbye'];
     * var other = ['hi', 'goodbye'];
     *
     * _.isEqualWith(array, other, customizer);
     * // => true
     */function isEqualWith(value,other,customizer){customizer=typeof customizer=='function'?customizer:undefined;var result=customizer?customizer(value,other):undefined;return result===undefined?baseIsEqual(value,other,undefined,customizer):!!result;}/**
     * Checks if `value` is an `Error`, `EvalError`, `RangeError`, `ReferenceError`,
     * `SyntaxError`, `TypeError`, or `URIError` object.
     *
     * @static
     * @memberOf _
     * @since 3.0.0
     * @category Lang
     * @param {*} value The value to check.
     * @returns {boolean} Returns `true` if `value` is an error object, else `false`.
     * @example
     *
     * _.isError(new Error);
     * // => true
     *
     * _.isError(Error);
     * // => false
     */function isError(value){if(!isObjectLike(value)){return false;}var tag=baseGetTag(value);return tag==errorTag||tag==domExcTag||typeof value.message=='string'&&typeof value.name=='string'&&!isPlainObject(value);}/**
     * Checks if `value` is a finite primitive number.
     *
     * **Note:** This method is based on
     * [`Number.isFinite`](https://mdn.io/Number/isFinite).
     *
     * @static
     * @memberOf _
     * @since 0.1.0
     * @category Lang
     * @param {*} value The value to check.
     * @returns {boolean} Returns `true` if `value` is a finite number, else `false`.
     * @example
     *
     * _.isFinite(3);
     * // => true
     *
     * _.isFinite(Number.MIN_VALUE);
     * // => true
     *
     * _.isFinite(Infinity);
     * // => false
     *
     * _.isFinite('3');
     * // => false
     */function isFinite(value){return typeof value=='number'&&nativeIsFinite(value);}/**
     * Checks if `value` is classified as a `Function` object.
     *
     * @static
     * @memberOf _
     * @since 0.1.0
     * @category Lang
     * @param {*} value The value to check.
     * @returns {boolean} Returns `true` if `value` is a function, else `false`.
     * @example
     *
     * _.isFunction(_);
     * // => true
     *
     * _.isFunction(/abc/);
     * // => false
     */function isFunction(value){if(!isObject(value)){return false;}// The use of `Object#toString` avoids issues with the `typeof` operator
// in Safari 9 which returns 'object' for typed arrays and other constructors.
var tag=baseGetTag(value);return tag==funcTag||tag==genTag||tag==asyncTag||tag==proxyTag;}/**
     * Checks if `value` is an integer.
     *
     * **Note:** This method is based on
     * [`Number.isInteger`](https://mdn.io/Number/isInteger).
     *
     * @static
     * @memberOf _
     * @since 4.0.0
     * @category Lang
     * @param {*} value The value to check.
     * @returns {boolean} Returns `true` if `value` is an integer, else `false`.
     * @example
     *
     * _.isInteger(3);
     * // => true
     *
     * _.isInteger(Number.MIN_VALUE);
     * // => false
     *
     * _.isInteger(Infinity);
     * // => false
     *
     * _.isInteger('3');
     * // => false
     */function isInteger(value){return typeof value=='number'&&value==toInteger(value);}/**
     * Checks if `value` is a valid array-like length.
     *
     * **Note:** This method is loosely based on
     * [`ToLength`](http://ecma-international.org/ecma-262/7.0/#sec-tolength).
     *
     * @static
     * @memberOf _
     * @since 4.0.0
     * @category Lang
     * @param {*} value The value to check.
     * @returns {boolean} Returns `true` if `value` is a valid length, else `false`.
     * @example
     *
     * _.isLength(3);
     * // => true
     *
     * _.isLength(Number.MIN_VALUE);
     * // => false
     *
     * _.isLength(Infinity);
     * // => false
     *
     * _.isLength('3');
     * // => false
     */function isLength(value){return typeof value=='number'&&value>-1&&value%1==0&&value<=MAX_SAFE_INTEGER;}/**
     * Checks if `value` is the
     * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)
     * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)
     *
     * @static
     * @memberOf _
     * @since 0.1.0
     * @category Lang
     * @param {*} value The value to check.
     * @returns {boolean} Returns `true` if `value` is an object, else `false`.
     * @example
     *
     * _.isObject({});
     * // => true
     *
     * _.isObject([1, 2, 3]);
     * // => true
     *
     * _.isObject(_.noop);
     * // => true
     *
     * _.isObject(null);
     * // => false
     */function isObject(value){var type=typeof value==='undefined'?'undefined':_typeof(value);return value!=null&&(type=='object'||type=='function');}/**
     * Checks if `value` is object-like. A value is object-like if it's not `null`
     * and has a `typeof` result of "object".
     *
     * @static
     * @memberOf _
     * @since 4.0.0
     * @category Lang
     * @param {*} value The value to check.
     * @returns {boolean} Returns `true` if `value` is object-like, else `false`.
     * @example
     *
     * _.isObjectLike({});
     * // => true
     *
     * _.isObjectLike([1, 2, 3]);
     * // => true
     *
     * _.isObjectLike(_.noop);
     * // => false
     *
     * _.isObjectLike(null);
     * // => false
     */function isObjectLike(value){return value!=null&&(typeof value==='undefined'?'undefined':_typeof(value))=='object';}/**
     * Checks if `value` is classified as a `Map` object.
     *
     * @static
     * @memberOf _
     * @since 4.3.0
     * @category Lang
     * @param {*} value The value to check.
     * @returns {boolean} Returns `true` if `value` is a map, else `false`.
     * @example
     *
     * _.isMap(new Map);
     * // => true
     *
     * _.isMap(new WeakMap);
     * // => false
     */var isMap=nodeIsMap?baseUnary(nodeIsMap):baseIsMap;/**
     * Performs a partial deep comparison between `object` and `source` to
     * determine if `object` contains equivalent property values.
     *
     * **Note:** This method is equivalent to `_.matches` when `source` is
     * partially applied.
     *
     * Partial comparisons will match empty array and empty object `source`
     * values against any array or object value, respectively. See `_.isEqual`
     * for a list of supported value comparisons.
     *
     * @static
     * @memberOf _
     * @since 3.0.0
     * @category Lang
     * @param {Object} object The object to inspect.
     * @param {Object} source The object of property values to match.
     * @returns {boolean} Returns `true` if `object` is a match, else `false`.
     * @example
     *
     * var object = { 'a': 1, 'b': 2 };
     *
     * _.isMatch(object, { 'b': 2 });
     * // => true
     *
     * _.isMatch(object, { 'b': 1 });
     * // => false
     */function isMatch(object,source){return object===source||baseIsMatch(object,source,getMatchData(source));}/**
     * This method is like `_.isMatch` except that it accepts `customizer` which
     * is invoked to compare values. If `customizer` returns `undefined`, comparisons
     * are handled by the method instead. The `customizer` is invoked with five
     * arguments: (objValue, srcValue, index|key, object, source).
     *
     * @static
     * @memberOf _
     * @since 4.0.0
     * @category Lang
     * @param {Object} object The object to inspect.
     * @param {Object} source The object of property values to match.
     * @param {Function} [customizer] The function to customize comparisons.
     * @returns {boolean} Returns `true` if `object` is a match, else `false`.
     * @example
     *
     * function isGreeting(value) {
     *   return /^h(?:i|ello)$/.test(value);
     * }
     *
     * function customizer(objValue, srcValue) {
     *   if (isGreeting(objValue) && isGreeting(srcValue)) {
     *     return true;
     *   }
     * }
     *
     * var object = { 'greeting': 'hello' };
     * var source = { 'greeting': 'hi' };
     *
     * _.isMatchWith(object, source, customizer);
     * // => true
     */function isMatchWith(object,source,customizer){customizer=typeof customizer=='function'?customizer:undefined;return baseIsMatch(object,source,getMatchData(source),customizer);}/**
     * Checks if `value` is `NaN`.
     *
     * **Note:** This method is based on
     * [`Number.isNaN`](https://mdn.io/Number/isNaN) and is not the same as
     * global [`isNaN`](https://mdn.io/isNaN) which returns `true` for
     * `undefined` and other non-number values.
     *
     * @static
     * @memberOf _
     * @since 0.1.0
     * @category Lang
     * @param {*} value The value to check.
     * @returns {boolean} Returns `true` if `value` is `NaN`, else `false`.
     * @example
     *
     * _.isNaN(NaN);
     * // => true
     *
     * _.isNaN(new Number(NaN));
     * // => true
     *
     * isNaN(undefined);
     * // => true
     *
     * _.isNaN(undefined);
     * // => false
     */function isNaN(value){// An `NaN` primitive is the only value that is not equal to itself.
// Perform the `toStringTag` check first to avoid errors with some
// ActiveX objects in IE.
return isNumber(value)&&value!=+value;}/**
     * Checks if `value` is a pristine native function.
     *
     * **Note:** This method can't reliably detect native functions in the presence
     * of the core-js package because core-js circumvents this kind of detection.
     * Despite multiple requests, the core-js maintainer has made it clear: any
     * attempt to fix the detection will be obstructed. As a result, we're left
     * with little choice but to throw an error. Unfortunately, this also affects
     * packages, like [babel-polyfill](https://www.npmjs.com/package/babel-polyfill),
     * which rely on core-js.
     *
     * @static
     * @memberOf _
     * @since 3.0.0
     * @category Lang
     * @param {*} value The value to check.
     * @returns {boolean} Returns `true` if `value` is a native function,
     *  else `false`.
     * @example
     *
     * _.isNative(Array.prototype.push);
     * // => true
     *
     * _.isNative(_);
     * // => false
     */function isNative(value){if(isMaskable(value)){throw new Error(CORE_ERROR_TEXT);}return baseIsNative(value);}/**
     * Checks if `value` is `null`.
     *
     * @static
     * @memberOf _
     * @since 0.1.0
     * @category Lang
     * @param {*} value The value to check.
     * @returns {boolean} Returns `true` if `value` is `null`, else `false`.
     * @example
     *
     * _.isNull(null);
     * // => true
     *
     * _.isNull(void 0);
     * // => false
     */function isNull(value){return value===null;}/**
     * Checks if `value` is `null` or `undefined`.
     *
     * @static
     * @memberOf _
     * @since 4.0.0
     * @category Lang
     * @param {*} value The value to check.
     * @returns {boolean} Returns `true` if `value` is nullish, else `false`.
     * @example
     *
     * _.isNil(null);
     * // => true
     *
     * _.isNil(void 0);
     * // => true
     *
     * _.isNil(NaN);
     * // => false
     */function isNil(value){return value==null;}/**
     * Checks if `value` is classified as a `Number` primitive or object.
     *
     * **Note:** To exclude `Infinity`, `-Infinity`, and `NaN`, which are
     * classified as numbers, use the `_.isFinite` method.
     *
     * @static
     * @memberOf _
     * @since 0.1.0
     * @category Lang
     * @param {*} value The value to check.
     * @returns {boolean} Returns `true` if `value` is a number, else `false`.
     * @example
     *
     * _.isNumber(3);
     * // => true
     *
     * _.isNumber(Number.MIN_VALUE);
     * // => true
     *
     * _.isNumber(Infinity);
     * // => true
     *
     * _.isNumber('3');
     * // => false
     */function isNumber(value){return typeof value=='number'||isObjectLike(value)&&baseGetTag(value)==numberTag;}/**
     * Checks if `value` is a plain object, that is, an object created by the
     * `Object` constructor or one with a `[[Prototype]]` of `null`.
     *
     * @static
     * @memberOf _
     * @since 0.8.0
     * @category Lang
     * @param {*} value The value to check.
     * @returns {boolean} Returns `true` if `value` is a plain object, else `false`.
     * @example
     *
     * function Foo() {
     *   this.a = 1;
     * }
     *
     * _.isPlainObject(new Foo);
     * // => false
     *
     * _.isPlainObject([1, 2, 3]);
     * // => false
     *
     * _.isPlainObject({ 'x': 0, 'y': 0 });
     * // => true
     *
     * _.isPlainObject(Object.create(null));
     * // => true
     */function isPlainObject(value){if(!isObjectLike(value)||baseGetTag(value)!=objectTag){return false;}var proto=getPrototype(value);if(proto===null){return true;}var Ctor=hasOwnProperty.call(proto,'constructor')&&proto.constructor;return typeof Ctor=='function'&&Ctor instanceof Ctor&&funcToString.call(Ctor)==objectCtorString;}/**
     * Checks if `value` is classified as a `RegExp` object.
     *
     * @static
     * @memberOf _
     * @since 0.1.0
     * @category Lang
     * @param {*} value The value to check.
     * @returns {boolean} Returns `true` if `value` is a regexp, else `false`.
     * @example
     *
     * _.isRegExp(/abc/);
     * // => true
     *
     * _.isRegExp('/abc/');
     * // => false
     */var isRegExp=nodeIsRegExp?baseUnary(nodeIsRegExp):baseIsRegExp;/**
     * Checks if `value` is a safe integer. An integer is safe if it's an IEEE-754
     * double precision number which isn't the result of a rounded unsafe integer.
     *
     * **Note:** This method is based on
     * [`Number.isSafeInteger`](https://mdn.io/Number/isSafeInteger).
     *
     * @static
     * @memberOf _
     * @since 4.0.0
     * @category Lang
     * @param {*} value The value to check.
     * @returns {boolean} Returns `true` if `value` is a safe integer, else `false`.
     * @example
     *
     * _.isSafeInteger(3);
     * // => true
     *
     * _.isSafeInteger(Number.MIN_VALUE);
     * // => false
     *
     * _.isSafeInteger(Infinity);
     * // => false
     *
     * _.isSafeInteger('3');
     * // => false
     */function isSafeInteger(value){return isInteger(value)&&value>=-MAX_SAFE_INTEGER&&value<=MAX_SAFE_INTEGER;}/**
     * Checks if `value` is classified as a `Set` object.
     *
     * @static
     * @memberOf _
     * @since 4.3.0
     * @category Lang
     * @param {*} value The value to check.
     * @returns {boolean} Returns `true` if `value` is a set, else `false`.
     * @example
     *
     * _.isSet(new Set);
     * // => true
     *
     * _.isSet(new WeakSet);
     * // => false
     */var isSet=nodeIsSet?baseUnary(nodeIsSet):baseIsSet;/**
     * Checks if `value` is classified as a `String` primitive or object.
     *
     * @static
     * @since 0.1.0
     * @memberOf _
     * @category Lang
     * @param {*} value The value to check.
     * @returns {boolean} Returns `true` if `value` is a string, else `false`.
     * @example
     *
     * _.isString('abc');
     * // => true
     *
     * _.isString(1);
     * // => false
     */function isString(value){return typeof value=='string'||!isArray(value)&&isObjectLike(value)&&baseGetTag(value)==stringTag;}/**
     * Checks if `value` is classified as a `Symbol` primitive or object.
     *
     * @static
     * @memberOf _
     * @since 4.0.0
     * @category Lang
     * @param {*} value The value to check.
     * @returns {boolean} Returns `true` if `value` is a symbol, else `false`.
     * @example
     *
     * _.isSymbol(Symbol.iterator);
     * // => true
     *
     * _.isSymbol('abc');
     * // => false
     */function isSymbol(value){return(typeof value==='undefined'?'undefined':_typeof(value))=='symbol'||isObjectLike(value)&&baseGetTag(value)==symbolTag;}/**
     * Checks if `value` is classified as a typed array.
     *
     * @static
     * @memberOf _
     * @since 3.0.0
     * @category Lang
     * @param {*} value The value to check.
     * @returns {boolean} Returns `true` if `value` is a typed array, else `false`.
     * @example
     *
     * _.isTypedArray(new Uint8Array);
     * // => true
     *
     * _.isTypedArray([]);
     * // => false
     */var isTypedArray=nodeIsTypedArray?baseUnary(nodeIsTypedArray):baseIsTypedArray;/**
     * Checks if `value` is `undefined`.
     *
     * @static
     * @since 0.1.0
     * @memberOf _
     * @category Lang
     * @param {*} value The value to check.
     * @returns {boolean} Returns `true` if `value` is `undefined`, else `false`.
     * @example
     *
     * _.isUndefined(void 0);
     * // => true
     *
     * _.isUndefined(null);
     * // => false
     */function isUndefined(value){return value===undefined;}/**
     * Checks if `value` is classified as a `WeakMap` object.
     *
     * @static
     * @memberOf _
     * @since 4.3.0
     * @category Lang
     * @param {*} value The value to check.
     * @returns {boolean} Returns `true` if `value` is a weak map, else `false`.
     * @example
     *
     * _.isWeakMap(new WeakMap);
     * // => true
     *
     * _.isWeakMap(new Map);
     * // => false
     */function isWeakMap(value){return isObjectLike(value)&&getTag(value)==weakMapTag;}/**
     * Checks if `value` is classified as a `WeakSet` object.
     *
     * @static
     * @memberOf _
     * @since 4.3.0
     * @category Lang
     * @param {*} value The value to check.
     * @returns {boolean} Returns `true` if `value` is a weak set, else `false`.
     * @example
     *
     * _.isWeakSet(new WeakSet);
     * // => true
     *
     * _.isWeakSet(new Set);
     * // => false
     */function isWeakSet(value){return isObjectLike(value)&&baseGetTag(value)==weakSetTag;}/**
     * Checks if `value` is less than `other`.
     *
     * @static
     * @memberOf _
     * @since 3.9.0
     * @category Lang
     * @param {*} value The value to compare.
     * @param {*} other The other value to compare.
     * @returns {boolean} Returns `true` if `value` is less than `other`,
     *  else `false`.
     * @see _.gt
     * @example
     *
     * _.lt(1, 3);
     * // => true
     *
     * _.lt(3, 3);
     * // => false
     *
     * _.lt(3, 1);
     * // => false
     */var lt=createRelationalOperation(baseLt);/**
     * Checks if `value` is less than or equal to `other`.
     *
     * @static
     * @memberOf _
     * @since 3.9.0
     * @category Lang
     * @param {*} value The value to compare.
     * @param {*} other The other value to compare.
     * @returns {boolean} Returns `true` if `value` is less than or equal to
     *  `other`, else `false`.
     * @see _.gte
     * @example
     *
     * _.lte(1, 3);
     * // => true
     *
     * _.lte(3, 3);
     * // => true
     *
     * _.lte(3, 1);
     * // => false
     */var lte=createRelationalOperation(function(value,other){return value<=other;});/**
     * Converts `value` to an array.
     *
     * @static
     * @since 0.1.0
     * @memberOf _
     * @category Lang
     * @param {*} value The value to convert.
     * @returns {Array} Returns the converted array.
     * @example
     *
     * _.toArray({ 'a': 1, 'b': 2 });
     * // => [1, 2]
     *
     * _.toArray('abc');
     * // => ['a', 'b', 'c']
     *
     * _.toArray(1);
     * // => []
     *
     * _.toArray(null);
     * // => []
     */function toArray(value){if(!value){return[];}if(isArrayLike(value)){return isString(value)?stringToArray(value):copyArray(value);}if(symIterator&&value[symIterator]){return iteratorToArray(value[symIterator]());}var tag=getTag(value),func=tag==mapTag?mapToArray:tag==setTag?setToArray:values;return func(value);}/**
     * Converts `value` to a finite number.
     *
     * @static
     * @memberOf _
     * @since 4.12.0
     * @category Lang
     * @param {*} value The value to convert.
     * @returns {number} Returns the converted number.
     * @example
     *
     * _.toFinite(3.2);
     * // => 3.2
     *
     * _.toFinite(Number.MIN_VALUE);
     * // => 5e-324
     *
     * _.toFinite(Infinity);
     * // => 1.7976931348623157e+308
     *
     * _.toFinite('3.2');
     * // => 3.2
     */function toFinite(value){if(!value){return value===0?value:0;}value=toNumber(value);if(value===INFINITY||value===-INFINITY){var sign=value<0?-1:1;return sign*MAX_INTEGER;}return value===value?value:0;}/**
     * Converts `value` to an integer.
     *
     * **Note:** This method is loosely based on
     * [`ToInteger`](http://www.ecma-international.org/ecma-262/7.0/#sec-tointeger).
     *
     * @static
     * @memberOf _
     * @since 4.0.0
     * @category Lang
     * @param {*} value The value to convert.
     * @returns {number} Returns the converted integer.
     * @example
     *
     * _.toInteger(3.2);
     * // => 3
     *
     * _.toInteger(Number.MIN_VALUE);
     * // => 0
     *
     * _.toInteger(Infinity);
     * // => 1.7976931348623157e+308
     *
     * _.toInteger('3.2');
     * // => 3
     */function toInteger(value){var result=toFinite(value),remainder=result%1;return result===result?remainder?result-remainder:result:0;}/**
     * Converts `value` to an integer suitable for use as the length of an
     * array-like object.
     *
     * **Note:** This method is based on
     * [`ToLength`](http://ecma-international.org/ecma-262/7.0/#sec-tolength).
     *
     * @static
     * @memberOf _
     * @since 4.0.0
     * @category Lang
     * @param {*} value The value to convert.
     * @returns {number} Returns the converted integer.
     * @example
     *
     * _.toLength(3.2);
     * // => 3
     *
     * _.toLength(Number.MIN_VALUE);
     * // => 0
     *
     * _.toLength(Infinity);
     * // => 4294967295
     *
     * _.toLength('3.2');
     * // => 3
     */function toLength(value){return value?baseClamp(toInteger(value),0,MAX_ARRAY_LENGTH):0;}/**
     * Converts `value` to a number.
     *
     * @static
     * @memberOf _
     * @since 4.0.0
     * @category Lang
     * @param {*} value The value to process.
     * @returns {number} Returns the number.
     * @example
     *
     * _.toNumber(3.2);
     * // => 3.2
     *
     * _.toNumber(Number.MIN_VALUE);
     * // => 5e-324
     *
     * _.toNumber(Infinity);
     * // => Infinity
     *
     * _.toNumber('3.2');
     * // => 3.2
     */function toNumber(value){if(typeof value=='number'){return value;}if(isSymbol(value)){return NAN;}if(isObject(value)){var other=typeof value.valueOf=='function'?value.valueOf():value;value=isObject(other)?other+'':other;}if(typeof value!='string'){return value===0?value:+value;}value=value.replace(reTrim,'');var isBinary=reIsBinary.test(value);return isBinary||reIsOctal.test(value)?freeParseInt(value.slice(2),isBinary?2:8):reIsBadHex.test(value)?NAN:+value;}/**
     * Converts `value` to a plain object flattening inherited enumerable string
     * keyed properties of `value` to own properties of the plain object.
     *
     * @static
     * @memberOf _
     * @since 3.0.0
     * @category Lang
     * @param {*} value The value to convert.
     * @returns {Object} Returns the converted plain object.
     * @example
     *
     * function Foo() {
     *   this.b = 2;
     * }
     *
     * Foo.prototype.c = 3;
     *
     * _.assign({ 'a': 1 }, new Foo);
     * // => { 'a': 1, 'b': 2 }
     *
     * _.assign({ 'a': 1 }, _.toPlainObject(new Foo));
     * // => { 'a': 1, 'b': 2, 'c': 3 }
     */function toPlainObject(value){return copyObject(value,keysIn(value));}/**
     * Converts `value` to a safe integer. A safe integer can be compared and
     * represented correctly.
     *
     * @static
     * @memberOf _
     * @since 4.0.0
     * @category Lang
     * @param {*} value The value to convert.
     * @returns {number} Returns the converted integer.
     * @example
     *
     * _.toSafeInteger(3.2);
     * // => 3
     *
     * _.toSafeInteger(Number.MIN_VALUE);
     * // => 0
     *
     * _.toSafeInteger(Infinity);
     * // => 9007199254740991
     *
     * _.toSafeInteger('3.2');
     * // => 3
     */function toSafeInteger(value){return value?baseClamp(toInteger(value),-MAX_SAFE_INTEGER,MAX_SAFE_INTEGER):value===0?value:0;}/**
     * Converts `value` to a string. An empty string is returned for `null`
     * and `undefined` values. The sign of `-0` is preserved.
     *
     * @static
     * @memberOf _
     * @since 4.0.0
     * @category Lang
     * @param {*} value The value to convert.
     * @returns {string} Returns the converted string.
     * @example
     *
     * _.toString(null);
     * // => ''
     *
     * _.toString(-0);
     * // => '-0'
     *
     * _.toString([1, 2, 3]);
     * // => '1,2,3'
     */function toString(value){return value==null?'':baseToString(value);}/*------------------------------------------------------------------------*//**
     * Assigns own enumerable string keyed properties of source objects to the
     * destination object. Source objects are applied from left to right.
     * Subsequent sources overwrite property assignments of previous sources.
     *
     * **Note:** This method mutates `object` and is loosely based on
     * [`Object.assign`](https://mdn.io/Object/assign).
     *
     * @static
     * @memberOf _
     * @since 0.10.0
     * @category Object
     * @param {Object} object The destination object.
     * @param {...Object} [sources] The source objects.
     * @returns {Object} Returns `object`.
     * @see _.assignIn
     * @example
     *
     * function Foo() {
     *   this.a = 1;
     * }
     *
     * function Bar() {
     *   this.c = 3;
     * }
     *
     * Foo.prototype.b = 2;
     * Bar.prototype.d = 4;
     *
     * _.assign({ 'a': 0 }, new Foo, new Bar);
     * // => { 'a': 1, 'c': 3 }
     */var assign=createAssigner(function(object,source){if(isPrototype(source)||isArrayLike(source)){copyObject(source,keys(source),object);return;}for(var key in source){if(hasOwnProperty.call(source,key)){assignValue(object,key,source[key]);}}});/**
     * This method is like `_.assign` except that it iterates over own and
     * inherited source properties.
     *
     * **Note:** This method mutates `object`.
     *
     * @static
     * @memberOf _
     * @since 4.0.0
     * @alias extend
     * @category Object
     * @param {Object} object The destination object.
     * @param {...Object} [sources] The source objects.
     * @returns {Object} Returns `object`.
     * @see _.assign
     * @example
     *
     * function Foo() {
     *   this.a = 1;
     * }
     *
     * function Bar() {
     *   this.c = 3;
     * }
     *
     * Foo.prototype.b = 2;
     * Bar.prototype.d = 4;
     *
     * _.assignIn({ 'a': 0 }, new Foo, new Bar);
     * // => { 'a': 1, 'b': 2, 'c': 3, 'd': 4 }
     */var assignIn=createAssigner(function(object,source){copyObject(source,keysIn(source),object);});/**
     * This method is like `_.assignIn` except that it accepts `customizer`
     * which is invoked to produce the assigned values. If `customizer` returns
     * `undefined`, assignment is handled by the method instead. The `customizer`
     * is invoked with five arguments: (objValue, srcValue, key, object, source).
     *
     * **Note:** This method mutates `object`.
     *
     * @static
     * @memberOf _
     * @since 4.0.0
     * @alias extendWith
     * @category Object
     * @param {Object} object The destination object.
     * @param {...Object} sources The source objects.
     * @param {Function} [customizer] The function to customize assigned values.
     * @returns {Object} Returns `object`.
     * @see _.assignWith
     * @example
     *
     * function customizer(objValue, srcValue) {
     *   return _.isUndefined(objValue) ? srcValue : objValue;
     * }
     *
     * var defaults = _.partialRight(_.assignInWith, customizer);
     *
     * defaults({ 'a': 1 }, { 'b': 2 }, { 'a': 3 });
     * // => { 'a': 1, 'b': 2 }
     */var assignInWith=createAssigner(function(object,source,srcIndex,customizer){copyObject(source,keysIn(source),object,customizer);});/**
     * This method is like `_.assign` except that it accepts `customizer`
     * which is invoked to produce the assigned values. If `customizer` returns
     * `undefined`, assignment is handled by the method instead. The `customizer`
     * is invoked with five arguments: (objValue, srcValue, key, object, source).
     *
     * **Note:** This method mutates `object`.
     *
     * @static
     * @memberOf _
     * @since 4.0.0
     * @category Object
     * @param {Object} object The destination object.
     * @param {...Object} sources The source objects.
     * @param {Function} [customizer] The function to customize assigned values.
     * @returns {Object} Returns `object`.
     * @see _.assignInWith
     * @example
     *
     * function customizer(objValue, srcValue) {
     *   return _.isUndefined(objValue) ? srcValue : objValue;
     * }
     *
     * var defaults = _.partialRight(_.assignWith, customizer);
     *
     * defaults({ 'a': 1 }, { 'b': 2 }, { 'a': 3 });
     * // => { 'a': 1, 'b': 2 }
     */var assignWith=createAssigner(function(object,source,srcIndex,customizer){copyObject(source,keys(source),object,customizer);});/**
     * Creates an array of values corresponding to `paths` of `object`.
     *
     * @static
     * @memberOf _
     * @since 1.0.0
     * @category Object
     * @param {Object} object The object to iterate over.
     * @param {...(string|string[])} [paths] The property paths to pick.
     * @returns {Array} Returns the picked values.
     * @example
     *
     * var object = { 'a': [{ 'b': { 'c': 3 } }, 4] };
     *
     * _.at(object, ['a[0].b.c', 'a[1]']);
     * // => [3, 4]
     */var at=flatRest(baseAt);/**
     * Creates an object that inherits from the `prototype` object. If a
     * `properties` object is given, its own enumerable string keyed properties
     * are assigned to the created object.
     *
     * @static
     * @memberOf _
     * @since 2.3.0
     * @category Object
     * @param {Object} prototype The object to inherit from.
     * @param {Object} [properties] The properties to assign to the object.
     * @returns {Object} Returns the new object.
     * @example
     *
     * function Shape() {
     *   this.x = 0;
     *   this.y = 0;
     * }
     *
     * function Circle() {
     *   Shape.call(this);
     * }
     *
     * Circle.prototype = _.create(Shape.prototype, {
     *   'constructor': Circle
     * });
     *
     * var circle = new Circle;
     * circle instanceof Circle;
     * // => true
     *
     * circle instanceof Shape;
     * // => true
     */function create(prototype,properties){var result=baseCreate(prototype);return properties==null?result:baseAssign(result,properties);}/**
     * Assigns own and inherited enumerable string keyed properties of source
     * objects to the destination object for all destination properties that
     * resolve to `undefined`. Source objects are applied from left to right.
     * Once a property is set, additional values of the same property are ignored.
     *
     * **Note:** This method mutates `object`.
     *
     * @static
     * @since 0.1.0
     * @memberOf _
     * @category Object
     * @param {Object} object The destination object.
     * @param {...Object} [sources] The source objects.
     * @returns {Object} Returns `object`.
     * @see _.defaultsDeep
     * @example
     *
     * _.defaults({ 'a': 1 }, { 'b': 2 }, { 'a': 3 });
     * // => { 'a': 1, 'b': 2 }
     */var defaults=baseRest(function(args){args.push(undefined,customDefaultsAssignIn);return apply(assignInWith,undefined,args);});/**
     * This method is like `_.defaults` except that it recursively assigns
     * default properties.
     *
     * **Note:** This method mutates `object`.
     *
     * @static
     * @memberOf _
     * @since 3.10.0
     * @category Object
     * @param {Object} object The destination object.
     * @param {...Object} [sources] The source objects.
     * @returns {Object} Returns `object`.
     * @see _.defaults
     * @example
     *
     * _.defaultsDeep({ 'a': { 'b': 2 } }, { 'a': { 'b': 1, 'c': 3 } });
     * // => { 'a': { 'b': 2, 'c': 3 } }
     */var defaultsDeep=baseRest(function(args){args.push(undefined,customDefaultsMerge);return apply(mergeWith,undefined,args);});/**
     * This method is like `_.find` except that it returns the key of the first
     * element `predicate` returns truthy for instead of the element itself.
     *
     * @static
     * @memberOf _
     * @since 1.1.0
     * @category Object
     * @param {Object} object The object to inspect.
     * @param {Function} [predicate=_.identity] The function invoked per iteration.
     * @returns {string|undefined} Returns the key of the matched element,
     *  else `undefined`.
     * @example
     *
     * var users = {
     *   'barney':  { 'age': 36, 'active': true },
     *   'fred':    { 'age': 40, 'active': false },
     *   'pebbles': { 'age': 1,  'active': true }
     * };
     *
     * _.findKey(users, function(o) { return o.age < 40; });
     * // => 'barney' (iteration order is not guaranteed)
     *
     * // The `_.matches` iteratee shorthand.
     * _.findKey(users, { 'age': 1, 'active': true });
     * // => 'pebbles'
     *
     * // The `_.matchesProperty` iteratee shorthand.
     * _.findKey(users, ['active', false]);
     * // => 'fred'
     *
     * // The `_.property` iteratee shorthand.
     * _.findKey(users, 'active');
     * // => 'barney'
     */function findKey(object,predicate){return baseFindKey(object,getIteratee(predicate,3),baseForOwn);}/**
     * This method is like `_.findKey` except that it iterates over elements of
     * a collection in the opposite order.
     *
     * @static
     * @memberOf _
     * @since 2.0.0
     * @category Object
     * @param {Object} object The object to inspect.
     * @param {Function} [predicate=_.identity] The function invoked per iteration.
     * @returns {string|undefined} Returns the key of the matched element,
     *  else `undefined`.
     * @example
     *
     * var users = {
     *   'barney':  { 'age': 36, 'active': true },
     *   'fred':    { 'age': 40, 'active': false },
     *   'pebbles': { 'age': 1,  'active': true }
     * };
     *
     * _.findLastKey(users, function(o) { return o.age < 40; });
     * // => returns 'pebbles' assuming `_.findKey` returns 'barney'
     *
     * // The `_.matches` iteratee shorthand.
     * _.findLastKey(users, { 'age': 36, 'active': true });
     * // => 'barney'
     *
     * // The `_.matchesProperty` iteratee shorthand.
     * _.findLastKey(users, ['active', false]);
     * // => 'fred'
     *
     * // The `_.property` iteratee shorthand.
     * _.findLastKey(users, 'active');
     * // => 'pebbles'
     */function findLastKey(object,predicate){return baseFindKey(object,getIteratee(predicate,3),baseForOwnRight);}/**
     * Iterates over own and inherited enumerable string keyed properties of an
     * object and invokes `iteratee` for each property. The iteratee is invoked
     * with three arguments: (value, key, object). Iteratee functions may exit
     * iteration early by explicitly returning `false`.
     *
     * @static
     * @memberOf _
     * @since 0.3.0
     * @category Object
     * @param {Object} object The object to iterate over.
     * @param {Function} [iteratee=_.identity] The function invoked per iteration.
     * @returns {Object} Returns `object`.
     * @see _.forInRight
     * @example
     *
     * function Foo() {
     *   this.a = 1;
     *   this.b = 2;
     * }
     *
     * Foo.prototype.c = 3;
     *
     * _.forIn(new Foo, function(value, key) {
     *   console.log(key);
     * });
     * // => Logs 'a', 'b', then 'c' (iteration order is not guaranteed).
     */function forIn(object,iteratee){return object==null?object:baseFor(object,getIteratee(iteratee,3),keysIn);}/**
     * This method is like `_.forIn` except that it iterates over properties of
     * `object` in the opposite order.
     *
     * @static
     * @memberOf _
     * @since 2.0.0
     * @category Object
     * @param {Object} object The object to iterate over.
     * @param {Function} [iteratee=_.identity] The function invoked per iteration.
     * @returns {Object} Returns `object`.
     * @see _.forIn
     * @example
     *
     * function Foo() {
     *   this.a = 1;
     *   this.b = 2;
     * }
     *
     * Foo.prototype.c = 3;
     *
     * _.forInRight(new Foo, function(value, key) {
     *   console.log(key);
     * });
     * // => Logs 'c', 'b', then 'a' assuming `_.forIn` logs 'a', 'b', then 'c'.
     */function forInRight(object,iteratee){return object==null?object:baseForRight(object,getIteratee(iteratee,3),keysIn);}/**
     * Iterates over own enumerable string keyed properties of an object and
     * invokes `iteratee` for each property. The iteratee is invoked with three
     * arguments: (value, key, object). Iteratee functions may exit iteration
     * early by explicitly returning `false`.
     *
     * @static
     * @memberOf _
     * @since 0.3.0
     * @category Object
     * @param {Object} object The object to iterate over.
     * @param {Function} [iteratee=_.identity] The function invoked per iteration.
     * @returns {Object} Returns `object`.
     * @see _.forOwnRight
     * @example
     *
     * function Foo() {
     *   this.a = 1;
     *   this.b = 2;
     * }
     *
     * Foo.prototype.c = 3;
     *
     * _.forOwn(new Foo, function(value, key) {
     *   console.log(key);
     * });
     * // => Logs 'a' then 'b' (iteration order is not guaranteed).
     */function forOwn(object,iteratee){return object&&baseForOwn(object,getIteratee(iteratee,3));}/**
     * This method is like `_.forOwn` except that it iterates over properties of
     * `object` in the opposite order.
     *
     * @static
     * @memberOf _
     * @since 2.0.0
     * @category Object
     * @param {Object} object The object to iterate over.
     * @param {Function} [iteratee=_.identity] The function invoked per iteration.
     * @returns {Object} Returns `object`.
     * @see _.forOwn
     * @example
     *
     * function Foo() {
     *   this.a = 1;
     *   this.b = 2;
     * }
     *
     * Foo.prototype.c = 3;
     *
     * _.forOwnRight(new Foo, function(value, key) {
     *   console.log(key);
     * });
     * // => Logs 'b' then 'a' assuming `_.forOwn` logs 'a' then 'b'.
     */function forOwnRight(object,iteratee){return object&&baseForOwnRight(object,getIteratee(iteratee,3));}/**
     * Creates an array of function property names from own enumerable properties
     * of `object`.
     *
     * @static
     * @since 0.1.0
     * @memberOf _
     * @category Object
     * @param {Object} object The object to inspect.
     * @returns {Array} Returns the function names.
     * @see _.functionsIn
     * @example
     *
     * function Foo() {
     *   this.a = _.constant('a');
     *   this.b = _.constant('b');
     * }
     *
     * Foo.prototype.c = _.constant('c');
     *
     * _.functions(new Foo);
     * // => ['a', 'b']
     */function functions(object){return object==null?[]:baseFunctions(object,keys(object));}/**
     * Creates an array of function property names from own and inherited
     * enumerable properties of `object`.
     *
     * @static
     * @memberOf _
     * @since 4.0.0
     * @category Object
     * @param {Object} object The object to inspect.
     * @returns {Array} Returns the function names.
     * @see _.functions
     * @example
     *
     * function Foo() {
     *   this.a = _.constant('a');
     *   this.b = _.constant('b');
     * }
     *
     * Foo.prototype.c = _.constant('c');
     *
     * _.functionsIn(new Foo);
     * // => ['a', 'b', 'c']
     */function functionsIn(object){return object==null?[]:baseFunctions(object,keysIn(object));}/**
     * Gets the value at `path` of `object`. If the resolved value is
     * `undefined`, the `defaultValue` is returned in its place.
     *
     * @static
     * @memberOf _
     * @since 3.7.0
     * @category Object
     * @param {Object} object The object to query.
     * @param {Array|string} path The path of the property to get.
     * @param {*} [defaultValue] The value returned for `undefined` resolved values.
     * @returns {*} Returns the resolved value.
     * @example
     *
     * var object = { 'a': [{ 'b': { 'c': 3 } }] };
     *
     * _.get(object, 'a[0].b.c');
     * // => 3
     *
     * _.get(object, ['a', '0', 'b', 'c']);
     * // => 3
     *
     * _.get(object, 'a.b.c', 'default');
     * // => 'default'
     */function get(object,path,defaultValue){var result=object==null?undefined:baseGet(object,path);return result===undefined?defaultValue:result;}/**
     * Checks if `path` is a direct property of `object`.
     *
     * @static
     * @since 0.1.0
     * @memberOf _
     * @category Object
     * @param {Object} object The object to query.
     * @param {Array|string} path The path to check.
     * @returns {boolean} Returns `true` if `path` exists, else `false`.
     * @example
     *
     * var object = { 'a': { 'b': 2 } };
     * var other = _.create({ 'a': _.create({ 'b': 2 }) });
     *
     * _.has(object, 'a');
     * // => true
     *
     * _.has(object, 'a.b');
     * // => true
     *
     * _.has(object, ['a', 'b']);
     * // => true
     *
     * _.has(other, 'a');
     * // => false
     */function has(object,path){return object!=null&&hasPath(object,path,baseHas);}/**
     * Checks if `path` is a direct or inherited property of `object`.
     *
     * @static
     * @memberOf _
     * @since 4.0.0
     * @category Object
     * @param {Object} object The object to query.
     * @param {Array|string} path The path to check.
     * @returns {boolean} Returns `true` if `path` exists, else `false`.
     * @example
     *
     * var object = _.create({ 'a': _.create({ 'b': 2 }) });
     *
     * _.hasIn(object, 'a');
     * // => true
     *
     * _.hasIn(object, 'a.b');
     * // => true
     *
     * _.hasIn(object, ['a', 'b']);
     * // => true
     *
     * _.hasIn(object, 'b');
     * // => false
     */function hasIn(object,path){return object!=null&&hasPath(object,path,baseHasIn);}/**
     * Creates an object composed of the inverted keys and values of `object`.
     * If `object` contains duplicate values, subsequent values overwrite
     * property assignments of previous values.
     *
     * @static
     * @memberOf _
     * @since 0.7.0
     * @category Object
     * @param {Object} object The object to invert.
     * @returns {Object} Returns the new inverted object.
     * @example
     *
     * var object = { 'a': 1, 'b': 2, 'c': 1 };
     *
     * _.invert(object);
     * // => { '1': 'c', '2': 'b' }
     */var invert=createInverter(function(result,value,key){result[value]=key;},constant(identity));/**
     * This method is like `_.invert` except that the inverted object is generated
     * from the results of running each element of `object` thru `iteratee`. The
     * corresponding inverted value of each inverted key is an array of keys
     * responsible for generating the inverted value. The iteratee is invoked
     * with one argument: (value).
     *
     * @static
     * @memberOf _
     * @since 4.1.0
     * @category Object
     * @param {Object} object The object to invert.
     * @param {Function} [iteratee=_.identity] The iteratee invoked per element.
     * @returns {Object} Returns the new inverted object.
     * @example
     *
     * var object = { 'a': 1, 'b': 2, 'c': 1 };
     *
     * _.invertBy(object);
     * // => { '1': ['a', 'c'], '2': ['b'] }
     *
     * _.invertBy(object, function(value) {
     *   return 'group' + value;
     * });
     * // => { 'group1': ['a', 'c'], 'group2': ['b'] }
     */var invertBy=createInverter(function(result,value,key){if(hasOwnProperty.call(result,value)){result[value].push(key);}else{result[value]=[key];}},getIteratee);/**
     * Invokes the method at `path` of `object`.
     *
     * @static
     * @memberOf _
     * @since 4.0.0
     * @category Object
     * @param {Object} object The object to query.
     * @param {Array|string} path The path of the method to invoke.
     * @param {...*} [args] The arguments to invoke the method with.
     * @returns {*} Returns the result of the invoked method.
     * @example
     *
     * var object = { 'a': [{ 'b': { 'c': [1, 2, 3, 4] } }] };
     *
     * _.invoke(object, 'a[0].b.c.slice', 1, 3);
     * // => [2, 3]
     */var invoke=baseRest(baseInvoke);/**
     * Creates an array of the own enumerable property names of `object`.
     *
     * **Note:** Non-object values are coerced to objects. See the
     * [ES spec](http://ecma-international.org/ecma-262/7.0/#sec-object.keys)
     * for more details.
     *
     * @static
     * @since 0.1.0
     * @memberOf _
     * @category Object
     * @param {Object} object The object to query.
     * @returns {Array} Returns the array of property names.
     * @example
     *
     * function Foo() {
     *   this.a = 1;
     *   this.b = 2;
     * }
     *
     * Foo.prototype.c = 3;
     *
     * _.keys(new Foo);
     * // => ['a', 'b'] (iteration order is not guaranteed)
     *
     * _.keys('hi');
     * // => ['0', '1']
     */function keys(object){return isArrayLike(object)?arrayLikeKeys(object):baseKeys(object);}/**
     * Creates an array of the own and inherited enumerable property names of `object`.
     *
     * **Note:** Non-object values are coerced to objects.
     *
     * @static
     * @memberOf _
     * @since 3.0.0
     * @category Object
     * @param {Object} object The object to query.
     * @returns {Array} Returns the array of property names.
     * @example
     *
     * function Foo() {
     *   this.a = 1;
     *   this.b = 2;
     * }
     *
     * Foo.prototype.c = 3;
     *
     * _.keysIn(new Foo);
     * // => ['a', 'b', 'c'] (iteration order is not guaranteed)
     */function keysIn(object){return isArrayLike(object)?arrayLikeKeys(object,true):baseKeysIn(object);}/**
     * The opposite of `_.mapValues`; this method creates an object with the
     * same values as `object` and keys generated by running each own enumerable
     * string keyed property of `object` thru `iteratee`. The iteratee is invoked
     * with three arguments: (value, key, object).
     *
     * @static
     * @memberOf _
     * @since 3.8.0
     * @category Object
     * @param {Object} object The object to iterate over.
     * @param {Function} [iteratee=_.identity] The function invoked per iteration.
     * @returns {Object} Returns the new mapped object.
     * @see _.mapValues
     * @example
     *
     * _.mapKeys({ 'a': 1, 'b': 2 }, function(value, key) {
     *   return key + value;
     * });
     * // => { 'a1': 1, 'b2': 2 }
     */function mapKeys(object,iteratee){var result={};iteratee=getIteratee(iteratee,3);baseForOwn(object,function(value,key,object){baseAssignValue(result,iteratee(value,key,object),value);});return result;}/**
     * Creates an object with the same keys as `object` and values generated
     * by running each own enumerable string keyed property of `object` thru
     * `iteratee`. The iteratee is invoked with three arguments:
     * (value, key, object).
     *
     * @static
     * @memberOf _
     * @since 2.4.0
     * @category Object
     * @param {Object} object The object to iterate over.
     * @param {Function} [iteratee=_.identity] The function invoked per iteration.
     * @returns {Object} Returns the new mapped object.
     * @see _.mapKeys
     * @example
     *
     * var users = {
     *   'fred':    { 'user': 'fred',    'age': 40 },
     *   'pebbles': { 'user': 'pebbles', 'age': 1 }
     * };
     *
     * _.mapValues(users, function(o) { return o.age; });
     * // => { 'fred': 40, 'pebbles': 1 } (iteration order is not guaranteed)
     *
     * // The `_.property` iteratee shorthand.
     * _.mapValues(users, 'age');
     * // => { 'fred': 40, 'pebbles': 1 } (iteration order is not guaranteed)
     */function mapValues(object,iteratee){var result={};iteratee=getIteratee(iteratee,3);baseForOwn(object,function(value,key,object){baseAssignValue(result,key,iteratee(value,key,object));});return result;}/**
     * This method is like `_.assign` except that it recursively merges own and
     * inherited enumerable string keyed properties of source objects into the
     * destination object. Source properties that resolve to `undefined` are
     * skipped if a destination value exists. Array and plain object properties
     * are merged recursively. Other objects and value types are overridden by
     * assignment. Source objects are applied from left to right. Subsequent
     * sources overwrite property assignments of previous sources.
     *
     * **Note:** This method mutates `object`.
     *
     * @static
     * @memberOf _
     * @since 0.5.0
     * @category Object
     * @param {Object} object The destination object.
     * @param {...Object} [sources] The source objects.
     * @returns {Object} Returns `object`.
     * @example
     *
     * var object = {
     *   'a': [{ 'b': 2 }, { 'd': 4 }]
     * };
     *
     * var other = {
     *   'a': [{ 'c': 3 }, { 'e': 5 }]
     * };
     *
     * _.merge(object, other);
     * // => { 'a': [{ 'b': 2, 'c': 3 }, { 'd': 4, 'e': 5 }] }
     */var merge=createAssigner(function(object,source,srcIndex){baseMerge(object,source,srcIndex);});/**
     * This method is like `_.merge` except that it accepts `customizer` which
     * is invoked to produce the merged values of the destination and source
     * properties. If `customizer` returns `undefined`, merging is handled by the
     * method instead. The `customizer` is invoked with six arguments:
     * (objValue, srcValue, key, object, source, stack).
     *
     * **Note:** This method mutates `object`.
     *
     * @static
     * @memberOf _
     * @since 4.0.0
     * @category Object
     * @param {Object} object The destination object.
     * @param {...Object} sources The source objects.
     * @param {Function} customizer The function to customize assigned values.
     * @returns {Object} Returns `object`.
     * @example
     *
     * function customizer(objValue, srcValue) {
     *   if (_.isArray(objValue)) {
     *     return objValue.concat(srcValue);
     *   }
     * }
     *
     * var object = { 'a': [1], 'b': [2] };
     * var other = { 'a': [3], 'b': [4] };
     *
     * _.mergeWith(object, other, customizer);
     * // => { 'a': [1, 3], 'b': [2, 4] }
     */var mergeWith=createAssigner(function(object,source,srcIndex,customizer){baseMerge(object,source,srcIndex,customizer);});/**
     * The opposite of `_.pick`; this method creates an object composed of the
     * own and inherited enumerable property paths of `object` that are not omitted.
     *
     * **Note:** This method is considerably slower than `_.pick`.
     *
     * @static
     * @since 0.1.0
     * @memberOf _
     * @category Object
     * @param {Object} object The source object.
     * @param {...(string|string[])} [paths] The property paths to omit.
     * @returns {Object} Returns the new object.
     * @example
     *
     * var object = { 'a': 1, 'b': '2', 'c': 3 };
     *
     * _.omit(object, ['a', 'c']);
     * // => { 'b': '2' }
     */var omit=flatRest(function(object,paths){var result={};if(object==null){return result;}var isDeep=false;paths=arrayMap(paths,function(path){path=castPath(path,object);isDeep||(isDeep=path.length>1);return path;});copyObject(object,getAllKeysIn(object),result);if(isDeep){result=baseClone(result,CLONE_DEEP_FLAG|CLONE_FLAT_FLAG|CLONE_SYMBOLS_FLAG,customOmitClone);}var length=paths.length;while(length--){baseUnset(result,paths[length]);}return result;});/**
     * The opposite of `_.pickBy`; this method creates an object composed of
     * the own and inherited enumerable string keyed properties of `object` that
     * `predicate` doesn't return truthy for. The predicate is invoked with two
     * arguments: (value, key).
     *
     * @static
     * @memberOf _
     * @since 4.0.0
     * @category Object
     * @param {Object} object The source object.
     * @param {Function} [predicate=_.identity] The function invoked per property.
     * @returns {Object} Returns the new object.
     * @example
     *
     * var object = { 'a': 1, 'b': '2', 'c': 3 };
     *
     * _.omitBy(object, _.isNumber);
     * // => { 'b': '2' }
     */function omitBy(object,predicate){return pickBy(object,negate(getIteratee(predicate)));}/**
     * Creates an object composed of the picked `object` properties.
     *
     * @static
     * @since 0.1.0
     * @memberOf _
     * @category Object
     * @param {Object} object The source object.
     * @param {...(string|string[])} [paths] The property paths to pick.
     * @returns {Object} Returns the new object.
     * @example
     *
     * var object = { 'a': 1, 'b': '2', 'c': 3 };
     *
     * _.pick(object, ['a', 'c']);
     * // => { 'a': 1, 'c': 3 }
     */var pick=flatRest(function(object,paths){return object==null?{}:basePick(object,paths);});/**
     * Creates an object composed of the `object` properties `predicate` returns
     * truthy for. The predicate is invoked with two arguments: (value, key).
     *
     * @static
     * @memberOf _
     * @since 4.0.0
     * @category Object
     * @param {Object} object The source object.
     * @param {Function} [predicate=_.identity] The function invoked per property.
     * @returns {Object} Returns the new object.
     * @example
     *
     * var object = { 'a': 1, 'b': '2', 'c': 3 };
     *
     * _.pickBy(object, _.isNumber);
     * // => { 'a': 1, 'c': 3 }
     */function pickBy(object,predicate){if(object==null){return{};}var props=arrayMap(getAllKeysIn(object),function(prop){return[prop];});predicate=getIteratee(predicate);return basePickBy(object,props,function(value,path){return predicate(value,path[0]);});}/**
     * This method is like `_.get` except that if the resolved value is a
     * function it's invoked with the `this` binding of its parent object and
     * its result is returned.
     *
     * @static
     * @since 0.1.0
     * @memberOf _
     * @category Object
     * @param {Object} object The object to query.
     * @param {Array|string} path The path of the property to resolve.
     * @param {*} [defaultValue] The value returned for `undefined` resolved values.
     * @returns {*} Returns the resolved value.
     * @example
     *
     * var object = { 'a': [{ 'b': { 'c1': 3, 'c2': _.constant(4) } }] };
     *
     * _.result(object, 'a[0].b.c1');
     * // => 3
     *
     * _.result(object, 'a[0].b.c2');
     * // => 4
     *
     * _.result(object, 'a[0].b.c3', 'default');
     * // => 'default'
     *
     * _.result(object, 'a[0].b.c3', _.constant('default'));
     * // => 'default'
     */function result(object,path,defaultValue){path=castPath(path,object);var index=-1,length=path.length;// Ensure the loop is entered when path is empty.
if(!length){length=1;object=undefined;}while(++index<length){var value=object==null?undefined:object[toKey(path[index])];if(value===undefined){index=length;value=defaultValue;}object=isFunction(value)?value.call(object):value;}return object;}/**
     * Sets the value at `path` of `object`. If a portion of `path` doesn't exist,
     * it's created. Arrays are created for missing index properties while objects
     * are created for all other missing properties. Use `_.setWith` to customize
     * `path` creation.
     *
     * **Note:** This method mutates `object`.
     *
     * @static
     * @memberOf _
     * @since 3.7.0
     * @category Object
     * @param {Object} object The object to modify.
     * @param {Array|string} path The path of the property to set.
     * @param {*} value The value to set.
     * @returns {Object} Returns `object`.
     * @example
     *
     * var object = { 'a': [{ 'b': { 'c': 3 } }] };
     *
     * _.set(object, 'a[0].b.c', 4);
     * console.log(object.a[0].b.c);
     * // => 4
     *
     * _.set(object, ['x', '0', 'y', 'z'], 5);
     * console.log(object.x[0].y.z);
     * // => 5
     */function set(object,path,value){return object==null?object:baseSet(object,path,value);}/**
     * This method is like `_.set` except that it accepts `customizer` which is
     * invoked to produce the objects of `path`.  If `customizer` returns `undefined`
     * path creation is handled by the method instead. The `customizer` is invoked
     * with three arguments: (nsValue, key, nsObject).
     *
     * **Note:** This method mutates `object`.
     *
     * @static
     * @memberOf _
     * @since 4.0.0
     * @category Object
     * @param {Object} object The object to modify.
     * @param {Array|string} path The path of the property to set.
     * @param {*} value The value to set.
     * @param {Function} [customizer] The function to customize assigned values.
     * @returns {Object} Returns `object`.
     * @example
     *
     * var object = {};
     *
     * _.setWith(object, '[0][1]', 'a', Object);
     * // => { '0': { '1': 'a' } }
     */function setWith(object,path,value,customizer){customizer=typeof customizer=='function'?customizer:undefined;return object==null?object:baseSet(object,path,value,customizer);}/**
     * Creates an array of own enumerable string keyed-value pairs for `object`
     * which can be consumed by `_.fromPairs`. If `object` is a map or set, its
     * entries are returned.
     *
     * @static
     * @memberOf _
     * @since 4.0.0
     * @alias entries
     * @category Object
     * @param {Object} object The object to query.
     * @returns {Array} Returns the key-value pairs.
     * @example
     *
     * function Foo() {
     *   this.a = 1;
     *   this.b = 2;
     * }
     *
     * Foo.prototype.c = 3;
     *
     * _.toPairs(new Foo);
     * // => [['a', 1], ['b', 2]] (iteration order is not guaranteed)
     */var toPairs=createToPairs(keys);/**
     * Creates an array of own and inherited enumerable string keyed-value pairs
     * for `object` which can be consumed by `_.fromPairs`. If `object` is a map
     * or set, its entries are returned.
     *
     * @static
     * @memberOf _
     * @since 4.0.0
     * @alias entriesIn
     * @category Object
     * @param {Object} object The object to query.
     * @returns {Array} Returns the key-value pairs.
     * @example
     *
     * function Foo() {
     *   this.a = 1;
     *   this.b = 2;
     * }
     *
     * Foo.prototype.c = 3;
     *
     * _.toPairsIn(new Foo);
     * // => [['a', 1], ['b', 2], ['c', 3]] (iteration order is not guaranteed)
     */var toPairsIn=createToPairs(keysIn);/**
     * An alternative to `_.reduce`; this method transforms `object` to a new
     * `accumulator` object which is the result of running each of its own
     * enumerable string keyed properties thru `iteratee`, with each invocation
     * potentially mutating the `accumulator` object. If `accumulator` is not
     * provided, a new object with the same `[[Prototype]]` will be used. The
     * iteratee is invoked with four arguments: (accumulator, value, key, object).
     * Iteratee functions may exit iteration early by explicitly returning `false`.
     *
     * @static
     * @memberOf _
     * @since 1.3.0
     * @category Object
     * @param {Object} object The object to iterate over.
     * @param {Function} [iteratee=_.identity] The function invoked per iteration.
     * @param {*} [accumulator] The custom accumulator value.
     * @returns {*} Returns the accumulated value.
     * @example
     *
     * _.transform([2, 3, 4], function(result, n) {
     *   result.push(n *= n);
     *   return n % 2 == 0;
     * }, []);
     * // => [4, 9]
     *
     * _.transform({ 'a': 1, 'b': 2, 'c': 1 }, function(result, value, key) {
     *   (result[value] || (result[value] = [])).push(key);
     * }, {});
     * // => { '1': ['a', 'c'], '2': ['b'] }
     */function transform(object,iteratee,accumulator){var isArr=isArray(object),isArrLike=isArr||isBuffer(object)||isTypedArray(object);iteratee=getIteratee(iteratee,4);if(accumulator==null){var Ctor=object&&object.constructor;if(isArrLike){accumulator=isArr?new Ctor():[];}else if(isObject(object)){accumulator=isFunction(Ctor)?baseCreate(getPrototype(object)):{};}else{accumulator={};}}(isArrLike?arrayEach:baseForOwn)(object,function(value,index,object){return iteratee(accumulator,value,index,object);});return accumulator;}/**
     * Removes the property at `path` of `object`.
     *
     * **Note:** This method mutates `object`.
     *
     * @static
     * @memberOf _
     * @since 4.0.0
     * @category Object
     * @param {Object} object The object to modify.
     * @param {Array|string} path The path of the property to unset.
     * @returns {boolean} Returns `true` if the property is deleted, else `false`.
     * @example
     *
     * var object = { 'a': [{ 'b': { 'c': 7 } }] };
     * _.unset(object, 'a[0].b.c');
     * // => true
     *
     * console.log(object);
     * // => { 'a': [{ 'b': {} }] };
     *
     * _.unset(object, ['a', '0', 'b', 'c']);
     * // => true
     *
     * console.log(object);
     * // => { 'a': [{ 'b': {} }] };
     */function unset(object,path){return object==null?true:baseUnset(object,path);}/**
     * This method is like `_.set` except that accepts `updater` to produce the
     * value to set. Use `_.updateWith` to customize `path` creation. The `updater`
     * is invoked with one argument: (value).
     *
     * **Note:** This method mutates `object`.
     *
     * @static
     * @memberOf _
     * @since 4.6.0
     * @category Object
     * @param {Object} object The object to modify.
     * @param {Array|string} path The path of the property to set.
     * @param {Function} updater The function to produce the updated value.
     * @returns {Object} Returns `object`.
     * @example
     *
     * var object = { 'a': [{ 'b': { 'c': 3 } }] };
     *
     * _.update(object, 'a[0].b.c', function(n) { return n * n; });
     * console.log(object.a[0].b.c);
     * // => 9
     *
     * _.update(object, 'x[0].y.z', function(n) { return n ? n + 1 : 0; });
     * console.log(object.x[0].y.z);
     * // => 0
     */function update(object,path,updater){return object==null?object:baseUpdate(object,path,castFunction(updater));}/**
     * This method is like `_.update` except that it accepts `customizer` which is
     * invoked to produce the objects of `path`.  If `customizer` returns `undefined`
     * path creation is handled by the method instead. The `customizer` is invoked
     * with three arguments: (nsValue, key, nsObject).
     *
     * **Note:** This method mutates `object`.
     *
     * @static
     * @memberOf _
     * @since 4.6.0
     * @category Object
     * @param {Object} object The object to modify.
     * @param {Array|string} path The path of the property to set.
     * @param {Function} updater The function to produce the updated value.
     * @param {Function} [customizer] The function to customize assigned values.
     * @returns {Object} Returns `object`.
     * @example
     *
     * var object = {};
     *
     * _.updateWith(object, '[0][1]', _.constant('a'), Object);
     * // => { '0': { '1': 'a' } }
     */function updateWith(object,path,updater,customizer){customizer=typeof customizer=='function'?customizer:undefined;return object==null?object:baseUpdate(object,path,castFunction(updater),customizer);}/**
     * Creates an array of the own enumerable string keyed property values of `object`.
     *
     * **Note:** Non-object values are coerced to objects.
     *
     * @static
     * @since 0.1.0
     * @memberOf _
     * @category Object
     * @param {Object} object The object to query.
     * @returns {Array} Returns the array of property values.
     * @example
     *
     * function Foo() {
     *   this.a = 1;
     *   this.b = 2;
     * }
     *
     * Foo.prototype.c = 3;
     *
     * _.values(new Foo);
     * // => [1, 2] (iteration order is not guaranteed)
     *
     * _.values('hi');
     * // => ['h', 'i']
     */function values(object){return object==null?[]:baseValues(object,keys(object));}/**
     * Creates an array of the own and inherited enumerable string keyed property
     * values of `object`.
     *
     * **Note:** Non-object values are coerced to objects.
     *
     * @static
     * @memberOf _
     * @since 3.0.0
     * @category Object
     * @param {Object} object The object to query.
     * @returns {Array} Returns the array of property values.
     * @example
     *
     * function Foo() {
     *   this.a = 1;
     *   this.b = 2;
     * }
     *
     * Foo.prototype.c = 3;
     *
     * _.valuesIn(new Foo);
     * // => [1, 2, 3] (iteration order is not guaranteed)
     */function valuesIn(object){return object==null?[]:baseValues(object,keysIn(object));}/*------------------------------------------------------------------------*//**
     * Clamps `number` within the inclusive `lower` and `upper` bounds.
     *
     * @static
     * @memberOf _
     * @since 4.0.0
     * @category Number
     * @param {number} number The number to clamp.
     * @param {number} [lower] The lower bound.
     * @param {number} upper The upper bound.
     * @returns {number} Returns the clamped number.
     * @example
     *
     * _.clamp(-10, -5, 5);
     * // => -5
     *
     * _.clamp(10, -5, 5);
     * // => 5
     */function clamp(number,lower,upper){if(upper===undefined){upper=lower;lower=undefined;}if(upper!==undefined){upper=toNumber(upper);upper=upper===upper?upper:0;}if(lower!==undefined){lower=toNumber(lower);lower=lower===lower?lower:0;}return baseClamp(toNumber(number),lower,upper);}/**
     * Checks if `n` is between `start` and up to, but not including, `end`. If
     * `end` is not specified, it's set to `start` with `start` then set to `0`.
     * If `start` is greater than `end` the params are swapped to support
     * negative ranges.
     *
     * @static
     * @memberOf _
     * @since 3.3.0
     * @category Number
     * @param {number} number The number to check.
     * @param {number} [start=0] The start of the range.
     * @param {number} end The end of the range.
     * @returns {boolean} Returns `true` if `number` is in the range, else `false`.
     * @see _.range, _.rangeRight
     * @example
     *
     * _.inRange(3, 2, 4);
     * // => true
     *
     * _.inRange(4, 8);
     * // => true
     *
     * _.inRange(4, 2);
     * // => false
     *
     * _.inRange(2, 2);
     * // => false
     *
     * _.inRange(1.2, 2);
     * // => true
     *
     * _.inRange(5.2, 4);
     * // => false
     *
     * _.inRange(-3, -2, -6);
     * // => true
     */function inRange(number,start,end){start=toFinite(start);if(end===undefined){end=start;start=0;}else{end=toFinite(end);}number=toNumber(number);return baseInRange(number,start,end);}/**
     * Produces a random number between the inclusive `lower` and `upper` bounds.
     * If only one argument is provided a number between `0` and the given number
     * is returned. If `floating` is `true`, or either `lower` or `upper` are
     * floats, a floating-point number is returned instead of an integer.
     *
     * **Note:** JavaScript follows the IEEE-754 standard for resolving
     * floating-point values which can produce unexpected results.
     *
     * @static
     * @memberOf _
     * @since 0.7.0
     * @category Number
     * @param {number} [lower=0] The lower bound.
     * @param {number} [upper=1] The upper bound.
     * @param {boolean} [floating] Specify returning a floating-point number.
     * @returns {number} Returns the random number.
     * @example
     *
     * _.random(0, 5);
     * // => an integer between 0 and 5
     *
     * _.random(5);
     * // => also an integer between 0 and 5
     *
     * _.random(5, true);
     * // => a floating-point number between 0 and 5
     *
     * _.random(1.2, 5.2);
     * // => a floating-point number between 1.2 and 5.2
     */function random(lower,upper,floating){if(floating&&typeof floating!='boolean'&&isIterateeCall(lower,upper,floating)){upper=floating=undefined;}if(floating===undefined){if(typeof upper=='boolean'){floating=upper;upper=undefined;}else if(typeof lower=='boolean'){floating=lower;lower=undefined;}}if(lower===undefined&&upper===undefined){lower=0;upper=1;}else{lower=toFinite(lower);if(upper===undefined){upper=lower;lower=0;}else{upper=toFinite(upper);}}if(lower>upper){var temp=lower;lower=upper;upper=temp;}if(floating||lower%1||upper%1){var rand=nativeRandom();return nativeMin(lower+rand*(upper-lower+freeParseFloat('1e-'+((rand+'').length-1))),upper);}return baseRandom(lower,upper);}/*------------------------------------------------------------------------*//**
     * Converts `string` to [camel case](https://en.wikipedia.org/wiki/CamelCase).
     *
     * @static
     * @memberOf _
     * @since 3.0.0
     * @category String
     * @param {string} [string=''] The string to convert.
     * @returns {string} Returns the camel cased string.
     * @example
     *
     * _.camelCase('Foo Bar');
     * // => 'fooBar'
     *
     * _.camelCase('--foo-bar--');
     * // => 'fooBar'
     *
     * _.camelCase('__FOO_BAR__');
     * // => 'fooBar'
     */var camelCase=createCompounder(function(result,word,index){word=word.toLowerCase();return result+(index?capitalize(word):word);});/**
     * Converts the first character of `string` to upper case and the remaining
     * to lower case.
     *
     * @static
     * @memberOf _
     * @since 3.0.0
     * @category String
     * @param {string} [string=''] The string to capitalize.
     * @returns {string} Returns the capitalized string.
     * @example
     *
     * _.capitalize('FRED');
     * // => 'Fred'
     */function capitalize(string){return upperFirst(toString(string).toLowerCase());}/**
     * Deburrs `string` by converting
     * [Latin-1 Supplement](https://en.wikipedia.org/wiki/Latin-1_Supplement_(Unicode_block)#Character_table)
     * and [Latin Extended-A](https://en.wikipedia.org/wiki/Latin_Extended-A)
     * letters to basic Latin letters and removing
     * [combining diacritical marks](https://en.wikipedia.org/wiki/Combining_Diacritical_Marks).
     *
     * @static
     * @memberOf _
     * @since 3.0.0
     * @category String
     * @param {string} [string=''] The string to deburr.
     * @returns {string} Returns the deburred string.
     * @example
     *
     * _.deburr('déjà vu');
     * // => 'deja vu'
     */function deburr(string){string=toString(string);return string&&string.replace(reLatin,deburrLetter).replace(reComboMark,'');}/**
     * Checks if `string` ends with the given target string.
     *
     * @static
     * @memberOf _
     * @since 3.0.0
     * @category String
     * @param {string} [string=''] The string to inspect.
     * @param {string} [target] The string to search for.
     * @param {number} [position=string.length] The position to search up to.
     * @returns {boolean} Returns `true` if `string` ends with `target`,
     *  else `false`.
     * @example
     *
     * _.endsWith('abc', 'c');
     * // => true
     *
     * _.endsWith('abc', 'b');
     * // => false
     *
     * _.endsWith('abc', 'b', 2);
     * // => true
     */function endsWith(string,target,position){string=toString(string);target=baseToString(target);var length=string.length;position=position===undefined?length:baseClamp(toInteger(position),0,length);var end=position;position-=target.length;return position>=0&&string.slice(position,end)==target;}/**
     * Converts the characters "&", "<", ">", '"', and "'" in `string` to their
     * corresponding HTML entities.
     *
     * **Note:** No other characters are escaped. To escape additional
     * characters use a third-party library like [_he_](https://mths.be/he).
     *
     * Though the ">" character is escaped for symmetry, characters like
     * ">" and "/" don't need escaping in HTML and have no special meaning
     * unless they're part of a tag or unquoted attribute value. See
     * [Mathias Bynens's article](https://mathiasbynens.be/notes/ambiguous-ampersands)
     * (under "semi-related fun fact") for more details.
     *
     * When working with HTML you should always
     * [quote attribute values](http://wonko.com/post/html-escaping) to reduce
     * XSS vectors.
     *
     * @static
     * @since 0.1.0
     * @memberOf _
     * @category String
     * @param {string} [string=''] The string to escape.
     * @returns {string} Returns the escaped string.
     * @example
     *
     * _.escape('fred, barney, & pebbles');
     * // => 'fred, barney, &amp; pebbles'
     */function escape(string){string=toString(string);return string&&reHasUnescapedHtml.test(string)?string.replace(reUnescapedHtml,escapeHtmlChar):string;}/**
     * Escapes the `RegExp` special characters "^", "$", "\", ".", "*", "+",
     * "?", "(", ")", "[", "]", "{", "}", and "|" in `string`.
     *
     * @static
     * @memberOf _
     * @since 3.0.0
     * @category String
     * @param {string} [string=''] The string to escape.
     * @returns {string} Returns the escaped string.
     * @example
     *
     * _.escapeRegExp('[lodash](https://lodash.com/)');
     * // => '\[lodash\]\(https://lodash\.com/\)'
     */function escapeRegExp(string){string=toString(string);return string&&reHasRegExpChar.test(string)?string.replace(reRegExpChar,'\\$&'):string;}/**
     * Converts `string` to
     * [kebab case](https://en.wikipedia.org/wiki/Letter_case#Special_case_styles).
     *
     * @static
     * @memberOf _
     * @since 3.0.0
     * @category String
     * @param {string} [string=''] The string to convert.
     * @returns {string} Returns the kebab cased string.
     * @example
     *
     * _.kebabCase('Foo Bar');
     * // => 'foo-bar'
     *
     * _.kebabCase('fooBar');
     * // => 'foo-bar'
     *
     * _.kebabCase('__FOO_BAR__');
     * // => 'foo-bar'
     */var kebabCase=createCompounder(function(result,word,index){return result+(index?'-':'')+word.toLowerCase();});/**
     * Converts `string`, as space separated words, to lower case.
     *
     * @static
     * @memberOf _
     * @since 4.0.0
     * @category String
     * @param {string} [string=''] The string to convert.
     * @returns {string} Returns the lower cased string.
     * @example
     *
     * _.lowerCase('--Foo-Bar--');
     * // => 'foo bar'
     *
     * _.lowerCase('fooBar');
     * // => 'foo bar'
     *
     * _.lowerCase('__FOO_BAR__');
     * // => 'foo bar'
     */var lowerCase=createCompounder(function(result,word,index){return result+(index?' ':'')+word.toLowerCase();});/**
     * Converts the first character of `string` to lower case.
     *
     * @static
     * @memberOf _
     * @since 4.0.0
     * @category String
     * @param {string} [string=''] The string to convert.
     * @returns {string} Returns the converted string.
     * @example
     *
     * _.lowerFirst('Fred');
     * // => 'fred'
     *
     * _.lowerFirst('FRED');
     * // => 'fRED'
     */var lowerFirst=createCaseFirst('toLowerCase');/**
     * Pads `string` on the left and right sides if it's shorter than `length`.
     * Padding characters are truncated if they can't be evenly divided by `length`.
     *
     * @static
     * @memberOf _
     * @since 3.0.0
     * @category String
     * @param {string} [string=''] The string to pad.
     * @param {number} [length=0] The padding length.
     * @param {string} [chars=' '] The string used as padding.
     * @returns {string} Returns the padded string.
     * @example
     *
     * _.pad('abc', 8);
     * // => '  abc   '
     *
     * _.pad('abc', 8, '_-');
     * // => '_-abc_-_'
     *
     * _.pad('abc', 3);
     * // => 'abc'
     */function pad(string,length,chars){string=toString(string);length=toInteger(length);var strLength=length?stringSize(string):0;if(!length||strLength>=length){return string;}var mid=(length-strLength)/2;return createPadding(nativeFloor(mid),chars)+string+createPadding(nativeCeil(mid),chars);}/**
     * Pads `string` on the right side if it's shorter than `length`. Padding
     * characters are truncated if they exceed `length`.
     *
     * @static
     * @memberOf _
     * @since 4.0.0
     * @category String
     * @param {string} [string=''] The string to pad.
     * @param {number} [length=0] The padding length.
     * @param {string} [chars=' '] The string used as padding.
     * @returns {string} Returns the padded string.
     * @example
     *
     * _.padEnd('abc', 6);
     * // => 'abc   '
     *
     * _.padEnd('abc', 6, '_-');
     * // => 'abc_-_'
     *
     * _.padEnd('abc', 3);
     * // => 'abc'
     */function padEnd(string,length,chars){string=toString(string);length=toInteger(length);var strLength=length?stringSize(string):0;return length&&strLength<length?string+createPadding(length-strLength,chars):string;}/**
     * Pads `string` on the left side if it's shorter than `length`. Padding
     * characters are truncated if they exceed `length`.
     *
     * @static
     * @memberOf _
     * @since 4.0.0
     * @category String
     * @param {string} [string=''] The string to pad.
     * @param {number} [length=0] The padding length.
     * @param {string} [chars=' '] The string used as padding.
     * @returns {string} Returns the padded string.
     * @example
     *
     * _.padStart('abc', 6);
     * // => '   abc'
     *
     * _.padStart('abc', 6, '_-');
     * // => '_-_abc'
     *
     * _.padStart('abc', 3);
     * // => 'abc'
     */function padStart(string,length,chars){string=toString(string);length=toInteger(length);var strLength=length?stringSize(string):0;return length&&strLength<length?createPadding(length-strLength,chars)+string:string;}/**
     * Converts `string` to an integer of the specified radix. If `radix` is
     * `undefined` or `0`, a `radix` of `10` is used unless `value` is a
     * hexadecimal, in which case a `radix` of `16` is used.
     *
     * **Note:** This method aligns with the
     * [ES5 implementation](https://es5.github.io/#x15.1.2.2) of `parseInt`.
     *
     * @static
     * @memberOf _
     * @since 1.1.0
     * @category String
     * @param {string} string The string to convert.
     * @param {number} [radix=10] The radix to interpret `value` by.
     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.
     * @returns {number} Returns the converted integer.
     * @example
     *
     * _.parseInt('08');
     * // => 8
     *
     * _.map(['6', '08', '10'], _.parseInt);
     * // => [6, 8, 10]
     */function parseInt(string,radix,guard){if(guard||radix==null){radix=0;}else if(radix){radix=+radix;}return nativeParseInt(toString(string).replace(reTrimStart,''),radix||0);}/**
     * Repeats the given string `n` times.
     *
     * @static
     * @memberOf _
     * @since 3.0.0
     * @category String
     * @param {string} [string=''] The string to repeat.
     * @param {number} [n=1] The number of times to repeat the string.
     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.
     * @returns {string} Returns the repeated string.
     * @example
     *
     * _.repeat('*', 3);
     * // => '***'
     *
     * _.repeat('abc', 2);
     * // => 'abcabc'
     *
     * _.repeat('abc', 0);
     * // => ''
     */function repeat(string,n,guard){if(guard?isIterateeCall(string,n,guard):n===undefined){n=1;}else{n=toInteger(n);}return baseRepeat(toString(string),n);}/**
     * Replaces matches for `pattern` in `string` with `replacement`.
     *
     * **Note:** This method is based on
     * [`String#replace`](https://mdn.io/String/replace).
     *
     * @static
     * @memberOf _
     * @since 4.0.0
     * @category String
     * @param {string} [string=''] The string to modify.
     * @param {RegExp|string} pattern The pattern to replace.
     * @param {Function|string} replacement The match replacement.
     * @returns {string} Returns the modified string.
     * @example
     *
     * _.replace('Hi Fred', 'Fred', 'Barney');
     * // => 'Hi Barney'
     */function replace(){var args=arguments,string=toString(args[0]);return args.length<3?string:string.replace(args[1],args[2]);}/**
     * Converts `string` to
     * [snake case](https://en.wikipedia.org/wiki/Snake_case).
     *
     * @static
     * @memberOf _
     * @since 3.0.0
     * @category String
     * @param {string} [string=''] The string to convert.
     * @returns {string} Returns the snake cased string.
     * @example
     *
     * _.snakeCase('Foo Bar');
     * // => 'foo_bar'
     *
     * _.snakeCase('fooBar');
     * // => 'foo_bar'
     *
     * _.snakeCase('--FOO-BAR--');
     * // => 'foo_bar'
     */var snakeCase=createCompounder(function(result,word,index){return result+(index?'_':'')+word.toLowerCase();});/**
     * Splits `string` by `separator`.
     *
     * **Note:** This method is based on
     * [`String#split`](https://mdn.io/String/split).
     *
     * @static
     * @memberOf _
     * @since 4.0.0
     * @category String
     * @param {string} [string=''] The string to split.
     * @param {RegExp|string} separator The separator pattern to split by.
     * @param {number} [limit] The length to truncate results to.
     * @returns {Array} Returns the string segments.
     * @example
     *
     * _.split('a-b-c', '-', 2);
     * // => ['a', 'b']
     */function split(string,separator,limit){if(limit&&typeof limit!='number'&&isIterateeCall(string,separator,limit)){separator=limit=undefined;}limit=limit===undefined?MAX_ARRAY_LENGTH:limit>>>0;if(!limit){return[];}string=toString(string);if(string&&(typeof separator=='string'||separator!=null&&!isRegExp(separator))){separator=baseToString(separator);if(!separator&&hasUnicode(string)){return castSlice(stringToArray(string),0,limit);}}return string.split(separator,limit);}/**
     * Converts `string` to
     * [start case](https://en.wikipedia.org/wiki/Letter_case#Stylistic_or_specialised_usage).
     *
     * @static
     * @memberOf _
     * @since 3.1.0
     * @category String
     * @param {string} [string=''] The string to convert.
     * @returns {string} Returns the start cased string.
     * @example
     *
     * _.startCase('--foo-bar--');
     * // => 'Foo Bar'
     *
     * _.startCase('fooBar');
     * // => 'Foo Bar'
     *
     * _.startCase('__FOO_BAR__');
     * // => 'FOO BAR'
     */var startCase=createCompounder(function(result,word,index){return result+(index?' ':'')+upperFirst(word);});/**
     * Checks if `string` starts with the given target string.
     *
     * @static
     * @memberOf _
     * @since 3.0.0
     * @category String
     * @param {string} [string=''] The string to inspect.
     * @param {string} [target] The string to search for.
     * @param {number} [position=0] The position to search from.
     * @returns {boolean} Returns `true` if `string` starts with `target`,
     *  else `false`.
     * @example
     *
     * _.startsWith('abc', 'a');
     * // => true
     *
     * _.startsWith('abc', 'b');
     * // => false
     *
     * _.startsWith('abc', 'b', 1);
     * // => true
     */function startsWith(string,target,position){string=toString(string);position=position==null?0:baseClamp(toInteger(position),0,string.length);target=baseToString(target);return string.slice(position,position+target.length)==target;}/**
     * Creates a compiled template function that can interpolate data properties
     * in "interpolate" delimiters, HTML-escape interpolated data properties in
     * "escape" delimiters, and execute JavaScript in "evaluate" delimiters. Data
     * properties may be accessed as free variables in the template. If a setting
     * object is given, it takes precedence over `_.templateSettings` values.
     *
     * **Note:** In the development build `_.template` utilizes
     * [sourceURLs](http://www.html5rocks.com/en/tutorials/developertools/sourcemaps/#toc-sourceurl)
     * for easier debugging.
     *
     * For more information on precompiling templates see
     * [lodash's custom builds documentation](https://lodash.com/custom-builds).
     *
     * For more information on Chrome extension sandboxes see
     * [Chrome's extensions documentation](https://developer.chrome.com/extensions/sandboxingEval).
     *
     * @static
     * @since 0.1.0
     * @memberOf _
     * @category String
     * @param {string} [string=''] The template string.
     * @param {Object} [options={}] The options object.
     * @param {RegExp} [options.escape=_.templateSettings.escape]
     *  The HTML "escape" delimiter.
     * @param {RegExp} [options.evaluate=_.templateSettings.evaluate]
     *  The "evaluate" delimiter.
     * @param {Object} [options.imports=_.templateSettings.imports]
     *  An object to import into the template as free variables.
     * @param {RegExp} [options.interpolate=_.templateSettings.interpolate]
     *  The "interpolate" delimiter.
     * @param {string} [options.sourceURL='lodash.templateSources[n]']
     *  The sourceURL of the compiled template.
     * @param {string} [options.variable='obj']
     *  The data object variable name.
     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.
     * @returns {Function} Returns the compiled template function.
     * @example
     *
     * // Use the "interpolate" delimiter to create a compiled template.
     * var compiled = _.template('hello <%= user %>!');
     * compiled({ 'user': 'fred' });
     * // => 'hello fred!'
     *
     * // Use the HTML "escape" delimiter to escape data property values.
     * var compiled = _.template('<b><%- value %></b>');
     * compiled({ 'value': '<script>' });
     * // => '<b>&lt;script&gt;</b>'
     *
     * // Use the "evaluate" delimiter to execute JavaScript and generate HTML.
     * var compiled = _.template('<% _.forEach(users, function(user) { %><li><%- user %></li><% }); %>');
     * compiled({ 'users': ['fred', 'barney'] });
     * // => '<li>fred</li><li>barney</li>'
     *
     * // Use the internal `print` function in "evaluate" delimiters.
     * var compiled = _.template('<% print("hello " + user); %>!');
     * compiled({ 'user': 'barney' });
     * // => 'hello barney!'
     *
     * // Use the ES template literal delimiter as an "interpolate" delimiter.
     * // Disable support by replacing the "interpolate" delimiter.
     * var compiled = _.template('hello ${ user }!');
     * compiled({ 'user': 'pebbles' });
     * // => 'hello pebbles!'
     *
     * // Use backslashes to treat delimiters as plain text.
     * var compiled = _.template('<%= "\\<%- value %\\>" %>');
     * compiled({ 'value': 'ignored' });
     * // => '<%- value %>'
     *
     * // Use the `imports` option to import `jQuery` as `jq`.
     * var text = '<% jq.each(users, function(user) { %><li><%- user %></li><% }); %>';
     * var compiled = _.template(text, { 'imports': { 'jq': jQuery } });
     * compiled({ 'users': ['fred', 'barney'] });
     * // => '<li>fred</li><li>barney</li>'
     *
     * // Use the `sourceURL` option to specify a custom sourceURL for the template.
     * var compiled = _.template('hello <%= user %>!', { 'sourceURL': '/basic/greeting.jst' });
     * compiled(data);
     * // => Find the source of "greeting.jst" under the Sources tab or Resources panel of the web inspector.
     *
     * // Use the `variable` option to ensure a with-statement isn't used in the compiled template.
     * var compiled = _.template('hi <%= data.user %>!', { 'variable': 'data' });
     * compiled.source;
     * // => function(data) {
     * //   var __t, __p = '';
     * //   __p += 'hi ' + ((__t = ( data.user )) == null ? '' : __t) + '!';
     * //   return __p;
     * // }
     *
     * // Use custom template delimiters.
     * _.templateSettings.interpolate = /{{([\s\S]+?)}}/g;
     * var compiled = _.template('hello {{ user }}!');
     * compiled({ 'user': 'mustache' });
     * // => 'hello mustache!'
     *
     * // Use the `source` property to inline compiled templates for meaningful
     * // line numbers in error messages and stack traces.
     * fs.writeFileSync(path.join(process.cwd(), 'jst.js'), '\
     *   var JST = {\
     *     "main": ' + _.template(mainText).source + '\
     *   };\
     * ');
     */function template(string,options,guard){// Based on John Resig's `tmpl` implementation
// (http://ejohn.org/blog/javascript-micro-templating/)
// and Laura Doktorova's doT.js (https://github.com/olado/doT).
var settings=lodash.templateSettings;if(guard&&isIterateeCall(string,options,guard)){options=undefined;}string=toString(string);options=assignInWith({},options,settings,customDefaultsAssignIn);var imports=assignInWith({},options.imports,settings.imports,customDefaultsAssignIn),importsKeys=keys(imports),importsValues=baseValues(imports,importsKeys);var isEscaping,isEvaluating,index=0,interpolate=options.interpolate||reNoMatch,source="__p += '";// Compile the regexp to match each delimiter.
var reDelimiters=RegExp((options.escape||reNoMatch).source+'|'+interpolate.source+'|'+(interpolate===reInterpolate?reEsTemplate:reNoMatch).source+'|'+(options.evaluate||reNoMatch).source+'|$','g');// Use a sourceURL for easier debugging.
var sourceURL='//# sourceURL='+('sourceURL'in options?options.sourceURL:'lodash.templateSources['+ ++templateCounter+']')+'\n';string.replace(reDelimiters,function(match,escapeValue,interpolateValue,esTemplateValue,evaluateValue,offset){interpolateValue||(interpolateValue=esTemplateValue);// Escape characters that can't be included in string literals.
source+=string.slice(index,offset).replace(reUnescapedString,escapeStringChar);// Replace delimiters with snippets.
if(escapeValue){isEscaping=true;source+="' +\n__e("+escapeValue+") +\n'";}if(evaluateValue){isEvaluating=true;source+="';\n"+evaluateValue+";\n__p += '";}if(interpolateValue){source+="' +\n((__t = ("+interpolateValue+")) == null ? '' : __t) +\n'";}index=offset+match.length;// The JS engine embedded in Adobe products needs `match` returned in
// order to produce the correct `offset` value.
return match;});source+="';\n";// If `variable` is not specified wrap a with-statement around the generated
// code to add the data object to the top of the scope chain.
var variable=options.variable;if(!variable){source='with (obj) {\n'+source+'\n}\n';}// Cleanup code by stripping empty strings.
source=(isEvaluating?source.replace(reEmptyStringLeading,''):source).replace(reEmptyStringMiddle,'$1').replace(reEmptyStringTrailing,'$1;');// Frame code as the function body.
source='function('+(variable||'obj')+') {\n'+(variable?'':'obj || (obj = {});\n')+"var __t, __p = ''"+(isEscaping?', __e = _.escape':'')+(isEvaluating?', __j = Array.prototype.join;\n'+"function print() { __p += __j.call(arguments, '') }\n":';\n')+source+'return __p\n}';var result=attempt(function(){return Function(importsKeys,sourceURL+'return '+source).apply(undefined,importsValues);});// Provide the compiled function's source by its `toString` method or
// the `source` property as a convenience for inlining compiled templates.
result.source=source;if(isError(result)){throw result;}return result;}/**
     * Converts `string`, as a whole, to lower case just like
     * [String#toLowerCase](https://mdn.io/toLowerCase).
     *
     * @static
     * @memberOf _
     * @since 4.0.0
     * @category String
     * @param {string} [string=''] The string to convert.
     * @returns {string} Returns the lower cased string.
     * @example
     *
     * _.toLower('--Foo-Bar--');
     * // => '--foo-bar--'
     *
     * _.toLower('fooBar');
     * // => 'foobar'
     *
     * _.toLower('__FOO_BAR__');
     * // => '__foo_bar__'
     */function toLower(value){return toString(value).toLowerCase();}/**
     * Converts `string`, as a whole, to upper case just like
     * [String#toUpperCase](https://mdn.io/toUpperCase).
     *
     * @static
     * @memberOf _
     * @since 4.0.0
     * @category String
     * @param {string} [string=''] The string to convert.
     * @returns {string} Returns the upper cased string.
     * @example
     *
     * _.toUpper('--foo-bar--');
     * // => '--FOO-BAR--'
     *
     * _.toUpper('fooBar');
     * // => 'FOOBAR'
     *
     * _.toUpper('__foo_bar__');
     * // => '__FOO_BAR__'
     */function toUpper(value){return toString(value).toUpperCase();}/**
     * Removes leading and trailing whitespace or specified characters from `string`.
     *
     * @static
     * @memberOf _
     * @since 3.0.0
     * @category String
     * @param {string} [string=''] The string to trim.
     * @param {string} [chars=whitespace] The characters to trim.
     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.
     * @returns {string} Returns the trimmed string.
     * @example
     *
     * _.trim('  abc  ');
     * // => 'abc'
     *
     * _.trim('-_-abc-_-', '_-');
     * // => 'abc'
     *
     * _.map(['  foo  ', '  bar  '], _.trim);
     * // => ['foo', 'bar']
     */function trim(string,chars,guard){string=toString(string);if(string&&(guard||chars===undefined)){return string.replace(reTrim,'');}if(!string||!(chars=baseToString(chars))){return string;}var strSymbols=stringToArray(string),chrSymbols=stringToArray(chars),start=charsStartIndex(strSymbols,chrSymbols),end=charsEndIndex(strSymbols,chrSymbols)+1;return castSlice(strSymbols,start,end).join('');}/**
     * Removes trailing whitespace or specified characters from `string`.
     *
     * @static
     * @memberOf _
     * @since 4.0.0
     * @category String
     * @param {string} [string=''] The string to trim.
     * @param {string} [chars=whitespace] The characters to trim.
     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.
     * @returns {string} Returns the trimmed string.
     * @example
     *
     * _.trimEnd('  abc  ');
     * // => '  abc'
     *
     * _.trimEnd('-_-abc-_-', '_-');
     * // => '-_-abc'
     */function trimEnd(string,chars,guard){string=toString(string);if(string&&(guard||chars===undefined)){return string.replace(reTrimEnd,'');}if(!string||!(chars=baseToString(chars))){return string;}var strSymbols=stringToArray(string),end=charsEndIndex(strSymbols,stringToArray(chars))+1;return castSlice(strSymbols,0,end).join('');}/**
     * Removes leading whitespace or specified characters from `string`.
     *
     * @static
     * @memberOf _
     * @since 4.0.0
     * @category String
     * @param {string} [string=''] The string to trim.
     * @param {string} [chars=whitespace] The characters to trim.
     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.
     * @returns {string} Returns the trimmed string.
     * @example
     *
     * _.trimStart('  abc  ');
     * // => 'abc  '
     *
     * _.trimStart('-_-abc-_-', '_-');
     * // => 'abc-_-'
     */function trimStart(string,chars,guard){string=toString(string);if(string&&(guard||chars===undefined)){return string.replace(reTrimStart,'');}if(!string||!(chars=baseToString(chars))){return string;}var strSymbols=stringToArray(string),start=charsStartIndex(strSymbols,stringToArray(chars));return castSlice(strSymbols,start).join('');}/**
     * Truncates `string` if it's longer than the given maximum string length.
     * The last characters of the truncated string are replaced with the omission
     * string which defaults to "...".
     *
     * @static
     * @memberOf _
     * @since 4.0.0
     * @category String
     * @param {string} [string=''] The string to truncate.
     * @param {Object} [options={}] The options object.
     * @param {number} [options.length=30] The maximum string length.
     * @param {string} [options.omission='...'] The string to indicate text is omitted.
     * @param {RegExp|string} [options.separator] The separator pattern to truncate to.
     * @returns {string} Returns the truncated string.
     * @example
     *
     * _.truncate('hi-diddly-ho there, neighborino');
     * // => 'hi-diddly-ho there, neighbo...'
     *
     * _.truncate('hi-diddly-ho there, neighborino', {
     *   'length': 24,
     *   'separator': ' '
     * });
     * // => 'hi-diddly-ho there,...'
     *
     * _.truncate('hi-diddly-ho there, neighborino', {
     *   'length': 24,
     *   'separator': /,? +/
     * });
     * // => 'hi-diddly-ho there...'
     *
     * _.truncate('hi-diddly-ho there, neighborino', {
     *   'omission': ' [...]'
     * });
     * // => 'hi-diddly-ho there, neig [...]'
     */function truncate(string,options){var length=DEFAULT_TRUNC_LENGTH,omission=DEFAULT_TRUNC_OMISSION;if(isObject(options)){var separator='separator'in options?options.separator:separator;length='length'in options?toInteger(options.length):length;omission='omission'in options?baseToString(options.omission):omission;}string=toString(string);var strLength=string.length;if(hasUnicode(string)){var strSymbols=stringToArray(string);strLength=strSymbols.length;}if(length>=strLength){return string;}var end=length-stringSize(omission);if(end<1){return omission;}var result=strSymbols?castSlice(strSymbols,0,end).join(''):string.slice(0,end);if(separator===undefined){return result+omission;}if(strSymbols){end+=result.length-end;}if(isRegExp(separator)){if(string.slice(end).search(separator)){var match,substring=result;if(!separator.global){separator=RegExp(separator.source,toString(reFlags.exec(separator))+'g');}separator.lastIndex=0;while(match=separator.exec(substring)){var newEnd=match.index;}result=result.slice(0,newEnd===undefined?end:newEnd);}}else if(string.indexOf(baseToString(separator),end)!=end){var index=result.lastIndexOf(separator);if(index>-1){result=result.slice(0,index);}}return result+omission;}/**
     * The inverse of `_.escape`; this method converts the HTML entities
     * `&amp;`, `&lt;`, `&gt;`, `&quot;`, and `&#39;` in `string` to
     * their corresponding characters.
     *
     * **Note:** No other HTML entities are unescaped. To unescape additional
     * HTML entities use a third-party library like [_he_](https://mths.be/he).
     *
     * @static
     * @memberOf _
     * @since 0.6.0
     * @category String
     * @param {string} [string=''] The string to unescape.
     * @returns {string} Returns the unescaped string.
     * @example
     *
     * _.unescape('fred, barney, &amp; pebbles');
     * // => 'fred, barney, & pebbles'
     */function unescape(string){string=toString(string);return string&&reHasEscapedHtml.test(string)?string.replace(reEscapedHtml,unescapeHtmlChar):string;}/**
     * Converts `string`, as space separated words, to upper case.
     *
     * @static
     * @memberOf _
     * @since 4.0.0
     * @category String
     * @param {string} [string=''] The string to convert.
     * @returns {string} Returns the upper cased string.
     * @example
     *
     * _.upperCase('--foo-bar');
     * // => 'FOO BAR'
     *
     * _.upperCase('fooBar');
     * // => 'FOO BAR'
     *
     * _.upperCase('__foo_bar__');
     * // => 'FOO BAR'
     */var upperCase=createCompounder(function(result,word,index){return result+(index?' ':'')+word.toUpperCase();});/**
     * Converts the first character of `string` to upper case.
     *
     * @static
     * @memberOf _
     * @since 4.0.0
     * @category String
     * @param {string} [string=''] The string to convert.
     * @returns {string} Returns the converted string.
     * @example
     *
     * _.upperFirst('fred');
     * // => 'Fred'
     *
     * _.upperFirst('FRED');
     * // => 'FRED'
     */var upperFirst=createCaseFirst('toUpperCase');/**
     * Splits `string` into an array of its words.
     *
     * @static
     * @memberOf _
     * @since 3.0.0
     * @category String
     * @param {string} [string=''] The string to inspect.
     * @param {RegExp|string} [pattern] The pattern to match words.
     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.
     * @returns {Array} Returns the words of `string`.
     * @example
     *
     * _.words('fred, barney, & pebbles');
     * // => ['fred', 'barney', 'pebbles']
     *
     * _.words('fred, barney, & pebbles', /[^, ]+/g);
     * // => ['fred', 'barney', '&', 'pebbles']
     */function words(string,pattern,guard){string=toString(string);pattern=guard?undefined:pattern;if(pattern===undefined){return hasUnicodeWord(string)?unicodeWords(string):asciiWords(string);}return string.match(pattern)||[];}/*------------------------------------------------------------------------*//**
     * Attempts to invoke `func`, returning either the result or the caught error
     * object. Any additional arguments are provided to `func` when it's invoked.
     *
     * @static
     * @memberOf _
     * @since 3.0.0
     * @category Util
     * @param {Function} func The function to attempt.
     * @param {...*} [args] The arguments to invoke `func` with.
     * @returns {*} Returns the `func` result or error object.
     * @example
     *
     * // Avoid throwing errors for invalid selectors.
     * var elements = _.attempt(function(selector) {
     *   return document.querySelectorAll(selector);
     * }, '>_>');
     *
     * if (_.isError(elements)) {
     *   elements = [];
     * }
     */var attempt=baseRest(function(func,args){try{return apply(func,undefined,args);}catch(e){return isError(e)?e:new Error(e);}});/**
     * Binds methods of an object to the object itself, overwriting the existing
     * method.
     *
     * **Note:** This method doesn't set the "length" property of bound functions.
     *
     * @static
     * @since 0.1.0
     * @memberOf _
     * @category Util
     * @param {Object} object The object to bind and assign the bound methods to.
     * @param {...(string|string[])} methodNames The object method names to bind.
     * @returns {Object} Returns `object`.
     * @example
     *
     * var view = {
     *   'label': 'docs',
     *   'click': function() {
     *     console.log('clicked ' + this.label);
     *   }
     * };
     *
     * _.bindAll(view, ['click']);
     * jQuery(element).on('click', view.click);
     * // => Logs 'clicked docs' when clicked.
     */var bindAll=flatRest(function(object,methodNames){arrayEach(methodNames,function(key){key=toKey(key);baseAssignValue(object,key,bind(object[key],object));});return object;});/**
     * Creates a function that iterates over `pairs` and invokes the corresponding
     * function of the first predicate to return truthy. The predicate-function
     * pairs are invoked with the `this` binding and arguments of the created
     * function.
     *
     * @static
     * @memberOf _
     * @since 4.0.0
     * @category Util
     * @param {Array} pairs The predicate-function pairs.
     * @returns {Function} Returns the new composite function.
     * @example
     *
     * var func = _.cond([
     *   [_.matches({ 'a': 1 }),           _.constant('matches A')],
     *   [_.conforms({ 'b': _.isNumber }), _.constant('matches B')],
     *   [_.stubTrue,                      _.constant('no match')]
     * ]);
     *
     * func({ 'a': 1, 'b': 2 });
     * // => 'matches A'
     *
     * func({ 'a': 0, 'b': 1 });
     * // => 'matches B'
     *
     * func({ 'a': '1', 'b': '2' });
     * // => 'no match'
     */function cond(pairs){var length=pairs==null?0:pairs.length,toIteratee=getIteratee();pairs=!length?[]:arrayMap(pairs,function(pair){if(typeof pair[1]!='function'){throw new TypeError(FUNC_ERROR_TEXT);}return[toIteratee(pair[0]),pair[1]];});return baseRest(function(args){var index=-1;while(++index<length){var pair=pairs[index];if(apply(pair[0],this,args)){return apply(pair[1],this,args);}}});}/**
     * Creates a function that invokes the predicate properties of `source` with
     * the corresponding property values of a given object, returning `true` if
     * all predicates return truthy, else `false`.
     *
     * **Note:** The created function is equivalent to `_.conformsTo` with
     * `source` partially applied.
     *
     * @static
     * @memberOf _
     * @since 4.0.0
     * @category Util
     * @param {Object} source The object of property predicates to conform to.
     * @returns {Function} Returns the new spec function.
     * @example
     *
     * var objects = [
     *   { 'a': 2, 'b': 1 },
     *   { 'a': 1, 'b': 2 }
     * ];
     *
     * _.filter(objects, _.conforms({ 'b': function(n) { return n > 1; } }));
     * // => [{ 'a': 1, 'b': 2 }]
     */function conforms(source){return baseConforms(baseClone(source,CLONE_DEEP_FLAG));}/**
     * Creates a function that returns `value`.
     *
     * @static
     * @memberOf _
     * @since 2.4.0
     * @category Util
     * @param {*} value The value to return from the new function.
     * @returns {Function} Returns the new constant function.
     * @example
     *
     * var objects = _.times(2, _.constant({ 'a': 1 }));
     *
     * console.log(objects);
     * // => [{ 'a': 1 }, { 'a': 1 }]
     *
     * console.log(objects[0] === objects[1]);
     * // => true
     */function constant(value){return function(){return value;};}/**
     * Checks `value` to determine whether a default value should be returned in
     * its place. The `defaultValue` is returned if `value` is `NaN`, `null`,
     * or `undefined`.
     *
     * @static
     * @memberOf _
     * @since 4.14.0
     * @category Util
     * @param {*} value The value to check.
     * @param {*} defaultValue The default value.
     * @returns {*} Returns the resolved value.
     * @example
     *
     * _.defaultTo(1, 10);
     * // => 1
     *
     * _.defaultTo(undefined, 10);
     * // => 10
     */function defaultTo(value,defaultValue){return value==null||value!==value?defaultValue:value;}/**
     * Creates a function that returns the result of invoking the given functions
     * with the `this` binding of the created function, where each successive
     * invocation is supplied the return value of the previous.
     *
     * @static
     * @memberOf _
     * @since 3.0.0
     * @category Util
     * @param {...(Function|Function[])} [funcs] The functions to invoke.
     * @returns {Function} Returns the new composite function.
     * @see _.flowRight
     * @example
     *
     * function square(n) {
     *   return n * n;
     * }
     *
     * var addSquare = _.flow([_.add, square]);
     * addSquare(1, 2);
     * // => 9
     */var flow=createFlow();/**
     * This method is like `_.flow` except that it creates a function that
     * invokes the given functions from right to left.
     *
     * @static
     * @since 3.0.0
     * @memberOf _
     * @category Util
     * @param {...(Function|Function[])} [funcs] The functions to invoke.
     * @returns {Function} Returns the new composite function.
     * @see _.flow
     * @example
     *
     * function square(n) {
     *   return n * n;
     * }
     *
     * var addSquare = _.flowRight([square, _.add]);
     * addSquare(1, 2);
     * // => 9
     */var flowRight=createFlow(true);/**
     * This method returns the first argument it receives.
     *
     * @static
     * @since 0.1.0
     * @memberOf _
     * @category Util
     * @param {*} value Any value.
     * @returns {*} Returns `value`.
     * @example
     *
     * var object = { 'a': 1 };
     *
     * console.log(_.identity(object) === object);
     * // => true
     */function identity(value){return value;}/**
     * Creates a function that invokes `func` with the arguments of the created
     * function. If `func` is a property name, the created function returns the
     * property value for a given element. If `func` is an array or object, the
     * created function returns `true` for elements that contain the equivalent
     * source properties, otherwise it returns `false`.
     *
     * @static
     * @since 4.0.0
     * @memberOf _
     * @category Util
     * @param {*} [func=_.identity] The value to convert to a callback.
     * @returns {Function} Returns the callback.
     * @example
     *
     * var users = [
     *   { 'user': 'barney', 'age': 36, 'active': true },
     *   { 'user': 'fred',   'age': 40, 'active': false }
     * ];
     *
     * // The `_.matches` iteratee shorthand.
     * _.filter(users, _.iteratee({ 'user': 'barney', 'active': true }));
     * // => [{ 'user': 'barney', 'age': 36, 'active': true }]
     *
     * // The `_.matchesProperty` iteratee shorthand.
     * _.filter(users, _.iteratee(['user', 'fred']));
     * // => [{ 'user': 'fred', 'age': 40 }]
     *
     * // The `_.property` iteratee shorthand.
     * _.map(users, _.iteratee('user'));
     * // => ['barney', 'fred']
     *
     * // Create custom iteratee shorthands.
     * _.iteratee = _.wrap(_.iteratee, function(iteratee, func) {
     *   return !_.isRegExp(func) ? iteratee(func) : function(string) {
     *     return func.test(string);
     *   };
     * });
     *
     * _.filter(['abc', 'def'], /ef/);
     * // => ['def']
     */function iteratee(func){return baseIteratee(typeof func=='function'?func:baseClone(func,CLONE_DEEP_FLAG));}/**
     * Creates a function that performs a partial deep comparison between a given
     * object and `source`, returning `true` if the given object has equivalent
     * property values, else `false`.
     *
     * **Note:** The created function is equivalent to `_.isMatch` with `source`
     * partially applied.
     *
     * Partial comparisons will match empty array and empty object `source`
     * values against any array or object value, respectively. See `_.isEqual`
     * for a list of supported value comparisons.
     *
     * @static
     * @memberOf _
     * @since 3.0.0
     * @category Util
     * @param {Object} source The object of property values to match.
     * @returns {Function} Returns the new spec function.
     * @example
     *
     * var objects = [
     *   { 'a': 1, 'b': 2, 'c': 3 },
     *   { 'a': 4, 'b': 5, 'c': 6 }
     * ];
     *
     * _.filter(objects, _.matches({ 'a': 4, 'c': 6 }));
     * // => [{ 'a': 4, 'b': 5, 'c': 6 }]
     */function matches(source){return baseMatches(baseClone(source,CLONE_DEEP_FLAG));}/**
     * Creates a function that performs a partial deep comparison between the
     * value at `path` of a given object to `srcValue`, returning `true` if the
     * object value is equivalent, else `false`.
     *
     * **Note:** Partial comparisons will match empty array and empty object
     * `srcValue` values against any array or object value, respectively. See
     * `_.isEqual` for a list of supported value comparisons.
     *
     * @static
     * @memberOf _
     * @since 3.2.0
     * @category Util
     * @param {Array|string} path The path of the property to get.
     * @param {*} srcValue The value to match.
     * @returns {Function} Returns the new spec function.
     * @example
     *
     * var objects = [
     *   { 'a': 1, 'b': 2, 'c': 3 },
     *   { 'a': 4, 'b': 5, 'c': 6 }
     * ];
     *
     * _.find(objects, _.matchesProperty('a', 4));
     * // => { 'a': 4, 'b': 5, 'c': 6 }
     */function matchesProperty(path,srcValue){return baseMatchesProperty(path,baseClone(srcValue,CLONE_DEEP_FLAG));}/**
     * Creates a function that invokes the method at `path` of a given object.
     * Any additional arguments are provided to the invoked method.
     *
     * @static
     * @memberOf _
     * @since 3.7.0
     * @category Util
     * @param {Array|string} path The path of the method to invoke.
     * @param {...*} [args] The arguments to invoke the method with.
     * @returns {Function} Returns the new invoker function.
     * @example
     *
     * var objects = [
     *   { 'a': { 'b': _.constant(2) } },
     *   { 'a': { 'b': _.constant(1) } }
     * ];
     *
     * _.map(objects, _.method('a.b'));
     * // => [2, 1]
     *
     * _.map(objects, _.method(['a', 'b']));
     * // => [2, 1]
     */var method=baseRest(function(path,args){return function(object){return baseInvoke(object,path,args);};});/**
     * The opposite of `_.method`; this method creates a function that invokes
     * the method at a given path of `object`. Any additional arguments are
     * provided to the invoked method.
     *
     * @static
     * @memberOf _
     * @since 3.7.0
     * @category Util
     * @param {Object} object The object to query.
     * @param {...*} [args] The arguments to invoke the method with.
     * @returns {Function} Returns the new invoker function.
     * @example
     *
     * var array = _.times(3, _.constant),
     *     object = { 'a': array, 'b': array, 'c': array };
     *
     * _.map(['a[2]', 'c[0]'], _.methodOf(object));
     * // => [2, 0]
     *
     * _.map([['a', '2'], ['c', '0']], _.methodOf(object));
     * // => [2, 0]
     */var methodOf=baseRest(function(object,args){return function(path){return baseInvoke(object,path,args);};});/**
     * Adds all own enumerable string keyed function properties of a source
     * object to the destination object. If `object` is a function, then methods
     * are added to its prototype as well.
     *
     * **Note:** Use `_.runInContext` to create a pristine `lodash` function to
     * avoid conflicts caused by modifying the original.
     *
     * @static
     * @since 0.1.0
     * @memberOf _
     * @category Util
     * @param {Function|Object} [object=lodash] The destination object.
     * @param {Object} source The object of functions to add.
     * @param {Object} [options={}] The options object.
     * @param {boolean} [options.chain=true] Specify whether mixins are chainable.
     * @returns {Function|Object} Returns `object`.
     * @example
     *
     * function vowels(string) {
     *   return _.filter(string, function(v) {
     *     return /[aeiou]/i.test(v);
     *   });
     * }
     *
     * _.mixin({ 'vowels': vowels });
     * _.vowels('fred');
     * // => ['e']
     *
     * _('fred').vowels().value();
     * // => ['e']
     *
     * _.mixin({ 'vowels': vowels }, { 'chain': false });
     * _('fred').vowels();
     * // => ['e']
     */function mixin(object,source,options){var props=keys(source),methodNames=baseFunctions(source,props);if(options==null&&!(isObject(source)&&(methodNames.length||!props.length))){options=source;source=object;object=this;methodNames=baseFunctions(source,keys(source));}var chain=!(isObject(options)&&'chain'in options)||!!options.chain,isFunc=isFunction(object);arrayEach(methodNames,function(methodName){var func=source[methodName];object[methodName]=func;if(isFunc){object.prototype[methodName]=function(){var chainAll=this.__chain__;if(chain||chainAll){var result=object(this.__wrapped__),actions=result.__actions__=copyArray(this.__actions__);actions.push({'func':func,'args':arguments,'thisArg':object});result.__chain__=chainAll;return result;}return func.apply(object,arrayPush([this.value()],arguments));};}});return object;}/**
     * Reverts the `_` variable to its previous value and returns a reference to
     * the `lodash` function.
     *
     * @static
     * @since 0.1.0
     * @memberOf _
     * @category Util
     * @returns {Function} Returns the `lodash` function.
     * @example
     *
     * var lodash = _.noConflict();
     */function noConflict(){if(root._===this){root._=oldDash;}return this;}/**
     * This method returns `undefined`.
     *
     * @static
     * @memberOf _
     * @since 2.3.0
     * @category Util
     * @example
     *
     * _.times(2, _.noop);
     * // => [undefined, undefined]
     */function noop(){}// No operation performed.
/**
     * Creates a function that gets the argument at index `n`. If `n` is negative,
     * the nth argument from the end is returned.
     *
     * @static
     * @memberOf _
     * @since 4.0.0
     * @category Util
     * @param {number} [n=0] The index of the argument to return.
     * @returns {Function} Returns the new pass-thru function.
     * @example
     *
     * var func = _.nthArg(1);
     * func('a', 'b', 'c', 'd');
     * // => 'b'
     *
     * var func = _.nthArg(-2);
     * func('a', 'b', 'c', 'd');
     * // => 'c'
     */function nthArg(n){n=toInteger(n);return baseRest(function(args){return baseNth(args,n);});}/**
     * Creates a function that invokes `iteratees` with the arguments it receives
     * and returns their results.
     *
     * @static
     * @memberOf _
     * @since 4.0.0
     * @category Util
     * @param {...(Function|Function[])} [iteratees=[_.identity]]
     *  The iteratees to invoke.
     * @returns {Function} Returns the new function.
     * @example
     *
     * var func = _.over([Math.max, Math.min]);
     *
     * func(1, 2, 3, 4);
     * // => [4, 1]
     */var over=createOver(arrayMap);/**
     * Creates a function that checks if **all** of the `predicates` return
     * truthy when invoked with the arguments it receives.
     *
     * @static
     * @memberOf _
     * @since 4.0.0
     * @category Util
     * @param {...(Function|Function[])} [predicates=[_.identity]]
     *  The predicates to check.
     * @returns {Function} Returns the new function.
     * @example
     *
     * var func = _.overEvery([Boolean, isFinite]);
     *
     * func('1');
     * // => true
     *
     * func(null);
     * // => false
     *
     * func(NaN);
     * // => false
     */var overEvery=createOver(arrayEvery);/**
     * Creates a function that checks if **any** of the `predicates` return
     * truthy when invoked with the arguments it receives.
     *
     * @static
     * @memberOf _
     * @since 4.0.0
     * @category Util
     * @param {...(Function|Function[])} [predicates=[_.identity]]
     *  The predicates to check.
     * @returns {Function} Returns the new function.
     * @example
     *
     * var func = _.overSome([Boolean, isFinite]);
     *
     * func('1');
     * // => true
     *
     * func(null);
     * // => true
     *
     * func(NaN);
     * // => false
     */var overSome=createOver(arraySome);/**
     * Creates a function that returns the value at `path` of a given object.
     *
     * @static
     * @memberOf _
     * @since 2.4.0
     * @category Util
     * @param {Array|string} path The path of the property to get.
     * @returns {Function} Returns the new accessor function.
     * @example
     *
     * var objects = [
     *   { 'a': { 'b': 2 } },
     *   { 'a': { 'b': 1 } }
     * ];
     *
     * _.map(objects, _.property('a.b'));
     * // => [2, 1]
     *
     * _.map(_.sortBy(objects, _.property(['a', 'b'])), 'a.b');
     * // => [1, 2]
     */function property(path){return isKey(path)?baseProperty(toKey(path)):basePropertyDeep(path);}/**
     * The opposite of `_.property`; this method creates a function that returns
     * the value at a given path of `object`.
     *
     * @static
     * @memberOf _
     * @since 3.0.0
     * @category Util
     * @param {Object} object The object to query.
     * @returns {Function} Returns the new accessor function.
     * @example
     *
     * var array = [0, 1, 2],
     *     object = { 'a': array, 'b': array, 'c': array };
     *
     * _.map(['a[2]', 'c[0]'], _.propertyOf(object));
     * // => [2, 0]
     *
     * _.map([['a', '2'], ['c', '0']], _.propertyOf(object));
     * // => [2, 0]
     */function propertyOf(object){return function(path){return object==null?undefined:baseGet(object,path);};}/**
     * Creates an array of numbers (positive and/or negative) progressing from
     * `start` up to, but not including, `end`. A step of `-1` is used if a negative
     * `start` is specified without an `end` or `step`. If `end` is not specified,
     * it's set to `start` with `start` then set to `0`.
     *
     * **Note:** JavaScript follows the IEEE-754 standard for resolving
     * floating-point values which can produce unexpected results.
     *
     * @static
     * @since 0.1.0
     * @memberOf _
     * @category Util
     * @param {number} [start=0] The start of the range.
     * @param {number} end The end of the range.
     * @param {number} [step=1] The value to increment or decrement by.
     * @returns {Array} Returns the range of numbers.
     * @see _.inRange, _.rangeRight
     * @example
     *
     * _.range(4);
     * // => [0, 1, 2, 3]
     *
     * _.range(-4);
     * // => [0, -1, -2, -3]
     *
     * _.range(1, 5);
     * // => [1, 2, 3, 4]
     *
     * _.range(0, 20, 5);
     * // => [0, 5, 10, 15]
     *
     * _.range(0, -4, -1);
     * // => [0, -1, -2, -3]
     *
     * _.range(1, 4, 0);
     * // => [1, 1, 1]
     *
     * _.range(0);
     * // => []
     */var range=createRange();/**
     * This method is like `_.range` except that it populates values in
     * descending order.
     *
     * @static
     * @memberOf _
     * @since 4.0.0
     * @category Util
     * @param {number} [start=0] The start of the range.
     * @param {number} end The end of the range.
     * @param {number} [step=1] The value to increment or decrement by.
     * @returns {Array} Returns the range of numbers.
     * @see _.inRange, _.range
     * @example
     *
     * _.rangeRight(4);
     * // => [3, 2, 1, 0]
     *
     * _.rangeRight(-4);
     * // => [-3, -2, -1, 0]
     *
     * _.rangeRight(1, 5);
     * // => [4, 3, 2, 1]
     *
     * _.rangeRight(0, 20, 5);
     * // => [15, 10, 5, 0]
     *
     * _.rangeRight(0, -4, -1);
     * // => [-3, -2, -1, 0]
     *
     * _.rangeRight(1, 4, 0);
     * // => [1, 1, 1]
     *
     * _.rangeRight(0);
     * // => []
     */var rangeRight=createRange(true);/**
     * This method returns a new empty array.
     *
     * @static
     * @memberOf _
     * @since 4.13.0
     * @category Util
     * @returns {Array} Returns the new empty array.
     * @example
     *
     * var arrays = _.times(2, _.stubArray);
     *
     * console.log(arrays);
     * // => [[], []]
     *
     * console.log(arrays[0] === arrays[1]);
     * // => false
     */function stubArray(){return[];}/**
     * This method returns `false`.
     *
     * @static
     * @memberOf _
     * @since 4.13.0
     * @category Util
     * @returns {boolean} Returns `false`.
     * @example
     *
     * _.times(2, _.stubFalse);
     * // => [false, false]
     */function stubFalse(){return false;}/**
     * This method returns a new empty object.
     *
     * @static
     * @memberOf _
     * @since 4.13.0
     * @category Util
     * @returns {Object} Returns the new empty object.
     * @example
     *
     * var objects = _.times(2, _.stubObject);
     *
     * console.log(objects);
     * // => [{}, {}]
     *
     * console.log(objects[0] === objects[1]);
     * // => false
     */function stubObject(){return{};}/**
     * This method returns an empty string.
     *
     * @static
     * @memberOf _
     * @since 4.13.0
     * @category Util
     * @returns {string} Returns the empty string.
     * @example
     *
     * _.times(2, _.stubString);
     * // => ['', '']
     */function stubString(){return'';}/**
     * This method returns `true`.
     *
     * @static
     * @memberOf _
     * @since 4.13.0
     * @category Util
     * @returns {boolean} Returns `true`.
     * @example
     *
     * _.times(2, _.stubTrue);
     * // => [true, true]
     */function stubTrue(){return true;}/**
     * Invokes the iteratee `n` times, returning an array of the results of
     * each invocation. The iteratee is invoked with one argument; (index).
     *
     * @static
     * @since 0.1.0
     * @memberOf _
     * @category Util
     * @param {number} n The number of times to invoke `iteratee`.
     * @param {Function} [iteratee=_.identity] The function invoked per iteration.
     * @returns {Array} Returns the array of results.
     * @example
     *
     * _.times(3, String);
     * // => ['0', '1', '2']
     *
     *  _.times(4, _.constant(0));
     * // => [0, 0, 0, 0]
     */function times(n,iteratee){n=toInteger(n);if(n<1||n>MAX_SAFE_INTEGER){return[];}var index=MAX_ARRAY_LENGTH,length=nativeMin(n,MAX_ARRAY_LENGTH);iteratee=getIteratee(iteratee);n-=MAX_ARRAY_LENGTH;var result=baseTimes(length,iteratee);while(++index<n){iteratee(index);}return result;}/**
     * Converts `value` to a property path array.
     *
     * @static
     * @memberOf _
     * @since 4.0.0
     * @category Util
     * @param {*} value The value to convert.
     * @returns {Array} Returns the new property path array.
     * @example
     *
     * _.toPath('a.b.c');
     * // => ['a', 'b', 'c']
     *
     * _.toPath('a[0].b.c');
     * // => ['a', '0', 'b', 'c']
     */function toPath(value){if(isArray(value)){return arrayMap(value,toKey);}return isSymbol(value)?[value]:copyArray(stringToPath(toString(value)));}/**
     * Generates a unique ID. If `prefix` is given, the ID is appended to it.
     *
     * @static
     * @since 0.1.0
     * @memberOf _
     * @category Util
     * @param {string} [prefix=''] The value to prefix the ID with.
     * @returns {string} Returns the unique ID.
     * @example
     *
     * _.uniqueId('contact_');
     * // => 'contact_104'
     *
     * _.uniqueId();
     * // => '105'
     */function uniqueId(prefix){var id=++idCounter;return toString(prefix)+id;}/*------------------------------------------------------------------------*//**
     * Adds two numbers.
     *
     * @static
     * @memberOf _
     * @since 3.4.0
     * @category Math
     * @param {number} augend The first number in an addition.
     * @param {number} addend The second number in an addition.
     * @returns {number} Returns the total.
     * @example
     *
     * _.add(6, 4);
     * // => 10
     */var add=createMathOperation(function(augend,addend){return augend+addend;},0);/**
     * Computes `number` rounded up to `precision`.
     *
     * @static
     * @memberOf _
     * @since 3.10.0
     * @category Math
     * @param {number} number The number to round up.
     * @param {number} [precision=0] The precision to round up to.
     * @returns {number} Returns the rounded up number.
     * @example
     *
     * _.ceil(4.006);
     * // => 5
     *
     * _.ceil(6.004, 2);
     * // => 6.01
     *
     * _.ceil(6040, -2);
     * // => 6100
     */var ceil=createRound('ceil');/**
     * Divide two numbers.
     *
     * @static
     * @memberOf _
     * @since 4.7.0
     * @category Math
     * @param {number} dividend The first number in a division.
     * @param {number} divisor The second number in a division.
     * @returns {number} Returns the quotient.
     * @example
     *
     * _.divide(6, 4);
     * // => 1.5
     */var divide=createMathOperation(function(dividend,divisor){return dividend/divisor;},1);/**
     * Computes `number` rounded down to `precision`.
     *
     * @static
     * @memberOf _
     * @since 3.10.0
     * @category Math
     * @param {number} number The number to round down.
     * @param {number} [precision=0] The precision to round down to.
     * @returns {number} Returns the rounded down number.
     * @example
     *
     * _.floor(4.006);
     * // => 4
     *
     * _.floor(0.046, 2);
     * // => 0.04
     *
     * _.floor(4060, -2);
     * // => 4000
     */var floor=createRound('floor');/**
     * Computes the maximum value of `array`. If `array` is empty or falsey,
     * `undefined` is returned.
     *
     * @static
     * @since 0.1.0
     * @memberOf _
     * @category Math
     * @param {Array} array The array to iterate over.
     * @returns {*} Returns the maximum value.
     * @example
     *
     * _.max([4, 2, 8, 6]);
     * // => 8
     *
     * _.max([]);
     * // => undefined
     */function max(array){return array&&array.length?baseExtremum(array,identity,baseGt):undefined;}/**
     * This method is like `_.max` except that it accepts `iteratee` which is
     * invoked for each element in `array` to generate the criterion by which
     * the value is ranked. The iteratee is invoked with one argument: (value).
     *
     * @static
     * @memberOf _
     * @since 4.0.0
     * @category Math
     * @param {Array} array The array to iterate over.
     * @param {Function} [iteratee=_.identity] The iteratee invoked per element.
     * @returns {*} Returns the maximum value.
     * @example
     *
     * var objects = [{ 'n': 1 }, { 'n': 2 }];
     *
     * _.maxBy(objects, function(o) { return o.n; });
     * // => { 'n': 2 }
     *
     * // The `_.property` iteratee shorthand.
     * _.maxBy(objects, 'n');
     * // => { 'n': 2 }
     */function maxBy(array,iteratee){return array&&array.length?baseExtremum(array,getIteratee(iteratee,2),baseGt):undefined;}/**
     * Computes the mean of the values in `array`.
     *
     * @static
     * @memberOf _
     * @since 4.0.0
     * @category Math
     * @param {Array} array The array to iterate over.
     * @returns {number} Returns the mean.
     * @example
     *
     * _.mean([4, 2, 8, 6]);
     * // => 5
     */function mean(array){return baseMean(array,identity);}/**
     * This method is like `_.mean` except that it accepts `iteratee` which is
     * invoked for each element in `array` to generate the value to be averaged.
     * The iteratee is invoked with one argument: (value).
     *
     * @static
     * @memberOf _
     * @since 4.7.0
     * @category Math
     * @param {Array} array The array to iterate over.
     * @param {Function} [iteratee=_.identity] The iteratee invoked per element.
     * @returns {number} Returns the mean.
     * @example
     *
     * var objects = [{ 'n': 4 }, { 'n': 2 }, { 'n': 8 }, { 'n': 6 }];
     *
     * _.meanBy(objects, function(o) { return o.n; });
     * // => 5
     *
     * // The `_.property` iteratee shorthand.
     * _.meanBy(objects, 'n');
     * // => 5
     */function meanBy(array,iteratee){return baseMean(array,getIteratee(iteratee,2));}/**
     * Computes the minimum value of `array`. If `array` is empty or falsey,
     * `undefined` is returned.
     *
     * @static
     * @since 0.1.0
     * @memberOf _
     * @category Math
     * @param {Array} array The array to iterate over.
     * @returns {*} Returns the minimum value.
     * @example
     *
     * _.min([4, 2, 8, 6]);
     * // => 2
     *
     * _.min([]);
     * // => undefined
     */function min(array){return array&&array.length?baseExtremum(array,identity,baseLt):undefined;}/**
     * This method is like `_.min` except that it accepts `iteratee` which is
     * invoked for each element in `array` to generate the criterion by which
     * the value is ranked. The iteratee is invoked with one argument: (value).
     *
     * @static
     * @memberOf _
     * @since 4.0.0
     * @category Math
     * @param {Array} array The array to iterate over.
     * @param {Function} [iteratee=_.identity] The iteratee invoked per element.
     * @returns {*} Returns the minimum value.
     * @example
     *
     * var objects = [{ 'n': 1 }, { 'n': 2 }];
     *
     * _.minBy(objects, function(o) { return o.n; });
     * // => { 'n': 1 }
     *
     * // The `_.property` iteratee shorthand.
     * _.minBy(objects, 'n');
     * // => { 'n': 1 }
     */function minBy(array,iteratee){return array&&array.length?baseExtremum(array,getIteratee(iteratee,2),baseLt):undefined;}/**
     * Multiply two numbers.
     *
     * @static
     * @memberOf _
     * @since 4.7.0
     * @category Math
     * @param {number} multiplier The first number in a multiplication.
     * @param {number} multiplicand The second number in a multiplication.
     * @returns {number} Returns the product.
     * @example
     *
     * _.multiply(6, 4);
     * // => 24
     */var multiply=createMathOperation(function(multiplier,multiplicand){return multiplier*multiplicand;},1);/**
     * Computes `number` rounded to `precision`.
     *
     * @static
     * @memberOf _
     * @since 3.10.0
     * @category Math
     * @param {number} number The number to round.
     * @param {number} [precision=0] The precision to round to.
     * @returns {number} Returns the rounded number.
     * @example
     *
     * _.round(4.006);
     * // => 4
     *
     * _.round(4.006, 2);
     * // => 4.01
     *
     * _.round(4060, -2);
     * // => 4100
     */var round=createRound('round');/**
     * Subtract two numbers.
     *
     * @static
     * @memberOf _
     * @since 4.0.0
     * @category Math
     * @param {number} minuend The first number in a subtraction.
     * @param {number} subtrahend The second number in a subtraction.
     * @returns {number} Returns the difference.
     * @example
     *
     * _.subtract(6, 4);
     * // => 2
     */var subtract=createMathOperation(function(minuend,subtrahend){return minuend-subtrahend;},0);/**
     * Computes the sum of the values in `array`.
     *
     * @static
     * @memberOf _
     * @since 3.4.0
     * @category Math
     * @param {Array} array The array to iterate over.
     * @returns {number} Returns the sum.
     * @example
     *
     * _.sum([4, 2, 8, 6]);
     * // => 20
     */function sum(array){return array&&array.length?baseSum(array,identity):0;}/**
     * This method is like `_.sum` except that it accepts `iteratee` which is
     * invoked for each element in `array` to generate the value to be summed.
     * The iteratee is invoked with one argument: (value).
     *
     * @static
     * @memberOf _
     * @since 4.0.0
     * @category Math
     * @param {Array} array The array to iterate over.
     * @param {Function} [iteratee=_.identity] The iteratee invoked per element.
     * @returns {number} Returns the sum.
     * @example
     *
     * var objects = [{ 'n': 4 }, { 'n': 2 }, { 'n': 8 }, { 'n': 6 }];
     *
     * _.sumBy(objects, function(o) { return o.n; });
     * // => 20
     *
     * // The `_.property` iteratee shorthand.
     * _.sumBy(objects, 'n');
     * // => 20
     */function sumBy(array,iteratee){return array&&array.length?baseSum(array,getIteratee(iteratee,2)):0;}/*------------------------------------------------------------------------*/// Add methods that return wrapped values in chain sequences.
lodash.after=after;lodash.ary=ary;lodash.assign=assign;lodash.assignIn=assignIn;lodash.assignInWith=assignInWith;lodash.assignWith=assignWith;lodash.at=at;lodash.before=before;lodash.bind=bind;lodash.bindAll=bindAll;lodash.bindKey=bindKey;lodash.castArray=castArray;lodash.chain=chain;lodash.chunk=chunk;lodash.compact=compact;lodash.concat=concat;lodash.cond=cond;lodash.conforms=conforms;lodash.constant=constant;lodash.countBy=countBy;lodash.create=create;lodash.curry=curry;lodash.curryRight=curryRight;lodash.debounce=debounce;lodash.defaults=defaults;lodash.defaultsDeep=defaultsDeep;lodash.defer=defer;lodash.delay=delay;lodash.difference=difference;lodash.differenceBy=differenceBy;lodash.differenceWith=differenceWith;lodash.drop=drop;lodash.dropRight=dropRight;lodash.dropRightWhile=dropRightWhile;lodash.dropWhile=dropWhile;lodash.fill=fill;lodash.filter=filter;lodash.flatMap=flatMap;lodash.flatMapDeep=flatMapDeep;lodash.flatMapDepth=flatMapDepth;lodash.flatten=flatten;lodash.flattenDeep=flattenDeep;lodash.flattenDepth=flattenDepth;lodash.flip=flip;lodash.flow=flow;lodash.flowRight=flowRight;lodash.fromPairs=fromPairs;lodash.functions=functions;lodash.functionsIn=functionsIn;lodash.groupBy=groupBy;lodash.initial=initial;lodash.intersection=intersection;lodash.intersectionBy=intersectionBy;lodash.intersectionWith=intersectionWith;lodash.invert=invert;lodash.invertBy=invertBy;lodash.invokeMap=invokeMap;lodash.iteratee=iteratee;lodash.keyBy=keyBy;lodash.keys=keys;lodash.keysIn=keysIn;lodash.map=map;lodash.mapKeys=mapKeys;lodash.mapValues=mapValues;lodash.matches=matches;lodash.matchesProperty=matchesProperty;lodash.memoize=memoize;lodash.merge=merge;lodash.mergeWith=mergeWith;lodash.method=method;lodash.methodOf=methodOf;lodash.mixin=mixin;lodash.negate=negate;lodash.nthArg=nthArg;lodash.omit=omit;lodash.omitBy=omitBy;lodash.once=once;lodash.orderBy=orderBy;lodash.over=over;lodash.overArgs=overArgs;lodash.overEvery=overEvery;lodash.overSome=overSome;lodash.partial=partial;lodash.partialRight=partialRight;lodash.partition=partition;lodash.pick=pick;lodash.pickBy=pickBy;lodash.property=property;lodash.propertyOf=propertyOf;lodash.pull=pull;lodash.pullAll=pullAll;lodash.pullAllBy=pullAllBy;lodash.pullAllWith=pullAllWith;lodash.pullAt=pullAt;lodash.range=range;lodash.rangeRight=rangeRight;lodash.rearg=rearg;lodash.reject=reject;lodash.remove=remove;lodash.rest=rest;lodash.reverse=reverse;lodash.sampleSize=sampleSize;lodash.set=set;lodash.setWith=setWith;lodash.shuffle=shuffle;lodash.slice=slice;lodash.sortBy=sortBy;lodash.sortedUniq=sortedUniq;lodash.sortedUniqBy=sortedUniqBy;lodash.split=split;lodash.spread=spread;lodash.tail=tail;lodash.take=take;lodash.takeRight=takeRight;lodash.takeRightWhile=takeRightWhile;lodash.takeWhile=takeWhile;lodash.tap=tap;lodash.throttle=throttle;lodash.thru=thru;lodash.toArray=toArray;lodash.toPairs=toPairs;lodash.toPairsIn=toPairsIn;lodash.toPath=toPath;lodash.toPlainObject=toPlainObject;lodash.transform=transform;lodash.unary=unary;lodash.union=union;lodash.unionBy=unionBy;lodash.unionWith=unionWith;lodash.uniq=uniq;lodash.uniqBy=uniqBy;lodash.uniqWith=uniqWith;lodash.unset=unset;lodash.unzip=unzip;lodash.unzipWith=unzipWith;lodash.update=update;lodash.updateWith=updateWith;lodash.values=values;lodash.valuesIn=valuesIn;lodash.without=without;lodash.words=words;lodash.wrap=wrap;lodash.xor=xor;lodash.xorBy=xorBy;lodash.xorWith=xorWith;lodash.zip=zip;lodash.zipObject=zipObject;lodash.zipObjectDeep=zipObjectDeep;lodash.zipWith=zipWith;// Add aliases.
lodash.entries=toPairs;lodash.entriesIn=toPairsIn;lodash.extend=assignIn;lodash.extendWith=assignInWith;// Add methods to `lodash.prototype`.
mixin(lodash,lodash);/*------------------------------------------------------------------------*/// Add methods that return unwrapped values in chain sequences.
lodash.add=add;lodash.attempt=attempt;lodash.camelCase=camelCase;lodash.capitalize=capitalize;lodash.ceil=ceil;lodash.clamp=clamp;lodash.clone=clone;lodash.cloneDeep=cloneDeep;lodash.cloneDeepWith=cloneDeepWith;lodash.cloneWith=cloneWith;lodash.conformsTo=conformsTo;lodash.deburr=deburr;lodash.defaultTo=defaultTo;lodash.divide=divide;lodash.endsWith=endsWith;lodash.eq=eq;lodash.escape=escape;lodash.escapeRegExp=escapeRegExp;lodash.every=every;lodash.find=find;lodash.findIndex=findIndex;lodash.findKey=findKey;lodash.findLast=findLast;lodash.findLastIndex=findLastIndex;lodash.findLastKey=findLastKey;lodash.floor=floor;lodash.forEach=forEach;lodash.forEachRight=forEachRight;lodash.forIn=forIn;lodash.forInRight=forInRight;lodash.forOwn=forOwn;lodash.forOwnRight=forOwnRight;lodash.get=get;lodash.gt=gt;lodash.gte=gte;lodash.has=has;lodash.hasIn=hasIn;lodash.head=head;lodash.identity=identity;lodash.includes=includes;lodash.indexOf=indexOf;lodash.inRange=inRange;lodash.invoke=invoke;lodash.isArguments=isArguments;lodash.isArray=isArray;lodash.isArrayBuffer=isArrayBuffer;lodash.isArrayLike=isArrayLike;lodash.isArrayLikeObject=isArrayLikeObject;lodash.isBoolean=isBoolean;lodash.isBuffer=isBuffer;lodash.isDate=isDate;lodash.isElement=isElement;lodash.isEmpty=isEmpty;lodash.isEqual=isEqual;lodash.isEqualWith=isEqualWith;lodash.isError=isError;lodash.isFinite=isFinite;lodash.isFunction=isFunction;lodash.isInteger=isInteger;lodash.isLength=isLength;lodash.isMap=isMap;lodash.isMatch=isMatch;lodash.isMatchWith=isMatchWith;lodash.isNaN=isNaN;lodash.isNative=isNative;lodash.isNil=isNil;lodash.isNull=isNull;lodash.isNumber=isNumber;lodash.isObject=isObject;lodash.isObjectLike=isObjectLike;lodash.isPlainObject=isPlainObject;lodash.isRegExp=isRegExp;lodash.isSafeInteger=isSafeInteger;lodash.isSet=isSet;lodash.isString=isString;lodash.isSymbol=isSymbol;lodash.isTypedArray=isTypedArray;lodash.isUndefined=isUndefined;lodash.isWeakMap=isWeakMap;lodash.isWeakSet=isWeakSet;lodash.join=join;lodash.kebabCase=kebabCase;lodash.last=last;lodash.lastIndexOf=lastIndexOf;lodash.lowerCase=lowerCase;lodash.lowerFirst=lowerFirst;lodash.lt=lt;lodash.lte=lte;lodash.max=max;lodash.maxBy=maxBy;lodash.mean=mean;lodash.meanBy=meanBy;lodash.min=min;lodash.minBy=minBy;lodash.stubArray=stubArray;lodash.stubFalse=stubFalse;lodash.stubObject=stubObject;lodash.stubString=stubString;lodash.stubTrue=stubTrue;lodash.multiply=multiply;lodash.nth=nth;lodash.noConflict=noConflict;lodash.noop=noop;lodash.now=now;lodash.pad=pad;lodash.padEnd=padEnd;lodash.padStart=padStart;lodash.parseInt=parseInt;lodash.random=random;lodash.reduce=reduce;lodash.reduceRight=reduceRight;lodash.repeat=repeat;lodash.replace=replace;lodash.result=result;lodash.round=round;lodash.runInContext=runInContext;lodash.sample=sample;lodash.size=size;lodash.snakeCase=snakeCase;lodash.some=some;lodash.sortedIndex=sortedIndex;lodash.sortedIndexBy=sortedIndexBy;lodash.sortedIndexOf=sortedIndexOf;lodash.sortedLastIndex=sortedLastIndex;lodash.sortedLastIndexBy=sortedLastIndexBy;lodash.sortedLastIndexOf=sortedLastIndexOf;lodash.startCase=startCase;lodash.startsWith=startsWith;lodash.subtract=subtract;lodash.sum=sum;lodash.sumBy=sumBy;lodash.template=template;lodash.times=times;lodash.toFinite=toFinite;lodash.toInteger=toInteger;lodash.toLength=toLength;lodash.toLower=toLower;lodash.toNumber=toNumber;lodash.toSafeInteger=toSafeInteger;lodash.toString=toString;lodash.toUpper=toUpper;lodash.trim=trim;lodash.trimEnd=trimEnd;lodash.trimStart=trimStart;lodash.truncate=truncate;lodash.unescape=unescape;lodash.uniqueId=uniqueId;lodash.upperCase=upperCase;lodash.upperFirst=upperFirst;// Add aliases.
lodash.each=forEach;lodash.eachRight=forEachRight;lodash.first=head;mixin(lodash,function(){var source={};baseForOwn(lodash,function(func,methodName){if(!hasOwnProperty.call(lodash.prototype,methodName)){source[methodName]=func;}});return source;}(),{'chain':false});/*------------------------------------------------------------------------*//**
     * The semantic version number.
     *
     * @static
     * @memberOf _
     * @type {string}
     */lodash.VERSION=VERSION;// Assign default placeholders.
arrayEach(['bind','bindKey','curry','curryRight','partial','partialRight'],function(methodName){lodash[methodName].placeholder=lodash;});// Add `LazyWrapper` methods for `_.drop` and `_.take` variants.
arrayEach(['drop','take'],function(methodName,index){LazyWrapper.prototype[methodName]=function(n){n=n===undefined?1:nativeMax(toInteger(n),0);var result=this.__filtered__&&!index?new LazyWrapper(this):this.clone();if(result.__filtered__){result.__takeCount__=nativeMin(n,result.__takeCount__);}else{result.__views__.push({'size':nativeMin(n,MAX_ARRAY_LENGTH),'type':methodName+(result.__dir__<0?'Right':'')});}return result;};LazyWrapper.prototype[methodName+'Right']=function(n){return this.reverse()[methodName](n).reverse();};});// Add `LazyWrapper` methods that accept an `iteratee` value.
arrayEach(['filter','map','takeWhile'],function(methodName,index){var type=index+1,isFilter=type==LAZY_FILTER_FLAG||type==LAZY_WHILE_FLAG;LazyWrapper.prototype[methodName]=function(iteratee){var result=this.clone();result.__iteratees__.push({'iteratee':getIteratee(iteratee,3),'type':type});result.__filtered__=result.__filtered__||isFilter;return result;};});// Add `LazyWrapper` methods for `_.head` and `_.last`.
arrayEach(['head','last'],function(methodName,index){var takeName='take'+(index?'Right':'');LazyWrapper.prototype[methodName]=function(){return this[takeName](1).value()[0];};});// Add `LazyWrapper` methods for `_.initial` and `_.tail`.
arrayEach(['initial','tail'],function(methodName,index){var dropName='drop'+(index?'':'Right');LazyWrapper.prototype[methodName]=function(){return this.__filtered__?new LazyWrapper(this):this[dropName](1);};});LazyWrapper.prototype.compact=function(){return this.filter(identity);};LazyWrapper.prototype.find=function(predicate){return this.filter(predicate).head();};LazyWrapper.prototype.findLast=function(predicate){return this.reverse().find(predicate);};LazyWrapper.prototype.invokeMap=baseRest(function(path,args){if(typeof path=='function'){return new LazyWrapper(this);}return this.map(function(value){return baseInvoke(value,path,args);});});LazyWrapper.prototype.reject=function(predicate){return this.filter(negate(getIteratee(predicate)));};LazyWrapper.prototype.slice=function(start,end){start=toInteger(start);var result=this;if(result.__filtered__&&(start>0||end<0)){return new LazyWrapper(result);}if(start<0){result=result.takeRight(-start);}else if(start){result=result.drop(start);}if(end!==undefined){end=toInteger(end);result=end<0?result.dropRight(-end):result.take(end-start);}return result;};LazyWrapper.prototype.takeRightWhile=function(predicate){return this.reverse().takeWhile(predicate).reverse();};LazyWrapper.prototype.toArray=function(){return this.take(MAX_ARRAY_LENGTH);};// Add `LazyWrapper` methods to `lodash.prototype`.
baseForOwn(LazyWrapper.prototype,function(func,methodName){var checkIteratee=/^(?:filter|find|map|reject)|While$/.test(methodName),isTaker=/^(?:head|last)$/.test(methodName),lodashFunc=lodash[isTaker?'take'+(methodName=='last'?'Right':''):methodName],retUnwrapped=isTaker||/^find/.test(methodName);if(!lodashFunc){return;}lodash.prototype[methodName]=function(){var value=this.__wrapped__,args=isTaker?[1]:arguments,isLazy=value instanceof LazyWrapper,iteratee=args[0],useLazy=isLazy||isArray(value);var interceptor=function interceptor(value){var result=lodashFunc.apply(lodash,arrayPush([value],args));return isTaker&&chainAll?result[0]:result;};if(useLazy&&checkIteratee&&typeof iteratee=='function'&&iteratee.length!=1){// Avoid lazy use if the iteratee has a "length" value other than `1`.
isLazy=useLazy=false;}var chainAll=this.__chain__,isHybrid=!!this.__actions__.length,isUnwrapped=retUnwrapped&&!chainAll,onlyLazy=isLazy&&!isHybrid;if(!retUnwrapped&&useLazy){value=onlyLazy?value:new LazyWrapper(this);var result=func.apply(value,args);result.__actions__.push({'func':thru,'args':[interceptor],'thisArg':undefined});return new LodashWrapper(result,chainAll);}if(isUnwrapped&&onlyLazy){return func.apply(this,args);}result=this.thru(interceptor);return isUnwrapped?isTaker?result.value()[0]:result.value():result;};});// Add `Array` methods to `lodash.prototype`.
arrayEach(['pop','push','shift','sort','splice','unshift'],function(methodName){var func=arrayProto[methodName],chainName=/^(?:push|sort|unshift)$/.test(methodName)?'tap':'thru',retUnwrapped=/^(?:pop|shift)$/.test(methodName);lodash.prototype[methodName]=function(){var args=arguments;if(retUnwrapped&&!this.__chain__){var value=this.value();return func.apply(isArray(value)?value:[],args);}return this[chainName](function(value){return func.apply(isArray(value)?value:[],args);});};});// Map minified method names to their real names.
baseForOwn(LazyWrapper.prototype,function(func,methodName){var lodashFunc=lodash[methodName];if(lodashFunc){var key=lodashFunc.name+'',names=realNames[key]||(realNames[key]=[]);names.push({'name':methodName,'func':lodashFunc});}});realNames[createHybrid(undefined,WRAP_BIND_KEY_FLAG).name]=[{'name':'wrapper','func':undefined}];// Add methods to `LazyWrapper`.
LazyWrapper.prototype.clone=lazyClone;LazyWrapper.prototype.reverse=lazyReverse;LazyWrapper.prototype.value=lazyValue;// Add chain sequence methods to the `lodash` wrapper.
lodash.prototype.at=wrapperAt;lodash.prototype.chain=wrapperChain;lodash.prototype.commit=wrapperCommit;lodash.prototype.next=wrapperNext;lodash.prototype.plant=wrapperPlant;lodash.prototype.reverse=wrapperReverse;lodash.prototype.toJSON=lodash.prototype.valueOf=lodash.prototype.value=wrapperValue;// Add lazy aliases.
lodash.prototype.first=lodash.prototype.head;if(symIterator){lodash.prototype[symIterator]=wrapperToIterator;}return lodash;};/*--------------------------------------------------------------------------*/// Export lodash.
var _=runInContext();// Some AMD build optimizers, like r.js, check for condition patterns like:
if(true){// Expose Lodash on the global object to prevent errors when Lodash is
// loaded by a script tag in the presence of an AMD loader.
// See http://requirejs.org/docs/errors.html#mismatch for more details.
// Use `_.noConflict` to remove Lodash from the global object.
root._=_;// Define as an anonymous module so, through path mapping, it can be
// referenced as the "underscore" module.
!(__WEBPACK_AMD_DEFINE_RESULT__=function(){return _;}.call(exports,__webpack_require__,exports,module),__WEBPACK_AMD_DEFINE_RESULT__!==undefined&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__));}// Check for `exports` after `define` in case a build optimizer adds it.
else if(freeModule){// Export for Node.js.
(freeModule.exports=_)._=_;// Export for CommonJS support.
freeExports._=_;}else{// Export to the global object.
root._=_;}}).call(this);/* WEBPACK VAR INJECTION */}).call(exports,__webpack_require__(2),__webpack_require__(6)(module));/***/},/* 78 *//***/function(module,__webpack_exports__,__webpack_require__){"use strict";/* harmony import */var __WEBPACK_IMPORTED_MODULE_0_lodash_isEmpty__=__webpack_require__(11);/* harmony import */var __WEBPACK_IMPORTED_MODULE_0_lodash_isEmpty___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_lodash_isEmpty__);/* harmony default export */__webpack_exports__["a"]={fullyLoaded:function fullyLoaded(state){return!__WEBPACK_IMPORTED_MODULE_0_lodash_isEmpty___default.a(state.currentQuestion);},currentQuestionI10NQuestion:function currentQuestionI10NQuestion(state){try{return state.currentQuestionI10[state.activeLanguage].question;}catch(e){}return'';},currentQuestionI10NHelp:function currentQuestionI10NHelp(state){try{return state.currentQuestionI10[state.activeLanguage].help;}catch(e){}return'';},currentLanguageQuestionI10N:function currentLanguageQuestionI10N(state){try{return state.currentQuestionI10[state.activeLanguage];}catch(e){}return{};}};/***/},/* 79 *//***/function(module,exports){/* eslint-disable no-alert, no-console *//**
 * Check the browsers console capabilities and bundle them into general functions
 * If the build environment was "production" only put out error messages.
 */exports.install=function(Vue){if(window.debugState.backend){Vue.prototype.$log=console.ls;}else{Vue.prototype.$log=console.ls.silent;}};/***/}]/******/);//# sourceMappingURL=lsquestioneditor.js.map